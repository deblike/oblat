window.EmberENV={FEATURES:{}};var runningTests=!1,define,requireModule,require,requirejs;!function(){function t(t,e){try{return t()}finally{e()}}function e(t){throw new Error("an unsupported module was defined, expected `define(name, deps, module)` instead got: `"+t+"` arguments to define`")}function n(t,e,n,r){this.id=d++,this.name=t,this.deps=!e.length&&n.length?p:e,this.exports=r||{},this.callback=n,this.state=void 0,this._require=void 0}function r(t){this.name=t}function i(t,e,n){for(var r,i=t.deps,s=i.length,l=new Array(s),u={},c=0,h=s;h>c;c++)r=i[c],"exports"===r?u.exports=l[c]=n:"require"===r?l[c]=t.makeRequire():"module"===r?(t.exports=n,u=l[c]=t):l[c]=o(a(r,e),e);return{deps:l,module:u}}function o(t,e){var n=u[t];if(!n)throw new Error("Could not find module `"+t+"` imported from `"+e+"`");return require(t)}function s(t){throw new Error("Could not find module "+t)}function a(t,e){if("."!==t.charAt(0))return t;for(var n=t.split("/"),r=e.split("/"),i=r.slice(0,-1),o=0,s=n.length;s>o;o++){var a=n[o];if(".."===a){if(0===i.length)throw new Error("Cannot access parent module of root");i.pop()}else{if("."===a)continue;i.push(a)}}return i.join("/")}var l;l=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var u={},c={},h=!1,d=0,p=["require","exports","module"];n.prototype.makeRequire=function(){var t=this.name;return this._require||(this._require=function(e){return require(a(e,t))})},define=function(t,r,i){arguments.length<2&&e(arguments.length),l(r)||(i=r,r=[]),u[t]=new n(t,r,i)},define.petal={},define.alias=function(t){return new r(t)},requirejs=require=requireModule=function(e){var n=u[e];if(n&&n.callback instanceof r&&(n=u[n.callback.name]),n||s(e),n.state!==h&&c.hasOwnProperty(e))return c[e];var o,a,l=!1;c[e]={},t(function(){o=i(n,e,c[e]),a=n.callback.apply(this,o.deps),l=!0},function(){l||(n.state=h)});var d;return d=void 0===a&&o.module.exports?o.module.exports:c[e]=a,null===d||"object"!=typeof d&&"function"!=typeof d||void 0!==d["default"]||(d["default"]=d),c[e]=d},requirejs.entries=requirejs._eak_seen=u,requirejs.clear=function(){requirejs.entries=requirejs._eak_seen=u={},c=state={}}}(),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e="length"in t&&t.length,n=Q.type(t);return"function"===n||Q.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function r(t,e,n){if(Q.isFunction(e))return Q.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return Q.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(at.test(e))return Q.filter(e,t,n);e=Q.filter(e,t)}return Q.grep(t,function(t){return $.call(e,t)>=0!==n})}function i(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=ft[t]={};return Q.each(t.match(pt)||[],function(t,n){e[n]=!0}),e}function s(){J.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1),Q.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+a.uid++}function l(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(_t,"-$1").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:bt.test(n)?Q.parseJSON(n):n}catch(i){}yt.set(t,e,n)}else n=void 0;return n}function u(){return!0}function c(){return!1}function h(){try{return J.activeElement}catch(t){}}function d(t,e){return Q.nodeName(t,"table")&&Q.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function p(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function f(t){var e=Ft.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function m(t,e){for(var n=0,r=t.length;r>n;n++)vt.set(t[n],"globalEval",!e||vt.get(e[n],"globalEval"))}function g(t,e){var n,r,i,o,s,a,l,u;if(1===e.nodeType){if(vt.hasData(t)&&(o=vt.access(t),s=vt.set(e,o),u=o.events)){delete s.handle,s.events={};for(i in u)for(n=0,r=u[i].length;r>n;n++)Q.event.add(e,i,u[i][n])}yt.hasData(t)&&(a=yt.access(t),l=Q.extend({},a),yt.set(e,l))}}function v(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Q.nodeName(t,e)?Q.merge([t],n):n}function y(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Tt.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function b(e,n){var r,i=Q(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(r=t.getDefaultComputedStyle(i[0]))?r.display:Q.css(i[0],"display");return i.detach(),o}function _(t){var e=J,n=zt[t];return n||(n=b(t,e),"none"!==n&&n||(jt=(jt||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=jt[0].contentDocument,e.write(),e.close(),n=b(t,e),jt.detach()),zt[t]=n),n}function w(t,e,n){var r,i,o,s,a=t.style;return n=n||Ut(t),n&&(s=n.getPropertyValue(e)||n[e]),n&&(""!==s||Q.contains(t.ownerDocument,t)||(s=Q.style(t,e)),Ht.test(s)&&Vt.test(e)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function x(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function C(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),r=e,i=Yt.length;i--;)if(e=Yt[i]+n,e in t)return e;return r}function T(t,e,n){var r=qt.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function E(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=Q.css(t,n+xt[o],!0,i)),r?("content"===n&&(s-=Q.css(t,"padding"+xt[o],!0,i)),"margin"!==n&&(s-=Q.css(t,"border"+xt[o]+"Width",!0,i))):(s+=Q.css(t,"padding"+xt[o],!0,i),"padding"!==n&&(s+=Q.css(t,"border"+xt[o]+"Width",!0,i)));return s}function k(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=Ut(t),s="border-box"===Q.css(t,"boxSizing",!1,o);if(0>=i||null==i){if(i=w(t,e,o),(0>i||null==i)&&(i=t.style[e]),Ht.test(i))return i;r=s&&(Z.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+E(t,e,n||(s?"border":"content"),r,o)+"px"}function S(t,e){for(var n,r,i,o=[],s=0,a=t.length;a>s;s++)r=t[s],r.style&&(o[s]=vt.get(r,"olddisplay"),n=r.style.display,e?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&Ct(r)&&(o[s]=vt.access(r,"olddisplay",_(r.nodeName)))):(i=Ct(r),"none"===n&&i||vt.set(r,"olddisplay",i?n:Q.css(r,"display"))));for(s=0;a>s;s++)r=t[s],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[s]||"":"none"));return t}function P(t,e,n,r,i){return new P.prototype.init(t,e,n,r,i)}function A(){return setTimeout(function(){Zt=void 0}),Zt=Q.now()}function L(t,e){var n,r=0,i={height:t};for(e=e?1:0;4>r;r+=2-e)n=xt[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function O(t,e,n){for(var r,i=(ne[e]||[]).concat(ne["*"]),o=0,s=i.length;s>o;o++)if(r=i[o].call(n,e,t))return r}function D(t,e,n){var r,i,o,s,a,l,u,c,h=this,d={},p=t.style,f=t.nodeType&&Ct(t),m=vt.get(t,"fxshow");n.queue||(a=Q._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,Q.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=Q.css(t,"display"),c="none"===u?vt.get(t,"olddisplay")||_(t.nodeName):u,"inline"===c&&"none"===Q.css(t,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],Xt.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(f?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;f=!0}d[r]=m&&m[r]||Q.style(t,r)}else u=void 0;if(Q.isEmptyObject(d))"inline"===("none"===u?_(t.nodeName):u)&&(p.display=u);else{m?"hidden"in m&&(f=m.hidden):m=vt.access(t,"fxshow",{}),o&&(m.hidden=!f),f?Q(t).show():h.done(function(){Q(t).hide()}),h.done(function(){var e;vt.remove(t,"fxshow");for(e in d)Q.style(t,e,d[e])});for(r in d)s=O(f?m[r]:0,r,h),r in m||(m[r]=s.start,f&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function M(t,e){var n,r,i,o,s;for(n in t)if(r=Q.camelCase(n),i=e[r],o=t[n],Q.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),s=Q.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function R(t,e,n){var r,i,o=0,s=ee.length,a=Q.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var e=Zt||A(),n=Math.max(0,u.startTime+u.duration-e),r=n/u.duration||0,o=1-r,s=0,l=u.tweens.length;l>s;s++)u.tweens[s].run(o);return a.notifyWith(t,[u,o,n]),1>o&&l?n:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:Q.extend({},e),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Zt||A(),duration:n.duration,tweens:[],createTween:function(e,n){var r=Q.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(r),r},stop:function(e){var n=0,r=e?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return e?a.resolveWith(t,[u,e]):a.rejectWith(t,[u,e]),this}}),c=u.props;for(M(c,u.opts.specialEasing);s>o;o++)if(r=ee[o].call(u,t,c,u.opts))return r;return Q.map(c,O,u),Q.isFunction(u.opts.start)&&u.opts.start.call(t,u),Q.fx.timer(Q.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function N(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(pt)||[];if(Q.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function F(t,e,n,r){function i(a){var l;return o[a]=!0,Q.each(t[a]||[],function(t,a){var u=a(e,n,r);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(e.dataTypes.unshift(u),i(u),!1)}),l}var o={},s=t===be;return i(e.dataTypes[0])||!o["*"]&&i("*")}function I(t,e){var n,r,i=Q.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&Q.extend(!0,t,r),t}function B(t,e,n){for(var r,i,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||t.converters[i+" "+l[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function j(t,e,n,r){var i,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=u[l+" "+o]||u["* "+o],!s)for(i in u)if(a=i.split(" "),a[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[i]:u[i]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function z(t,e,n,r){var i;if(Q.isArray(e))Q.each(e,function(e,i){n||Te.test(t)?r(t,i):z(t+"["+("object"==typeof i?e:"")+"]",i,n,r)});else if(n||"object"!==Q.type(e))r(t,e);else for(i in e)z(t+"["+i+"]",e[i],n,r)}function V(t){return Q.isWindow(t)?t:9===t.nodeType&&t.defaultView}var H=[],U=H.slice,W=H.concat,q=H.push,$=H.indexOf,G={},K=G.toString,Y=G.hasOwnProperty,Z={},J=t.document,X="2.1.4",Q=function(t,e){return new Q.fn.init(t,e)},tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,et=/^-ms-/,nt=/-([\da-z])/gi,rt=function(t,e){return e.toUpperCase()};Q.fn=Q.prototype={jquery:X,constructor:Q,selector:"",length:0,toArray:function(){return U.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:U.call(this)},pushStack:function(t){var e=Q.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Q.each(this,t,e)},map:function(t){return this.pushStack(Q.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(U.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:q,sort:H.sort,splice:H.splice},Q.extend=Q.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||Q.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],r=t[e],s!==r&&(u&&r&&(Q.isPlainObject(r)||(i=Q.isArray(r)))?(i?(i=!1,o=n&&Q.isArray(n)?n:[]):o=n&&Q.isPlainObject(n)?n:{},s[e]=Q.extend(u,o,r)):void 0!==r&&(s[e]=r));return s},Q.extend({expando:"jQuery"+(X+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Q.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Q.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"!==Q.type(t)||t.nodeType||Q.isWindow(t)?!1:t.constructor&&!Y.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?G[K.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=Q.trim(t),t&&(1===t.indexOf("use strict")?(e=J.createElement("script"),e.text=t,J.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(et,"ms-").replace(nt,rt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var i,o=0,s=t.length,a=n(t);if(r){if(a)for(;s>o&&(i=e.apply(t[o],r),i!==!1);o++);else for(o in t)if(i=e.apply(t[o],r),i===!1)break}else if(a)for(;s>o&&(i=e.call(t[o],o,t[o]),i!==!1);o++);else for(o in t)if(i=e.call(t[o],o,t[o]),i===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(tt,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?Q.merge(r,"string"==typeof t?[t]:t):q.call(r,t)),r},inArray:function(t,e,n){return null==e?-1:$.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;n>r;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,s=t.length,a=!n;s>o;o++)r=!e(t[o],o),r!==a&&i.push(t[o]);return i},map:function(t,e,r){var i,o=0,s=t.length,a=n(t),l=[];if(a)for(;s>o;o++)i=e(t[o],o,r),null!=i&&l.push(i);else for(o in t)i=e(t[o],o,r),null!=i&&l.push(i);return W.apply([],l)},guid:1,proxy:function(t,e){var n,r,i;return"string"==typeof e&&(n=t[e],e=t,t=n),Q.isFunction(t)?(r=U.call(arguments,2),i=function(){return t.apply(e||this,r.concat(U.call(arguments)))},i.guid=t.guid=t.guid||Q.guid++,i):void 0},now:Date.now,support:Z}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){G["[object "+e+"]"]=e.toLowerCase()});var it=function(t){function e(t,e,n,r){var i,o,s,a,l,u,h,p,f,m;if((e?e.ownerDocument||e:z)!==D&&O(e),e=e||D,n=n||[],a=e.nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return n;if(!r&&R){if(11!==a&&(i=yt.exec(t)))if(s=i[1]){if(9===a){if(o=e.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&B(e,o)&&o.id===s)return n.push(o),n}else{if(i[2])return X.apply(n,e.getElementsByTagName(t)),n;if((s=i[3])&&w.getElementsByClassName)return X.apply(n,e.getElementsByClassName(s)),n}if(w.qsa&&(!N||!N.test(t))){if(p=h=j,f=e,m=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(u=E(t),(h=e.getAttribute("id"))?p=h.replace(_t,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+d(u[l]);f=bt.test(t)&&c(e.parentNode)||e,m=u.join(",")}if(m)try{return X.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{h||e.removeAttribute("id")}}}return S(t.replace(lt,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[j]=!0,t}function i(t){var e=D.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=t.length;r--;)x.attrHandle[n[r]]=e}function s(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||G)-(~t.sourceIndex||G);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function d(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function p(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=H++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,s){var a,l,u=[V,o];if(s){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,s))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(l=e[j]||(e[j]={}),(a=l[r])&&a[0]===V&&a[1]===o)return u[2]=a[2];if(l[r]=u,u[2]=t(e,n,s))return!0}}}function f(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function m(t,n,r){for(var i=0,o=n.length;o>i;i++)e(t,n[i],r);return r}function g(t,e,n,r,i){for(var o,s=[],a=0,l=t.length,u=null!=e;l>a;a++)(o=t[a])&&(!n||n(o,r,i))&&(s.push(o),u&&e.push(a));return s}function v(t,e,n,i,o,s){return i&&!i[j]&&(i=v(i)),o&&!o[j]&&(o=v(o,s)),r(function(r,s,a,l){var u,c,h,d=[],p=[],f=s.length,v=r||m(e||"*",a.nodeType?[a]:a,[]),y=!t||!r&&e?v:g(v,d,t,a,l),b=n?o||(r?t:f||i)?[]:s:y;if(n&&n(y,b,a,l),i)for(u=g(b,p),i(u,[],a,l),c=u.length;c--;)(h=u[c])&&(b[p[c]]=!(y[p[c]]=h));if(r){if(o||t){if(o){for(u=[],c=b.length;c--;)(h=b[c])&&u.push(y[c]=h);o(null,b=[],u,l)}for(c=b.length;c--;)(h=b[c])&&(u=o?tt(r,h):d[c])>-1&&(r[u]=!(s[u]=h))}}else b=g(b===s?b.splice(f,b.length):b),o?o(null,s,b,l):X.apply(s,b)})}function y(t){for(var e,n,r,i=t.length,o=x.relative[t[0].type],s=o||x.relative[" "],a=o?1:0,l=p(function(t){return t===e},s,!0),u=p(function(t){return tt(e,t)>-1},s,!0),c=[function(t,n,r){var i=!o&&(r||n!==P)||((e=n).nodeType?l(t,n,r):u(t,n,r));return e=null,i}];i>a;a++)if(n=x.relative[t[a].type])c=[p(f(c),n)];else{if(n=x.filter[t[a].type].apply(null,t[a].matches),n[j]){for(r=++a;i>r&&!x.relative[t[r].type];r++);return v(a>1&&f(c),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(lt,"$1"),n,r>a&&y(t.slice(a,r)),i>r&&y(t=t.slice(r)),i>r&&d(t))}c.push(n)}return f(c)}function b(t,n){var i=n.length>0,o=t.length>0,s=function(r,s,a,l,u){var c,h,d,p=0,f="0",m=r&&[],v=[],y=P,b=r||o&&x.find.TAG("*",u),_=V+=null==y?1:Math.random()||.1,w=b.length;for(u&&(P=s!==D&&s);f!==w&&null!=(c=b[f]);f++){if(o&&c){for(h=0;d=t[h++];)if(d(c,s,a)){l.push(c);break}u&&(V=_)}i&&((c=!d&&c)&&p--,r&&m.push(c))}if(p+=f,i&&f!==p){for(h=0;d=n[h++];)d(m,v,s,a);if(r){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=Z.call(l));v=g(v)}X.apply(l,v),u&&!r&&v.length>0&&p+n.length>1&&e.uniqueSort(l)}return u&&(V=_,P=y),m};return i?r(s):s}var _,w,x,C,T,E,k,S,P,A,L,O,D,M,R,N,F,I,B,j="sizzle"+1*new Date,z=t.document,V=0,H=0,U=n(),W=n(),q=n(),$=function(t,e){return t===e&&(L=!0),0},G=1<<31,K={}.hasOwnProperty,Y=[],Z=Y.pop,J=Y.push,X=Y.push,Q=Y.slice,tt=function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=rt.replace("w","w#"),ot="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",st=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ht=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(st),pt=new RegExp("^"+it+"$"),ft={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,_t=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),xt=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ct=function(){O()};try{X.apply(Y=Q.call(z.childNodes),z.childNodes),Y[z.childNodes.length].nodeType}catch(Tt){X={apply:Y.length?function(t,e){J.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}w=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},O=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:z;return r!==D&&9===r.nodeType&&r.documentElement?(D=r,M=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),R=!T(r),w.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=i(function(t){return t.appendChild(r.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=vt.test(r.getElementsByClassName),w.getById=i(function(t){return M.appendChild(t).id=j,!r.getElementsByName||!r.getElementsByName(j).length}),w.getById?(x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&R){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(t){var e=t.replace(wt,xt);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(wt,xt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),x.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},x.find.CLASS=w.getElementsByClassName&&function(t,e){return R?e.getElementsByClassName(t):void 0},F=[],N=[],(w.qsa=vt.test(r.querySelectorAll))&&(i(function(t){M.appendChild(t).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||N.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+j+"-]").length||N.push("~="),t.querySelectorAll(":checked").length||N.push(":checked"),t.querySelectorAll("a#"+j+"+*").length||N.push(".#.+[+~]")}),i(function(t){var e=r.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&N.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),N.push(",.*:")})),(w.matchesSelector=vt.test(I=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&i(function(t){w.disconnectedMatch=I.call(t,"div"),I.call(t,"[s!='']:x"),F.push("!=",st)}),N=N.length&&new RegExp(N.join("|")),F=F.length&&new RegExp(F.join("|")),e=vt.test(M.compareDocumentPosition),B=e||vt.test(M.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},$=e?function(t,e){if(t===e)return L=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===r||t.ownerDocument===z&&B(z,t)?-1:e===r||e.ownerDocument===z&&B(z,e)?1:A?tt(A,t)-tt(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return L=!0,0;var n,i=0,o=t.parentNode,a=e.parentNode,l=[t],u=[e];if(!o||!a)return t===r?-1:e===r?1:o?-1:a?1:A?tt(A,t)-tt(A,e):0;if(o===a)return s(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;l[i]===u[i];)i++;return i?s(l[i],u[i]):l[i]===z?-1:u[i]===z?1:0},r):D},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==D&&O(t),n=n.replace(ht,"='$1']"),w.matchesSelector&&R&&(!F||!F.test(n))&&(!N||!N.test(n)))try{var r=I.call(t,n);if(r||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,D,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==D&&O(t),B(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==D&&O(t);var n=x.attrHandle[e.toLowerCase()],r=n&&K.call(x.attrHandle,e.toLowerCase())?n(t,e,!R):void 0;return void 0!==r?r:w.attributes||!R?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(L=!w.detectDuplicates,A=!w.sortStable&&t.slice(0),t.sort($),L){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return A=null,t},C=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=C(e);return n},x=e.selectors={cacheLength:50,createPseudo:r,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=E(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(at," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,d,p,f,m=o!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(g){if(o){for(;m;){for(h=e;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(c=g[j]||(g[j]={}),u=c[t]||[],p=u[0]===V&&u[1],d=u[0]===V&&u[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===e){c[t]=[V,p,d];break}}else if(y&&(u=(e[j]||(e[j]={}))[t])&&u[0]===V)d=u[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[j]||(h[j]={}))[t]=[V,d]),h!==e)););return d-=i,d===r||d%r===0&&d/r>=0}}},PSEUDO:function(t,n){var i,o=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[j]?o(n):o.length>1?(i=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),s=i.length;s--;)r=tt(t,i[s]),t[r]=!(e[r]=i[s])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=k(t.replace(lt,"$1"));return i[j]?r(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(wt,xt),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:r(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,xt).toLowerCase(),function(e){var n;do if(n=R?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===M},focus:function(t){return t===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return mt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:u(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}},x.pseudos.nth=x.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[_]=a(_);for(_ in{submit:!0,reset:!0})x.pseudos[_]=l(_);return h.prototype=x.filters=x.pseudos,x.setFilters=new h,E=e.tokenize=function(t,n){var r,i,o,s,a,l,u,c=W[t+" "];if(c)return n?0:c.slice(0);for(a=t,l=[],u=x.preFilter;a;){(!r||(i=ut.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),l.push(o=[])),r=!1,(i=ct.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(lt," ")}),a=a.slice(r.length));for(s in x.filter)!(i=ft[s].exec(a))||u[s]&&!(i=u[s](i))||(r=i.shift(),o.push({
value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?e.error(t):W(t,l).slice(0)},k=e.compile=function(t,e){var n,r=[],i=[],o=q[t+" "];if(!o){for(e||(e=E(t)),n=e.length;n--;)o=y(e[n]),o[j]?r.push(o):i.push(o);o=q(t,b(i,r)),o.selector=t}return o},S=e.select=function(t,e,n,r){var i,o,s,a,l,u="function"==typeof t&&t,h=!r&&E(t=u.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===e.nodeType&&R&&x.relative[o[1].type]){if(e=(x.find.ID(s.matches[0].replace(wt,xt),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=ft.needsContext.test(t)?0:o.length;i--&&(s=o[i],!x.relative[a=s.type]);)if((l=x.find[a])&&(r=l(s.matches[0].replace(wt,xt),bt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(i,1),t=r.length&&d(o),!t)return X.apply(n,r),n;break}}return(u||k(t,h))(r,e,!R,n,bt.test(t)&&c(e.parentNode)||e),n},w.sortStable=j.split("").sort($).join("")===j,w.detectDuplicates=!!L,O(),w.sortDetached=i(function(t){return 1&t.compareDocumentPosition(D.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var r;return n?void 0:t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);Q.find=it,Q.expr=it.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=it.uniqueSort,Q.text=it.getText,Q.isXMLDoc=it.isXML,Q.contains=it.contains;var ot=Q.expr.match.needsContext,st=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,at=/^.[^:#\[\.,]*$/;Q.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?Q.find.matchesSelector(r,t)?[r]:[]:Q.find.matches(t,Q.grep(e,function(t){return 1===t.nodeType}))},Q.fn.extend({find:function(t){var e,n=this.length,r=[],i=this;if("string"!=typeof t)return this.pushStack(Q(t).filter(function(){for(e=0;n>e;e++)if(Q.contains(i[e],this))return!0}));for(e=0;n>e;e++)Q.find(t,i[e],r);return r=this.pushStack(n>1?Q.unique(r):r),r.selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&ot.test(t)?Q(t):t||[],!1).length}});var lt,ut=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ct=Q.fn.init=function(t,e){var n,r;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ut.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||lt).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof Q?e[0]:e,Q.merge(this,Q.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:J,!0)),st.test(n[1])&&Q.isPlainObject(e))for(n in e)Q.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=J.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=J,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Q.isFunction(t)?"undefined"!=typeof lt.ready?lt.ready(t):t(Q):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Q.makeArray(t,this))};ct.prototype=Q.fn,lt=Q(J);var ht=/^(?:parents|prev(?:Until|All))/,dt={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&Q(t).is(n))break;r.push(t)}return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),Q.fn.extend({has:function(t){var e=Q(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(Q.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,o=[],s=ot.test(t)||"string"!=typeof t?Q(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&Q.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?Q.unique(o):o)},index:function(t){return t?"string"==typeof t?$.call(Q(t),this[0]):$.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Q.unique(Q.merge(this.get(),Q(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Q.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Q.dir(t,"parentNode")},parentsUntil:function(t,e,n){return Q.dir(t,"parentNode",n)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return Q.dir(t,"nextSibling")},prevAll:function(t){return Q.dir(t,"previousSibling")},nextUntil:function(t,e,n){return Q.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return Q.dir(t,"previousSibling",n)},siblings:function(t){return Q.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Q.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Q.merge([],t.childNodes)}},function(t,e){Q.fn[t]=function(n,r){var i=Q.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Q.filter(r,i)),this.length>1&&(dt[t]||Q.unique(i),ht.test(t)&&i.reverse()),this.pushStack(i)}});var pt=/\S+/g,ft={};Q.Callbacks=function(t){t="string"==typeof t?ft[t]||o(t):Q.extend({},t);var e,n,r,i,s,a,l=[],u=!t.once&&[],c=function(o){for(e=t.memory&&o,n=!0,a=i||0,i=0,s=l.length,r=!0;l&&s>a;a++)if(l[a].apply(o[0],o[1])===!1&&t.stopOnFalse){e=!1;break}r=!1,l&&(u?u.length&&c(u.shift()):e?l=[]:h.disable())},h={add:function(){if(l){var n=l.length;!function o(e){Q.each(e,function(e,n){var r=Q.type(n);"function"===r?t.unique&&h.has(n)||l.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?s=l.length:e&&(i=n,c(e))}return this},remove:function(){return l&&Q.each(arguments,function(t,e){for(var n;(n=Q.inArray(e,l,n))>-1;)l.splice(n,1),r&&(s>=n&&s--,a>=n&&a--)}),this},has:function(t){return t?Q.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=u=e=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,e||h.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!l||n&&!u||(e=e||[],e=[t,e.slice?e.slice():e],r?u.push(e):c(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},Q.extend({Deferred:function(t){var e=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Q.Deferred(function(n){Q.each(e,function(e,o){var s=Q.isFunction(t[e])&&t[e];i[o[1]](function(){var t=s&&s.apply(this,arguments);t&&Q.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Q.extend(t,r):r}},i={};return r.pipe=r.then,Q.each(e,function(t,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=U.call(arguments),s=o.length,a=1!==s||t&&Q.isFunction(t.promise)?s:0,l=1===a?t:Q.Deferred(),u=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?U.call(arguments):i,r===e?l.notifyWith(n,r):--a||l.resolveWith(n,r)}};if(s>1)for(e=new Array(s),n=new Array(s),r=new Array(s);s>i;i++)o[i]&&Q.isFunction(o[i].promise)?o[i].promise().done(u(i,r,o)).fail(l.reject).progress(u(i,n,e)):--a;return a||l.resolveWith(r,o),l.promise()}});var mt;Q.fn.ready=function(t){return Q.ready.promise().done(t),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Q.readyWait++:Q.ready(!0)},ready:function(t){(t===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,t!==!0&&--Q.readyWait>0||(mt.resolveWith(J,[Q]),Q.fn.triggerHandler&&(Q(J).triggerHandler("ready"),Q(J).off("ready"))))}}),Q.ready.promise=function(e){return mt||(mt=Q.Deferred(),"complete"===J.readyState?setTimeout(Q.ready):(J.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1))),mt.promise(e)},Q.ready.promise();var gt=Q.access=function(t,e,n,r,i,o,s){var a=0,l=t.length,u=null==n;if("object"===Q.type(n)){i=!0;for(a in n)Q.access(t,e,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,Q.isFunction(r)||(s=!0),u&&(s?(e.call(t,r),e=null):(u=e,e=function(t,e,n){return u.call(Q(t),n)})),e))for(;l>a;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return i?t:u?e.call(t):l?e(t[0],n):o};Q.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},a.uid=1,a.accepts=Q.acceptData,a.prototype={key:function(t){if(!a.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=a.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(r){e[this.expando]=n,Q.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var r,i=this.key(t),o=this.cache[i];if("string"==typeof e)o[e]=n;else if(Q.isEmptyObject(o))Q.extend(this.cache[i],e);else for(r in e)o[r]=e[r];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var r;return void 0===e||e&&"string"==typeof e&&void 0===n?(r=this.get(t,e),void 0!==r?r:this.get(t,Q.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,i,o=this.key(t),s=this.cache[o];if(void 0===e)this.cache[o]={};else{Q.isArray(e)?r=e.concat(e.map(Q.camelCase)):(i=Q.camelCase(e),e in s?r=[e,i]:(r=i,r=r in s?[r]:r.match(pt)||[])),n=r.length;for(;n--;)delete s[r[n]]}},hasData:function(t){return!Q.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var vt=new a,yt=new a,bt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_t=/([A-Z])/g;Q.extend({hasData:function(t){return yt.hasData(t)||vt.hasData(t)},data:function(t,e,n){return yt.access(t,e,n)},removeData:function(t,e){yt.remove(t,e)},_data:function(t,e,n){return vt.access(t,e,n)},_removeData:function(t,e){vt.remove(t,e)}}),Q.fn.extend({data:function(t,e){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=yt.get(o),1===o.nodeType&&!vt.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=Q.camelCase(r.slice(5)),l(o,r,i[r])));vt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){yt.set(this,t)}):gt(this,function(e){var n,r=Q.camelCase(t);if(o&&void 0===e){if(n=yt.get(o,t),void 0!==n)return n;if(n=yt.get(o,r),void 0!==n)return n;if(n=l(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=yt.get(this,r);yt.set(this,r,e),-1!==t.indexOf("-")&&void 0!==n&&yt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){yt.remove(this,t)})}}),Q.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=vt.get(t,e),n&&(!r||Q.isArray(n)?r=vt.access(t,e,Q.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=Q.queue(t,e),r=n.length,i=n.shift(),o=Q._queueHooks(t,e),s=function(){Q.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return vt.get(t,n)||vt.access(t,n,{empty:Q.Callbacks("once memory").add(function(){vt.remove(t,[e+"queue",n])})})}}),Q.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?Q.queue(this[0],t):void 0===e?this:this.each(function(){var n=Q.queue(this,t,e);Q._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&Q.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Q.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=Q.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=vt.get(o[s],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}});var wt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xt=["Top","Right","Bottom","Left"],Ct=function(t,e){return t=e||t,"none"===Q.css(t,"display")||!Q.contains(t.ownerDocument,t)},Tt=/^(?:checkbox|radio)$/i;!function(){var t=J.createDocumentFragment(),e=t.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),Z.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",Z.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Et="undefined";Z.focusinBubbles="onfocusin"in t;var kt=/^key/,St=/^(?:mouse|pointer|contextmenu)|click/,Pt=/^(?:focusinfocus|focusoutblur)$/,At=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(t,e,n,r,i){var o,s,a,l,u,c,h,d,p,f,m,g=vt.get(t);if(g)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=Q.guid++),(l=g.events)||(l=g.events={}),(s=g.handle)||(s=g.handle=function(e){return typeof Q!==Et&&Q.event.triggered!==e.type?Q.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(pt)||[""],u=e.length;u--;)a=At.exec(e[u])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p&&(h=Q.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,h=Q.event.special[p]||{},c=Q.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Q.expr.match.needsContext.test(i),namespace:f.join(".")},o),(d=l[p])||(d=l[p]=[],d.delegateCount=0,h.setup&&h.setup.call(t,r,f,s)!==!1||t.addEventListener&&t.addEventListener(p,s,!1)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),Q.event.global[p]=!0)},remove:function(t,e,n,r,i){var o,s,a,l,u,c,h,d,p,f,m,g=vt.hasData(t)&&vt.get(t);if(g&&(l=g.events)){for(e=(e||"").match(pt)||[""],u=e.length;u--;)if(a=At.exec(e[u])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(h=Q.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,d=l[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)c=d[o],!i&&m!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));s&&!d.length&&(h.teardown&&h.teardown.call(t,f,g.handle)!==!1||Q.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)Q.event.remove(t,p+e[u],n,r,!0);Q.isEmptyObject(l)&&(delete g.handle,vt.remove(t,"events"))}},trigger:function(e,n,r,i){var o,s,a,l,u,c,h,d=[r||J],p=Y.call(e,"type")?e.type:e,f=Y.call(e,"namespace")?e.namespace.split("."):[];if(s=a=r=r||J,3!==r.nodeType&&8!==r.nodeType&&!Pt.test(p+Q.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),u=p.indexOf(":")<0&&"on"+p,e=e[Q.expando]?e:new Q.Event(p,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:Q.makeArray(n,[e]),h=Q.event.special[p]||{},i||!h.trigger||h.trigger.apply(r,n)!==!1)){if(!i&&!h.noBubble&&!Q.isWindow(r)){for(l=h.delegateType||p,Pt.test(l+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),a=s;a===(r.ownerDocument||J)&&d.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=d[o++])&&!e.isPropagationStopped();)e.type=o>1?l:h.bindType||p,c=(vt.get(s,"events")||{})[e.type]&&vt.get(s,"handle"),c&&c.apply(s,n),c=u&&s[u],c&&c.apply&&Q.acceptData(s)&&(e.result=c.apply(s,n),e.result===!1&&e.preventDefault());return e.type=p,i||e.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),n)!==!1||!Q.acceptData(r)||u&&Q.isFunction(r[p])&&!Q.isWindow(r)&&(a=r[u],a&&(r[u]=null),Q.event.triggered=p,r[p](),Q.event.triggered=void 0,a&&(r[u]=a)),e.result}},dispatch:function(t){t=Q.event.fix(t);var e,n,r,i,o,s=[],a=U.call(arguments),l=(vt.get(this,"events")||{})[t.type]||[],u=Q.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(s=Q.event.handlers.call(this,t,l),e=0;(i=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,r=((Q.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),void 0!==r&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==t.type){for(r=[],n=0;a>n;n++)o=e[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?Q(i,this).index(l)>=0:Q.find(i,this,null,[l]).length),r[i]&&r.push(o);r.length&&s.push({elem:l,handlers:r})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||J,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[Q.expando])return t;var e,n,r,i=t.type,o=t,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=St.test(i)?this.mouseHooks:kt.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,t=new Q.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return t.target||(t.target=J),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return Q.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=Q.extend(new Q.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?Q.event.trigger(i,null,e):Q.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},Q.Event=function(t,e){return this instanceof Q.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?u:c):this.type=t,e&&Q.extend(this,e),this.timeStamp=t&&t.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(t,e)},Q.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=u,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=u,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=u,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Q.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return(!i||i!==r&&!Q.contains(r,i))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),Z.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){Q.event.simulate(e,t.target,Q.event.fix(t),!0)};Q.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=vt.access(r,e);i||r.addEventListener(t,n,!0),vt.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=vt.access(r,e)-1;i?vt.access(r,e,i):(r.removeEventListener(t,n,!0),vt.remove(r,e))}}}),Q.fn.extend({on:function(t,e,n,r,i){var o,s;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(s in t)this.on(s,e,n,t[s],i);return this}if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(t){return Q().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Q.guid++)),this.each(function(){Q.event.add(this,t,r,n,e)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,Q(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=c),this.each(function(){Q.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){Q.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?Q.event.trigger(t,e,n,!0):void 0}});var Lt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ot=/<([\w:]+)/,Dt=/<|&#?\w+;/,Mt=/<(?:script|style|link)/i,Rt=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^$|\/(?:java|ecma)script/i,Ft=/^true\/(.*)/,It=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Bt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Bt.optgroup=Bt.option,Bt.tbody=Bt.tfoot=Bt.colgroup=Bt.caption=Bt.thead,Bt.th=Bt.td,Q.extend({clone:function(t,e,n){var r,i,o,s,a=t.cloneNode(!0),l=Q.contains(t.ownerDocument,t);if(!(Z.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Q.isXMLDoc(t)))for(s=v(a),o=v(t),r=0,i=o.length;i>r;r++)y(o[r],s[r]);if(e)if(n)for(o=o||v(t),s=s||v(a),r=0,i=o.length;i>r;r++)g(o[r],s[r]);else g(t,a);return s=v(a,"script"),s.length>0&&m(s,!l&&v(t,"script")),a},buildFragment:function(t,e,n,r){for(var i,o,s,a,l,u,c=e.createDocumentFragment(),h=[],d=0,p=t.length;p>d;d++)if(i=t[d],i||0===i)if("object"===Q.type(i))Q.merge(h,i.nodeType?[i]:i);else if(Dt.test(i)){for(o=o||c.appendChild(e.createElement("div")),s=(Ot.exec(i)||["",""])[1].toLowerCase(),a=Bt[s]||Bt._default,o.innerHTML=a[1]+i.replace(Lt,"<$1></$2>")+a[2],u=a[0];u--;)o=o.lastChild;Q.merge(h,o.childNodes),o=c.firstChild,o.textContent=""}else h.push(e.createTextNode(i));for(c.textContent="",d=0;i=h[d++];)if((!r||-1===Q.inArray(i,r))&&(l=Q.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),l&&m(o),n))for(u=0;i=o[u++];)Nt.test(i.type||"")&&n.push(i);return c},cleanData:function(t){for(var e,n,r,i,o=Q.event.special,s=0;void 0!==(n=t[s]);s++){if(Q.acceptData(n)&&(i=n[vt.expando],i&&(e=vt.cache[i]))){if(e.events)for(r in e.events)o[r]?Q.event.remove(n,r):Q.removeEvent(n,r,e.handle);vt.cache[i]&&delete vt.cache[i]}delete yt.cache[n[yt.expando]]}}}),Q.fn.extend({text:function(t){return gt(this,function(t){return void 0===t?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=t?Q.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||Q.cleanData(v(n)),n.parentNode&&(e&&Q.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Q.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return Q.clone(this,t,e)})},html:function(t){return gt(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Mt.test(t)&&!Bt[(Ot.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Lt,"<$1></$2>");try{for(;r>n;n++)e=this[n]||{},1===e.nodeType&&(Q.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Q.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=W.apply([],t);var n,r,i,o,s,a,l=0,u=this.length,c=this,h=u-1,d=t[0],m=Q.isFunction(d);if(m||u>1&&"string"==typeof d&&!Z.checkClone&&Rt.test(d))return this.each(function(n){var r=c.eq(n);m&&(t[0]=d.call(this,n,r.html())),r.domManip(t,e)});if(u&&(n=Q.buildFragment(t,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=Q.map(v(n,"script"),p),o=i.length;u>l;l++)s=n,l!==h&&(s=Q.clone(s,!0,!0),o&&Q.merge(i,v(s,"script"))),e.call(this[l],s,l);if(o)for(a=i[i.length-1].ownerDocument,Q.map(i,f),l=0;o>l;l++)s=i[l],Nt.test(s.type||"")&&!vt.access(s,"globalEval")&&Q.contains(a,s)&&(s.src?Q._evalUrl&&Q._evalUrl(s.src):Q.globalEval(s.textContent.replace(It,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Q.fn[t]=function(t){for(var n,r=[],i=Q(t),o=i.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),Q(i[s])[e](n),q.apply(r,n.get());return this.pushStack(r)}});var jt,zt={},Vt=/^margin/,Ht=new RegExp("^("+wt+")(?!px)[a-z%]+$","i"),Ut=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",i.appendChild(o);var e=t.getComputedStyle(s,null);n="1%"!==e.top,r="4px"===e.width,i.removeChild(o)}var n,r,i=J.documentElement,o=J.createElement("div"),s=J.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),t.getComputedStyle&&Q.extend(Z,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==r&&e(),r},reliableMarginRight:function(){var e,n=s.appendChild(J.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",i.appendChild(o),e=!parseFloat(t.getComputedStyle(n,null).marginRight),i.removeChild(o),s.removeChild(n),e}}))}(),Q.swap=function(t,e,n,r){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=s[o];return i};var Wt=/^(none|table(?!-c[ea]).+)/,qt=new RegExp("^("+wt+")(.*)$","i"),$t=new RegExp("^([+-])=("+wt+")","i"),Gt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:"0",fontWeight:"400"},Yt=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=w(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=Q.camelCase(e),l=t.style;return e=Q.cssProps[a]||(Q.cssProps[a]=C(l,a)),s=Q.cssHooks[e]||Q.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:l[e]:(o=typeof n,"string"===o&&(i=$t.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Q.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||Q.cssNumber[a]||(n+="px"),Z.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(l[e]=n)),void 0)}},css:function(t,e,n,r){var i,o,s,a=Q.camelCase(e);return e=Q.cssProps[a]||(Q.cssProps[a]=C(t.style,a)),s=Q.cssHooks[e]||Q.cssHooks[a],s&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=w(t,e,r)),"normal"===i&&e in Kt&&(i=Kt[e]),""===n||n?(o=parseFloat(i),n===!0||Q.isNumeric(o)?o||0:i):i}}),Q.each(["height","width"],function(t,e){Q.cssHooks[e]={get:function(t,n,r){return n?Wt.test(Q.css(t,"display"))&&0===t.offsetWidth?Q.swap(t,Gt,function(){return k(t,e,r)}):k(t,e,r):void 0},set:function(t,n,r){var i=r&&Ut(t);return T(t,n,r?E(t,e,r,"border-box"===Q.css(t,"boxSizing",!1,i),i):0)}}}),Q.cssHooks.marginRight=x(Z.reliableMarginRight,function(t,e){return e?Q.swap(t,{display:"inline-block"},w,[t,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(t,e){Q.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+xt[r]+e]=o[r]||o[r-2]||o[0];return i}},Vt.test(t)||(Q.cssHooks[t+e].set=T)}),Q.fn.extend({css:function(t,e){return gt(this,function(t,e,n){var r,i,o={},s=0;if(Q.isArray(e)){for(r=Ut(t),i=e.length;i>s;s++)o[e[s]]=Q.css(t,e[s],!1,r);return o}return void 0!==n?Q.style(t,e,n):Q.css(t,e)},t,e,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ct(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=P,P.prototype={constructor:P,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Q.cssNumber[n]?"":"px")},cur:function(){var t=P.propHooks[this.prop];return t&&t.get?t.get(this):P.propHooks._default.get(this)},run:function(t){var e,n=P.propHooks[this.prop];return this.options.duration?this.pos=e=Q.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Q.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Q.fx.step[t.prop]?Q.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Q.cssProps[t.prop]]||Q.cssHooks[t.prop])?Q.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Q.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2;
}},Q.fx=P.prototype.init,Q.fx.step={};var Zt,Jt,Xt=/^(?:toggle|show|hide)$/,Qt=new RegExp("^(?:([+-])=|)("+wt+")([a-z%]*)$","i"),te=/queueHooks$/,ee=[D],ne={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=Qt.exec(e),o=i&&i[3]||(Q.cssNumber[t]?"":"px"),s=(Q.cssNumber[t]||"px"!==o&&+r)&&Qt.exec(Q.css(n.elem,t)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do a=a||".5",s/=a,Q.style(n.elem,t,s+o);while(a!==(a=n.cur()/r)&&1!==a&&--l)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};Q.Animation=Q.extend(R,{tweener:function(t,e){Q.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;i>r;r++)n=t[r],ne[n]=ne[n]||[],ne[n].unshift(e)},prefilter:function(t,e){e?ee.unshift(t):ee.push(t)}}),Q.speed=function(t,e,n){var r=t&&"object"==typeof t?Q.extend({},t):{complete:n||!n&&e||Q.isFunction(t)&&t,duration:t,easing:n&&e||e&&!Q.isFunction(e)&&e};return r.duration=Q.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Q.fx.speeds?Q.fx.speeds[r.duration]:Q.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Q.isFunction(r.old)&&r.old.call(this),r.queue&&Q.dequeue(this,r.queue)},r},Q.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Ct).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=Q.isEmptyObject(t),o=Q.speed(e,n,r),s=function(){var e=R(this,Q.extend({},t),o);(i||vt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=Q.timers,s=vt.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&te.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));(e||!n)&&Q.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=vt.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=Q.timers,s=r?r.length:0;for(n.finish=!0,Q.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),Q.each(["toggle","show","hide"],function(t,e){var n=Q.fn[e];Q.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(L(e,!0),t,r,i)}}),Q.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Q.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),Q.timers=[],Q.fx.tick=function(){var t,e=0,n=Q.timers;for(Zt=Q.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||Q.fx.stop(),Zt=void 0},Q.fx.timer=function(t){Q.timers.push(t),t()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Jt||(Jt=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Jt),Jt=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(t,e){return t=Q.fx?Q.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},function(){var t=J.createElement("input"),e=J.createElement("select"),n=e.appendChild(J.createElement("option"));t.type="checkbox",Z.checkOn=""!==t.value,Z.optSelected=n.selected,e.disabled=!0,Z.optDisabled=!n.disabled,t=J.createElement("input"),t.value="t",t.type="radio",Z.radioValue="t"===t.value}();var re,ie,oe=Q.expr.attrHandle;Q.fn.extend({attr:function(t,e){return gt(this,Q.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Q.removeAttr(this,t)})}}),Q.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===Et?Q.prop(t,e,n):(1===o&&Q.isXMLDoc(t)||(e=e.toLowerCase(),r=Q.attrHooks[e]||(Q.expr.match.bool.test(e)?ie:re)),void 0===n?r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=Q.find.attr(t,e),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):void Q.removeAttr(t,e))},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(pt);if(o&&1===t.nodeType)for(;n=o[i++];)r=Q.propFix[n]||n,Q.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!Z.radioValue&&"radio"===e&&Q.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),ie={set:function(t,e,n){return e===!1?Q.removeAttr(t,n):t.setAttribute(n,n),n}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(t,e){var n=oe[e]||Q.find.attr;oe[e]=function(t,e,r){var i,o;return r||(o=oe[e],oe[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,oe[e]=o),i}});var se=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(t,e){return gt(this,Q.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Q.propFix[t]||t]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var r,i,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return o=1!==s||!Q.isXMLDoc(t),o&&(e=Q.propFix[e]||e,i=Q.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||se.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),Z.optSelected||(Q.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var ae=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(t){var e,n,r,i,o,s,a="string"==typeof t&&t,l=0,u=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(pt)||[];u>l;l++)if(n=this[l],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ae," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=Q.trim(r),n.className!==s&&(n.className=s)}return this},removeClass:function(t){var e,n,r,i,o,s,a=0===arguments.length||"string"==typeof t&&t,l=0,u=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(pt)||[];u>l;l++)if(n=this[l],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ae," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");s=t?Q.trim(r):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):Q.isFunction(t)?this.each(function(n){Q(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,r=0,i=Q(this),o=t.match(pt)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(n===Et||"boolean"===n)&&(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||t===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ae," ").indexOf(e)>=0)return!0;return!1}});var le=/\r/g;Q.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=Q.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,Q(this).val()):t,null==i?i="":"number"==typeof i?i+="":Q.isArray(i)&&(i=Q.map(i,function(t){return null==t?"":t+""})),e=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=Q.valHooks[i.type]||Q.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(le,""):null==n?"":n)}}}),Q.extend({valHooks:{option:{get:function(t){var e=Q.find.attr(t,"value");return null!=e?e:Q.trim(Q.text(t))}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||0>i,s=o?null:[],a=o?i+1:r.length,l=0>i?a:o?i:0;a>l;l++)if(n=r[l],(n.selected||l===i)&&(Z.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!Q.nodeName(n.parentNode,"optgroup"))){if(e=Q(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=Q.makeArray(e),s=i.length;s--;)r=i[s],(r.selected=Q.inArray(r.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(t,e){return Q.isArray(e)?t.checked=Q.inArray(Q(t).val(),e)>=0:void 0}},Z.checkOn||(Q.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Q.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),Q.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var ue=Q.now(),ce=/\?/;Q.parseJSON=function(t){return JSON.parse(t+"")},Q.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(r){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+t),e};var he=/#.*$/,de=/([?&])_=[^&]*/,pe=/^(.*?):[ \t]*([^\r\n]*)$/gm,fe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,me=/^(?:GET|HEAD)$/,ge=/^\/\//,ve=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ye={},be={},_e="*/".concat("*"),we=t.location.href,xe=ve.exec(we.toLowerCase())||[];Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:we,type:"GET",isLocal:fe.test(xe[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_e,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?I(I(t,Q.ajaxSettings),e):I(Q.ajaxSettings,t)},ajaxPrefilter:N(ye),ajaxTransport:N(be),ajax:function(t,e){function n(t,e,n,s){var l,c,v,y,_,x=e;2!==b&&(b=2,a&&clearTimeout(a),r=void 0,o=s||"",w.readyState=t>0?4:0,l=t>=200&&300>t||304===t,n&&(y=B(h,w,n)),y=j(h,y,w,l),l?(h.ifModified&&(_=w.getResponseHeader("Last-Modified"),_&&(Q.lastModified[i]=_),_=w.getResponseHeader("etag"),_&&(Q.etag[i]=_)),204===t||"HEAD"===h.type?x="nocontent":304===t?x="notmodified":(x=y.state,c=y.data,v=y.error,l=!v)):(v=x,(t||!x)&&(x="error",0>t&&(t=0))),w.status=t,w.statusText=(e||x)+"",l?f.resolveWith(d,[c,x,w]):f.rejectWith(d,[w,x,v]),w.statusCode(g),g=void 0,u&&p.trigger(l?"ajaxSuccess":"ajaxError",[w,h,l?c:v]),m.fireWith(d,[w,x]),u&&(p.trigger("ajaxComplete",[w,h]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,s,a,l,u,c,h=Q.ajaxSetup({},e),d=h.context||h,p=h.context&&(d.nodeType||d.jquery)?Q(d):Q.event,f=Q.Deferred(),m=Q.Callbacks("once memory"),g=h.statusCode||{},v={},y={},b=0,_="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!s)for(s={};e=pe.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return b||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)g[e]=[g[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||_;return r&&r.abort(e),n(0,e),this}};if(f.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,h.url=((t||h.url||we)+"").replace(he,"").replace(ge,xe[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=Q.trim(h.dataType||"*").toLowerCase().match(pt)||[""],null==h.crossDomain&&(l=ve.exec(h.url.toLowerCase()),h.crossDomain=!(!l||l[1]===xe[1]&&l[2]===xe[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(xe[3]||("http:"===xe[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Q.param(h.data,h.traditional)),F(ye,h,e,w),2===b)return w;u=Q.event&&h.global,u&&0===Q.active++&&Q.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!me.test(h.type),i=h.url,h.hasContent||(h.data&&(i=h.url+=(ce.test(i)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=de.test(i)?i.replace(de,"$1_="+ue++):i+(ce.test(i)?"&":"?")+"_="+ue++)),h.ifModified&&(Q.lastModified[i]&&w.setRequestHeader("If-Modified-Since",Q.lastModified[i]),Q.etag[i]&&w.setRequestHeader("If-None-Match",Q.etag[i])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+_e+"; q=0.01":""):h.accepts["*"]);for(c in h.headers)w.setRequestHeader(c,h.headers[c]);if(h.beforeSend&&(h.beforeSend.call(d,w,h)===!1||2===b))return w.abort();_="abort";for(c in{success:1,error:1,complete:1})w[c](h[c]);if(r=F(be,h,e,w)){w.readyState=1,u&&p.trigger("ajaxSend",[w,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},h.timeout));try{b=1,r.send(v,n)}catch(x){if(!(2>b))throw x;n(-1,x)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return Q.get(t,e,n,"json")},getScript:function(t,e){return Q.get(t,void 0,e,"script")}}),Q.each(["get","post"],function(t,e){Q[e]=function(t,n,r,i){return Q.isFunction(n)&&(i=i||r,r=n,n=void 0),Q.ajax({url:t,type:e,dataType:i,data:n,success:r})}}),Q._evalUrl=function(t){return Q.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.fn.extend({wrapAll:function(t){var e;return Q.isFunction(t)?this.each(function(e){Q(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Q(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return Q.isFunction(t)?this.each(function(e){Q(this).wrapInner(t.call(this,e))}):this.each(function(){var e=Q(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=Q.isFunction(t);return this.each(function(n){Q(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Q.expr.filters.visible=function(t){return!Q.expr.filters.hidden(t)};var Ce=/%20/g,Te=/\[\]$/,Ee=/\r?\n/g,ke=/^(?:submit|button|image|reset|file)$/i,Se=/^(?:input|select|textarea|keygen)/i;Q.param=function(t,e){var n,r=[],i=function(t,e){e=Q.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(t)||t.jquery&&!Q.isPlainObject(t))Q.each(t,function(){i(this.name,this.value)});else for(n in t)z(n,t[n],e,i);return r.join("&").replace(Ce,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Q.prop(this,"elements");return t?Q.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Q(this).is(":disabled")&&Se.test(this.nodeName)&&!ke.test(t)&&(this.checked||!Tt.test(t))}).map(function(t,e){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(t){return{name:e.name,value:t.replace(Ee,"\r\n")}}):{name:e.name,value:n.replace(Ee,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Pe=0,Ae={},Le={0:200,1223:204},Oe=Q.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Ae)Ae[t]()}),Z.cors=!!Oe&&"withCredentials"in Oe,Z.ajax=Oe=!!Oe,Q.ajaxTransport(function(t){var e;return Z.cors||Oe&&!t.crossDomain?{send:function(n,r){var i,o=t.xhr(),s=++Pe;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)o[i]=t.xhrFields[i];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);e=function(t){return function(){e&&(delete Ae[s],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?r(o.status,o.statusText):r(Le[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=Ae[s]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(a){if(e)throw a}},abort:function(){e&&e()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Q.globalEval(t),t}}}),Q.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Q.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=Q("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),J.head.appendChild(e[0])},abort:function(){n&&n()}}}});var De=[],Me=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=De.pop()||Q.expando+"_"+ue++;return this[t]=!0,t}}),Q.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,s,a=e.jsonp!==!1&&(Me.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Me.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=Q.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Me,"$1"+i):e.jsonp!==!1&&(e.url+=(ce.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||Q.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){s=arguments},r.always(function(){t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,De.push(i)),s&&Q.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),Q.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||J;var r=st.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=Q.buildFragment([t],e,i),i&&i.length&&Q(i).remove(),Q.merge([],r.childNodes))};var Re=Q.fn.load;Q.fn.load=function(t,e,n){if("string"!=typeof t&&Re)return Re.apply(this,arguments);var r,i,o,s=this,a=t.indexOf(" ");return a>=0&&(r=Q.trim(t.slice(a)),t=t.slice(0,a)),Q.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),s.length>0&&Q.ajax({url:t,type:i,dataType:"html",data:e}).done(function(t){o=arguments,s.html(r?Q("<div>").append(Q.parseHTML(t)).find(r):t)}).complete(n&&function(t,e){s.each(n,o||[t.responseText,e,t])}),this},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Q.fn[e]=function(t){return this.on(e,t)}}),Q.expr.filters.animated=function(t){return Q.grep(Q.timers,function(e){return t===e.elem}).length};var Ne=t.document.documentElement;Q.offset={setOffset:function(t,e,n){var r,i,o,s,a,l,u,c=Q.css(t,"position"),h=Q(t),d={};"static"===c&&(t.style.position="relative"),a=h.offset(),o=Q.css(t,"top"),l=Q.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(r=h.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(l)||0),Q.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+i),"using"in e?e.using.call(t,d):h.css(d)}},Q.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Q.offset.setOffset(this,t,e)});var e,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return e=o.documentElement,Q.contains(e,r)?(typeof r.getBoundingClientRect!==Et&&(i=r.getBoundingClientRect()),n=V(o),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===Q.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Q.nodeName(t[0],"html")||(r=t.offset()),r.top+=Q.css(t[0],"borderTopWidth",!0),r.left+=Q.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-Q.css(n,"marginTop",!0),left:e.left-r.left-Q.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Ne;t&&!Q.nodeName(t,"html")&&"static"===Q.css(t,"position");)t=t.offsetParent;return t||Ne})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r="pageYOffset"===n;Q.fn[e]=function(i){return gt(this,function(e,i,o){var s=V(e);return void 0===o?s?s[n]:e[i]:void(s?s.scrollTo(r?t.pageXOffset:o,r?o:t.pageYOffset):e[i]=o)},e,i,arguments.length,null)}}),Q.each(["top","left"],function(t,e){Q.cssHooks[e]=x(Z.pixelPosition,function(t,n){return n?(n=w(t,e),Ht.test(n)?Q(t).position()[e]+"px":n):void 0})}),Q.each({Height:"height",Width:"width"},function(t,e){Q.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){Q.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return gt(this,function(e,n,r){var i;return Q.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?Q.css(e,n,s):Q.style(e,n,r,s)},e,o?r:void 0,o,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var Fe=t.jQuery,Ie=t.$;return Q.noConflict=function(e){return t.$===Q&&(t.$=Ie),e&&t.jQuery===Q&&(t.jQuery=Fe),Q},typeof e===Et&&(t.jQuery=t.$=Q),Q}),function(){var t,e,n,r,i,o=this;!function(){function o(t,e){var n=l[t];if(void 0!==n)return n;if(n=l[t]={},!a[t])throw e?new Error("Could not find module "+t+" required by: "+e):new Error("Could not find module "+t);for(var r=a[t],i=r.deps,u=r.callback,c=[],h=i.length,d=0;h>d;d++)"exports"===i[d]?c.push(n):c.push(o(s(i[d],t),t));return u.apply(this,c),n}function s(t,e){if("."!==t.charAt(0))return t;for(var n=t.split("/"),r=e.split("/").slice(0,-1),i=0,o=n.length;o>i;i++){var s=n[i];if(".."===s)r.pop();else{if("."===s)continue;r.push(s)}}return r.join("/")}if(i=this.Ember=this.Ember||{},"undefined"==typeof i&&(i={}),"undefined"==typeof i.__loader){var a={},l={};t=function(t,e,n){var r={};n?(r.deps=e,r.callback=n):(r.deps=[],r.callback=e),a[t]=r},r=n=e=function(t){return o(t,null)},r._eak_seen=a,i.__loader={define:t,require:n,registry:a}}else t=i.__loader.define,r=n=e=i.__loader.require}(),t("backburner",["backburner/utils","backburner/platform","backburner/binary-search","backburner/deferred-action-queues","exports"],function(t,e,n,r,i){"use strict";function o(t,e){this.queueNames=t,this.options=e||{},this.options.defaultQueue||(this.options.defaultQueue=t[0]),this.instanceStack=[],this._debouncees=[],this._throttlers=[],this._timers=[]}function s(t){return t.onError||t.onErrorTarget&&t.onErrorTarget[t.onErrorMethod]}function a(t){t.begin(),t._autorun=E.setTimeout(function(){t._autorun=null,t.end()})}function l(t,e,n){var r=b();(!t._laterTimer||e<t._laterTimerExpiresAt||t._laterTimerExpiresAt<r)&&(t._laterTimer&&(clearTimeout(t._laterTimer),t._laterTimerExpiresAt<r&&(n=Math.max(0,e-r))),t._laterTimer=E.setTimeout(function(){t._laterTimer=null,t._laterTimerExpiresAt=null,u(t)},n),t._laterTimerExpiresAt=r+n)}function u(t){var e,n,r,i=b();t.run(function(){for(n=w(i,t._timers),e=t._timers.splice(0,n),n=1,r=e.length;r>n;n+=2)t.schedule(t.options.defaultQueue,null,e[n])}),t._timers.length&&l(t,t._timers[0],t._timers[0]-i)}function c(t,e,n){return d(t,e,n)}function h(t,e,n){return d(t,e,n)}function d(t,e,n){for(var r,i=-1,o=0,s=n.length;s>o;o++)if(r=n[o],r[0]===t&&r[1]===e){i=o;break}return i}var p=t.each,f=t.isString,m=t.isFunction,g=t.isNumber,v=t.isCoercableNumber,y=t.wrapInTryCatch,b=t.now,_=e.needsIETryCatchFix,w=n["default"],x=r["default"],C=[].slice,T=[].pop,E=this;if(o.prototype={begin:function(){var t=this.options,e=t&&t.onBegin,n=this.currentInstance;n&&this.instanceStack.push(n),this.currentInstance=new x(this.queueNames,t),e&&e(this.currentInstance,n)},end:function(){var t=this.options,e=t&&t.onEnd,n=this.currentInstance,r=null,i=!1;try{n.flush()}finally{i||(i=!0,this.currentInstance=null,this.instanceStack.length&&(r=this.instanceStack.pop(),this.currentInstance=r),e&&e(n,r))}},run:function(t,e){var n=s(this.options);this.begin(),e||(e=t,t=null),f(e)&&(e=t[e]);var r=C.call(arguments,2),i=!1;if(n)try{return e.apply(t,r)}catch(o){n(o)}finally{i||(i=!0,this.end())}else try{return e.apply(t,r)}finally{i||(i=!0,this.end())}},join:function(t,e){return this.currentInstance?(e||(e=t,t=null),f(e)&&(e=t[e]),e.apply(t,C.call(arguments,2))):this.run.apply(this,arguments)},defer:function(t,e,n){n||(n=e,e=null),f(n)&&(n=e[n]);var r,i=this.DEBUG?new Error:void 0,o=arguments.length;if(o>3){r=new Array(o-3);for(var s=3;o>s;s++)r[s-3]=arguments[s]}else r=void 0;return this.currentInstance||a(this),this.currentInstance.schedule(t,e,n,r,!1,i)},deferOnce:function(t,e,n){n||(n=e,e=null),f(n)&&(n=e[n]);var r,i=this.DEBUG?new Error:void 0,o=arguments.length;if(o>3){r=new Array(o-3);for(var s=3;o>s;s++)r[s-3]=arguments[s]}else r=void 0;return this.currentInstance||a(this),this.currentInstance.schedule(t,e,n,r,!0,i)},setTimeout:function(){function t(){if(y)try{i.apply(a,n)}catch(t){y(t)}else i.apply(a,n)}for(var e=arguments.length,n=new Array(e),r=0;e>r;r++)n[r]=arguments[r];var i,o,a,u,c,h,d=n.length;if(0!==d){if(1===d)i=n.shift(),o=0;else if(2===d)u=n[0],c=n[1],m(c)||m(u[c])?(a=n.shift(),i=n.shift(),o=0):v(c)?(i=n.shift(),o=n.shift()):(i=n.shift(),o=0);else{var p=n[n.length-1];o=v(p)?n.pop():0,u=n[0],h=n[1],m(h)||f(h)&&null!==u&&h in u?(a=n.shift(),i=n.shift()):i=n.shift()}var g=b()+parseInt(o,10);f(i)&&(i=a[i]);var y=s(this.options),_=w(g,this._timers);return this._timers.splice(_,0,g,t),l(this,g,o),t}},throttle:function(t,e){var n,r,i,o,s=this,a=arguments,l=T.call(a);return g(l)||f(l)?(n=l,l=!0):n=T.call(a),n=parseInt(n,10),i=h(t,e,this._throttlers),i>-1?this._throttlers[i]:(o=E.setTimeout(function(){l||s.run.apply(s,a);var n=h(t,e,s._throttlers);n>-1&&s._throttlers.splice(n,1)},n),l&&this.run.apply(this,a),r=[t,e,o],this._throttlers.push(r),r)},debounce:function(t,e){var n,r,i,o,s=this,a=arguments,l=T.call(a);return g(l)||f(l)?(n=l,l=!1):n=T.call(a),n=parseInt(n,10),r=c(t,e,this._debouncees),r>-1&&(i=this._debouncees[r],this._debouncees.splice(r,1),clearTimeout(i[2])),o=E.setTimeout(function(){l||s.run.apply(s,a);var n=c(t,e,s._debouncees);n>-1&&s._debouncees.splice(n,1)},n),l&&-1===r&&s.run.apply(s,a),i=[t,e,o],s._debouncees.push(i),i},cancelTimers:function(){var t=function(t){clearTimeout(t[2])};p(this._throttlers,t),this._throttlers=[],p(this._debouncees,t),this._debouncees=[],this._laterTimer&&(clearTimeout(this._laterTimer),this._laterTimer=null),this._timers=[],this._autorun&&(clearTimeout(this._autorun),this._autorun=null)},hasTimers:function(){return!!this._timers.length||!!this._debouncees.length||!!this._throttlers.length||this._autorun},cancel:function(t){var e=typeof t;if(t&&"object"===e&&t.queue&&t.method)return t.queue.cancel(t);if("function"!==e)return"[object Array]"===Object.prototype.toString.call(t)?this._cancelItem(h,this._throttlers,t)||this._cancelItem(c,this._debouncees,t):void 0;for(var n=0,r=this._timers.length;r>n;n+=2)if(this._timers[n+1]===t)return this._timers.splice(n,2),0===n&&(this._laterTimer&&(clearTimeout(this._laterTimer),this._laterTimer=null),this._timers.length>0&&l(this,this._timers[0],this._timers[0]-b())),!0},_cancelItem:function(t,e,n){var r,i;return n.length<3?!1:(i=t(n[0],n[1],e),i>-1&&(r=e[i],r[2]===n[2])?(e.splice(i,1),clearTimeout(n[2]),!0):!1)}},o.prototype.schedule=o.prototype.defer,o.prototype.scheduleOnce=o.prototype.deferOnce,o.prototype.later=o.prototype.setTimeout,_){var k=o.prototype.run;o.prototype.run=y(k);var S=o.prototype.end;o.prototype.end=y(S)}i["default"]=o}),t("backburner.umd",["./backburner"],function(e){"use strict";var n=e["default"];"function"==typeof t&&t.amd?t(function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:"undefined"!=typeof this&&(this.Backburner=n)}),t("backburner/binary-search",["exports"],function(t){"use strict";t["default"]=function(t,e){for(var n,r,i=0,o=e.length-2;o>i;)r=(o-i)/2,n=i+r-r%2,t>=e[n]?i=n+2:o=n;return t>=e[i]?i+2:i}}),t("backburner/deferred-action-queues",["./utils","./queue","exports"],function(t,e,n){"use strict";function r(t,e){var n=this.queues=Object.create(null);this.queueNames=t=t||[],this.options=e,o(t,function(t){n[t]=new s(t,e[t],e)})}function i(t){throw new Error("You attempted to schedule an action in a queue ("+t+") that doesn't exist")}var o=t.each,s=e["default"];r.prototype={schedule:function(t,e,n,r,o,s){var a=this.queues,l=a[t];return l||i(t),o?l.pushUnique(e,n,r,s):l.push(e,n,r,s)},flush:function(){var t,e,n=this.queues,r=this.queueNames,i=0,o=r.length;for(this.options;o>i;){t=r[i],e=n[t];var s=e._queue.length;0===s?i++:(e.flush(!1),i=0)}}},n["default"]=r}),t("backburner/platform",["exports"],function(t){"use strict";var e=function(t,e){try{e()}catch(t){}return!!t}();t.needsIETryCatchFix=e}),t("backburner/queue",["./utils","exports"],function(t,e){"use strict";function n(t,e,n){this.name=t,this.globalOptions=n||{},this.options=e,this._queue=[],this.targetQueues=Object.create(null),this._queueBeingFlushed=void 0}var r=t.isString;n.prototype={push:function(t,e,n,r){var i=this._queue;return i.push(t,e,n,r),{queue:this,target:t,method:e}},pushUniqueWithoutGuid:function(t,e,n,r){for(var i=this._queue,o=0,s=i.length;s>o;o+=4){var a=i[o],l=i[o+1];if(a===t&&l===e)return i[o+2]=n,void(i[o+3]=r)}i.push(t,e,n,r)},targetQueue:function(t,e,n,r,i){for(var o=this._queue,s=0,a=t.length;a>s;s+=4){var l=t[s],u=t[s+1];if(l===n)return o[u+2]=r,void(o[u+3]=i)}t.push(n,o.push(e,n,r,i)-4)},pushUniqueWithGuid:function(t,e,n,r,i){var o=this.targetQueues[t];return o?this.targetQueue(o,e,n,r,i):this.targetQueues[t]=[n,this._queue.push(e,n,r,i)-4],{queue:this,target:e,method:n}},pushUnique:function(t,e,n,r){var i=(this._queue,this.globalOptions.GUID_KEY);if(t&&i){var o=t[i];if(o)return this.pushUniqueWithGuid(o,t,e,n,r)}return this.pushUniqueWithoutGuid(t,e,n,r),{queue:this,target:t,method:e}},invoke:function(t,e,n,r,i){n&&n.length>0?e.apply(t,n):e.call(t)},invokeWithOnError:function(t,e,n,r,i){try{n&&n.length>0?e.apply(t,n):e.call(t)}catch(o){r(o,i)}},flush:function(t){var e=this._queue,n=e.length;if(0!==n){var i,o,s,a,l=this.globalOptions,u=this.options,c=u&&u.before,h=u&&u.after,d=l.onError||l.onErrorTarget&&l.onErrorTarget[l.onErrorMethod],p=d?this.invokeWithOnError:this.invoke;this.targetQueues=Object.create(null);var f=this._queueBeingFlushed=this._queue.slice();this._queue=[],c&&c();for(var m=0;n>m;m+=4)i=f[m],o=f[m+1],s=f[m+2],a=f[m+3],r(o)&&(o=i[o]),o&&p(i,o,s,d,a);h&&h(),this._queueBeingFlushed=void 0,t!==!1&&this._queue.length>0&&this.flush(!0)}},cancel:function(t){var e,n,r,i,o=this._queue,s=t.target,a=t.method,l=this.globalOptions.GUID_KEY;if(l&&this.targetQueues&&s){var u=this.targetQueues[s[l]];if(u)for(r=0,i=u.length;i>r;r++)u[r]===a&&u.splice(r,1)}for(r=0,i=o.length;i>r;r+=4)if(e=o[r],n=o[r+1],e===s&&n===a)return o.splice(r,4),
!0;if(o=this._queueBeingFlushed)for(r=0,i=o.length;i>r;r+=4)if(e=o[r],n=o[r+1],e===s&&n===a)return o[r+1]=null,!0}},e["default"]=n}),t("backburner/utils",["exports"],function(t){"use strict";function e(t,e){for(var n=0;n<t.length;n++)e(t[n])}function n(t){return"string"==typeof t}function r(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return i(t)||a.test(t)}function s(t){return function(){try{return t.apply(this,arguments)}catch(e){throw e}}}var a=/\d+/;t.each=e;var l=Date.now||function(){return(new Date).getTime()};t.now=l,t.isString=n,t.isFunction=r,t.isNumber=i,t.isCoercableNumber=o,t.wrapInTryCatch=s}),t("calculateVersion",[],function(){"use strict";var t=n("fs"),e=n("path");module.exports=function(){var r=n("../package.json").version,i=[r],o=e.join(__dirname,"..",".git"),s=e.join(o,"HEAD");if(r.indexOf("+")>-1){try{if(t.existsSync(s)){var a,l=t.readFileSync(s,{encoding:"utf8"}),u=l.split("/").slice(-1)[0].trim(),c=l.split(" ")[1];if(c){var h=e.join(o,c.trim());a=t.readFileSync(h)}else a=u;i.push(a.slice(0,10))}}catch(d){console.error(d.stack)}return i.join(".")}return r}}),t("container",["exports","container/registry","container/container"],function(t,e,n){"use strict";i.MODEL_FACTORY_INJECTIONS=!1,i.ENV&&"undefined"!=typeof i.ENV.MODEL_FACTORY_INJECTIONS&&(i.MODEL_FACTORY_INJECTIONS=!!i.ENV.MODEL_FACTORY_INJECTIONS),t.Registry=e["default"],t.Container=n["default"]}),t("container/container",["exports","ember-metal/core","ember-metal/keys","ember-metal/dictionary"],function(t,n,r,i){"use strict";function o(t,n){this._registry=t||function(){return m||(m=e("container/registry")["default"]),new m}(),this.cache=i["default"](n&&n.cache?n.cache:null),this.factoryCache=i["default"](n&&n.factoryCache?n.factoryCache:null),this.validationCache=i["default"](n&&n.validationCache?n.validationCache:null)}function s(t,e,n){if(n=n||{},t.cache[e]&&n.singleton!==!1)return t.cache[e];var r=h(t,e);return void 0!==r?(t._registry.getOption(e,"singleton")!==!1&&n.singleton!==!1&&(t.cache[e]=r),r):void 0}function a(t){var e={};if(arguments.length>1){for(var n,r=Array.prototype.slice.call(arguments,1),i=[],o=0,a=r.length;a>o;o++)r[o]&&(i=i.concat(r[o]));for(t._registry.validateInjections(i),o=0,a=i.length;a>o;o++)n=i[o],e[n.property]=s(t,n.fullName)}return e}function l(t,e){var r=t.factoryCache;if(r[e])return r[e];var i=t._registry,o=i.resolve(e);if(void 0!==o){var s=e.split(":")[0];if(!o||"function"!=typeof o.extend||!n["default"].MODEL_FACTORY_INJECTIONS&&"model"===s)return o&&"function"==typeof o._onLookup&&o._onLookup(e),r[e]=o,o;var a=u(t,e),l=c(t,e);l._toString=i.makeToString(o,e);var h=o.extend(a);return h.reopenClass(l),o&&"function"==typeof o._onLookup&&o._onLookup(e),r[e]=h,h}}function u(t,e){var n=t._registry,r=e.split(":"),i=r[0],o=a(t,n.getTypeInjections(i),n.getInjections(e));return o._debugContainerKey=e,o.container=t,o}function c(t,e){var n=t._registry,r=e.split(":"),i=r[0],o=a(t,n.getFactoryTypeInjections(i),n.getFactoryInjections(e));return o._debugContainerKey=e,o}function h(t,e){var n,r,i=l(t,e);if(t._registry.getOption(e,"instantiate")===!1)return i;if(i){if("function"!=typeof i.create)throw new Error("Failed to create an instance of '"+e+"'. Most likely an improperly defined class or an invalid module export.");return r=t.validationCache,r[e]||"function"!=typeof i._lazyInjections||(n=i._lazyInjections(),n=t._registry.normalizeInjectionsHash(n),t._registry.validateInjections(n)),r[e]=!0,"function"==typeof i.extend?i.create():i.create(u(t,e))}}function d(t,e){for(var n,i,o=t.cache,s=r["default"](o),a=0,l=s.length;l>a;a++)n=s[a],i=o[n],t._registry.getOption(n,"instantiate")!==!1&&e(i)}function p(t){d(t,function(t){t.destroy&&t.destroy()}),t.cache.dict=i["default"](null)}function f(t,e){var n=t.cache[e];delete t.factoryCache[e],n&&(delete t.cache[e],n.destroy&&n.destroy())}var m;o.prototype={_registry:null,cache:null,factoryCache:null,validationCache:null,lookup:function(t,e){return s(this,this._registry.normalize(t),e)},lookupFactory:function(t){return l(this,this._registry.normalize(t))},destroy:function(){d(this,function(t){t.destroy&&t.destroy()}),this.isDestroyed=!0},reset:function(t){arguments.length>0?f(this,this._registry.normalize(t)):p(this)}},function(){function t(t){o.prototype[t]=function(){return this._registry[t].apply(this._registry,arguments)}}for(var e=["register","unregister","resolve","normalize","typeInjection","injection","factoryInjection","factoryTypeInjection","has","options","optionsForType"],n=0,r=e.length;r>n;n++)t(e[n])}(),t["default"]=o}),t("container/registry",["exports","ember-metal/core","ember-metal/dictionary","./container"],function(t,e,n,r){"use strict";function i(t){this.fallback=t&&t.fallback?t.fallback:null,this.resolver=t&&t.resolver?t.resolver:function(){},this.registrations=n["default"](t&&t.registrations?t.registrations:null),this._typeInjections=n["default"](null),this._injections=n["default"](null),this._factoryTypeInjections=n["default"](null),this._factoryInjections=n["default"](null),this._normalizeCache=n["default"](null),this._resolveCache=n["default"](null),this._options=n["default"](null),this._typeOptions=n["default"](null)}function o(t,e){var n=t._resolveCache[e];if(n)return n;var r=t.resolver(e)||t.registrations[e];return t._resolveCache[e]=r,r}function s(t,e){return void 0!==t.resolve(e)}var a,l=/^[^:]+.+:[^:]+$/;a=!0,i.prototype={fallback:null,resolver:null,registrations:null,_typeInjections:null,_injections:null,_factoryTypeInjections:null,_factoryInjections:null,_normalizeCache:null,_resolveCache:null,_options:null,_typeOptions:null,_defaultContainer:null,container:function(t){var e=new r["default"](this,t);return this.registerContainer(e),e},registerContainer:function(t){this._defaultContainer||(this._defaultContainer=t),this.fallback&&this.fallback.registerContainer(t)},lookup:function(t,e){return this._defaultContainer.lookup(t,e)},lookupFactory:function(t){return this._defaultContainer.lookupFactory(t)},register:function(t,e,n){if(void 0===e)throw new TypeError("Attempting to register an unknown factory: `"+t+"`");var r=this.normalize(t);if(this._resolveCache[r])throw new Error("Cannot re-register: `"+t+"`, as it has already been resolved.");this.registrations[r]=e,this._options[r]=n||{}},unregister:function(t){var e=this.normalize(t);delete this.registrations[e],delete this._resolveCache[e],delete this._options[e]},resolve:function(t){var e=o(this,this.normalize(t));return void 0===e&&this.fallback&&(e=this.fallback.resolve(t)),e},describe:function(t){return t},normalizeFullName:function(t){return t},normalize:function(t){return this._normalizeCache[t]||(this._normalizeCache[t]=this.normalizeFullName(t))},makeToString:function(t,e){return t.toString()},has:function(t){return s(this,this.normalize(t))},optionsForType:function(t,e){this._typeOptions[t]=e},getOptionsForType:function(t){var e=this._typeOptions[t];return void 0===e&&this.fallback&&(e=this.fallback.getOptionsForType(t)),e},options:function(t,e){e=e||{};var n=this.normalize(t);this._options[n]=e},getOptions:function(t){var e=this.normalize(t),n=this._options[e];return void 0===n&&this.fallback&&(n=this.fallback.getOptions(t)),n},getOption:function(t,e){var n=this._options[t];if(n&&void 0!==n[e])return n[e];var r=t.split(":")[0];return n=this._typeOptions[r],n&&void 0!==n[e]?n[e]:this.fallback?this.fallback.getOption(t,e):void 0},option:function(t,e){return this.getOption(t,e)},typeInjection:function(t,e,n){var r=n.split(":")[0];if(r===t)throw new Error("Cannot inject a `"+n+"` on other "+t+"(s).");var i=this._typeInjections[t]||(this._typeInjections[t]=[]);i.push({property:e,fullName:n})},injection:function(t,e,n){this.validateFullName(n);var r=this.normalize(n);if(-1===t.indexOf(":"))return this.typeInjection(t,e,r);var i=this.normalize(t),o=this._injections[i]||(this._injections[i]=[]);o.push({property:e,fullName:r})},factoryTypeInjection:function(t,e,n){var r=this._factoryTypeInjections[t]||(this._factoryTypeInjections[t]=[]);r.push({property:e,fullName:this.normalize(n)})},factoryInjection:function(t,e,n){var r=this.normalize(t),i=this.normalize(n);if(this.validateFullName(n),-1===t.indexOf(":"))return this.factoryTypeInjection(r,e,i);var o=this._factoryInjections[r]||(this._factoryInjections[r]=[]);o.push({property:e,fullName:i})},validateFullName:function(t){if(!l.test(t))throw new TypeError("Invalid Fullname, expected: `type:name` got: "+t);return!0},validateInjections:function(t){if(t)for(var e,n=0,r=t.length;r>n;n++)if(e=t[n].fullName,!this.has(e))throw new Error("Attempting to inject an unknown injection: `"+e+"`")},normalizeInjectionsHash:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({property:n,fullName:t[n]});return e},getInjections:function(t){var e=this._injections[t]||[];return this.fallback&&(e=e.concat(this.fallback.getInjections(t))),e},getTypeInjections:function(t){var e=this._typeInjections[t]||[];return this.fallback&&(e=e.concat(this.fallback.getTypeInjections(t))),e},getFactoryInjections:function(t){var e=this._factoryInjections[t]||[];return this.fallback&&(e=e.concat(this.fallback.getFactoryInjections(t))),e},getFactoryTypeInjections:function(t){var e=this._factoryTypeInjections[t]||[];return this.fallback&&(e=e.concat(this.fallback.getFactoryTypeInjections(t))),e}},t["default"]=i}),t("dag-map",["exports"],function(t){"use strict";function e(t,n,r,i){var o,s=t.name,a=t.incoming,l=t.incomingNames,u=l.length;if(r||(r={}),i||(i=[]),!r.hasOwnProperty(s)){for(i.push(s),r[s]=!0,o=0;u>o;o++)e(a[l[o]],n,r,i);n(t,i),i.pop()}}function n(){this.names=[],this.vertices=Object.create(null)}function r(t){this.name=t,this.incoming={},this.incomingNames=[],this.hasOutgoing=!1,this.value=null}n.prototype.add=function(t){if(!t)throw new Error("Can't add Vertex without name");if(void 0!==this.vertices[t])return this.vertices[t];var e=new r(t);return this.vertices[t]=e,this.names.push(t),e},n.prototype.map=function(t,e){this.add(t).value=e},n.prototype.addEdge=function(t,n){function r(t,e){if(t.name===n)throw new Error("cycle detected: "+n+" <- "+e.join(" <- "))}if(t&&n&&t!==n){var i=this.add(t),o=this.add(n);o.incoming.hasOwnProperty(t)||(e(i,r),i.hasOutgoing=!0,o.incoming[t]=i,o.incomingNames.push(t))}},n.prototype.topsort=function(t){var n,r,i={},o=this.vertices,s=this.names,a=s.length;for(n=0;a>n;n++)r=o[s[n]],r.hasOutgoing||e(r,t,i)},n.prototype.addEdges=function(t,e,n,r){var i;if(this.map(t,e),n)if("string"==typeof n)this.addEdge(t,n);else for(i=0;i<n.length;i++)this.addEdge(t,n[i]);if(r)if("string"==typeof r)this.addEdge(r,t);else for(i=0;i<r.length;i++)this.addEdge(r[i],t)},t["default"]=n}),t("dag-map.umd",["./dag-map"],function(e){"use strict";var n=e["default"];"function"==typeof t&&t.amd?t(function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:"undefined"!=typeof this&&(this.DAG=n)}),t("dom-helper",["./morph-range","./morph-attr","./dom-helper/build-html-dom","./dom-helper/classes","./dom-helper/prop","exports"],function(t,e,n,r,i,o){"use strict";function s(t){return t&&t.namespaceURI===p&&!f[t.tagName]?p:null}function a(t,e){if("TABLE"===e.tagName){var n=T.exec(t);if(n){var r=n[1];return"tr"===r||"col"===r}}}function l(t,e){var n=e.document.createElement("div");return n.innerHTML="<svg>"+t+"</svg>",n.firstChild.childNodes}function u(t){if(this.document=t||document,!this.document)throw new Error("A document object must be passed to the DOMHelper, or available on the global scope");this.canClone=C,this.namespace=null}var c=t["default"],h=e["default"],d=n.buildHTMLDOM,p=n.svgNamespace,f=n.svgHTMLIntegrationPoints,m=r.addClasses,g=r.removeClasses,v=i.normalizeProperty,y=i.isAttrRemovalValue,b="undefined"==typeof document?!1:document,_=b&&function(t){var e=t.createElement("div");e.appendChild(t.createTextNode(""));var n=e.cloneNode(!0);return 0===n.childNodes.length}(b),w=b&&function(t){var e=t.createElement("input");e.setAttribute("checked","checked");var n=e.cloneNode(!1);return!n.checked}(b),x=b&&(b.createElementNS?function(t){var e=t.createElementNS(p,"svg");return e.setAttribute("viewBox","0 0 100 100"),e.removeAttribute("viewBox"),!e.getAttribute("viewBox")}(b):!0),C=b&&function(t){var e=t.createElement("div");e.appendChild(t.createTextNode(" ")),e.appendChild(t.createTextNode(" "));var n=e.cloneNode(!0);return" "===n.childNodes[0].nodeValue}(b),T=/<([\w:]+)/,E=u.prototype;E.constructor=u,E.getElementById=function(t,e){return e=e||this.document,e.getElementById(t)},E.insertBefore=function(t,e,n){return t.insertBefore(e,n)},E.appendChild=function(t,e){return t.appendChild(e)},E.childAt=function(t,e){for(var n=t,r=0;r<e.length;r++)n=n.childNodes.item(e[r]);return n},E.childAtIndex=function(t,e){for(var n=t.firstChild,r=0;n&&e>r;r++)n=n.nextSibling;return n},E.appendText=function(t,e){return t.appendChild(this.document.createTextNode(e))},E.setAttribute=function(t,e,n){t.setAttribute(e,String(n))},E.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,String(r))},x?E.removeAttribute=function(t,e){t.removeAttribute(e)}:E.removeAttribute=function(t,e){"svg"===t.tagName&&"viewBox"===e?t.setAttribute(e,null):t.removeAttribute(e)},E.setPropertyStrict=function(t,e,n){t[e]=n},E.setProperty=function(t,e,n,r){var i=e.toLowerCase();if(t.namespaceURI===p||"style"===i)y(n)?t.removeAttribute(e):r?t.setAttributeNS(r,e,n):t.setAttribute(e,n);else{var o=v(t,e);o?t[o]=n:y(n)?t.removeAttribute(e):r&&t.setAttributeNS?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}},b&&b.createElementNS?(E.createElement=function(t,e){var n=this.namespace;return e&&(n="svg"===t?p:s(e)),n?this.document.createElementNS(n,t):this.document.createElement(t)},E.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,String(r))}):(E.createElement=function(t){return this.document.createElement(t)},E.setAttributeNS=function(t,e,n,r){t.setAttribute(n,String(r))}),E.addClasses=m,E.removeClasses=g,E.setNamespace=function(t){this.namespace=t},E.detectNamespace=function(t){this.namespace=s(t)},E.createDocumentFragment=function(){return this.document.createDocumentFragment()},E.createTextNode=function(t){return this.document.createTextNode(t)},E.createComment=function(t){return this.document.createComment(t)},E.repairClonedNode=function(t,e,n){if(_&&e.length>0)for(var r=0,i=e.length;i>r;r++){var o=this.document.createTextNode(""),s=e[r],a=this.childAtIndex(t,s);a?t.insertBefore(o,a):t.appendChild(o)}w&&n&&t.setAttribute("checked","checked")},E.cloneNode=function(t,e){var n=t.cloneNode(!!e);return n},E.createAttrMorph=function(t,e,n){return new h(t,e,this,n)},E.createUnsafeAttrMorph=function(t,e,n){var r=this.createAttrMorph(t,e,n);return r.escaped=!1,r},E.createMorph=function(t,e,n,r){if(r&&11===r.nodeType)throw new Error("Cannot pass a fragment as the contextual element to createMorph");r||1!==t.nodeType||(r=t);var i=new c(this,r);return i.firstNode=e,i.lastNode=n,i.state={},i.isDirty=!0,i},E.createUnsafeMorph=function(t,e,n,r){var i=this.createMorph(t,e,n,r);return i.parseTextAsHTML=!0,i},E.createMorphAt=function(t,e,n,r){var i=e===n,o=this.childAtIndex(t,e),s=i?o:this.childAtIndex(t,n);return this.createMorph(t,o,s,r)},E.createUnsafeMorphAt=function(t,e,n,r){var i=this.createMorphAt(t,e,n,r);return i.parseTextAsHTML=!0,i},E.insertMorphBefore=function(t,e,n){var r=this.document.createComment("");return t.insertBefore(r,e),this.createMorph(t,r,r,n)},E.appendMorph=function(t,e){var n=this.document.createComment("");return t.appendChild(n),this.createMorph(t,n,n,e)},E.insertBoundary=function(t,e){var n=null===e?null:this.childAtIndex(t,e);this.insertBefore(t,this.createTextNode(""),n)},E.parseHTML=function(t,e){var n;if(s(e)===p)n=l(t,this);else{var r=d(t,e,this);if(a(t,e)){for(var i=r[0];i&&1!==i.nodeType;)i=i.nextSibling;n=i.childNodes}else n=r}var o=this.document.createDocumentFragment();if(n&&n.length>0){var u=n[0];for("SELECT"===e.tagName&&(u=u.nextSibling);u;){var c=u;u=u.nextSibling,o.appendChild(c)}}return o};var k;E.protocolForURL=function(t){return k||(k=this.document.createElement("a")),k.href=t,k.protocol},o["default"]=u}),t("dom-helper/build-html-dom",["exports"],function(t){"use strict";function e(t,e){e="&shy;"+e,t.innerHTML=e;for(var n=t.childNodes,r=n[0];1===r.nodeType&&!r.nodeName;)r=r.firstChild;if(3===r.nodeType&&"­"===r.nodeValue.charAt(0)){var i=r.nodeValue.slice(1);i.length?r.nodeValue=r.nodeValue.slice(1):r.parentNode.removeChild(r)}return n}function n(t,n){var i=n.tagName,o=n.outerHTML||(new XMLSerializer).serializeToString(n);if(!o)throw"Can't set innerHTML on "+i+" in this browser";t=r(t,n);for(var s=h[i.toLowerCase()],a=o.match(new RegExp("<"+i+"([^>]*)>","i"))[0],l="</"+i+">",u=[a,t,l],c=s.length,d=1+c;c--;)u.unshift("<"+s[c]+">"),u.push("</"+s[c]+">");var p=document.createElement("div");e(p,u.join(""));for(var f=p;d--;)for(f=f.firstChild;f&&1!==f.nodeType;)f=f.nextSibling;for(;f&&f.tagName!==i;)f=f.nextSibling;return f?f.childNodes:[]}function r(t,e){return"SELECT"===e.tagName&&(t="<option></option>"+t),t}var i={foreignObject:1,desc:1,title:1};t.svgHTMLIntegrationPoints=i;var o="http://www.w3.org/2000/svg";t.svgNamespace=o;var s,a="undefined"==typeof document?!1:document,l=a&&function(t){if(void 0!==t.createElementNS){var e=t.createElementNS(o,"title");return e.innerHTML="<div></div>",0===e.childNodes.length||1!==e.childNodes[0].nodeType}}(a),u=a&&function(t){var e=t.createElement("div");return e.innerHTML="<div></div>",e.firstChild.innerHTML="<script></script>",""===e.firstChild.innerHTML}(a),c=a&&function(t){var e=t.createElement("div");return e.innerHTML="Test: <script type='text/x-placeholder'></script>Value","Test:"===e.childNodes[0].nodeValue&&" Value"===e.childNodes[2].nodeValue}(a),h=a&&function(t){var e,n,r=t.createElement("table");try{r.innerHTML="<tbody></tbody>"}catch(i){}finally{n=0===r.childNodes.length}n&&(e={colgroup:["table"],table:[],tbody:["table"],tfoot:["table"],thead:["table"],tr:["table","tbody"]});var o=t.createElement("select");return o.innerHTML="<option></option>",o.childNodes[0]||(e=e||{},e.select=[]),e}(a);s=u?function(t,n,i){return t=r(t,n),n=i.cloneNode(n,!1),e(n,t),n.childNodes}:function(t,e,n){return t=r(t,e),e=n.cloneNode(e,!1),e.innerHTML=t,e.childNodes};var d;d=h||c?function(t,e,r){var i=[],o=[];"string"==typeof t&&(t=t.replace(/(\s*)(<script)/g,function(t,e,n){return i.push(e),n}),t=t.replace(/(<\/script>)(\s*)/g,function(t,e,n){return o.push(n),e}));var a;a=h[e.tagName.toLowerCase()]?n(t,e):s(t,e,r);var l,u,c,d,p=[];for(l=0;l<a.length;l++)if(c=a[l],1===c.nodeType)if("SCRIPT"===c.tagName)p.push(c);else for(d=c.getElementsByTagName("script"),u=0;u<d.length;u++)p.push(d[u]);var f,m,g,v;for(l=0;l<p.length;l++)f=p[l],g=i[l],g&&g.length>0&&(m=r.document.createTextNode(g),f.parentNode.insertBefore(m,f)),v=o[l],v&&v.length>0&&(m=r.document.createTextNode(v),f.parentNode.insertBefore(m,f.nextSibling));return a}:s;var p;p=l?function(t,e,n){return i[e.tagName]?d(t,document.createElement("div"),n):d(t,e,n)}:d,t.buildHTMLDOM=p}),t("dom-helper/classes",["exports"],function(t){"use strict";function e(t){var e=t.getAttribute("class")||"";return""!==e&&" "!==e?e.split(" "):[]}function n(t,e){for(var n=0,r=t.length,i=0,o=e.length,s=new Array(o);r>n;n++)for(i=0;o>i;i++)if(e[i]===t[n]){s[i]=n;break}return s}function r(t,r){for(var i=e(t),o=n(i,r),s=!1,a=0,l=r.length;l>a;a++)void 0===o[a]&&(s=!0,i.push(r[a]));s&&t.setAttribute("class",i.length>0?i.join(" "):"")}function i(t,r){for(var i=e(t),o=n(r,i),s=!1,a=[],l=0,u=i.length;u>l;l++)void 0===o[l]?a.push(i[l]):s=!0;s&&t.setAttribute("class",a.length>0?a.join(" "):"")}var o,s,a="undefined"==typeof document?!1:document,l=a&&function(){var t=document.createElement("div");return t.classList?(t.classList.add("boo"),t.classList.add("boo","baz"),"boo baz"===t.className):!1}();l?(o=function(t,e){t.classList?1===e.length?t.classList.add(e[0]):2===e.length?t.classList.add(e[0],e[1]):t.classList.add.apply(t.classList,e):r(t,e)},s=function(t,e){t.classList?1===e.length?t.classList.remove(e[0]):2===e.length?t.classList.remove(e[0],e[1]):t.classList.remove.apply(t.classList,e):i(t,e)}):(o=r,s=i),t.addClasses=o,t.removeClasses=s}),t("dom-helper/prop",["exports"],function(t){"use strict";function e(t){return null===t||void 0===t}function n(t,e){var n,i=t.tagName,o=r[i];if(!o){o={};for(n in t)o[n.toLowerCase()]=n;r[i]=o}return o[e]}t.isAttrRemovalValue=e;var r={};t.propertyCaches=r,t.normalizeProperty=n}),t("ember-application",["ember-metal/core","ember-runtime/system/lazy_load","ember-application/system/resolver","ember-application/system/application","ember-application/ext/controller"],function(t,e,n,r){"use strict";t["default"].Application=r["default"],t["default"].Resolver=n.Resolver,t["default"].DefaultResolver=n["default"],e.runLoadHooks("Ember.Application",r["default"])}),t("ember-application/ext/controller",["exports","ember-metal/core","ember-metal/property_get","ember-metal/error","ember-metal/utils","ember-metal/computed","ember-runtime/mixins/controller","ember-routing/system/controller_for"],function(t,e,n,r,i,o,s,a){"use strict";function l(t,e,n){var o,s,a,l=[];for(s=0,a=n.length;a>s;s++)o=n[s],-1===o.indexOf(":")&&(o="controller:"+o),e._registry.has(o)||l.push(o);if(l.length)throw new r["default"](i.inspect(t)+" needs [ "+l.join(", ")+" ] but "+(l.length>1?"they":"it")+" could not be found")}var u=o.computed(function(){var t=this;return{needs:n.get(t,"needs"),container:n.get(t,"container"),unknownProperty:function(e){var n,r,o,s=this.needs;for(r=0,o=s.length;o>r;r++)if(n=s[r],n===e)return this.container.lookup("controller:"+e);var a=i.inspect(t)+"#needs does not include `"+e+"`. To access the "+e+" controller from "+i.inspect(t)+", "+i.inspect(t)+" should have a `needs` property that is an array of the controllers it has access to.";throw new ReferenceError(a)},setUnknownProperty:function(e,n){throw new Error("You cannot overwrite the value of `controllers."+e+"` of "+i.inspect(t))}}});s["default"].reopen({concatenatedProperties:["needs"],needs:[],init:function(){var t=n.get(this,"needs"),e=n.get(t,"length");e>0&&(this.container&&l(this,this.container,t),n.get(this,"controllers")),this._super.apply(this,arguments)},controllerFor:function(t){return a["default"](n.get(this,"container"),t)},controllers:u}),t["default"]=s["default"]}),t("ember-application/system/application-instance",["exports","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/object","ember-metal/run_loop","ember-metal/computed","container/registry"],function(t,e,n,r,i,o,s){"use strict";t["default"]=r["default"].extend({container:null,applicationRegistry:null,registry:null,customEvents:null,rootElement:null,init:function(){this._super.apply(this,arguments),this.registry=new s["default"]({fallback:this.applicationRegistry,resolver:this.applicationRegistry.resolver}),this.registry.normalizeFullName=this.applicationRegistry.normalizeFullName,this.registry.makeToString=this.applicationRegistry.makeToString,this.container=this.registry.container(),this.registry.register("-application-instance:main",this,{instantiate:!1})},router:o.computed(function(){return this.container.lookup("router:main")}).readOnly(),overrideRouterLocation:function(t){var r=t&&t.location,i=e.get(this,"router");r&&n.set(i,"location",r)},didCreateRootView:function(t){t.appendTo(this.rootElement)},startRouting:function(){var t=e.get(this,"router"),n=!!this.registry.resolver.moduleBasedResolver;t.startRouting(n),this._didSetupRouter=!0},setupRouter:function(){if(!this._didSetupRouter){this._didSetupRouter=!0;var t=e.get(this,"router"),n=!!this.registry.resolver.moduleBasedResolver;t.setupRouter(n)}},handleURL:function(t){var n=e.get(this,"router");return this.setupRouter(),n.handleURL(t)},setupEventDispatcher:function(){var t=this.container.lookup("event_dispatcher:main");return t.setup(this.customEvents,this.rootElement),t},willDestroy:function(){this._super.apply(this,arguments),i["default"](this.container,"destroy")}})}),t("ember-application/system/application",["exports","dag-map","container/registry","ember-metal","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/lazy_load","ember-runtime/system/namespace","ember-runtime/mixins/deferred","ember-application/system/resolver","ember-metal/platform/create","ember-metal/run_loop","ember-metal/utils","ember-runtime/controllers/controller","ember-metal/enumerable_utils","ember-runtime/controllers/object_controller","ember-runtime/controllers/array_controller","ember-views/system/renderer","dom-helper","ember-views/views/select","ember-routing-views/views/outlet","ember-views/views/view","ember-views/views/metamorph_view","ember-views/system/event_dispatcher","ember-views/system/jquery","ember-routing/system/route","ember-routing/system/router","ember-routing/location/hash_location","ember-routing/location/history_location","ember-routing/location/auto_location","ember-routing/location/none_location","ember-routing/system/cache","ember-application/system/application-instance","ember-extension-support/container_debug_adapter","ember-metal/environment"],function(t,e,n,r,i,o,s,a,l,u,c,h,d,p,f,m,g,v,y,b,_,w,x,C,T,E,k,S,P,A,L,O,D,M,R){"use strict";function N(t){var e=[];for(var n in t)e.push(n);return e}function F(t){function e(t){return r.resolve(t)}var n=t.get("resolver")||t.get("Resolver")||u["default"],r=n.create({namespace:t});return e.describe=function(t){return r.lookupDescription(t)},e.makeToString=function(t,e){return r.makeToString(t,e)},e.normalize=function(t){return r.normalize?r.normalize(t):t},e.__resolver__=r,e}function I(){z||(z=!0,R["default"].hasDOM&&r["default"].libraries.registerCoreLibrary("jQuery",T["default"]().jquery))}function B(){if(r["default"].LOG_VERSION){r["default"].LOG_VERSION=!1;for(var t=r["default"].libraries._registry,e=f["default"].map(t,function(t){return i.get(t,"name.length")}),n=Math.max.apply(this,e),o=0,s=t.length;s>o;o++){var a=t[o];new Array(n-a.name.length+1).join(" ")}}}function j(t,e){return function(e){if(void 0!==this.superclass[t]&&this.superclass[t]===this[t]){var n={};n[t]=c["default"](this[t]),this.reopenClass(n)}this[t][e.name]=e}}var z=!1,V=a["default"].extend(l["default"],{_suppressDeferredDeprecation:!0,rootElement:"body",eventDispatcher:null,customEvents:null,autoboot:!0,init:function(){this._super.apply(this,arguments),this.$||(this.$=T["default"]),this.buildRegistry(),I(),B(),this._readinessDeferrals=1,this.Router=(this.Router||k["default"]).extend(),this.waitForDOMReady(this.buildDefaultInstance())},buildRegistry:function(){var t=this.registry=V.buildRegistry(this);return t},buildInstance:function(){return D["default"].create({customEvents:i.get(this,"customEvents"),rootElement:i.get(this,"rootElement"),applicationRegistry:this.registry})},buildDefaultInstance:function(){var t=this.buildInstance();return w["default"].views=t.container.lookup("-view-registry:main"),this.__deprecatedInstance__=t,this.__container__=t.container,t},waitForDOMReady:function(t){!this.$||this.$.isReady?h["default"].schedule("actions",this,"domReady",t):this.$().ready(h["default"].bind(this,"domReady",t))},deferReadiness:function(){this._readinessDeferrals++},advanceReadiness:function(){this._readinessDeferrals--,0===this._readinessDeferrals&&h["default"].once(this,this.didBecomeReady)},register:function(){var t;(t=this.registry).register.apply(t,arguments)},inject:function(){var t;(t=this.registry).injection.apply(t,arguments)},initialize:function(){},domReady:function(t){if(!this.isDestroyed){var e=this;return this.boot().then(function(){e.runInstanceInitializers(t)}),this}},boot:function(){if(this._bootPromise)return this._bootPromise;var t=new r["default"].RSVP.defer;return this._bootPromise=t.promise,this._bootResolver=t,this.runInitializers(this.registry),s.runLoadHooks("application",this),this.advanceReadiness(),this._bootPromise},reset:function(){function t(){h["default"](e,"destroy"),this.buildDefaultInstance(),h["default"].schedule("actions",this,"domReady")}var e=this.__deprecatedInstance__;this._readinessDeferrals=1,this._bootPromise=null,this._bootResolver=null,h["default"].join(this,t)},runInitializers:function(t){var e=this;this._runInitializer("initializers",function(n,r){r.initialize(t,e)})},runInstanceInitializers:function(t){this._runInitializer("instanceInitializers",function(e,n){n.initialize(t)})},_runInitializer:function(t,n){for(var r,o=i.get(this.constructor,t),s=N(o),a=new e["default"],l=0;l<s.length;l++)r=o[s[l]],a.addEdges(r.name,r,r.before,r.after);a.topsort(function(t){n(t.name,t.value)})},didBecomeReady:function(){this.autoboot&&(R["default"].hasDOM&&this.__deprecatedInstance__.setupEventDispatcher(),this.ready(),this.__deprecatedInstance__.startRouting(),r["default"].testing||(r["default"].Namespace.processAll(),r["default"].BOOTED=!0),this.resolve(this)),this._bootResolver.resolve()},ready:function(){return this},resolver:null,Resolver:null,willDestroy:function(){this._super.apply(this,arguments),r["default"].BOOTED=!1,this._bootPromise=null,this._bootResolver=null,this.__deprecatedInstance__.destroy()},initializer:function(t){this.constructor.initializer(t)},then:function(){this._super.apply(this,arguments)}});V.reopen({instanceInitializer:function(t){this.constructor.instanceInitializer(t)}}),V.reopenClass({instanceInitializer:j("instanceInitializers","instance initializer")}),V.reopenClass({initializers:c["default"](null),instanceInitializers:c["default"](null),initializer:j("initializers","initializer"),buildRegistry:function(t){var e=new n["default"];return e.set=o.set,e.resolver=F(t),e.normalizeFullName=e.resolver.normalize,e.describe=e.resolver.describe,e.makeToString=e.resolver.makeToString,e.optionsForType("component",{singleton:!1}),e.optionsForType("view",{singleton:!1}),e.optionsForType("template",{instantiate:!1}),e.optionsForType("helper",{instantiate:!1}),e.register("application:main",t,{instantiate:!1}),e.register("controller:basic",p["default"],{instantiate:!1}),e.register("controller:object",m["default"],{instantiate:!1}),e.register("controller:array",g["default"],{instantiate:!1}),e.register("renderer:-dom",{create:function(){return new v["default"](new y["default"])}}),e.injection("view","renderer","renderer:-dom"),e.register("view:select",b["default"]),e.register("view:-outlet",_.OutletView),e.register("-view-registry:main",{create:function(){return{}}}),e.injection("view","_viewRegistry","-view-registry:main"),e.register("view:default",x["default"]),e.register("view:toplevel",w["default"].extend()),e.register("route:basic",E["default"],{instantiate:!1}),e.register("event_dispatcher:main",C["default"]),e.injection("router:main","namespace","application:main"),e.injection("view:-outlet","namespace","application:main"),e.register("location:auto",A["default"]),e.register("location:hash",S["default"]),e.register("location:history",P["default"]),e.register("location:none",L["default"]),e.injection("controller","target","router:main"),e.injection("controller","namespace","application:main"),e.register("-bucket-cache:main",O["default"]),e.injection("router","_bucketCache","-bucket-cache:main"),e.injection("route","_bucketCache","-bucket-cache:main"),e.injection("controller","_bucketCache","-bucket-cache:main"),e.injection("route","router","router:main"),e.register("resolver-for-debugging:main",e.resolver.__resolver__,{instantiate:!1}),e.injection("container-debug-adapter:main","resolver","resolver-for-debugging:main"),e.injection("data-adapter:main","containerDebugAdapter","container-debug-adapter:main"),e.register("container-debug-adapter:main",M["default"]),e}}),t["default"]=V}),t("ember-application/system/resolver",["exports","ember-metal/core","ember-metal/property_get","ember-metal/logger","ember-runtime/system/string","ember-runtime/system/object","ember-runtime/system/namespace","ember-htmlbars/helpers","ember-metal/dictionary"],function(t,e,n,r,i,o,s,a,l){"use strict";var u=o["default"].extend({namespace:null,normalize:null,
resolve:null,parseName:null,lookupDescription:null,makeToString:null,resolveOther:null,_logLookup:null});t["default"]=o["default"].extend({namespace:null,init:function(){this._parseNameCache=l["default"](null)},normalize:function(t){var e=t.split(":",2),n=e[0],r=e[1];if("template"!==n){var i=r;return i.indexOf(".")>-1&&(i=i.replace(/\.(.)/g,function(t){return t.charAt(1).toUpperCase()})),r.indexOf("_")>-1&&(i=i.replace(/_(.)/g,function(t){return t.charAt(1).toUpperCase()})),n+":"+i}return t},resolve:function(t){var e,n=this.parseName(t),r=n.resolveMethodName;return this[r]&&(e=this[r](n)),e=e||this.resolveOther(n),n.root&&n.root.LOG_RESOLVER&&this._logLookup(e,n),e},parseName:function(t){return this._parseNameCache[t]||(this._parseNameCache[t]=this._parseName(t))},_parseName:function(t){var e=t.split(":"),r=e[0],o=e[1],a=o,l=n.get(this,"namespace"),u=l;if("template"!==r&&-1!==a.indexOf("/")){var c=a.split("/");a=c[c.length-1];var h=i.capitalize(c.slice(0,-1).join("."));u=s["default"].byName(h)}var d="main"===o?"Main":i.classify(r);if(!a||!r)throw new TypeError("Invalid fullName: `"+t+"`, must be of the form `type:name` ");return{fullName:t,type:r,fullNameWithoutType:o,name:a,root:u,resolveMethodName:"resolve"+d}},lookupDescription:function(t){var e,n=this.parseName(t);return"template"===n.type?"template at "+n.fullNameWithoutType.replace(/\./g,"/"):(e=n.root+"."+i.classify(n.name).replace(/\./g,""),"model"!==n.type&&(e+=i.classify(n.type)),e)},makeToString:function(t,e){return t.toString()},useRouterNaming:function(t){t.name=t.name.replace(/\./g,"_"),"basic"===t.name&&(t.name="")},resolveTemplate:function(t){var n=t.fullNameWithoutType.replace(/\./g,"/");return e["default"].TEMPLATES[n]?e["default"].TEMPLATES[n]:(n=i.decamelize(n),e["default"].TEMPLATES[n]?e["default"].TEMPLATES[n]:void 0)},resolveView:function(t){return this.useRouterNaming(t),this.resolveOther(t)},resolveController:function(t){return this.useRouterNaming(t),this.resolveOther(t)},resolveRoute:function(t){return this.useRouterNaming(t),this.resolveOther(t)},resolveModel:function(t){var e=i.classify(t.name),r=n.get(t.root,e);return r?r:void 0},resolveHelper:function(t){return this.resolveOther(t)||a["default"][t.fullNameWithoutType]},resolveOther:function(t){var e=i.classify(t.name)+i.classify(t.type),r=n.get(t.root,e);return r?r:void 0},resolveMain:function(t){var e=i.classify(t.type);return n.get(t.root,e)},_logLookup:function(t,e){var n,i;n=t?"[✓]":"[ ]",i=e.fullName.length>60?".":new Array(60-e.fullName.length).join("."),r["default"].info(n,e.fullName,i,this.lookupDescription(e.fullName))}}),t.Resolver=u}),t("ember-extension-support",["ember-metal/core","ember-extension-support/data_adapter","ember-extension-support/container_debug_adapter"],function(t,e,n){"use strict";t["default"].DataAdapter=e["default"],t["default"].ContainerDebugAdapter=n["default"]}),t("ember-extension-support/container_debug_adapter",["exports","ember-metal/core","ember-runtime/system/native_array","ember-metal/utils","ember-runtime/system/string","ember-runtime/system/namespace","ember-runtime/system/object"],function(t,e,n,r,i,o,s){"use strict";t["default"]=s["default"].extend({container:null,resolver:null,canCatalogEntriesByType:function(t){return"model"===t||"template"===t?!1:!0},catalogEntriesByType:function(t){var s=n.A(o["default"].NAMESPACES),a=n.A(),l=new RegExp(i.classify(t)+"$");return s.forEach(function(t){if(t!==e["default"])for(var n in t)if(t.hasOwnProperty(n)&&l.test(n)){var o=t[n];"class"===r.typeOf(o)&&a.push(i.dasherize(n.replace(l,"")))}}),a}})}),t("ember-extension-support/data_adapter",["exports","ember-metal/property_get","ember-metal/run_loop","ember-runtime/system/string","ember-runtime/system/namespace","ember-runtime/system/object","ember-runtime/system/native_array","ember-application/system/application"],function(t,e,n,r,i,o,s,a){"use strict";t["default"]=o["default"].extend({init:function(){this._super.apply(this,arguments),this.releaseMethods=s.A()},container:null,containerDebugAdapter:void 0,attributeLimit:3,releaseMethods:s.A(),getFilters:function(){return s.A()},watchModelTypes:function(t,e){var n,r=this.getModelTypes(),i=this,o=s.A();n=r.map(function(t){var n=t.klass,r=i.wrapModelType(n,t.name);return o.push(i.observeModelType(n,e)),r}),t(n);var a=function(){o.forEach(function(t){t()}),i.releaseMethods.removeObject(a)};return this.releaseMethods.pushObject(a),a},_nameToClass:function(t){return"string"==typeof t&&(t=this.container.lookupFactory("model:"+t)),t},watchRecords:function(t,e,n,r){var i,o=this,a=s.A(),l=this.getRecords(t),u=function(t){n([t])},c=l.map(function(t){return a.push(o.observeRecord(t,u)),o.wrapRecord(t)}),h=function(t,n,i,s){for(var l=n;n+s>l;l++){var c=t.objectAt(l),h=o.wrapRecord(c);a.push(o.observeRecord(c,u)),e([h])}i&&r(n,i)},d={didChange:h,willChange:function(){return this}};return l.addArrayObserver(o,d),i=function(){a.forEach(function(t){t()}),l.removeArrayObserver(o,d),o.releaseMethods.removeObject(i)},e(c),this.releaseMethods.pushObject(i),i},willDestroy:function(){this._super.apply(this,arguments),this.releaseMethods.forEach(function(t){t()})},detect:function(t){return!1},columnsForType:function(t){return s.A()},observeModelType:function(t,e){var r=this,i=this.getRecords(t),o=function(){e([r.wrapModelType(t)])},s={didChange:function(){n["default"].scheduleOnce("actions",this,o)},willChange:function(){return this}};i.addArrayObserver(this,s);var a=function(){i.removeArrayObserver(r,s)};return a},wrapModelType:function(t,n){var r,i=this.getRecords(t);return r={name:n||t.toString(),count:e.get(i,"length"),columns:this.columnsForType(t),object:t}},getModelTypes:function(){var t,e=this,n=this.get("containerDebugAdapter");return t=n.canCatalogEntriesByType("model")?n.catalogEntriesByType("model"):this._getObjectsOnNamespaces(),t=s.A(t).map(function(t){return{klass:e._nameToClass(t),name:t}}),t=s.A(t).filter(function(t){return e.detect(t.klass)}),s.A(t)},_getObjectsOnNamespaces:function(){var t=s.A(i["default"].NAMESPACES),e=s.A(),n=this;return t.forEach(function(t){for(var i in t)if(t.hasOwnProperty(i)&&n.detect(t[i])){var o=r.dasherize(i);t instanceof a["default"]||!t.toString()||(o=t+"/"+o),e.push(o)}}),e},getRecords:function(t){return s.A()},wrapRecord:function(t){var e={object:t};return e.columnValues=this.getRecordColumnValues(t),e.searchKeywords=this.getRecordKeywords(t),e.filterValues=this.getRecordFilterValues(t),e.color=this.getRecordColor(t),e},getRecordColumnValues:function(t){return{}},getRecordKeywords:function(t){return s.A()},getRecordFilterValues:function(t){return{}},getRecordColor:function(t){return null},observeRecord:function(t,e){return function(){}}})}),t("ember-htmlbars",["ember-metal/core","ember-template-compiler","ember-htmlbars/system/make-view-helper","ember-htmlbars/system/make_bound_helper","ember-htmlbars/helpers","ember-htmlbars/helpers/view","ember-htmlbars/helpers/component","ember-htmlbars/helpers/yield","ember-htmlbars/helpers/with","ember-htmlbars/helpers/log","ember-htmlbars/helpers/debugger","ember-htmlbars/helpers/bind-attr","ember-htmlbars/helpers/if_unless","ember-htmlbars/helpers/loc","ember-htmlbars/helpers/partial","ember-htmlbars/helpers/template","ember-htmlbars/helpers/input","ember-htmlbars/helpers/text_area","ember-htmlbars/helpers/collection","ember-htmlbars/helpers/each","ember-htmlbars/helpers/unbound","ember-htmlbars/system/bootstrap","ember-htmlbars/compat"],function(t,e,n,r,i,o,s,a,l,u,c,h,d,p,f,m,g,v,y,b,_){"use strict";i.registerHelper("view",o.viewHelper),i.registerHelper("component",s.componentHelper),i.registerHelper("yield",a.yieldHelper),i.registerHelper("with",l.withHelper),i.registerHelper("if",d.ifHelper),i.registerHelper("unless",d.unlessHelper),i.registerHelper("log",u.logHelper),i.registerHelper("debugger",c.debuggerHelper),i.registerHelper("loc",p.locHelper),i.registerHelper("partial",f.partialHelper),i.registerHelper("template",m.templateHelper),i.registerHelper("bind-attr",h.bindAttrHelper),i.registerHelper("bindAttr",h.bindAttrHelperDeprecated),i.registerHelper("input",g.inputHelper),i.registerHelper("textarea",v.textareaHelper),i.registerHelper("collection",y.collectionHelper),i.registerHelper("each",b.eachHelper),i.registerHelper("unbound",_.unboundHelper),t["default"].HTMLBars={_registerHelper:i.registerHelper,template:e.template,compile:e.compile,precompile:e.precompile,makeViewHelper:n["default"],makeBoundHelper:r["default"],registerPlugin:e.registerPlugin}}),t("ember-htmlbars/compat",["exports","ember-metal/core","ember-htmlbars/helpers","ember-htmlbars/compat/helper","ember-htmlbars/compat/handlebars-get","ember-htmlbars/compat/make-bound-helper","ember-htmlbars/compat/register-bound-helper","ember-htmlbars/system/make-view-helper","ember-htmlbars/utils/string"],function(t,e,n,r,i,o,s,a,l){"use strict";var u=e["default"].Handlebars=e["default"].Handlebars||{};u.helpers=n["default"],u.helper=r.handlebarsHelper,u.registerHelper=r.registerHandlebarsCompatibleHelper,u.registerBoundHelper=s["default"],u.makeBoundHelper=o["default"],u.get=i["default"],u.makeViewHelper=a["default"],u.SafeString=l.SafeString,u.Utils={escapeExpression:l.escapeExpression},t["default"]=u}),t("ember-htmlbars/compat/handlebars-get",["exports"],function(t){"use strict";function e(t,e,n){return n.data.view.getStream(e).value()}t["default"]=e}),t("ember-htmlbars/compat/helper",["exports","ember-metal/merge","ember-htmlbars/helpers","ember-views/views/view","ember-views/views/component","ember-htmlbars/system/make-view-helper","ember-htmlbars/compat/make-bound-helper","ember-metal/streams/utils"],function(t,e,n,r,i,o,s,a){"use strict";function l(t){if(a.isStream(t))return"ID";var e=typeof t;return e.toUpperCase()}function u(t){this.helperFunction=function(n,r,i,o){var s,u,c,h=o.data.view,d={hash:{},types:new Array(n.length),hashTypes:{}};e["default"](d,i),e["default"](d,o),d.hash={},i.isBlock&&(d.fn=function(){u=i.template.render(h,o,i.morph.contextualElement)},i.inverse&&(d.inverse=function(){u=i.inverse.render(h,o,i.morph.contextualElement)}));for(var p in r)s=r[p],d.hashTypes[p]=l(s),a.isStream(s)?d.hash[p]=s._label:d.hash[p]=s;for(var f=new Array(n.length),m=0,g=n.length;g>m;m++)s=n[m],d.types[m]=l(s),a.isStream(s)?f[m]=s._label:f[m]=s;return f.push(d),c=t.apply(this,f),i.isBlock?u:c},this.isHTMLBars=!0}function c(t,e){var r;r=e&&e.isHTMLBars?e:new u(e),n["default"][t]=r}function h(t,e){if(r["default"].detect(e))n["default"][t]=o["default"](e);else{var i=d.call(arguments,1),a=s["default"].apply(this,i);n["default"][t]=a}}t.registerHandlebarsCompatibleHelper=c,t.handlebarsHelper=h;var d=[].slice;u.prototype={preprocessArguments:function(){}},t["default"]=u}),t("ember-htmlbars/compat/make-bound-helper",["exports","ember-metal/core","ember-metal/mixin","ember-htmlbars/system/helper","ember-metal/streams/stream","ember-metal/streams/utils"],function(t,e,n,r,i,o){"use strict";function s(t,e){function s(e,r,s,u){function c(){for(var n=o.readArray(e),i=new Array(e.length),s=0,a=e.length;a>s;s++)h=e[s],o.isStream(h)?i[s]=h._label:i[s]=h;return n.push({hash:o.readHash(r),data:{properties:i}}),t.apply(d,n)}var h,d=u.data.view,p=e.length;for(var f in r)n.IS_BINDING.test(f)&&(r[f.slice(0,-7)]=d.getStream(r[f]),delete r[f]);var m=o.scanArray(e)||o.scanHash(r);if(m){var g=new i["default"](c);for(l=0;p>l;l++)h=e[l],o.isStream(h)&&h.subscribe(g.notify,g);for(f in r)h=r[f],o.isStream(h)&&h.subscribe(g.notify,g);if(p>0){var v=e[0];if(o.isStream(v)){var y=function(t){t.value(),g.notify()};for(l=0;l<a.length;l++){var b=v.get(a[l]);b.value(),b.subscribe(y)}}}return g}return c()}for(var a=[],l=1;l<arguments.length;l++)a.push(arguments[l]);return new r["default"](s)}t["default"]=s}),t("ember-htmlbars/compat/register-bound-helper",["exports","ember-htmlbars/helpers","ember-htmlbars/compat/make-bound-helper"],function(t,e,n){"use strict";function r(t,r){var o=i.call(arguments,1),s=n["default"].apply(this,o);e["default"][t]=s}t["default"]=r;var i=[].slice}),t("ember-htmlbars/env",["exports","ember-metal/environment","dom-helper","ember-htmlbars/hooks/inline","ember-htmlbars/hooks/content","ember-htmlbars/hooks/component","ember-htmlbars/hooks/block","ember-htmlbars/hooks/element","ember-htmlbars/hooks/subexpr","ember-htmlbars/hooks/attribute","ember-htmlbars/hooks/concat","ember-htmlbars/hooks/get","ember-htmlbars/hooks/set","ember-htmlbars/helpers"],function(t,e,n,r,i,o,s,a,l,u,c,h,d,p){"use strict";t["default"]={hooks:{get:h["default"],set:d["default"],inline:r["default"],content:i["default"],block:s["default"],element:a["default"],subexpr:l["default"],component:o["default"],attribute:u["default"],concat:c["default"]},helpers:p["default"],useFragmentCache:!0};var f=e["default"].hasDOM?new n["default"]:null;t.domHelper=f}),t("ember-htmlbars/helpers",["exports","ember-metal/platform/create","ember-htmlbars/system/helper"],function(t,e,n){"use strict";function r(t,e){var r;r=e&&e.isHelper?e:new n["default"](e),i[t]=r}t.registerHelper=r;var i=e["default"](null);t["default"]=i}),t("ember-htmlbars/helpers/bind-attr",["exports","ember-metal/core","ember-runtime/system/string","ember-views/attr_nodes/attr_node","ember-views/attr_nodes/legacy_bind","ember-metal/keys","ember-htmlbars/helpers","ember-metal/enumerable_utils","ember-metal/streams/utils","ember-views/streams/class_name_binding"],function(t,e,n,r,i,o,s,a,l,u){"use strict";function c(t,e,n,s){var a=n.element,u=s.data.view,c=e["class"];if(null!==c&&void 0!==c){l.isStream(c)||(c=h(c,u));var d=new r["default"]("class",c);d._morph=s.dom.createAttrMorph(a,"class"),u.appendChild(d)}for(var p,f,m,g,v=o["default"](e),y=0,b=v.length;b>y;y++)p=v[y],"class"!==p&&(f=e[p],m=l.isStream(f)?f:u.getStream(f),g=new i["default"](p,m),g._morph=s.dom.createAttrMorph(a,p),u.appendChild(g))}function h(t,e){var n=t.split(" "),r=a.map(n,function(t){return u.streamifyClassNameBinding(e,t)}),i=l.concat(r," ");return i}function d(){return s["default"]["bind-attr"].helperFunction.apply(this,arguments)}t.bindAttrHelper=c,t.bindAttrHelperDeprecated=d,t["default"]=c}),t("ember-htmlbars/helpers/collection",["exports","ember-metal/core","ember-metal/mixin","ember-runtime/system/string","ember-metal/property_get","ember-views/views/collection_view","ember-views/streams/utils","ember-metal/enumerable_utils","ember-views/streams/class_name_binding","ember-htmlbars/system/merge-view-bindings"],function(t,e,n,r,i,o,s,a,l,u){"use strict";function c(t,e,r,c){var h,d=t[0],p=c.data,f=r.template,m=r.inverse,g=p.view,v=i.get(g,"controller"),y=v&&v.container?v.container:g.container;h=d?s.readViewFactory(d,y):o["default"];var b,_,w={},x=h.proto();_=e.itemView?s.readViewFactory(e.itemView,y):e.itemViewClass?s.readViewFactory(e.itemViewClass,y):x.itemViewClass,"string"==typeof _&&(_=y.lookupFactory("view:"+_)),delete e.itemViewClass,delete e.itemView;for(var C in e)if("itemController"!==C&&"itemClassBinding"!==C&&e.hasOwnProperty(C)&&(b=C.match(/^item(.)(.*)$/))){var T=b[1].toLowerCase()+b[2];n.IS_BINDING.test(C)?w[T]=g._getBindingForStream(e[C]):w[T]=e[C],delete e[C]}f&&(w.template=f,delete r.template);var E;m?(E=i.get(x,"emptyViewClass"),E=E.extend({template:m,tagName:w.tagName})):e.emptyViewClass&&(E=s.readViewFactory(e.emptyViewClass,y)),E&&(e.emptyView=E);var k=u["default"](g,{},w);if(e.itemClassBinding){var S=e.itemClassBinding.split(" ");k.classNameBindings=a.map(S,function(t){return l.streamifyClassNameBinding(g,t)})}return e.itemViewClass=_,e._itemViewProps=k,r.helperName=r.helperName||"collection",c.helpers.view.helperFunction.call(this,[h],e,r,c)}t.collectionHelper=c}),t("ember-htmlbars/helpers/component",["exports","ember-metal/core","ember-metal/streams/utils","ember-views/streams/utils","ember-metal/error","ember-views/views/bound_component_view","ember-htmlbars/system/merge-view-bindings","ember-htmlbars/system/append-templated-view"],function(t,e,n,r,i,o,s,a){"use strict";function l(t,l,u,c){var h=c.data.view,d=t[0],p=h.container||n.read(h._keywords.view).container,f={helperName:u.helperName||"component"};u.template&&(f.template=u.template);var m;if(n.isStream(d))m=o["default"],f={_boundComponentOptions:e["default"].merge(l,f)},f._boundComponentOptions.componentNameStream=d;else{if(m=r.readComponentFactory(d,p),!m)throw new i["default"]('HTMLBars error: Could not find component named "'+d+'".');s["default"](h,f,l)}a["default"](h,u.morph,m,f)}t.componentHelper=l}),t("ember-htmlbars/helpers/debugger",["exports","ember-metal/logger"],function(t,e){"use strict";function n(t,n,r,i){var o=i.data.view;o.get("context");e["default"].info("Use `view`, `context`, and `get(<path>)` to debug this template.")}t.debuggerHelper=n}),t("ember-htmlbars/helpers/each",["exports","ember-metal/core","ember-views/views/each"],function(t,e,n){"use strict";function r(t,e,r,i){var o=i.data.view,s="each",a=t[0]||o.getStream(""),l=r.template&&r.template.blockParams;return l&&(e.keyword=!0,e.blockParams=l),e.dataSource=a,r.helperName=r.helperName||s,i.helpers.collection.helperFunction.call(this,[n["default"]],e,r,i)}t.eachHelper=r,t.EachView=n["default"]}),t("ember-htmlbars/helpers/if_unless",["exports","ember-metal/core","ember-metal/streams/conditional","ember-views/streams/should_display","ember-metal/property_get","ember-metal/streams/utils","ember-views/views/bound_if_view","ember-htmlbars/templates/empty"],function(t,e,n,r,i,o,s,a){"use strict";function l(t,e,n,r){var i=n.helperName||"if";return c(!1,i,t,e,n,r)}function u(t,e,n,r){var i=n.helperName||"unless";return c(!0,i,t,e,n,r)}function c(t,e,n,r,i,o){var s=o.data.view;return i.isBlock?h(s,t,e,n,r,i,o):d(s,t,e,n,r,i,o)}function h(t,e,n,l,u,c,h){var d=r["default"](l[0]),p=(e?c.inverse:c.template)||a["default"],f=(e?c.template:c.inverse)||a["default"];if(o.isStream(d))t.appendChild(s["default"],{_morph:c.morph,_context:i.get(t,"context"),conditionStream:d,truthyTemplate:p,falsyTemplate:f,helperName:n});else{var m=d?p:f;if(m)return m.render(t,h,c.morph.contextualElement)}}function d(t,e,i,o){return n["default"](r["default"](o[0]),e?o[2]:o[1],e?o[1]:o[2])}t.ifHelper=l,t.unlessHelper=u}),t("ember-htmlbars/helpers/input",["exports","ember-views/views/checkbox","ember-views/views/text_field","ember-metal/streams/utils","ember-metal/core"],function(t,e,n,r,i){"use strict";function o(t,i,o,s){var a,l=i.on;a=r.read(i.type),"checkbox"===a?(delete i.type,s.helpers.view.helperFunction.call(this,[e["default"]],i,o,s)):(delete i.on,i.onEvent=l||"enter",s.helpers.view.helperFunction.call(this,[n["default"]],i,o,s))}t.inputHelper=o}),t("ember-htmlbars/helpers/loc",["exports","ember-metal/core","ember-runtime/system/string","ember-metal/streams/utils"],function(t,e,n,r){"use strict";function i(t,e,r,i){return n.loc.apply(i.data.view,t)}t.locHelper=i}),t("ember-htmlbars/helpers/log",["exports","ember-metal/logger","ember-metal/streams/utils"],function(t,e,n){"use strict";function r(t,r,i,o){for(var s=e["default"].log,a=[],l=0;l<t.length;l++)a.push(n.read(t[l]));s.apply(s,a)}t.logHelper=r}),t("ember-htmlbars/helpers/partial",["exports","ember-metal/property_get","ember-metal/streams/utils","ember-views/views/bound_partial_view","ember-views/system/lookup_partial"],function(t,e,n,r,i){"use strict";function o(t,o,s,a){var l=a.data.view,u=t[0];if(!n.isStream(u)){var c=i["default"](l,u);return c.render(l,a,s.morph.contextualElement)}l.appendChild(r["default"],{_morph:s.morph,_context:e.get(l,"context"),templateNameStream:u,helperName:s.helperName||"partial"})}t.partialHelper=o}),t("ember-htmlbars/helpers/template",["exports","ember-metal/core"],function(t,e){"use strict";function n(t,e,n,r){return n.helperName=n.helperName||"template",r.helpers.partial.helperFunction.call(this,t,e,n,r)}t.templateHelper=n}),t("ember-htmlbars/helpers/text_area",["exports","ember-metal/core","ember-views/views/text_area"],function(t,e,n){"use strict";function r(t,e,r,i){return i.helpers.view.helperFunction.call(this,[n["default"]],e,r,i)}t.textareaHelper=r}),t("ember-htmlbars/helpers/unbound",["exports","ember-metal/error","ember-metal/mixin","ember-metal/streams/utils","ember-htmlbars/system/lookup-helper"],function(t,e,n,r,i){"use strict";function o(t,n,o,l){if(1===t.length)return r.read(t[0]);o.helperName=o.helperName||"unbound";var u=l.data.view,c=t[0]._label,h=i["default"](c,u,l);if(!h)throw new e["default"]("HTMLBars error: Could not find component or helper named "+c+".");return h.helperFunction.call(this,s(t),a(n,u),o,l)}function s(t){for(var e=t.length,n=new Array(e-1),i=1;e>i;i++)n[i-1]=r.read(t[i]);return n}function a(t,e){var i={};for(var o in t)if(n.IS_BINDING.test(o)){var s=t[o];"string"==typeof s&&(s=e.getStream(s)),i[o.slice(0,-7)]=r.read(s)}else i[o]=r.read(t[o]);return i}t.unboundHelper=o}),t("ember-htmlbars/helpers/view",["exports","ember-metal/core","ember-metal/streams/utils","ember-views/streams/utils","ember-views/views/view","ember-htmlbars/system/merge-view-bindings","ember-htmlbars/system/append-templated-view"],function(t,e,n,r,i,o,s){"use strict";function a(t,e,a,l){var u,c=l.data.view,h=c.container||n.read(c._keywords.view).container;u=0===t.length?h?h.lookupFactory("view:toplevel"):i["default"]:r.readViewFactory(t[0],h);var d={helperName:a.helperName||"view"};a.template&&(d.template=a.template),o["default"](c,d,e),s["default"](c,a.morph,u,d)}t.viewHelper=a}),t("ember-htmlbars/helpers/with",["exports","ember-metal/core","ember-views/views/with_view"],function(t,e,n){"use strict";function r(t,e,r,i){var o,s=i.data.view;o=r.template.blockParams?!0:!1,s.appendChild(n["default"],{_morph:r.morph,withValue:t[0],preserveContext:o,previousContext:s.get("context"),controllerName:e.controller,mainTemplate:r.template,inverseTemplate:r.inverse,helperName:r.helperName||"with"})}t.withHelper=r}),t("ember-htmlbars/helpers/yield",["exports","ember-metal/core","ember-metal/property_get"],function(t,e,n){"use strict";function r(t,e,r,i){for(var o=i.data.view,s=o;s&&!n.get(s,"layout");)s=s._contextView?s._contextView:s._parentView;return s._yield(o,i,r.morph,t)}t.yieldHelper=r}),t("ember-htmlbars/hooks/attribute",["exports","ember-views/attr_nodes/attr_node","ember-metal/error","ember-metal/streams/utils","morph-attr/sanitize-attribute-value"],function(t,e,n,r,i){"use strict";function o(t,o,a,l,u){if(s){var c=new e["default"](l,u);c._morph=o,t.data.view.appendChild(c)}else{if(r.isStream(u))throw new n["default"]("Bound attributes are not yet supported in Ember.js");var h=i["default"](t.dom,a,l,u);t.dom.setProperty(a,l,h)}}t["default"]=o;var s=!1;s=!0}),t("ember-htmlbars/hooks/block",["exports","ember-views/views/simple_bound_view","ember-metal/streams/utils","ember-htmlbars/system/lookup-helper"],function(t,e,n,r){"use strict";function i(t,i,o,s,a,l,u,c){var h=r["default"](s,o,t),d={morph:i,template:u,inverse:c,isBlock:!0},p=h.helperFunction.call(void 0,a,l,d,t);n.isStream(p)?e.appendSimpleBoundView(o,i,p):i.setContent(p)}t["default"]=i}),t("ember-htmlbars/hooks/component",["exports","ember-metal/core","ember-htmlbars/system/lookup-helper"],function(t,e,n){"use strict";function r(t,e,r,i,o,s){var a=n["default"](i,r,t);return a.helperFunction.call(void 0,[],o,{morph:e,template:s},t)}t["default"]=r}),t("ember-htmlbars/hooks/concat",["exports","ember-metal/streams/utils"],function(t,e){"use strict";function n(t,n){return e.concat(n,"")}t["default"]=n}),t("ember-htmlbars/hooks/content",["exports","ember-views/views/simple_bound_view","ember-metal/streams/utils","ember-htmlbars/system/lookup-helper"],function(t,e,n,r){"use strict";function i(t,i,o,s){var a,l=r["default"](s,o,t);if(l){var u={morph:i,isInline:!0};a=l.helperFunction.call(void 0,[],{},u,t)}else a=o.getStream(s);n.isStream(a)?e.appendSimpleBoundView(o,i,a):i.setContent(a)}t["default"]=i}),t("ember-htmlbars/hooks/element",["exports","ember-metal/core","ember-metal/streams/utils","ember-htmlbars/system/lookup-helper"],function(t,e,n,r){"use strict";function i(t,e,i,o,s,a){var l,u=r["default"](o,i,t);if(u){var c={element:e};l=u.helperFunction.call(void 0,s,a,c,t)}else l=i.getStream(o);var h=n.read(l);if(h)for(var d=h.toString().split(/\s+/),p=0,f=d.length;f>p;p++){var m=d[p].split("="),g=m[0],v=m[1];v=v.replace(/^['"]/,"").replace(/['"]$/,""),t.dom.setAttribute(e,g,v)}}t["default"]=i}),t("ember-htmlbars/hooks/get",["exports"],function(t){"use strict";function e(t,e,n){return e.getStream(n)}t["default"]=e}),t("ember-htmlbars/hooks/inline",["exports","ember-views/views/simple_bound_view","ember-metal/streams/utils","ember-htmlbars/system/lookup-helper"],function(t,e,n,r){"use strict";function i(t,i,o,s,a,l){var u=r["default"](s,o,t),c=u.helperFunction.call(void 0,a,l,{morph:i},t);n.isStream(c)?e.appendSimpleBoundView(o,i,c):i.setContent(c)}t["default"]=i}),t("ember-htmlbars/hooks/set",["exports"],function(t){"use strict";function e(t,e,n,r){e._keywords[n]=r}t["default"]=e}),t("ember-htmlbars/hooks/subexpr",["exports","ember-htmlbars/system/lookup-helper"],function(t,e){"use strict";function n(t,n,r,i,o){var s=e["default"](r,n,t),a={isInline:!0};return s.helperFunction.call(void 0,i,o,a,t)}t["default"]=n}),t("ember-htmlbars/system/append-templated-view",["exports","ember-metal/core","ember-metal/property_get","ember-views/views/view"],function(t,e,n,r){"use strict";function i(t,e,i,o){var s;s=r["default"].detectInstance(i)?i:i.proto();var a=!s.controller;return s.controller&&s.controller.isDescriptor&&(a=!0),!a||s.controllerBinding||o.controller||o.controllerBinding||(o._context=n.get(t,"context")),o._morph=e,t.appendChild(i,o)}t["default"]=i}),t("ember-htmlbars/system/bootstrap",["exports","ember-metal/core","ember-views/component_lookup","ember-views/system/jquery","ember-metal/error","ember-runtime/system/lazy_load","ember-template-compiler/system/compile","ember-metal/environment"],function(t,e,n,r,i,o,s,a){"use strict";function l(t){var n='script[type="text/x-handlebars"], script[type="text/x-raw-handlebars"]';r["default"](n,t).each(function(){var t=r["default"](this),n="text/x-raw-handlebars"===t.attr("type")?r["default"].proxy(Handlebars.compile,Handlebars):s["default"],o=t.attr("data-template-name")||t.attr("id")||"application",a=n(t.html());if(void 0!==e["default"].TEMPLATES[o])throw new i["default"]('Template named "'+o+'" already exists.');e["default"].TEMPLATES[o]=a,t.remove()})}function u(){l(r["default"](document))}function c(t){t.register("component-lookup:main",n["default"])}o.onLoad("Ember.Application",function(t){t.initializer({name:"domTemplates",initialize:a["default"].hasDOM?u:function(){}}),t.initializer({name:"registerComponentLookup",after:"domTemplates",initialize:c})}),t["default"]=l}),t("ember-htmlbars/system/helper",["exports"],function(t){"use strict";function e(t){this.helperFunction=t,this.isHelper=!0,this.isHTMLBars=!0}t["default"]=e}),t("ember-htmlbars/system/lookup-helper",["exports","ember-metal/core","ember-metal/cache","ember-htmlbars/system/make-view-helper","ember-htmlbars/compat/helper"],function(t,e,n,r,i){"use strict";function o(t,e,n){var o=n.helpers[t];if(o)return o;var a=e.container;if(a&&!s.get(t)){var l="helper:"+t;if(o=a.lookup(l),!o){var u=a.lookup("component-lookup:main"),c=u.lookupFactory(t,a);c&&(o=r["default"](c),a._registry.register(l,o))}return o&&!o.isHTMLBars&&(o=new i["default"](o),a._registry.unregister(l),a._registry.register(l,o)),o}}t["default"]=o;var s=new n["default"](1e3,function(t){return-1===t.indexOf("-")});t.ISNT_HELPER_CACHE=s}),t("ember-htmlbars/system/make-view-helper",["exports","ember-metal/core","ember-htmlbars/system/helper"],function(t,e,n){"use strict";function r(t){function e(e,n,r,i){return i.helpers.view.helperFunction.call(this,[t],n,r,i)}return new n["default"](e)}t["default"]=r}),t("ember-htmlbars/system/make_bound_helper",["exports","ember-metal/core","ember-htmlbars/system/helper","ember-metal/streams/stream","ember-metal/streams/utils"],function(t,e,n,r,i){"use strict";function o(t){function e(e,n,o,s){function a(){return t.call(c,i.readArray(e),i.readHash(n),o,s)}var l,u,c=s.data.view,h=e.length,d=i.scanArray(e)||i.scanHash(n);if(d){for(var p=new r["default"](a),f=0;h>f;f++)l=e[f],i.subscribe(l,p.notify,p);for(u in n)l=n[u],i.subscribe(l,p.notify,p);return p}return a()}return new n["default"](e)}t["default"]=o}),t("ember-htmlbars/system/merge-view-bindings",["exports","ember-metal/core","ember-metal/mixin","ember-metal/streams/simple","ember-metal/streams/utils","ember-views/streams/class_name_binding"],function(t,e,n,r,i,o){"use strict";function s(t,e,n){return a(t,e,n),l(t,e,n),e}function a(t,e,r){for(var o in r)if("id"!==o&&"tag"!==o&&"class"!==o&&"classBinding"!==o&&"classNameBindings"!==o&&"attributeBindings"!==o){var s=r[o];n.IS_BINDING.test(o)?"string"==typeof s?e[o]=t._getBindingForStream(s):i.isStream(s)?e[o]=t._getBindingForStream(s):e[o]=s:i.isStream(s)?e[o+"Binding"]=t._getBindingForStream(s):e[o]=s}}function l(t,e,n){n.id&&(e.id=e.elementId=i.read(n.id)),n.tag&&(e.tagName=i.read(n.tag));var s=[];if(n["class"]&&("string"==typeof n["class"]?e.classNames=n["class"].split(" "):n["class"]._label?s.push(n["class"]._label):s.push(n["class"])),n.classBinding&&u.apply(s,n.classBinding.split(" ")),n.classNameBindings&&u.apply(s,n.classNameBindings.split(" ")),s.length>0){e.classNameBindings=s;for(var a=0;a<s.length;a++){var l,c=s[a];l=i.isStream(c)?c:o.streamifyClassNameBinding(t,c),i.isStream(l)?s[a]=l:s[a]=new r["default"](l)}}}t["default"]=s;var u=Array.prototype.push}),t("ember-htmlbars/system/render-view",["exports","ember-metal/core","ember-metal/property_get","ember-htmlbars/env"],function(t,e,n,r){"use strict";function i(t,e,n){if(n){var r;r=n.isHTMLBars?o(t,e,n):s(t,e,n),void 0!==r&&e.push(r)}}function o(t,e,n){var i=e.innerContextualElement(),o=t._blockArguments,s={view:this,dom:t.renderer._dom,hooks:r["default"].hooks,helpers:r["default"].helpers,useFragmentCache:r["default"].useFragmentCache,data:{view:t,buffer:e}};return n.render(t,s,i,o)}function s(t,e,r){var i=n.get(t,"context"),o={data:{view:t,buffer:e}};return r(i,o)}t["default"]=i}),t("ember-htmlbars/templates/component",["exports","ember-template-compiler/system/template"],function(t,e){"use strict";t["default"]=e["default"](function(){return{isHTMLBars:!0,revision:"Ember@1.12.0",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(t){var e=t.createDocumentFragment(),n=t.createComment("");return t.appendChild(e,n),e},render:function(t,e,n){var r=e.dom,i=e.hooks,o=i.content;r.detectNamespace(n);var s;e.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(s=this.build(r),this.hasRendered?this.cachedFragment=s:this.hasRendered=!0),this.cachedFragment&&(s=r.cloneNode(this.cachedFragment,!0))):s=this.build(r);var a=r.createMorphAt(s,0,0,n);return r.insertBoundary(s,null),r.insertBoundary(s,0),o(e,a,t,"yield"),s}}}())}),t("ember-htmlbars/templates/empty",["exports","ember-template-compiler/system/template"],function(t,e){"use strict";t["default"]=e["default"](function(){return{isHTMLBars:!0,revision:"Ember@1.12.0",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(t){var e=t.createDocumentFragment();return e},render:function(t,e,n){var r=e.dom;r.detectNamespace(n);var i;return e.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(i=this.build(r),this.hasRendered?this.cachedFragment=i:this.hasRendered=!0),this.cachedFragment&&(i=r.cloneNode(this.cachedFragment,!0))):i=this.build(r),i}}}())}),t("ember-htmlbars/templates/link-to-escaped",["exports","ember-template-compiler/system/template"],function(t,e){"use strict";t["default"]=e["default"](function(){return{isHTMLBars:!0,revision:"Ember@1.12.0",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(t){var e=t.createDocumentFragment(),n=t.createComment("");return t.appendChild(e,n),e},render:function(t,e,n){var r=e.dom,i=e.hooks,o=i.content;r.detectNamespace(n);var s;e.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(s=this.build(r),this.hasRendered?this.cachedFragment=s:this.hasRendered=!0),this.cachedFragment&&(s=r.cloneNode(this.cachedFragment,!0))):s=this.build(r);
var a=r.createMorphAt(s,0,0,n);return r.insertBoundary(s,null),r.insertBoundary(s,0),o(e,a,t,"linkTitle"),s}}}())}),t("ember-htmlbars/templates/link-to-unescaped",["exports","ember-template-compiler/system/template"],function(t,e){"use strict";t["default"]=e["default"](function(){return{isHTMLBars:!0,revision:"Ember@1.12.0",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(t){var e=t.createDocumentFragment(),n=t.createComment("");return t.appendChild(e,n),e},render:function(t,e,n){var r=e.dom,i=e.hooks,o=i.content;r.detectNamespace(n);var s;e.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(s=this.build(r),this.hasRendered?this.cachedFragment=s:this.hasRendered=!0),this.cachedFragment&&(s=r.cloneNode(this.cachedFragment,!0))):s=this.build(r);var a=r.createUnsafeMorphAt(s,0,0,n);return r.insertBoundary(s,null),r.insertBoundary(s,0),o(e,a,t,"linkTitle"),s}}}())}),t("ember-htmlbars/templates/select-option",["exports","ember-template-compiler/system/template"],function(t,e){"use strict";t["default"]=e["default"](function(){return{isHTMLBars:!0,revision:"Ember@1.12.0",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(t){var e=t.createDocumentFragment(),n=t.createComment("");return t.appendChild(e,n),e},render:function(t,e,n){var r=e.dom,i=e.hooks,o=i.content;r.detectNamespace(n);var s;e.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(s=this.build(r),this.hasRendered?this.cachedFragment=s:this.hasRendered=!0),this.cachedFragment&&(s=r.cloneNode(this.cachedFragment,!0))):s=this.build(r);var a=r.createMorphAt(s,0,0,n);return r.insertBoundary(s,null),r.insertBoundary(s,0),o(e,a,t,"view.label"),s}}}())}),t("ember-htmlbars/templates/select",["exports","ember-template-compiler/system/template"],function(t,e){"use strict";t["default"]=e["default"](function(){var t=function(){return{isHTMLBars:!0,revision:"Ember@1.12.0",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(t){var e=t.createDocumentFragment(),n=t.createElement("option");t.setAttribute(n,"value","");var r=t.createComment("");return t.appendChild(n,r),t.appendChild(e,n),e},render:function(t,e,n){var r=e.dom,i=e.hooks,o=i.content;r.detectNamespace(n);var s;e.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(s=this.build(r),this.hasRendered?this.cachedFragment=s:this.hasRendered=!0),this.cachedFragment&&(s=r.cloneNode(this.cachedFragment,!0))):s=this.build(r);var a=r.createMorphAt(r.childAt(s,[0]),0,0);return o(e,a,t,"view.prompt"),s}}}(),e=function(){var t=function(){return{isHTMLBars:!0,revision:"Ember@1.12.0",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(t){var e=t.createDocumentFragment(),n=t.createComment("");return t.appendChild(e,n),e},render:function(t,e,n){var r=e.dom,i=e.hooks,o=i.get,s=i.inline;r.detectNamespace(n);var a;e.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(a=this.build(r),this.hasRendered?this.cachedFragment=a:this.hasRendered=!0),this.cachedFragment&&(a=r.cloneNode(this.cachedFragment,!0))):a=this.build(r);var l=r.createMorphAt(a,0,0,n);return r.insertBoundary(a,null),r.insertBoundary(a,0),s(e,l,t,"view",[o(e,t,"view.groupView")],{content:o(e,t,"group.content"),label:o(e,t,"group.label")}),a}}}();return{isHTMLBars:!0,revision:"Ember@1.12.0",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(t){var e=t.createDocumentFragment(),n=t.createComment("");return t.appendChild(e,n),e},render:function(e,n,r){var i=n.dom,o=n.hooks,s=o.get,a=o.block;i.detectNamespace(r);var l;n.useFragmentCache&&i.canClone?(null===this.cachedFragment&&(l=this.build(i),this.hasRendered?this.cachedFragment=l:this.hasRendered=!0),this.cachedFragment&&(l=i.cloneNode(this.cachedFragment,!0))):l=this.build(i);var u=i.createMorphAt(l,0,0,r);return i.insertBoundary(l,null),i.insertBoundary(l,0),a(n,u,e,"each",[s(n,e,"view.groupedContent")],{keyword:"group"},t,null),l}}}(),n=function(){var t=function(){return{isHTMLBars:!0,revision:"Ember@1.12.0",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(t){var e=t.createDocumentFragment(),n=t.createComment("");return t.appendChild(e,n),e},render:function(t,e,n){var r=e.dom,i=e.hooks,o=i.get,s=i.inline;r.detectNamespace(n);var a;e.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(a=this.build(r),this.hasRendered?this.cachedFragment=a:this.hasRendered=!0),this.cachedFragment&&(a=r.cloneNode(this.cachedFragment,!0))):a=this.build(r);var l=r.createMorphAt(a,0,0,n);return r.insertBoundary(a,null),r.insertBoundary(a,0),s(e,l,t,"view",[o(e,t,"view.optionView")],{content:o(e,t,"item")}),a}}}();return{isHTMLBars:!0,revision:"Ember@1.12.0",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(t){var e=t.createDocumentFragment(),n=t.createComment("");return t.appendChild(e,n),e},render:function(e,n,r){var i=n.dom,o=n.hooks,s=o.get,a=o.block;i.detectNamespace(r);var l;n.useFragmentCache&&i.canClone?(null===this.cachedFragment&&(l=this.build(i),this.hasRendered?this.cachedFragment=l:this.hasRendered=!0),this.cachedFragment&&(l=i.cloneNode(this.cachedFragment,!0))):l=this.build(i);var u=i.createMorphAt(l,0,0,r);return i.insertBoundary(l,null),i.insertBoundary(l,0),a(n,u,e,"each",[s(n,e,"view.content")],{keyword:"item"},t,null),l}}}();return{isHTMLBars:!0,revision:"Ember@1.12.0",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(t){var e=t.createDocumentFragment(),n=t.createComment("");t.appendChild(e,n);var n=t.createComment("");t.appendChild(e,n);var n=t.createTextNode("\n");return t.appendChild(e,n),e},render:function(r,i,o){var s=i.dom,a=i.hooks,l=a.get,u=a.block;s.detectNamespace(o);var c;i.useFragmentCache&&s.canClone?(null===this.cachedFragment&&(c=this.build(s),this.hasRendered?this.cachedFragment=c:this.hasRendered=!0),this.cachedFragment&&(c=s.cloneNode(this.cachedFragment,!0))):c=this.build(s);var h=s.createMorphAt(c,0,0,o),d=s.createMorphAt(c,1,1,o);return s.insertBoundary(c,0),u(i,h,r,"if",[l(i,r,"view.prompt")],{},t,null),u(i,d,r,"if",[l(i,r,"view.optionGroupPath")],{},e,n),c}}}())}),t("ember-htmlbars/utils/string",["exports","htmlbars-util","ember-runtime/system/string"],function(t,e,n){"use strict";function r(t){return null===t||void 0===t?"":("string"!=typeof t&&(t=""+t),new e.SafeString(t))}t.htmlSafe=r,n["default"].htmlSafe=r,(i.EXTEND_PROTOTYPES===!0||i.EXTEND_PROTOTYPES.String)&&(String.prototype.htmlSafe=function(){return r(this)}),t.SafeString=e.SafeString,t.escapeExpression=e.escapeExpression}),t("ember-metal-views",["exports","ember-metal-views/renderer"],function(t,e){"use strict";t.Renderer=e["default"]}),t("ember-metal-views/renderer",["exports","dom-helper","ember-metal/environment"],function(t,e,n){"use strict";function r(t,e){this._uuid=0,this._views=new Array(2e3),this._queue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this._parents=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this._elements=new Array(17),this._inserts={},this._dom=t||u,this._destinedForDOM=void 0===e?!0:e}function i(t,e,n){var r=this._views;r[0]=t;var i=0,o=1,s=e?e._level+1:0,a=null==e?t:e._root,l=!!a._morph,u=this._queue;u[0]=0;for(var c,h,d,p=1,f=-1,m=this._parents,g=e||null,v=this._elements,y=null,b=null,_=0,w=t;p;){if(v[_]=y,w._morph||(w._morph=null),w._root=a,this.uuid(w),w._level=s+_,w._elementCreated&&this.remove(w,!1,!0),this.willCreateElement(w),b=w._morph&&w._morph.contextualElement,!b&&g&&g._childViewsMorph&&(b=g._childViewsMorph.contextualElement),!b&&w._didCreateElementWithoutMorph&&(b="undefined"!=typeof document?document.body:null),y=this.createElement(w,b),m[_++]=f,f=i,g=w,u[p++]=i,c=this.childViews(w))for(h=c.length-1;h>=0;h--)d=c[h],i=o++,r[i]=d,u[p++]=i,w=d;for(i=u[--p],w=r[i];f===i;){if(_--,w._elementCreated=!0,this.didCreateElement(w),l&&this.willInsertElement(w),0===_){p--;break}f=m[_],g=-1===f?e:r[f],this.insertElement(w,g,y,null),i=u[--p],w=r[i],y=v[_],v[_]=null}}for(this.insertElement(w,e,y,n),h=o-1;h>=0;h--)l&&(r[h]._elementInserted=!0,this.didInsertElement(r[h])),r[h]=null;return y}function o(t,e,n){var r=this.uuid(t);if(this._inserts[r]&&(this.cancelRender(this._inserts[r]),this._inserts[r]=void 0),t._elementCreated){var i,o,s,a,l,u,c,h=[],d=[],p=t._morph;for(h.push(t),i=0;i<h.length;i++)if(s=h[i],a=!e&&s._childViewsMorph?h:d,this.beforeRemove(h[i]),l=this.childViews(s))for(u=0,c=l.length;c>u;u++)a.push(l[u]);for(i=0;i<d.length;i++)if(s=d[i],this.beforeRemove(d[i]),l=this.childViews(s))for(u=0,c=l.length;c>u;u++)d.push(l[u]);for(p&&!n&&p.destroy(),i=0,o=h.length;o>i;i++)this.afterRemove(h[i],!1);for(i=0,o=d.length;o>i;i++)this.afterRemove(d[i],!0);n&&(t._morph=p)}}function s(t,e,n,r){null!==n&&void 0!==n&&(t._morph?t._morph.setContent(n):e&&(t._morph=e._childViewsMorph.insertContentBeforeMorph(n,r)))}function a(t){t._elementCreated&&this.willDestroyElement(t),t._elementInserted&&this.willRemoveElement(t)}function l(t,e){t._elementInserted=!1,t._morph=null,t._childViewsMorph=null,t._elementCreated&&(t._elementCreated=!1,this.didDestroyElement(t)),e&&this.destroyView(t)}var u=n["default"].hasDOM?new e["default"]:null;r.prototype.uuid=function(t){return void 0===t._uuid&&(t._uuid=++this._uuid,t._renderer=this),t._uuid},r.prototype.scheduleInsert=function(t,e){if(t._morph||t._elementCreated)throw new Error("You cannot insert a View that has already been rendered");t._morph=e;var n=this.uuid(t);this._inserts[n]=this.scheduleRender(this,function(){this._inserts[n]=null,this.renderTree(t)})},r.prototype.appendTo=function(t,e){var n=this._dom.appendMorph(e);this.scheduleInsert(t,n)},r.prototype.appendAttrTo=function(t,e,n){var r=this._dom.createAttrMorph(e,n);this.scheduleInsert(t,r)},r.prototype.replaceIn=function(t,e){var n;n=e.firstChild?this._dom.createMorph(e,e.firstChild,e.lastChild):this._dom.appendMorph(e),this.scheduleInsert(t,n)},r.prototype.remove=o,r.prototype.removeAndDestroy=function(t){this.remove(t,!0)},r.prototype.renderTree=i,r.prototype.insertElement=s,r.prototype.beforeRemove=a,r.prototype.afterRemove=l;var c=function(){};r.prototype.willCreateElement=c,r.prototype.createElement=c,r.prototype.didCreateElement=c,r.prototype.willInsertElement=c,r.prototype.didInsertElement=c,r.prototype.willRemoveElement=c,r.prototype.willDestroyElement=c,r.prototype.didDestroyElement=c,r.prototype.destroyView=c,r.prototype.childViews=c,t["default"]=r}),t("ember-metal",["exports","ember-metal/core","ember-metal/merge","ember-metal/instrumentation","ember-metal/utils","ember-metal/error","ember-metal/enumerable_utils","ember-metal/cache","ember-metal/platform/define_property","ember-metal/platform/create","ember-metal/array","ember-metal/logger","ember-metal/property_get","ember-metal/events","ember-metal/observer_set","ember-metal/property_events","ember-metal/properties","ember-metal/property_set","ember-metal/map","ember-metal/get_properties","ember-metal/set_properties","ember-metal/watch_key","ember-metal/chains","ember-metal/watch_path","ember-metal/watching","ember-metal/expand_properties","ember-metal/computed","ember-metal/alias","ember-metal/computed_macros","ember-metal/observer","ember-metal/mixin","ember-metal/binding","ember-metal/run_loop","ember-metal/libraries","ember-metal/is_none","ember-metal/is_empty","ember-metal/is_blank","ember-metal/is_present","ember-metal/keys","backburner","ember-metal/streams/utils","ember-metal/streams/stream"],function(t,n,r,i,o,s,a,l,u,c,h,d,p,f,m,g,v,y,b,_,w,x,C,T,E,k,S,P,A,L,O,D,M,R,N,F,I,B,j,z,V,H){"use strict";S.computed.empty=A.empty,S.computed.notEmpty=A.notEmpty,S.computed.none=A.none,S.computed.not=A.not,S.computed.bool=A.bool,S.computed.match=A.match,S.computed.equal=A.equal,S.computed.gt=A.gt,S.computed.gte=A.gte,S.computed.lt=A.lt,S.computed.lte=A.lte,S.computed.alias=P["default"],S.computed.oneWay=A.oneWay,S.computed.reads=A.oneWay,S.computed.readOnly=A.readOnly,S.computed.defaultTo=A.defaultTo,S.computed.deprecatingAlias=A.deprecatingAlias,S.computed.and=A.and,S.computed.or=A.or,S.computed.any=A.any,S.computed.collect=A.collect;var U=n["default"].Instrumentation={};U.instrument=i.instrument,U.subscribe=i.subscribe,U.unsubscribe=i.unsubscribe,U.reset=i.reset,n["default"].instrument=i.instrument,n["default"].subscribe=i.subscribe,n["default"]._Cache=l["default"],n["default"].generateGuid=o.generateGuid,n["default"].GUID_KEY=o.GUID_KEY,n["default"].create=c["default"],n["default"].keys=j["default"],n["default"].platform={defineProperty:v.defineProperty,hasPropertyAccessors:u.hasPropertyAccessors};var W=n["default"].ArrayPolyfills={};W.map=h.map,W.forEach=h.forEach,W.filter=h.filter,W.indexOf=h.indexOf,n["default"].Error=s["default"],n["default"].guidFor=o.guidFor,n["default"].META_DESC=o.META_DESC,n["default"].EMPTY_META=o.EMPTY_META,n["default"].meta=o.meta,n["default"].getMeta=o.getMeta,n["default"].setMeta=o.setMeta,n["default"].metaPath=o.metaPath,n["default"].inspect=o.inspect,n["default"].typeOf=o.typeOf,n["default"].tryCatchFinally=o.deprecatedTryCatchFinally,n["default"].isArray=o.isArray,n["default"].makeArray=o.makeArray,n["default"].canInvoke=o.canInvoke,n["default"].tryInvoke=o.tryInvoke,n["default"].tryFinally=o.deprecatedTryFinally,n["default"].wrap=o.wrap,n["default"].apply=o.apply,n["default"].applyStr=o.applyStr,n["default"].uuid=o.uuid,n["default"].Logger=d["default"],n["default"].get=p.get,n["default"].getWithDefault=p.getWithDefault,n["default"].normalizeTuple=p.normalizeTuple,n["default"]._getPath=p._getPath,n["default"].EnumerableUtils=a["default"],n["default"].on=f.on,n["default"].addListener=f.addListener,n["default"].removeListener=f.removeListener,n["default"]._suspendListener=f.suspendListener,n["default"]._suspendListeners=f.suspendListeners,n["default"].sendEvent=f.sendEvent,n["default"].hasListeners=f.hasListeners,n["default"].watchedEvents=f.watchedEvents,n["default"].listenersFor=f.listenersFor,n["default"].accumulateListeners=f.accumulateListeners,n["default"]._ObserverSet=m["default"],n["default"].propertyWillChange=g.propertyWillChange,n["default"].propertyDidChange=g.propertyDidChange,n["default"].overrideChains=g.overrideChains,n["default"].beginPropertyChanges=g.beginPropertyChanges,n["default"].endPropertyChanges=g.endPropertyChanges,n["default"].changeProperties=g.changeProperties,n["default"].defineProperty=v.defineProperty,n["default"].set=y.set,n["default"].trySet=y.trySet,n["default"].OrderedSet=b.OrderedSet,n["default"].Map=b.Map,n["default"].MapWithDefault=b.MapWithDefault,n["default"].getProperties=_["default"],n["default"].setProperties=w["default"],n["default"].watchKey=x.watchKey,n["default"].unwatchKey=x.unwatchKey,n["default"].flushPendingChains=C.flushPendingChains,n["default"].removeChainWatcher=C.removeChainWatcher,n["default"]._ChainNode=C.ChainNode,n["default"].finishChains=C.finishChains,n["default"].watchPath=T.watchPath,n["default"].unwatchPath=T.unwatchPath,n["default"].watch=E.watch,n["default"].isWatching=E.isWatching,n["default"].unwatch=E.unwatch,n["default"].rewatch=E.rewatch,n["default"].destroy=E.destroy,n["default"].expandProperties=k["default"],n["default"].ComputedProperty=S.ComputedProperty,n["default"].computed=S.computed,n["default"].cacheFor=S.cacheFor,n["default"].addObserver=L.addObserver,n["default"].observersFor=L.observersFor,n["default"].removeObserver=L.removeObserver,n["default"].addBeforeObserver=L.addBeforeObserver,n["default"]._suspendBeforeObserver=L._suspendBeforeObserver,n["default"]._suspendBeforeObservers=L._suspendBeforeObservers,n["default"]._suspendObserver=L._suspendObserver,n["default"]._suspendObservers=L._suspendObservers,n["default"].beforeObserversFor=L.beforeObserversFor,n["default"].removeBeforeObserver=L.removeBeforeObserver,n["default"].IS_BINDING=O.IS_BINDING,n["default"].required=O.required,n["default"].aliasMethod=O.aliasMethod,n["default"].observer=O.observer,n["default"].immediateObserver=O.immediateObserver,n["default"].beforeObserver=O.beforeObserver,n["default"].mixin=O.mixin,n["default"].Mixin=O.Mixin,n["default"].oneWay=D.oneWay,n["default"].bind=D.bind,n["default"].Binding=D.Binding,n["default"].isGlobalPath=D.isGlobalPath,n["default"].run=M["default"],n["default"].Backburner=z["default"],n["default"].libraries=new R["default"],n["default"].libraries.registerCoreLibrary("Ember",n["default"].VERSION),n["default"].isNone=N["default"],n["default"].isEmpty=F["default"],n["default"].isBlank=I["default"],n["default"].isPresent=B["default"],n["default"].merge=r["default"],n["default"].onerror=null,n["default"].__loader.registry["ember-debug"]&&e("ember-debug"),t["default"]=n["default"]}),t("ember-metal/alias",["exports","ember-metal/property_get","ember-metal/property_set","ember-metal/core","ember-metal/error","ember-metal/properties","ember-metal/computed","ember-metal/platform/create","ember-metal/utils","ember-metal/dependent_keys"],function(t,e,n,r,i,o,s,a,l,u){"use strict";function c(t){return new h(t)}function h(t){this.isDescriptor=!0,this.altKey=t,this._dependentKeys=[t]}function d(t,e,n){throw new i["default"]("Cannot set read-only property '"+e+"' on object: "+l.inspect(t))}function p(t,e,r){return o.defineProperty(t,e,null),n.set(t,e,r)}t.AliasedProperty=h,t["default"]=c,h.prototype=a["default"](o.Descriptor.prototype),h.prototype.get=function(t,n){return e.get(t,this.altKey)},h.prototype.set=function(t,e,r){return n.set(t,this.altKey,r)},h.prototype.willWatch=function(t,e){u.addDependentKeys(this,t,e,l.meta(t))},h.prototype.didUnwatch=function(t,e){u.removeDependentKeys(this,t,e,l.meta(t))},h.prototype.setup=function(t,e){var n=l.meta(t);n.watching[e]&&u.addDependentKeys(this,t,e,n)},h.prototype.teardown=function(t,e){var n=l.meta(t);n.watching[e]&&u.removeDependentKeys(this,t,e,n)},h.prototype.readOnly=function(){return this.set=d,this},h.prototype.oneWay=function(){return this.set=p,this},h.prototype._meta=void 0,h.prototype.meta=s.ComputedProperty.prototype.meta}),t("ember-metal/array",["exports"],function(t){"use strict";var e=Array.prototype,n=function(t){return t&&Function.prototype.toString.call(t).indexOf("[native code]")>-1},r=function(t,e){return n(t)?t:e},o=r(e.map,function(t){if(void 0===this||null===this||"function"!=typeof t)throw new TypeError;for(var e=Object(this),n=e.length>>>0,r=new Array(n),i=0;n>i;i++)i in e&&(r[i]=t.call(arguments[1],e[i],i,e));return r}),s=r(e.forEach,function(t){if(void 0===this||null===this||"function"!=typeof t)throw new TypeError;for(var e=Object(this),n=e.length>>>0,r=0;n>r;r++)r in e&&t.call(arguments[1],e[r],r,e)}),a=r(e.indexOf,function(t,e){null===e||void 0===e?e=0:0>e&&(e=Math.max(0,this.length+e));for(var n=e,r=this.length;r>n;n++)if(this[n]===t)return n;return-1}),l=r(e.lastIndexOf,function(t,e){var n,r=this.length;for(e=void 0===e?r-1:0>e?Math.ceil(e):Math.floor(e),0>e&&(e+=r),n=e;n>=0;n--)if(this[n]===t)return n;return-1}),u=r(e.filter,function(t,e){var n,r,i=[],o=this.length;for(n=0;o>n;n++)this.hasOwnProperty(n)&&(r=this[n],t.call(e,r,n,this)&&i.push(r));return i});i.SHIM_ES5&&(e.map=e.map||o,e.forEach=e.forEach||s,e.filter=e.filter||u,e.indexOf=e.indexOf||a,e.lastIndexOf=e.lastIndexOf||l),t.map=o,t.forEach=s,t.filter=u,t.indexOf=a,t.lastIndexOf=l}),t("ember-metal/binding",["exports","ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/observer","ember-metal/run_loop","ember-metal/path_cache"],function(t,e,n,r,i,o,s,a){"use strict";function l(t,r){return n.get(a.isGlobal(r)?e["default"].lookup:t,r)}function u(t,e){this._direction=void 0,this._from=e,this._to=t,this._readyToSync=void 0,this._oneWay=void 0}function c(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function h(t,e,n){return new u(e,n).connect(t)}function d(t,e,n){return new u(e,n).oneWay().connect(t)}t.bind=h,t.oneWay=d,t.Binding=u,e["default"].LOG_BINDINGS=!!e["default"].ENV.LOG_BINDINGS,u.prototype={copy:function(){var t=new u(this._to,this._from);return this._oneWay&&(t._oneWay=!0),t},from:function(t){return this._from=t,this},to:function(t){return this._to=t,this},oneWay:function(){return this._oneWay=!0,this},toString:function(){var t=this._oneWay?"[oneWay]":"";return"Ember.Binding<"+i.guidFor(this)+">("+this._from+" -> "+this._to+")"+t},connect:function(t){var e=this._from,n=this._to;return r.trySet(t,n,l(t,e)),o.addObserver(t,e,this,this.fromDidChange),this._oneWay||o.addObserver(t,n,this,this.toDidChange),this._readyToSync=!0,this},disconnect:function(t){var e=!this._oneWay;return o.removeObserver(t,this._from,this,this.fromDidChange),e&&o.removeObserver(t,this._to,this,this.toDidChange),this._readyToSync=!1,this},fromDidChange:function(t){this._scheduleSync(t,"fwd")},toDidChange:function(t){this._scheduleSync(t,"back")},_scheduleSync:function(t,e){var n=this._direction;void 0===n&&(s["default"].schedule("sync",this,this._sync,t),this._direction=e),"back"===n&&"fwd"===e&&(this._direction="fwd")},_sync:function(t){var i=e["default"].LOG_BINDINGS;if(!t.isDestroyed&&this._readyToSync){var s=this._direction,u=this._from,c=this._to;if(this._direction=void 0,"fwd"===s){var h=l(t,this._from);i&&e["default"].Logger.log(" ",this.toString(),"->",h,t),this._oneWay?r.trySet(t,c,h):o._suspendObserver(t,c,this,this.toDidChange,function(){r.trySet(t,c,h)})}else if("back"===s){var d=n.get(t,this._to);i&&e["default"].Logger.log(" ",this.toString(),"<-",d,t),o._suspendObserver(t,u,this,this.fromDidChange,function(){r.trySet(a.isGlobal(u)?e["default"].lookup:t,u,d)})}}}},c(u,{from:function(t){var e=this;return new e(void 0,t)},to:function(t){var e=this;return new e(t,void 0)},oneWay:function(t,e){var n=this;return new n(void 0,t).oneWay(e)}}),t.isGlobalPath=a.isGlobal}),t("ember-metal/cache",["exports","ember-metal/dictionary"],function(t,e){"use strict";function n(t,n){this.store=e["default"](null),this.size=0,this.misses=0,this.hits=0,this.limit=t,this.func=n}t["default"]=n;var r=function(){};n.prototype={set:function(t,e){return this.limit>this.size&&(this.size++,void 0===e?this.store[t]=r:this.store[t]=e),e},get:function(t){var e=this.store[t];return void 0===e?(this.misses++,e=this.set(t,this.func(t))):e===r?(this.hits++,e=void 0):this.hits++,e},purge:function(){this.store=e["default"](null),this.size=0,this.hits=0,this.misses=0}}}),t("ember-metal/chains",["exports","ember-metal/core","ember-metal/property_get","ember-metal/utils","ember-metal/array","ember-metal/watch_key"],function(t,e,n,r,i,o){"use strict";function s(t){return t.match(m)[0]}function a(t){return t&&"object"==typeof t}function l(){if(0!==g.length){var t=g;g=[],i.forEach.call(t,function(t){t[0].add(t[1])}),f("Watching an undefined global, Ember expects watched globals to be setup by the time the run loop is flushed, check for typos",0===g.length)}}function u(t,e,n){if(a(t)){var i=r.meta(t),s=i.chainWatchers;i.hasOwnProperty("chainWatchers")||(s=i.chainWatchers={}),s[e]||(s[e]=[]),s[e].push(n),o.watchKey(t,e,i)}}function c(t,e,n){if(a(t)){var r=t.__ember_meta__;if(!r||r.hasOwnProperty("chainWatchers")){var i=r&&r.chainWatchers;if(i&&i[e]){i=i[e];for(var s=0,l=i.length;l>s;s++)if(i[s]===n){i.splice(s,1);break}}o.unwatchKey(t,e,r)}}}function h(t,e,n){this._parent=t,this._key=e,this._watching=void 0===n,this._value=n,this._paths={},this._watching&&(this._object=t.value(),this._object&&u(this._object,this._key,this)),this._parent&&"@each"===this._parent._key&&this.value()}function d(t,e){if(t){var r=t.__ember_meta__;if(!r||r.proto!==t){if("@each"===e)return n.get(t,e);var i=t[e],o=null!==i&&"object"==typeof i&&i.isDescriptor?i:void 0;return o&&o._cacheable?r.cache&&e in r.cache?r.cache[e]:void 0:n.get(t,e)}}}function p(t){var e,n,i,o=t.__ember_meta__;if(o){if(n=o.chainWatchers)for(var s in n)if(n.hasOwnProperty(s)&&(i=n[s]))for(var a=0,l=i.length;l>a;a++)i[a].didChange(null);e=o.chains,e&&e.value()!==t&&(r.meta(t).chains=e=e.copy(t))}}t.flushPendingChains=l,t.finishChains=p,t.removeChainWatcher=c,t.ChainNode=h;var f=e["default"].warn,m=/^([^\.]+)/,g=[];h.prototype={value:function(){if(void 0===this._value&&this._watching){var t=this._parent.value();this._value=d(t,this._key)}return this._value},destroy:function(){if(this._watching){var t=this._object;t&&c(t,this._key,this),this._watching=!1}},copy:function(t){var e,n=new h(null,null,t),r=this._paths;for(e in r)r[e]<=0||n.add(e);return n},add:function(t){var e,r,i,o,a;if(a=this._paths,a[t]=(a[t]||0)+1,e=this.value(),r=n.normalizeTuple(e,t),r[0]&&r[0]===e)t=r[1],i=s(t),t=t.slice(i.length+1);else{if(!r[0])return g.push([this,t]),void(r.length=0);o=r[0],i=t.slice(0,0-(r[1].length+1)),t=r[1]}r.length=0,this.chain(i,t,o)},remove:function(t){var e,r,i,o,a;a=this._paths,a[t]>0&&a[t]--,e=this.value(),r=n.normalizeTuple(e,t),r[0]===e?(t=r[1],i=s(t),t=t.slice(i.length+1)):(o=r[0],i=t.slice(0,0-(r[1].length+1)),t=r[1]),r.length=0,this.unchain(i,t)},count:0,chain:function(t,e,n){var r,i=this._chains;i||(i=this._chains={}),r=i[t],r||(r=i[t]=new h(this,t,n)),r.count++,e&&(t=s(e),e=e.slice(t.length+1),r.chain(t,e))},unchain:function(t,e){var n=this._chains,r=n[t];if(e&&e.length>1){var i=s(e),o=e.slice(i.length+1);r.unchain(i,o)}r.count--,r.count<=0&&(delete n[r._key],r.destroy())},willChange:function(t){var e=this._chains;if(e)for(var n in e)e.hasOwnProperty(n)&&e[n].willChange(t);this._parent&&this._parent.chainWillChange(this,this._key,1,t)},chainWillChange:function(t,e,n,r){this._key&&(e=this._key+"."+e),this._parent?this._parent.chainWillChange(this,e,n+1,r):(n>1&&r.push(this.value(),e),e="this."+e,this._paths[e]>0&&r.push(this.value(),e))},chainDidChange:function(t,e,n,r){this._key&&(e=this._key+"."+e),this._parent?this._parent.chainDidChange(this,e,n+1,r):(n>1&&r.push(this.value(),e),e="this."+e,this._paths[e]>0&&r.push(this.value(),e))},didChange:function(t){if(this._watching){var e=this._parent.value();e!==this._object&&(c(this._object,this._key,this),this._object=e,u(e,this._key,this)),this._value=void 0,this._parent&&"@each"===this._parent._key&&this.value()}var n=this._chains;if(n)for(var r in n)n.hasOwnProperty(r)&&n[r].didChange(t);null!==t&&this._parent&&this._parent.chainDidChange(this,this._key,1,t)}}}),t("ember-metal/computed",["exports","ember-metal/property_set","ember-metal/utils","ember-metal/expand_properties","ember-metal/error","ember-metal/properties","ember-metal/property_events","ember-metal/dependent_keys"],function(t,e,n,r,i,o,s,a){"use strict";function l(){}function u(t,e){this.isDescriptor=!0,"function"==typeof t?(t.__ember_arity=t.length,this._getter=t,t.__ember_arity>1&&(this._setter=t)):(this._getter=t.get,this._setter=t.set,this._setter&&void 0===this._setter.__ember_arity&&(this._setter.__ember_arity=this._setter.length)),this._dependentKeys=void 0,this._suspended=void 0,this._meta=void 0,this._cacheable=e&&void 0!==e.cacheable?e.cacheable:!0,this._dependentKeys=e&&e.dependentKeys,this._readOnly=e&&(void 0!==e.readOnly||!!e.readOnly)||!1}function c(t){for(var e=0,n=t.length;n>e;e++)t[e].didChange(null)}function h(t){var e;arguments.length>1&&(e=[].slice.call(arguments),t=e.pop());var n=new u(t);return e&&n.property.apply(n,e),n}function d(t,e){var n=t.__ember_meta__,r=n&&n.cache,i=r&&r[e];return i===l?void 0:i}t.ComputedProperty=u,t.computed=h,t.cacheFor=d;var p=n.meta;u.prototype=new o.Descriptor;var f=u.prototype;f.cacheable=function(t){return this._cacheable=t!==!1,this},f["volatile"]=function(){return this._cacheable=!1,this},f.readOnly=function(t){return this._readOnly=void 0===t||!!t,this},f.property=function(){var t,e=function(e){t.push(e)};t=[];for(var n=0,i=arguments.length;i>n;n++)r["default"](arguments[n],e);return this._dependentKeys=t,this},f.meta=function(t){return 0===arguments.length?this._meta||{}:(this._meta=t,this)},f.didChange=function(t,e){if(this._cacheable&&this._suspended!==t){var n=p(t);n.cache&&void 0!==n.cache[e]&&(n.cache[e]=void 0,a.removeDependentKeys(this,t,e,n))}},f.get=function(t,e){var n,r,i,o;if(this._cacheable){i=p(t),r=i.cache;var s=r&&r[e];if(s===l)return void 0;if(void 0!==s)return s;n=this._getter.call(t,e),r=i.cache,r||(r=i.cache={}),void 0===n?r[e]=l:r[e]=n,o=i.chainWatchers&&i.chainWatchers[e],o&&c(o),a.addDependentKeys(this,t,e,i)}else n=this._getter.call(t,e);return n},f.set=function(t,e,n){var r=this._suspended;this._suspended=t;try{this._set(t,e,n)}finally{this._suspended=r}},f._set=function(t,r,u){var c,h,d=this._cacheable,f=this._setter,m=p(t,d),g=m.cache,v=!1;if(this._readOnly)throw new i["default"]('Cannot set read-only property "'+r+'" on object: '+n.inspect(t));if(d&&g&&void 0!==g[r]&&(g[r]!==l&&(c=g[r]),v=!0),!f)return o.defineProperty(t,r,null,c),void e.set(t,r,u);if(h=2===f.__ember_arity?f.call(t,r,u):f.call(t,r,u,c),!v||c!==h){var y=m.watching[r];return y&&s.propertyWillChange(t,r),v&&(g[r]=void 0),d&&(v||a.addDependentKeys(this,t,r,m),g||(g=m.cache={}),void 0===h?g[r]=l:g[r]=h),y&&s.propertyDidChange(t,r),h}},f.teardown=function(t,e){var n=p(t);return n.cache&&(e in n.cache&&a.removeDependentKeys(this,t,e,n),this._cacheable&&delete n.cache[e]),null},d.set=function(t,e,n){void 0===n?t[e]=l:t[e]=n},d.get=function(t,e){var n=t[e];return n===l?void 0:n},d.remove=function(t,e){t[e]=void 0}}),t("ember-metal/computed_macros",["exports","ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/computed","ember-metal/is_empty","ember-metal/is_none","ember-metal/alias"],function(t,e,n,r,i,o,s,a){"use strict";function l(t,e){for(var r={},i=0;i<e.length;i++)r[e[i]]=n.get(t,e[i]);return r}function u(t){return function(){for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];var o=i.computed(function(){return t.apply(this,[l(this,n)])});return o.property.apply(o,n)}}function c(t){return i.computed(t+".length",function(){return o["default"](n.get(this,t))})}function h(t){return i.computed(t+".length",function(){return!o["default"](n.get(this,t))})}function d(t){return i.computed(t,function(){return s["default"](n.get(this,t))})}function p(t){return i.computed(t,function(){return!n.get(this,t)})}function f(t){return i.computed(t,function(){return!!n.get(this,t)})}function m(t,e){return i.computed(t,function(){var r=n.get(this,t);return"string"==typeof r?e.test(r):!1})}function g(t,e){return i.computed(t,function(){return n.get(this,t)===e})}function v(t,e){return i.computed(t,function(){return n.get(this,t)>e})}function y(t,e){return i.computed(t,function(){return n.get(this,t)>=e})}function b(t,e){return i.computed(t,function(){return n.get(this,t)<e})}function _(t,e){return i.computed(t,function(){return n.get(this,t)<=e})}function w(t){return a["default"](t).oneWay()}function x(t){return a["default"](t).readOnly()}function C(t){return i.computed({get:function(e){return n.get(this,t)},set:function(e,r,i){return null!=r?r:n.get(this,t)}})}function T(t){return i.computed(t,{get:function(e){return n.get(this,t)},set:function(e,n){return r.set(this,t,n),n}})}t.empty=c,t.notEmpty=h,t.none=d,t.not=p,t.bool=f,t.match=m,t.equal=g,t.gt=v,t.gte=y,t.lt=b,t.lte=_,t.oneWay=w,t.readOnly=x,t.defaultTo=C,t.deprecatingAlias=T;var E=u(function(t){var e;for(var n in t)if(e=t[n],t.hasOwnProperty(n)&&!e)return!1;return e}),k=u(function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return t[e];return!1}),S=u(function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return t[e];return null}),P=u(function(t){var n=e["default"].A();for(var r in t)t.hasOwnProperty(r)&&(s["default"](t[r])?n.push(null):n.push(t[r]));return n});t.and=E,t.or=k,t.any=S,t.collect=P}),t("ember-metal/core",["exports"],function(t){"use strict";function e(){return this}t.K=e,"undefined"==typeof i&&(i={});var n=o||{};i.imports=i.imports||n,i.lookup=i.lookup||n;var r=i.exports=i.exports||n;if(r.Em=r.Ember=i,i.isNamespace=!0,i.toString=function(){return"Ember"},i.VERSION="1.12.0",i.ENV||("undefined"!=typeof EmberENV?i.ENV=EmberENV:"undefined"!=typeof ENV?i.ENV=ENV:i.ENV={}),i.config=i.config||{},"undefined"==typeof i.ENV.DISABLE_RANGE_API&&(i.ENV.DISABLE_RANGE_API=!0),i.FEATURES={"features-stripped-test":!1,"ember-routing-named-substates":!0,"mandatory-setter":!1,"ember-htmlbars-component-generation":!1,"ember-htmlbars-component-helper":!0,"ember-htmlbars-inline-if-helper":!0,
"ember-htmlbars-attribute-syntax":!0,"ember-routing-transitioning-classes":!0,"new-computed-syntax":!0,"ember-testing-checkbox-helpers":!1,"ember-metal-stream":!1,"ember-application-instance-initializers":!0,"ember-application-initializer-context":!0,"ember-router-willtransition":!0,"ember-application-visit":!1,"ember-views-component-block-info":!1,"ember-routing-core-outlet":!1,"ember-libraries-isregistered":!1},i.ENV.FEATURES)for(var s in i.ENV.FEATURES)i.ENV.FEATURES.hasOwnProperty(s)&&(i.FEATURES[s]=i.ENV.FEATURES[s]);i.FEATURES.isEnabled=function(t){var e=i.FEATURES[t];return i.ENV.ENABLE_ALL_FEATURES?!0:e===!0||e===!1||void 0===e?e:i.ENV.ENABLE_OPTIONAL_FEATURES?!0:!1},i.EXTEND_PROTOTYPES=i.ENV.EXTEND_PROTOTYPES,"undefined"==typeof i.EXTEND_PROTOTYPES&&(i.EXTEND_PROTOTYPES=!0),i.LOG_STACKTRACE_ON_DEPRECATION=i.ENV.LOG_STACKTRACE_ON_DEPRECATION!==!1,i.SHIM_ES5=i.ENV.SHIM_ES5===!1?!1:i.EXTEND_PROTOTYPES,i.LOG_VERSION=i.ENV.LOG_VERSION===!1?!1:!0,i.K=e,"undefined"==typeof i.assert&&(i.assert=e),"undefined"==typeof i.warn&&(i.warn=e),"undefined"==typeof i.debug&&(i.debug=e),"undefined"==typeof i.runInDebug&&(i.runInDebug=e),"undefined"==typeof i.deprecate&&(i.deprecate=e),"undefined"==typeof i.deprecateFunc&&(i.deprecateFunc=function(t,e){return e}),t["default"]=i}),t("ember-metal/dependent_keys",["exports","ember-metal/platform/create","ember-metal/watching"],function(t,e,n){function r(t,n){var r=t[n];return r?t.hasOwnProperty(n)||(r=t[n]=e["default"](r)):r=t[n]={},r}function i(t){return r(t,"deps")}function o(t,e,o,s){var a,l,u,c,h,d=t._dependentKeys;if(d)for(a=i(s),l=0,u=d.length;u>l;l++)c=d[l],h=r(a,c),h[o]=(h[o]||0)+1,n.watch(e,c,s)}function s(t,e,o,s){var a,l,u,c,h,d=t._dependentKeys;if(d)for(a=i(s),l=0,u=d.length;u>l;l++)c=d[l],h=r(a,c),h[o]=(h[o]||0)-1,n.unwatch(e,c,s)}t.addDependentKeys=o,t.removeDependentKeys=s}),t("ember-metal/deprecate_property",["exports","ember-metal/core","ember-metal/platform/define_property","ember-metal/properties","ember-metal/property_get","ember-metal/property_set"],function(t,e,n,r,i,o){"use strict";function s(t,e,s){function a(){}n.hasPropertyAccessors&&r.defineProperty(t,e,{configurable:!0,enumerable:!1,set:function(t){a(),o.set(this,s,t)},get:function(){return a(),i.get(this,s)}})}t.deprecateProperty=s}),t("ember-metal/dictionary",["exports","ember-metal/platform/create"],function(t,e){"use strict";function n(t){var n=e["default"](t);return n._dict=null,delete n._dict,n}t["default"]=n}),t("ember-metal/enumerable_utils",["exports","ember-metal/array"],function(t,e){"use strict";function n(t,n,r){return t.map?t.map(n,r):e.map.call(t,n,r)}function r(t,n,r){return t.forEach?t.forEach(n,r):e.forEach.call(t,n,r)}function i(t,n,r){return t.filter?t.filter(n,r):e.filter.call(t,n,r)}function o(t,n,r){return t.indexOf?t.indexOf(n,r):e.indexOf.call(t,n,r)}function s(t,e){return void 0===e?[]:n(e,function(e){return o(t,e)})}function a(t,e){var n=o(t,e);-1===n&&t.push(e)}function l(t,e){var n=o(t,e);-1!==n&&t.splice(n,1)}function u(t,e,n,r){for(var i,o,s=[].concat(r),a=[],l=6e4,u=e,c=n;s.length;)i=c>l?l:c,0>=i&&(i=0),o=s.splice(0,l),o=[u,i].concat(o),u+=l,c-=i,a=a.concat(d.apply(t,o));return a}function c(t,e,n,r){return t.replace?t.replace(e,n,r):u(t,e,n,r)}function h(t,e){var n=[];return r(t,function(t){o(e,t)>=0&&n.push(t)}),n}t.map=n,t.forEach=r,t.filter=i,t.indexOf=o,t.indexesOf=s,t.addObject=a,t.removeObject=l,t._replace=u,t.replace=c,t.intersection=h;var d=Array.prototype.splice;t["default"]={_replace:u,addObject:a,filter:i,forEach:r,indexOf:o,indexesOf:s,intersection:h,map:n,removeObject:l,replace:c}}),t("ember-metal/environment",["exports","ember-metal/core"],function(t,e){"use strict";var n,r="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof document.createElement&&!e["default"].ENV.disableBrowserEnvironment;n=r?{hasDOM:!0,isChrome:!!window.chrome&&!window.opera,location:window.location,history:window.history,userAgent:window.navigator.userAgent,global:window}:{hasDOM:!1,isChrome:!1,location:null,history:null,userAgent:"Lynx (textmode)",global:null},t["default"]=n}),t("ember-metal/error",["exports","ember-metal/platform/create"],function(t,e){"use strict";function n(){var t=Error.apply(this,arguments);Error.captureStackTrace&&Error.captureStackTrace(this,i.Error);for(var e=0;e<r.length;e++)this[r[e]]=t[r[e]]}var r=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=e["default"](Error.prototype),t["default"]=n}),t("ember-metal/events",["exports","ember-metal/core","ember-metal/utils","ember-metal/platform/create"],function(t,e,n,r){function i(t,e,n){for(var r=-1,i=t.length-3;i>=0;i-=3)if(e===t[i]&&n===t[i+1]){r=i;break}return r}function o(t,e){var i,o=n.meta(t,!0),s=o.listeners;return s?s.__source__!==t&&(s=o.listeners=r["default"](s),s.__source__=t):(s=o.listeners=r["default"](null),s.__source__=t),i=s[e],i&&i.__source__!==t?(i=s[e]=s[e].slice(),i.__source__=t):i||(i=s[e]=[],i.__source__=t),i}function s(t,e,n){var r=t.__ember_meta__,o=r&&r.listeners&&r.listeners[e];if(o){for(var s=[],a=o.length-3;a>=0;a-=3){var l=o[a],u=o[a+1],c=o[a+2],h=i(n,l,u);-1===h&&(n.push(l,u,c),s.push(l,u,c))}return s}}function a(t,e,n,r,s){r||"function"!=typeof n||(r=n,n=null);var a=o(t,e),l=i(a,n,r),u=0;s&&(u|=g),-1===l&&(a.push(n,r,u),"function"==typeof t.didAddListener&&t.didAddListener(e,n,r))}function l(t,e,n,r){function s(n,r){var s=o(t,e),a=i(s,n,r);-1!==a&&(s.splice(a,3),"function"==typeof t.didRemoveListener&&t.didRemoveListener(e,n,r))}if(r||"function"!=typeof n||(r=n,n=null),r)s(n,r);else{var a=t.__ember_meta__,l=a&&a.listeners&&a.listeners[e];if(!l)return;for(var u=l.length-3;u>=0;u-=3)s(l[u],l[u+1])}}function u(t,e,r,s,a){function l(){return a.call(r)}function u(){-1!==h&&(c[h+2]&=~v)}s||"function"!=typeof r||(s=r,r=null);var c=o(t,e),h=i(c,r,s);return-1!==h&&(c[h+2]|=v),n.tryFinally(l,u)}function c(t,e,r,s,a){function l(){return a.call(r)}function u(){for(var t=0,e=f.length;e>t;t++){var n=f[t];m[t][n+2]&=~v}}s||"function"!=typeof r||(s=r,r=null);var c,h,d,p,f=[],m=[];for(d=0,p=e.length;p>d;d++){c=e[d],h=o(t,c);var g=i(h,r,s);-1!==g&&(h[g+2]|=v,f.push(g),m.push(h))}return n.tryFinally(l,u)}function h(t){var e=t.__ember_meta__.listeners,n=[];if(e)for(var r in e)"__source__"!==r&&e[r]&&n.push(r);return n}function d(t,r,i,o){if(t!==e["default"]&&"function"==typeof t.sendEvent&&t.sendEvent(r,i),!o){var s=t.__ember_meta__;o=s&&s.listeners&&s.listeners[r]}if(o){for(var a=o.length-3;a>=0;a-=3){var u=o[a],c=o[a+1],h=o[a+2];c&&(h&v||(h&g&&l(t,r,u,c),u||(u=t),"string"==typeof c?i?n.applyStr(u,c,i):u[c]():i?n.apply(u,c,i):c.call(u)))}return!0}}function p(t,e){var n=t.__ember_meta__,r=n&&n.listeners&&n.listeners[e];return!(!r||!r.length)}function f(t,e){var n=[],r=t.__ember_meta__,i=r&&r.listeners&&r.listeners[e];if(!i)return n;for(var o=0,s=i.length;s>o;o+=3){var a=i[o],l=i[o+1];n.push([a,l])}return n}function m(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];var r=e.pop(),i=e;return r.__ember_listens__=i,r}t.accumulateListeners=s,t.addListener=a,t.suspendListener=u,t.suspendListeners=c,t.watchedEvents=h,t.sendEvent=d,t.hasListeners=p,t.listenersFor=f,t.on=m,t.removeListener=l;var g=1,v=2}),t("ember-metal/expand_properties",["exports","ember-metal/error","ember-metal/enumerable_utils","ember-metal/utils"],function(t,e,n,r){"use strict";function i(t,i){if(t.indexOf(" ")>-1)throw new e["default"]("Brace expanded properties cannot contain spaces, e.g. 'user.{firstName, lastName}' should be 'user.{firstName,lastName}'");if("string"===r.typeOf(t)){var a=t.split(s),l=[a];n.forEach(a,function(t,e){t.indexOf(",")>=0&&(l=o(l,t.split(","),e))}),n.forEach(l,function(t){i(t.join(""))})}else i(t)}function o(t,e,r){var i=[];return n.forEach(t,function(t){n.forEach(e,function(e){var n=t.slice(0);n[r]=e,i.push(n)})}),i}t["default"]=i;var s=/\{|\}/}),t("ember-metal/get_properties",["exports","ember-metal/property_get","ember-metal/utils"],function(t,e,n){"use strict";function r(t){var r={},i=arguments,o=1;2===arguments.length&&"array"===n.typeOf(arguments[1])&&(o=0,i=arguments[1]);for(var s=i.length;s>o;o++)r[i[o]]=e.get(t,i[o]);return r}t["default"]=r}),t("ember-metal/injected_property",["exports","ember-metal/core","ember-metal/computed","ember-metal/alias","ember-metal/properties","ember-metal/platform/create"],function(t,e,n,r,i,o){"use strict";function s(t,e){this.type=t,this.name=e,this._super$Constructor(a),c.oneWay.call(this)}function a(t){var e=this[t],n=null!==e&&"object"==typeof e&&e.isDescriptor?e:void 0;return this.container.lookup(n.type+":"+(n.name||t))}s.prototype=o["default"](i.Descriptor.prototype);var l=s.prototype,u=n.ComputedProperty.prototype,c=r.AliasedProperty.prototype;l._super$Constructor=n.ComputedProperty,l.get=u.get,l.readOnly=u.readOnly,l.teardown=u.teardown,t["default"]=s}),t("ember-metal/instrumentation",["exports","ember-metal/core","ember-metal/utils"],function(t,e,n){"use strict";function r(t,e,r,o){if(arguments.length<=3&&"function"==typeof e&&(o=r,r=e,e=void 0),0===l.length)return r.call(o);var s=e||{},a=i(t,function(){return s});if(a){var u=function(){return r.call(o)},c=function(t){s.exception=t};return n.tryCatchFinally(u,c,a)}return r.call(o)}function i(t,n){var r=u[t];if(r||(r=c(t)),0!==r.length){var i,o=n(),s=e["default"].STRUCTURED_PROFILE;s&&(i=t+": "+o.object,console.time(i));var a,l,d=r.length,p=new Array(d),f=h();for(a=0;d>a;a++)l=r[a],p[a]=l.before(t,f,o);return function(){var e,n,a,l=h();for(e=0,n=r.length;n>e;e++)a=r[e],a.after(t,l,o,p[e]);s&&console.timeEnd(i)}}}function o(t,e){for(var n,r=t.split("."),i=[],o=0,s=r.length;s>o;o++)n=r[o],"*"===n?i.push("[^\\.]*"):i.push(n);i=i.join("\\."),i+="(\\..*)?";var a={pattern:t,regex:new RegExp("^"+i+"$"),object:e};return l.push(a),u={},a}function s(t){for(var e,n=0,r=l.length;r>n;n++)l[n]===t&&(e=n);l.splice(e,1),u={}}function a(){l.length=0,u={}}t.instrument=r,t._instrumentStart=i,t.subscribe=o,t.unsubscribe=s,t.reset=a;var l=[],u={},c=function(t){for(var e,n=[],r=0,i=l.length;i>r;r++)e=l[r],e.regex.test(t)&&n.push(e.object);return u[t]=n,n},h=function(){var t="undefined"!=typeof window?window.performance||{}:{},e=t.now||t.mozNow||t.webkitNow||t.msNow||t.oNow;return e?e.bind(t):function(){return+new Date}}();t.subscribers=l}),t("ember-metal/is_blank",["exports","ember-metal/is_empty"],function(t,e){"use strict";function n(t){return e["default"](t)||"string"==typeof t&&null===t.match(/\S/)}t["default"]=n}),t("ember-metal/is_empty",["exports","ember-metal/property_get","ember-metal/is_none"],function(t,e,n){"use strict";function r(t){var r=n["default"](t);if(r)return r;if("number"==typeof t.size)return!t.size;var i=typeof t;if("object"===i){var o=e.get(t,"size");if("number"==typeof o)return!o}if("number"==typeof t.length&&"function"!==i)return!t.length;if("object"===i){var s=e.get(t,"length");if("number"==typeof s)return!s}return!1}t["default"]=r}),t("ember-metal/is_none",["exports"],function(t){"use strict";function e(t){return null===t||void 0===t}t["default"]=e}),t("ember-metal/is_present",["exports","ember-metal/is_blank"],function(t,e){"use strict";function n(t){return!e["default"](t)}t["default"]=n}),t("ember-metal/keys",["exports","ember-metal/platform/define_property"],function(t,e){"use strict";var n=Object.keys;n&&e.canDefineNonEnumerableProperties||(n=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var o,s,a=[];for(o in i)"_super"!==o&&0!==o.lastIndexOf("__",0)&&t.call(i,o)&&a.push(o);if(e)for(s=0;r>s;s++)t.call(i,n[s])&&a.push(n[s]);return a}}()),t["default"]=n}),t("ember-metal/libraries",["exports","ember-metal/core","ember-metal/enumerable_utils"],function(t,e,n){"use strict";function r(){this._registry=[],this._coreLibIndex=0}r.prototype={constructor:r,_getLibraryByName:function(t){for(var e=this._registry,n=e.length,r=0;n>r;r++)if(e[r].name===t)return e[r]},register:function(t,e,n){var r=this._registry.length;this._getLibraryByName(t)||(n&&(r=this._coreLibIndex++),this._registry.splice(r,0,{name:t,version:e}))},registerCoreLibrary:function(t,e){this.register(t,e,!0)},deRegister:function(t){var e,r=this._getLibraryByName(t);r&&(e=n.indexOf(this._registry,r),this._registry.splice(e,1))},each:function(t){n.forEach(this._registry,function(e){t(e.name,e.version)})}},t["default"]=r}),t("ember-metal/logger",["exports","ember-metal/core","ember-metal/error"],function(t,e,n){"use strict";function r(){return this}function i(t){var n,r;e["default"].imports.console?n=e["default"].imports.console:"undefined"!=typeof console&&(n=console);var i="object"==typeof n?n[t]:null;return i?"function"==typeof i.bind?(r=i.bind(n),r.displayName="console."+t,r):"function"==typeof i.apply?(r=function(){i.apply(n,arguments)},r.displayName="console."+t,r):function(){var t=Array.prototype.join.call(arguments,", ");i(t)}:void 0}function o(t,e){if(!t)try{throw new n["default"]("assertion failed: "+e)}catch(r){setTimeout(function(){throw r},0)}}t["default"]={log:i("log")||r,warn:i("warn")||r,error:i("error")||r,info:i("info")||r,debug:i("debug")||i("info")||r,assert:i("assert")||o}}),t("ember-metal/map",["exports","ember-metal/utils","ember-metal/array","ember-metal/platform/create","ember-metal/deprecate_property"],function(t,e,n,r,o){"use strict";function s(t){throw new TypeError(""+Object.prototype.toString.call(t)+" is not a function")}function a(t){throw new TypeError("Constructor "+t+" requires 'new'")}function l(t){var e=r["default"](null);for(var n in t)e[n]=t[n];return e}function u(t,e){var n=t._keys.copy(),r=l(t._values);return e._keys=n,e._values=r,e.size=t.size,e}function c(){this instanceof c?(this.clear(),this._silenceRemoveDeprecation=!1):a("OrderedSet")}function h(){this instanceof this.constructor?(this._keys=c.create(),this._keys._silenceRemoveDeprecation=!0,this._values=r["default"](null),this.size=0):a("OrderedSet")}function d(t){this._super$constructor(),this.defaultValue=t.defaultValue}t.OrderedSet=c,t.Map=h,t.MapWithDefault=d,c.create=function(){var t=this;return new t},c.prototype={constructor:c,clear:function(){this.presenceSet=r["default"](null),this.list=[],this.size=0},add:function(t,n){var r=n||e.guidFor(t),i=this.presenceSet,o=this.list;return i[r]!==!0&&(i[r]=!0,this.size=o.push(t)),this},remove:function(t,e){return this["delete"](t,e)},"delete":function(t,r){var i=r||e.guidFor(t),o=this.presenceSet,s=this.list;if(o[i]===!0){delete o[i];var a=n.indexOf.call(s,t);return a>-1&&s.splice(a,1),this.size=s.length,!0}return!1},isEmpty:function(){return 0===this.size},has:function(t){if(0===this.size)return!1;var n=e.guidFor(t),r=this.presenceSet;return r[n]===!0},forEach:function(t){if("function"!=typeof t&&s(t),0!==this.size){var e,n=this.list,r=arguments.length;if(2===r)for(e=0;e<n.length;e++)t.call(arguments[1],n[e]);else for(e=0;e<n.length;e++)t(n[e])}},toArray:function(){return this.list.slice()},copy:function(){var t=this.constructor,e=new t;return e._silenceRemoveDeprecation=this._silenceRemoveDeprecation,e.presenceSet=l(this.presenceSet),e.list=this.toArray(),e.size=this.size,e}},o.deprecateProperty(c.prototype,"length","size"),i.Map=h,h.create=function(){var t=this;return new t},h.prototype={constructor:h,size:0,get:function(t){if(0!==this.size){var n=this._values,r=e.guidFor(t);return n[r]}},set:function(t,n){var r=this._keys,i=this._values,o=e.guidFor(t),s=t===-0?0:t;return r.add(s,o),i[o]=n,this.size=r.size,this},remove:function(t){return this["delete"](t)},"delete":function(t){if(0===this.size)return!1;var n=this._keys,r=this._values,i=e.guidFor(t);return n["delete"](t,i)?(delete r[i],this.size=n.size,!0):!1},has:function(t){return this._keys.has(t)},forEach:function(t){if("function"!=typeof t&&s(t),0!==this.size){var e,n,r=arguments.length,i=this;2===r?(n=arguments[1],e=function(e){t.call(n,i.get(e),e,i)}):e=function(e){t(i.get(e),e,i)},this._keys.forEach(e)}},clear:function(){this._keys.clear(),this._values=r["default"](null),this.size=0},copy:function(){return u(this,new h)}},o.deprecateProperty(h.prototype,"length","size"),d.create=function(t){return t?new d(t):new h},d.prototype=r["default"](h.prototype),d.prototype.constructor=d,d.prototype._super$constructor=h,d.prototype._super$get=h.prototype.get,d.prototype.get=function(t){var e=this.has(t);if(e)return this._super$get(t);var n=this.defaultValue(t);return this.set(t,n),n},d.prototype.copy=function(){var t=this.constructor;return u(this,new t({defaultValue:this.defaultValue}))},t["default"]=h}),t("ember-metal/merge",["exports","ember-metal/keys"],function(t,e){"use strict";function n(t,n){if(!n||"object"!=typeof n)return t;for(var r,i=e["default"](n),o=i.length,s=0;o>s;s++)r=i[s],t[r]=n[r];return t}t["default"]=n}),t("ember-metal/mixin",["exports","ember-metal/core","ember-metal/merge","ember-metal/array","ember-metal/platform/create","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/expand_properties","ember-metal/properties","ember-metal/computed","ember-metal/binding","ember-metal/observer","ember-metal/events","ember-metal/streams/utils"],function(t,e,n,r,i,o,s,a,l,u,c,h,d,p,f){function m(){var t,e=this.__nextSuper;if(e){var n=arguments.length;return this.__nextSuper=null,t=0===n?e.call(this):1===n?e.call(this,arguments[0]):2===n?e.call(this,arguments[0],arguments[1]):e.apply(this,arguments),this.__nextSuper=e,t}}function g(t){var e=a.meta(t,!0),n=e.mixins;return n?e.hasOwnProperty("mixins")||(n=e.mixins=i["default"](n)):n=e.mixins={},n}function v(t){return"function"==typeof t&&t.isMethod!==!1&&t!==Boolean&&t!==Object&&t!==Number&&t!==Array&&t!==Date&&t!==String}function y(t,e){var n;return e instanceof N?(n=a.guidFor(e),t[n]?G:(t[n]=e,e.properties)):e}function b(t,e,n,r){var i;return i=n[t]||r[t],e[t]&&(i=i?i.concat(e[t]):e[t]),i}function _(t,e,n,r,o,s){var l;if(void 0===r[e]&&(l=o[e]),!l){var u=s[e],h=null!==u&&"object"==typeof u&&u.isDescriptor?u:void 0;l=h}return void 0!==l&&l instanceof c.ComputedProperty?(n=i["default"](n),n._getter=a.wrap(n._getter,l._getter),l._setter&&(n._setter?n._setter=a.wrap(n._setter,l._setter):n._setter=l._setter),n):n}function w(t,e,n,r,i){var o;if(void 0===i[e]&&(o=r[e]),o=o||t[e],void 0===o||"function"!=typeof o)return n;var s;return K&&(s=n.__hasSuper,void 0===s&&(s=n.toString().indexOf("_super")>-1,n.__hasSuper=s)),K===!1||s?a.wrap(n,o):n}function x(t,e,n,r){var i=r[e]||t[e];return i?"function"==typeof i.concat?null===n||void 0===n?i:i.concat(n):a.makeArray(i).concat(n):a.makeArray(n)}function C(t,e,r,i){var o=i[e]||t[e];if(!o)return r;var s=n["default"]({},o),a=!1;for(var l in r)if(r.hasOwnProperty(l)){var u=r[l];v(u)?(a=!0,s[l]=w(t,l,u,o,{})):s[l]=u}return a&&(s._super=m),s}function T(t,e,n,i,o,s,a,l){if(n instanceof u.Descriptor){if(n===W&&o[e])return G;n._getter&&(n=_(i,e,n,s,o,t)),o[e]=n,s[e]=void 0}else a&&r.indexOf.call(a,e)>=0||"concatenatedProperties"===e||"mergedProperties"===e?n=x(t,e,n,s):l&&r.indexOf.call(l,e)>=0?n=C(t,e,n,s):v(n)&&(n=w(t,e,n,s,o)),o[e]=void 0,s[e]=n}function E(t,e,n,i,o,s){function l(t){delete n[t],delete i[t]}for(var u,c,h,d,p,f,m=0,g=t.length;g>m;m++)if(u=t[m],c=y(e,u),c!==G)if(c){f=a.meta(o),o.willMergeMixin&&o.willMergeMixin(c),d=b("concatenatedProperties",c,i,o),p=b("mergedProperties",c,i,o);for(h in c)c.hasOwnProperty(h)&&(s.push(h),T(o,h,c[h],f,n,i,d,p));c.hasOwnProperty("toString")&&(o.toString=c.toString)}else u.mixins&&(E(u.mixins,e,n,i,o,s),u._without&&r.forEach.call(u._without,l))}function k(t,e,n,r){if(Y.test(e)){var o=r.bindings;o?r.hasOwnProperty("bindings")||(o=r.bindings=i["default"](r.bindings)):o=r.bindings={},o[e]=n}}function S(t,e,n){var r=function(n){d._suspendObserver(t,e,null,a,function(){s.trySet(t,e,n.value())})},a=function(){n.setValue(o.get(t,e),r)};s.set(t,e,n.value()),d.addObserver(t,e,null,a),n.subscribe(r),void 0===t._streamBindingSubscriptions&&(t._streamBindingSubscriptions=i["default"](null)),t._streamBindingSubscriptions[e]=r}function P(t,e){var n,r,i,o=e.bindings;if(o){for(n in o)if(r=o[n]){if(i=n.slice(0,-7),f.isStream(r)){S(t,i,r);continue}r instanceof h.Binding?(r=r.copy(),r.to(i)):r=new h.Binding(i,r),r.connect(t),t[n]=r}e.bindings={}}}function A(t,e){return P(t,e||a.meta(t)),t}function L(t,e,n,r,i){var o,s,a=e.methodName;return r[a]||i[a]?(o=i[a],e=r[a]):(s=t[a])&&null!==s&&"object"==typeof s&&s.isDescriptor?(e=s,o=void 0):(e=void 0,o=t[a]),{desc:e,value:o}}function O(t,e,n,r,i){var o=n[r];if(o)for(var s=0,a=o.length;a>s;s++)i(t,o[s],null,e)}function D(t,e,n){var r=t[e];"function"==typeof r&&(O(t,e,r,"__ember_observesBefore__",d.removeBeforeObserver),O(t,e,r,"__ember_observes__",d.removeObserver),O(t,e,r,"__ember_listens__",p.removeListener)),"function"==typeof n&&(O(t,e,n,"__ember_observesBefore__",d.addBeforeObserver),O(t,e,n,"__ember_observes__",d.addObserver),O(t,e,n,"__ember_listens__",p.addListener))}function M(t,e,n){var r,i,o,s={},l={},c=a.meta(t),h=[];t._super=m,E(e,g(t),s,l,t,h);for(var d=0,p=h.length;p>d;d++)if(r=h[d],"constructor"!==r&&l.hasOwnProperty(r)&&(o=s[r],i=l[r],o!==W)){for(;o&&o instanceof j;){var f=L(t,o,c,s,l);o=f.desc,i=f.value}(void 0!==o||void 0!==i)&&(D(t,r,i),k(t,r,i,c),u.defineProperty(t,r,o,i,c))}return n||A(t,c),t}function R(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return M(t,n,!1),t}function N(t,e){this.properties=e;var n=t&&t.length;if(n>0){for(var r=new Array(n),i=0;n>i;i++){var o=t[i];o instanceof N?r[i]=o:r[i]=new N(void 0,o)}this.mixins=r}else this.mixins=void 0;this.ownerConstructor=void 0}function F(t,e,n){var r=a.guidFor(t);if(n[r])return!1;if(n[r]=!0,t===e)return!0;for(var i=t.mixins,o=i?i.length:0;--o>=0;)if(F(i[o],e,n))return!0;return!1}function I(t,e,n){if(!n[a.guidFor(e)])if(n[a.guidFor(e)]=!0,e.properties){var i=e.properties;for(var o in i)i.hasOwnProperty(o)&&(t[o]=!0)}else e.mixins&&r.forEach.call(e.mixins,function(e){I(t,e,n)})}function B(){return W}function j(t){this.isDescriptor=!0,this.methodName=t}function z(t){return new j(t)}function V(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];var i,o=n.slice(-1)[0],s=function(t){i.push(t)},a=n.slice(0,-1);"function"!=typeof o&&(o=n[0],a=n.slice(1)),i=[];for(var u=0;u<a.length;++u)l["default"](a[u],s);if("function"!=typeof o)throw new e["default"].Error("Ember.observer called without a function");return o.__ember_observes__=i,o}function H(){for(var t=0,e=arguments.length;e>t;t++){arguments[t]}return V.apply(this,arguments)}function U(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];var i,o=n.slice(-1)[0],s=function(t){i.push(t)},a=n.slice(0,-1);"function"!=typeof o&&(o=n[0],a=n.slice(1)),i=[];for(var u=0;u<a.length;++u)l["default"](a[u],s);if("function"!=typeof o)throw new e["default"].Error("Ember.beforeObserver called without a function");return o.__ember_observesBefore__=i,o}t.mixin=R,t.required=B,t.aliasMethod=z,t.observer=V,t.immediateObserver=H,t.beforeObserver=U,t.Mixin=N;var W,q=[].slice,$={__nextSuper:function(t,e,n,r){}};m.call($),m.call($,1),m.call($,1,2),m.call($,1,2,3);var G={},K=function(){return this}.toString().indexOf("return this;")>-1,Y=/^.+Binding$/;t["default"]=N,N._apply=M,N.applyPartial=function(t){var e=q.call(arguments,1);return M(t,e,!0)},N.finishPartial=A,e["default"].anyUnprocessedMixins=!1,N.create=function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];e["default"].anyUnprocessedMixins=!0;var i=this;return new i(n,void 0)};var Z=N.prototype;Z.reopen=function(){var t;this.properties?(t=new N(void 0,this.properties),this.properties=void 0,this.mixins=[t]):this.mixins||(this.mixins=[]);var e,n=arguments.length,r=this.mixins;for(e=0;n>e;e++)t=arguments[e],t instanceof N?r.push(t):r.push(new N(void 0,t));return this},Z.apply=function(t){return M(t,[this],!1)},Z.applyPartial=function(t){return M(t,[this],!0)},Z.detect=function(t){if(!t)return!1;if(t instanceof N)return F(t,this,{});var e=t.__ember_meta__,n=e&&e.mixins;return n?!!n[a.guidFor(this)]:!1},Z.without=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];var r=new N([this]);return r._without=e,r},Z.keys=function(){var t={},e={},n=[];I(t,this,e);for(var r in t)t.hasOwnProperty(r)&&n.push(r);return n},N.mixins=function(t){var e=t.__ember_meta__,n=e&&e.mixins,r=[];if(!n)return r;for(var i in n){var o=n[i];o.properties||r.push(o)}return r},W=new u.Descriptor,W.toString=function(){return"(Required Property)"},j.prototype=new u.Descriptor,t.IS_BINDING=Y,t.REQUIRED=W}),t("ember-metal/observer",["exports","ember-metal/watching","ember-metal/array","ember-metal/events"],function(t,e,n,r){"use strict";function i(t){return t+g}function o(t){return t+v}function s(t,n,o,s){return r.addListener(t,i(n),o,s),e.watch(t,n),this}function a(t,e){return r.listenersFor(t,i(e))}function l(t,n,o,s){return e.unwatch(t,n),r.removeListener(t,i(n),o,s),this}function u(t,n,i,s){return r.addListener(t,o(n),i,s),e.watch(t,n),this}function c(t,e,n,i,s){return r.suspendListener(t,o(e),n,i,s)}function h(t,e,n,o,s){return r.suspendListener(t,i(e),n,o,s)}function d(t,e,i,s,a){var l=n.map.call(e,o);return r.suspendListeners(t,l,i,s,a)}function p(t,e,o,s,a){var l=n.map.call(e,i);return r.suspendListeners(t,l,o,s,a)}function f(t,e){return r.listenersFor(t,o(e))}function m(t,n,i,s){return e.unwatch(t,n),r.removeListener(t,o(n),i,s),this}t.addObserver=s,t.observersFor=a,t.removeObserver=l,t.addBeforeObserver=u,t._suspendBeforeObserver=c,t._suspendObserver=h,t._suspendBeforeObservers=d,t._suspendObservers=p,t.beforeObserversFor=f,t.removeBeforeObserver=m;var g=":change",v=":before"}),t("ember-metal/observer_set",["exports","ember-metal/utils","ember-metal/events"],function(t,e,n){"use strict";function r(){this.clear()}t["default"]=r,r.prototype.add=function(t,n,r){var i,o=this.observerSet,s=this.observers,a=e.guidFor(t),l=o[a];return l||(o[a]=l={}),i=l[n],void 0===i&&(i=s.push({sender:t,keyName:n,eventName:r,listeners:[]})-1,l[n]=i),s[i].listeners},r.prototype.flush=function(){var t,e,r,i,o=this.observers;for(this.clear(),t=0,e=o.length;e>t;++t)r=o[t],i=r.sender,i.isDestroying||i.isDestroyed||n.sendEvent(i,r.eventName,[i,r.keyName],r.listeners)},r.prototype.clear=function(){this.observerSet={},this.observers=[]}}),t("ember-metal/path_cache",["exports","ember-metal/cache"],function(t,e){"use strict";function n(t){return h.get(t)}function r(t){return d.get(t)}function i(t){return p.get(t)}function o(t){return-1!==f.get(t)}function s(t){return m.get(t)}function a(t){return g.get(t)}t.isGlobal=n,t.isGlobalPath=r,t.hasThis=i,t.isPath=o,t.getFirstKey=s,t.getTailPath=a;var l=/^[A-Z$]/,u=/^[A-Z$].*[\.]/,c="this.",h=new e["default"](1e3,function(t){return l.test(t)}),d=new e["default"](1e3,function(t){return u.test(t)}),p=new e["default"](1e3,function(t){return 0===t.lastIndexOf(c,0)}),f=new e["default"](1e3,function(t){return t.indexOf(".")}),m=new e["default"](1e3,function(t){var e=f.get(t);return-1===e?t:t.slice(0,e)}),g=new e["default"](1e3,function(t){var e=f.get(t);return-1!==e?t.slice(e+1):void 0}),v={isGlobalCache:h,isGlobalPathCache:d,hasThisCache:p,firstDotIndexCache:f,firstKeyCache:m,tailPathCache:g};t.caches=v}),t("ember-metal/platform/create",["exports","ember-metal/platform/define_properties"],function(t,e){"REMOVE_USE_STRICT: true";var n;if(!Object.create||Object.create(null).hasOwnProperty){var r,i=!({__proto__:null}instanceof Object);r=i||"undefined"==typeof document?function(){return{__proto__:null}}:function(){function t(){}var e=document.createElement("iframe"),n=document.body||document.documentElement;e.style.display="none",n.appendChild(e),e.src="javascript:";var i=e.contentWindow.Object.prototype;return n.removeChild(e),e=null,delete i.constructor,delete i.hasOwnProperty,delete i.propertyIsEnumerable,delete i.isPrototypeOf,delete i.toLocaleString,delete i.toString,delete i.valueOf,t.prototype=i,r=function(){return new t},new t},n=Object.create=function(t,n){function i(){}var o;if(null===t)o=r();else{if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object or null");i.prototype=t,o=new i}return void 0!==n&&e["default"](o,n),o}}else n=Object.create;t["default"]=n}),t("ember-metal/platform/define_properties",["exports","ember-metal/platform/define_property"],function(t,e){"use strict";var n=Object.defineProperties;n||(n=function(t,n){for(var r in n)n.hasOwnProperty(r)&&"__proto__"!==r&&e.defineProperty(t,r,n[r]);return t},Object.defineProperties=n),t["default"]=n}),t("ember-metal/platform/define_property",["exports"],function(t){"use strict";var e=function(t){if(t)try{var e=5,n={};if(t(n,"a",{configurable:!0,enumerable:!0,get:function(){return e},set:function(t){e=t}}),5!==n.a)return;if(n.a=10,10!==e)return;t(n,"a",{configurable:!0,enumerable:!1,writable:!0,value:!0});for(var r in n)if("a"===r)return;if(n.a!==!0)return;if(t(n,"a",{enumerable:!1}),n.a!==!0)return;return t}catch(i){return}}(Object.defineProperty),n=!!e;if(n&&"undefined"!=typeof document){var r=function(){try{return e(document.createElement("div"),"definePropertyOnDOM",{}),!0}catch(t){}return!1}();r||(e=function(t,e,n){var r;return r="object"==typeof Node?t instanceof Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName,r?t[e]=n.value:Object.defineProperty(t,e,n)})}n||(e=function(t,e,n){n.get||(t[e]=n.value)});var i=n,o=n;t.hasES5CompliantDefineProperty=n,t.defineProperty=e,t.hasPropertyAccessors=i,t.canDefineNonEnumerableProperties=o}),t("ember-metal/properties",["exports","ember-metal/core","ember-metal/utils","ember-metal/platform/define_property","ember-metal/property_events"],function(t,e,n,r,i){"use strict";function o(){this.isDescriptor=!0}function s(t){return function(t){}}function a(t){return function(){var e=this.__ember_meta__;return e&&e.values[t]}}function l(t,e,s,a,l){var u,c,h,d;l||(l=n.meta(t));var p=l.watching[e];return u=t[e],c=null!==u&&"object"==typeof u&&u.isDescriptor?u:void 0,h=void 0!==p&&p>0,c&&c.teardown(t,e),s instanceof o?(d=s,t[e]=d,s.setup&&s.setup(t,e)):null==s?(d=a,t[e]=a):(d=s,r.defineProperty(t,e,s)),h&&i.overrideChains(t,e,l),t.didDefineProperty&&t.didDefineProperty(t,e,d),this}t.Descriptor=o,t.MANDATORY_SETTER_FUNCTION=s,t.DEFAULT_GETTER_FUNCTION=a,t.defineProperty=l}),t("ember-metal/property_events",["exports","ember-metal/utils","ember-metal/events","ember-metal/observer_set"],function(t,e,n,r){"use strict";function i(t,e){var n=t.__ember_meta__,r=n&&n.watching[e]>0||"length"===e,i=n&&n.proto,o=t[e],a=null!==o&&"object"==typeof o&&o.isDescriptor?o:void 0;r&&i!==t&&(a&&a.willChange&&a.willChange(t,e),s(t,e,n),c(t,e,n),g(t,e))}function o(t,e){var n=t.__ember_meta__,r=n&&n.watching[e]>0||"length"===e,i=n&&n.proto,o=t[e],s=null!==o&&"object"==typeof o&&o.isDescriptor?o:void 0;i!==t&&(s&&s.didChange&&s.didChange(t,e),(r||"length"===e)&&(n&&n.deps&&n.deps[e]&&a(t,e,n),h(t,e,n,!1),v(t,e)))}function s(t,e,n){if(!t.isDestroying){var r;if(n&&n.deps&&(r=n.deps[e])){var o=y,s=!o;s&&(o=y={}),u(i,t,r,e,o,n),s&&(y=null)}}}function a(t,e,n){if(!t.isDestroying){var r;if(n&&n.deps&&(r=n.deps[e])){var i=b,s=!i;s&&(i=b={}),u(o,t,r,e,i,n),s&&(b=null)}}}function l(t){var e=[];for(var n in t)e.push(n);return e}function u(t,n,r,i,o,s){var a,u,c,h,d,p=e.guidFor(n),f=o[p];if(f||(f=o[p]={}),!f[i]&&(f[i]=!0,r))for(a=l(r),c=0;c<a.length;c++)u=a[c],h=n[u],d=null!==h&&"object"==typeof h&&h.isDescriptor?h:void 0,d&&d._suspended===n||t(n,u)}function c(t,e,n){if(n.hasOwnProperty("chainWatchers")&&n.chainWatchers[e]){var r,o,s=n.chainWatchers[e],a=[];for(r=0,o=s.length;o>r;r++)s[r].willChange(a);for(r=0,o=a.length;o>r;r+=2)i(a[r],a[r+1])}}function h(t,e,n,r){if(n&&n.hasOwnProperty("chainWatchers")&&n.chainWatchers[e]){var i,s,a=n.chainWatchers[e],l=r?null:[];for(i=0,
s=a.length;s>i;i++)a[i].didChange(l);if(!r)for(i=0,s=l.length;s>i;i+=2)o(l[i],l[i+1])}}function d(t,e,n){h(t,e,n,!0)}function p(){x++}function f(){x--,0>=x&&(_.clear(),w.flush())}function m(t,n){p(),e.tryFinally(t,f,n)}function g(t,e){if(!t.isDestroying){var r,i,o=e+":before";x?(r=_.add(t,e,o),i=n.accumulateListeners(t,o,r),n.sendEvent(t,o,[t,e],i)):n.sendEvent(t,o,[t,e])}}function v(t,e){if(!t.isDestroying){var r,i=e+":change";x?(r=w.add(t,e,i),n.accumulateListeners(t,i,r)):n.sendEvent(t,i,[t,e])}}t.propertyWillChange=i,t.propertyDidChange=o,t.overrideChains=d,t.beginPropertyChanges=p,t.endPropertyChanges=f,t.changeProperties=m;var y,b,_=new r["default"],w=new r["default"],x=0}),t("ember-metal/property_get",["exports","ember-metal/core","ember-metal/error","ember-metal/path_cache","ember-metal/platform/define_property"],function(t,e,n,r,i){"use strict";function o(t,n){if(""===n)return t;if(n||"string"!=typeof t||(n=t,t=e["default"].lookup),!t)return l(t,n);var i,o=(t.__ember_meta__,t[n]),s=null!==o&&"object"==typeof o&&o.isDescriptor?o:void 0;return void 0===s&&r.isPath(n)?l(t,n):s?s.get(t,n):(i=t[n],void 0!==i||"object"!=typeof t||n in t||"function"!=typeof t.unknownProperty?i:t.unknownProperty(n))}function s(t,n){var i,s=r.hasThis(n),l=!s&&r.isGlobal(n);return t||l?(s&&(n=n.slice(5)),(!t||l)&&(t=e["default"].lookup),l&&r.isPath(n)&&(i=n.match(c)[0],t=o(t,i),n=n.slice(i.length+1)),a(n),[t,n]):[void 0,""]}function a(t){if(!t||0===t.length)throw new n["default"]("Object in path "+t+" could not be found or was destroyed.")}function l(t,e){var n,i,a,l,u;for(n=r.hasThis(e),(!t||n)&&(a=s(t,e),t=a[0],e=a[1],a.length=0),i=e.split("."),u=i.length,l=0;null!=t&&u>l;l++)if(t=o(t,i[l],!0),t&&t.isDestroyed)return void 0;return t}function u(t,e,n){var r=o(t,e);return void 0===r?n:r}t.get=o,t.normalizeTuple=s,t._getPath=l,t.getWithDefault=u;var c=/^([^\.]+)/;t["default"]=o}),t("ember-metal/property_set",["exports","ember-metal/core","ember-metal/property_get","ember-metal/property_events","ember-metal/properties","ember-metal/error","ember-metal/path_cache","ember-metal/platform/define_property"],function(t,e,n,r,i,o,s,a){"use strict";function l(t,n,i,o){if("string"==typeof t&&(i=n,n=t,t=e["default"].lookup),t===e["default"].lookup)return u(t,n,i,o);var a,l,c;t&&(a=t.__ember_meta__,l=t[n],c=null!==l&&"object"==typeof l&&l.isDescriptor?l:void 0);var h,d;if((!t||void 0===c)&&s.isPath(n))return u(t,n,i,o);if(c)c.set(t,n,i);else{if(null!==t&&void 0!==i&&"object"==typeof t&&t[n]===i)return i;h="object"==typeof t&&!(n in t),h&&"function"==typeof t.setUnknownProperty?t.setUnknownProperty(n,i):a&&a.watching[n]>0?(a.proto!==t&&(d=t[n]),i!==d&&(r.propertyWillChange(t,n),t[n]=i,r.propertyDidChange(t,n))):t[n]=i}return i}function u(t,e,r,i){var s;if(s=e.slice(e.lastIndexOf(".")+1),e=e===s?s:e.slice(0,e.length-(s.length+1)),"this"!==e&&(t=n._getPath(t,e)),!s||0===s.length)throw new o["default"]("Property set failed: You passed an empty path");if(!t){if(i)return;throw new o["default"]('Property set failed: object in path "'+e+'" could not be found or was destroyed.')}return l(t,s,r)}function c(t,e,n){return l(t,e,n,!0)}t.set=l,t.trySet=c}),t("ember-metal/run_loop",["exports","ember-metal/core","ember-metal/utils","ember-metal/array","ember-metal/property_events","backburner"],function(t,e,n,r,i,o){"use strict";function s(t){l.currentRunLoop=t}function a(t,e){l.currentRunLoop=e}function l(){return c.run.apply(c,arguments)}function u(){!l.currentRunLoop}var c=new o["default"](["sync","actions","destroy"],{GUID_KEY:n.GUID_KEY,sync:{before:i.beginPropertyChanges,after:i.endPropertyChanges},defaultQueue:"actions",onBegin:s,onEnd:a,onErrorTarget:e["default"],onErrorMethod:"onerror"});t["default"]=l,l.join=function(){return c.join.apply(c,arguments)},l.bind=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];return l.join.apply(l,e.concat(n))}},l.backburner=c,l.currentRunLoop=null,l.queues=c.queueNames,l.begin=function(){c.begin()},l.end=function(){c.end()},l.schedule=function(){u(),c.schedule.apply(c,arguments)},l.hasScheduledTimers=function(){return c.hasTimers()},l.cancelTimers=function(){c.cancelTimers()},l.sync=function(){c.currentInstance&&c.currentInstance.queues.sync.flush()},l.later=function(){return c.later.apply(c,arguments)},l.once=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return u(),e.unshift("actions"),c.scheduleOnce.apply(c,e)},l.scheduleOnce=function(){return u(),c.scheduleOnce.apply(c,arguments)},l.next=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return e.push(1),c.later.apply(c,e)},l.cancel=function(t){return c.cancel(t)},l.debounce=function(){return c.debounce.apply(c,arguments)},l.throttle=function(){return c.throttle.apply(c,arguments)},l._addQueue=function(t,e){-1===r.indexOf.call(l.queues,t)&&l.queues.splice(r.indexOf.call(l.queues,e)+1,0,t)}}),t("ember-metal/set_properties",["exports","ember-metal/property_events","ember-metal/property_set","ember-metal/keys"],function(t,e,n,r){"use strict";function i(t,i){return i&&"object"==typeof i?(e.changeProperties(function(){for(var e,o=r["default"](i),s=0,a=o.length;a>s;s++)e=o[s],n.set(t,e,i[e])}),t):t}t["default"]=i}),t("ember-metal/streams/conditional",["exports","ember-metal/streams/stream","ember-metal/streams/utils","ember-metal/platform/create"],function(t,e,n,r){"use strict";function i(t,e,r){return n.isStream(t)?new o(t,e,r):t?e:r}function o(t,e,n){this.init(),this.oldTestResult=void 0,this.test=t,this.consequent=e,this.alternate=n}t["default"]=i,o.prototype=r["default"](e["default"].prototype),o.prototype.valueFn=function(){var t=this.oldTestResult,e=!!n.read(this.test);if(e!==t){switch(t){case!0:n.unsubscribe(this.consequent,this.notify,this);break;case!1:n.unsubscribe(this.alternate,this.notify,this);break;case void 0:n.subscribe(this.test,this.notify,this)}switch(e){case!0:n.subscribe(this.consequent,this.notify,this);break;case!1:n.subscribe(this.alternate,this.notify,this)}this.oldTestResult=e}return e?n.read(this.consequent):n.read(this.alternate)}}),t("ember-metal/streams/simple",["exports","ember-metal/merge","ember-metal/streams/stream","ember-metal/platform/create","ember-metal/streams/utils"],function(t,e,n,r,i){"use strict";function o(t){this.init(),this.source=t,i.isStream(t)&&t.subscribe(this._didChange,this)}o.prototype=r["default"](n["default"].prototype),e["default"](o.prototype,{valueFn:function(){return i.read(this.source)},setValue:function(t){var e=this.source;i.isStream(e)&&e.setValue(t)},setSource:function(t){var e=this.source;t!==e&&(i.isStream(e)&&e.unsubscribe(this._didChange,this),i.isStream(t)&&t.subscribe(this._didChange,this),this.source=t,this.notify())},_didChange:function(){this.notify()},_super$destroy:n["default"].prototype.destroy,destroy:function(){return this._super$destroy()?(i.isStream(this.source)&&this.source.unsubscribe(this._didChange,this),this.source=void 0,!0):void 0}}),t["default"]=o}),t("ember-metal/streams/stream",["exports","ember-metal/platform/create","ember-metal/path_cache"],function(t,e,n){"use strict";function r(t,e){this.next=null,this.prev=null,this.callback=t,this.context=e}function i(t){this.init(),this.valueFn=t}r.prototype.removeFrom=function(t){var e=this.next,n=this.prev;n?n.next=e:t.subscriberHead=e,e?e.prev=n:t.subscriberTail=n},i.prototype={isStream:!0,init:function(){this.state="dirty",this.cache=void 0,this.subscriberHead=null,this.subscriberTail=null,this.children=void 0,this._label=void 0},get:function(t){var r=n.getFirstKey(t),i=n.getTailPath(t);void 0===this.children&&(this.children=e["default"](null));var o=this.children[r];return void 0===o&&(o=this._makeChildStream(r,t),this.children[r]=o),void 0===i?o:o.get(i)},value:function(){return"clean"===this.state?this.cache:"dirty"===this.state?(this.state="clean",this.cache=this.valueFn()):void 0},valueFn:function(){throw new Error("Stream error: valueFn not implemented")},setValue:function(){throw new Error("Stream error: setValue not implemented")},notify:function(){this.notifyExcept()},notifyExcept:function(t,e){"clean"===this.state&&(this.state="dirty",this._notifySubscribers(t,e))},subscribe:function(t,e){var n=new r(t,e,this);if(null===this.subscriberHead)this.subscriberHead=this.subscriberTail=n;else{var i=this.subscriberTail;i.next=n,n.prev=i,this.subscriberTail=n}var o=this;return function(){n.removeFrom(o)}},unsubscribe:function(t,e){for(var n=this.subscriberHead;n;){var r=n.next;n.callback===t&&n.context===e&&n.removeFrom(this),n=r}},_notifySubscribers:function(t,e){for(var n=this.subscriberHead;n;){var r=n.next,i=n.callback,o=n.context;n=r,(i!==t||o!==e)&&(void 0===o?i(this):i.call(o,this))}},destroy:function(){if("destroyed"!==this.state){this.state="destroyed";var t=this.children;for(var e in t)t[e].destroy();return this.subscriberHead=this.subscriberTail=null,!0}},isGlobal:function(){for(var t=this;void 0!==t;){if(t._isRoot)return t._isGlobal;t=t.source}}},t["default"]=i}),t("ember-metal/streams/stream_binding",["exports","ember-metal/platform/create","ember-metal/merge","ember-metal/run_loop","ember-metal/streams/stream"],function(t,e,n,r,i){"use strict";function o(t){this.init(),this.stream=t,this.senderCallback=void 0,this.senderContext=void 0,this.senderValue=void 0,t.subscribe(this._onNotify,this)}o.prototype=e["default"](i["default"].prototype),n["default"](o.prototype,{valueFn:function(){return this.stream.value()},_onNotify:function(){this._scheduleSync(void 0,void 0,this)},setValue:function(t,e,n){this._scheduleSync(t,e,n)},_scheduleSync:function(t,e,n){void 0===this.senderCallback&&void 0===this.senderContext?(this.senderCallback=e,this.senderContext=n,this.senderValue=t,r["default"].schedule("sync",this,this._sync)):this.senderContext!==this&&(this.senderCallback=e,this.senderContext=n,this.senderValue=t)},_sync:function(){if("destroyed"!==this.state){this.senderContext!==this&&this.stream.setValue(this.senderValue);var t=this.senderCallback,e=this.senderContext;this.senderCallback=void 0,this.senderContext=void 0,this.senderValue=void 0,this.state="clean",this.notifyExcept(t,e)}},_super$destroy:i["default"].prototype.destroy,destroy:function(){return this._super$destroy()?(this.stream.unsubscribe(this._onNotify,this),!0):void 0}}),t["default"]=o}),t("ember-metal/streams/utils",["exports","./stream"],function(t,e){"use strict";function n(t){return t&&t.isStream}function r(t,e,n){t&&t.isStream&&t.subscribe(e,n)}function i(t,e,n){t&&t.isStream&&t.unsubscribe(e,n)}function o(t){return t&&t.isStream?t.value():t}function s(t){for(var e=t.length,n=new Array(e),r=0;e>r;r++)n[r]=o(t[r]);return n}function a(t){var e={};for(var n in t)e[n]=o(t[n]);return e}function l(t){for(var e=t.length,r=!1,i=0;e>i;i++)if(n(t[i])){r=!0;break}return r}function u(t){var e=!1;for(var r in t)if(n(t[r])){e=!0;break}return e}function c(t,n){var i=l(t);if(i){var o,a,u=new e["default"](function(){return s(t).join(n)});for(o=0,a=t.length;a>o;o++)r(t[o],u.notify,u);return u}return t.join(n)}function h(t,i){if(n(t)){var o=new e["default"](i);return r(t,o.notify,o),o}return i()}t.isStream=n,t.subscribe=r,t.unsubscribe=i,t.read=o,t.readArray=s,t.readHash=a,t.scanArray=l,t.scanHash=u,t.concat=c,t.chain=h}),t("ember-metal/utils",["exports","ember-metal/core","ember-metal/platform/create","ember-metal/platform/define_property","ember-metal/array"],function(t,e,n,r,i){function o(){return++C}function s(t){var e={};e[t]=1;for(var n in e)if(n===t)return n;return t}function a(t,e){e||(e=T);var n=e+o();return t&&(null===t[S]?t[S]=n:(P.value=n,t.__defineNonEnumerable?t.__defineNonEnumerable(M):r.defineProperty(t,S,P))),n}function l(t){if(void 0===t)return"(undefined)";if(null===t)return"(null)";var e,n=typeof t;switch(n){case"number":return e=E[t],e||(e=E[t]="nu"+t),e;case"string":return e=k[t],e||(e=k[t]="st"+o()),e;case"boolean":return t?"(true)":"(false)";default:return t[S]?t[S]:t===Object?"(Object)":t===Array?"(Array)":(e=T+o(),null===t[S]?t[S]=e:(P.value=e,t.__defineNonEnumerable?t.__defineNonEnumerable(M):r.defineProperty(t,S,P)),e)}}function u(t){this.watching={},this.cache=void 0,this.cacheMeta=void 0,this.source=t,this.deps=void 0,this.listeners=void 0,this.mixins=void 0,this.bindings=void 0,this.chains=void 0,this.values=void 0,this.proto=void 0}function c(t,e){var i=t.__ember_meta__;return e===!1?i||I:(i?i.source!==t&&(t.__defineNonEnumerable?t.__defineNonEnumerable(D):r.defineProperty(t,"__ember_meta__",O),i=n["default"](i),i.watching=n["default"](i.watching),i.cache=void 0,i.cacheMeta=void 0,i.source=t,t.__ember_meta__=i):(r.canDefineNonEnumerableProperties&&(t.__defineNonEnumerable?t.__defineNonEnumerable(D):r.defineProperty(t,"__ember_meta__",O)),i=new u(t),t.__ember_meta__=i),i)}function h(t,e){var n=c(t,!1);return n[e]}function d(t,e,n){var r=c(t,!0);return r[e]=n,n}function p(t,e,r){for(var i,o,s=c(t,r),a=0,l=e.length;l>a;a++){if(i=e[a],o=s[i]){if(o.__ember_source__!==t){if(!r)return void 0;o=s[i]=n["default"](o),o.__ember_source__=t}}else{if(!r)return void 0;o=s[i]={__ember_source__:t}}s=o}return o}function f(t,e){function n(){var n,r=this&&this.__nextSuper,i=arguments.length;if(this&&(this.__nextSuper=e),0===i)n=t.call(this);else if(1===i)n=t.call(this,arguments[0]);else if(2===i)n=t.call(this,arguments[0],arguments[1]);else{for(var o=new Array(i),s=0;i>s;s++)o[s]=arguments[s];n=w(this,t,o)}return this&&(this.__nextSuper=r),n}return n.wrappedFunction=t,n.__ember_observes__=t.__ember_observes__,n.__ember_observesBefore__=t.__ember_observesBefore__,n.__ember_listens__=t.__ember_listens__,n}function m(t){var n,r;return"undefined"==typeof N&&(n="ember-runtime/mixins/array",e["default"].__loader.registry[n]&&(N=e["default"].__loader.require(n)["default"])),!t||t.setInterval?!1:Array.isArray&&Array.isArray(t)?!0:N&&N.detect(t)?!0:(r=b(t),"array"===r?!0:void 0!==t.length&&"object"===r?!0:!1)}function g(t){return null===t||void 0===t?[]:m(t)?t:[t]}function v(t,e){return!(!t||"function"!=typeof t[e])}function y(t,e,n){return v(t,e)?n?x(t,e,n):x(t,e):void 0}function b(t){var n,r;return"undefined"==typeof W&&(r="ember-runtime/system/object",e["default"].__loader.registry[r]&&(W=e["default"].__loader.require(r)["default"])),n=null===t||void 0===t?String(t):H[q.call(t)]||"object","function"===n?W&&W.detect(t)&&(n="class"):"object"===n&&(t instanceof Error?n="error":W&&t instanceof W?n="instance":t instanceof Date&&(n="date")),n}function _(t){var e=b(t);if("array"===e)return"["+t+"]";if("object"!==e)return t+"";var n,r=[];for(var i in t)if(t.hasOwnProperty(i)){if(n=t[i],"toString"===n)continue;"function"===b(n)&&(n="function() { ... }"),n&&"function"!=typeof n.toString?r.push(i+": "+q.call(n)):r.push(i+": "+n)}return"{"+r.join(", ")+"}"}function w(t,e,n){var r=n&&n.length;if(!n||!r)return e.call(t);switch(r){case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2]);case 4:return e.call(t,n[0],n[1],n[2],n[3]);case 5:return e.call(t,n[0],n[1],n[2],n[3],n[4]);default:return e.apply(t,n)}}function x(t,e,n){var r=n&&n.length;if(!n||!r)return t[e]();switch(r){case 1:return t[e](n[0]);case 2:return t[e](n[0],n[1]);case 3:return t[e](n[0],n[1],n[2]);case 4:return t[e](n[0],n[1],n[2],n[3]);case 5:return t[e](n[0],n[1],n[2],n[3],n[4]);default:return t[e].apply(t,n)}}t.uuid=o,t.generateGuid=a,t.guidFor=l,t.getMeta=h,t.setMeta=d,t.metaPath=p,t.wrap=f,t.makeArray=g,t.tryInvoke=y,t.inspect=_,t.apply=w,t.applyStr=x,t.meta=c,t.typeOf=b,t.isArray=m,t.canInvoke=v;var C=0,T="ember",E=[],k={},S=s("__ember"+ +new Date),P={writable:!0,configurable:!0,enumerable:!1,value:null},A={configurable:!0,writable:!0,enumerable:!1,value:void 0},L={configurable:!0,writable:!0,enumerable:!1,value:null},O={writable:!0,configurable:!0,enumerable:!1,value:null},D={name:"__ember_meta__",descriptor:O},M={name:S,descriptor:L},R={name:"__nextSuper",descriptor:A};u.prototype={chainWatchers:null},r.canDefineNonEnumerableProperties||(u.prototype.__preventPlainObject__=!0,u.prototype.toJSON=function(){});var N,F,I=new u(null),B=function(){var t=0;try{try{}finally{throw t++,new Error("needsFinallyFixTest")}}catch(e){}return 1!==t}();F=B?function(t,e,n){var r,i,o;n=n||this;try{r=t.call(n)}finally{try{i=e.call(n)}catch(s){o=s}}if(o)throw o;return void 0===i?r:i}:function(t,e,n){var r,i;n=n||this;try{r=t.call(n)}finally{i=e.call(n)}return void 0===i?r:i};var j,z=function(){return F.apply(this,arguments)};j=B?function(t,e,n,r){var i,o,s;r=r||this;try{i=t.call(r)}catch(a){i=e.call(r,a)}finally{try{o=n.call(r)}catch(l){s=l}}if(s)throw s;return void 0===o?i:o}:function(t,e,n,r){var i,o;r=r||this;try{i=t.call(r)}catch(s){i=e.call(r,s)}finally{o=n.call(r)}return void 0===o?i:o};var V=function(){return j.apply(this,arguments)},H={},U="Boolean Number String Function Array Date RegExp Object".split(" ");i.forEach.call(U,function(t){H["[object "+t+"]"]=t.toLowerCase()});var W,q=Object.prototype.toString;t.GUID_DESC=P,t.EMBER_META_PROPERTY=D,t.GUID_KEY_PROPERTY=M,t.NEXT_SUPER_PROPERTY=R,t.GUID_KEY=S,t.META_DESC=O,t.EMPTY_META=I,t.tryCatchFinally=j,t.deprecatedTryCatchFinally=V,t.tryFinally=F,t.deprecatedTryFinally=z}),t("ember-metal/watch_key",["exports","ember-metal/core","ember-metal/utils","ember-metal/platform/define_property","ember-metal/properties"],function(t,e,n,r,i){"use strict";function o(t,e,r){if("length"!==e||"array"!==n.typeOf(t)){var i=r||n.meta(t),o=i.watching;if(o[e])o[e]=(o[e]||0)+1;else{o[e]=1;var s=t[e],a=null!==s&&"object"==typeof s&&s.isDescriptor?s:void 0;a&&a.willWatch&&a.willWatch(t,e),"function"==typeof t.willWatchProperty&&t.willWatchProperty(e)}}}function s(t,e,r){var i=r||n.meta(t),o=i.watching;if(1===o[e]){o[e]=0;var s=t[e],a=null!==s&&"object"==typeof s&&s.isDescriptor?s:void 0;a&&a.didUnwatch&&a.didUnwatch(t,e),"function"==typeof t.didUnwatchProperty&&t.didUnwatchProperty(e)}else o[e]>1&&o[e]--}t.watchKey=o,t.unwatchKey=s}),t("ember-metal/watch_path",["exports","ember-metal/utils","ember-metal/chains"],function(t,e,n){"use strict";function r(t,r){var i=r||e.meta(t),o=i.chains;return o?o.value()!==t&&(o=i.chains=o.copy(t)):o=i.chains=new n.ChainNode(null,null,t),o}function i(t,n,i){if("length"!==n||"array"!==e.typeOf(t)){var o=i||e.meta(t),s=o.watching;s[n]?s[n]=(s[n]||0)+1:(s[n]=1,r(t,o).add(n))}}function o(t,n,i){var o=i||e.meta(t),s=o.watching;1===s[n]?(s[n]=0,r(t,o).remove(n)):s[n]>1&&s[n]--}t.watchPath=i,t.unwatchPath=o}),t("ember-metal/watching",["exports","ember-metal/utils","ember-metal/chains","ember-metal/watch_key","ember-metal/watch_path","ember-metal/path_cache"],function(t,e,n,r,i,o){"use strict";function s(t,n,s){("length"!==n||"array"!==e.typeOf(t))&&(o.isPath(n)?i.watchPath(t,n,s):r.watchKey(t,n,s))}function a(t,e){var n=t.__ember_meta__;return(n&&n.watching[e])>0}function l(t,n,s){("length"!==n||"array"!==e.typeOf(t))&&(o.isPath(n)?i.unwatchPath(t,n,s):r.unwatchKey(t,n,s))}function u(t){var e,r,i,o,s=t.__ember_meta__;if(s&&(t.__ember_meta__=null,e=s.chains))for(c.push(e);c.length>0;){if(e=c.pop(),r=e._chains)for(i in r)r.hasOwnProperty(i)&&c.push(r[i]);e._watching&&(o=e._object,o&&n.removeChainWatcher(o,e._key,e))}}t.isWatching=a,t.unwatch=l,t.destroy=u,t.watch=s,s.flushPending=n.flushPendingChains;var c=[]}),t("ember-routing-htmlbars",["exports","ember-metal/core","ember-htmlbars/helpers","ember-routing-htmlbars/helpers/outlet","ember-routing-htmlbars/helpers/render","ember-routing-htmlbars/helpers/link-to","ember-routing-htmlbars/helpers/action","ember-routing-htmlbars/helpers/query-params"],function(t,e,n,r,i,o,s,a){"use strict";n.registerHelper("outlet",r.outletHelper),n.registerHelper("render",i.renderHelper),n.registerHelper("link-to",o.linkToHelper),n.registerHelper("linkTo",o.deprecatedLinkToHelper),n.registerHelper("action",s.actionHelper),n.registerHelper("query-params",a.queryParamsHelper),t["default"]=e["default"]}),t("ember-routing-htmlbars/helpers/action",["exports","ember-metal/core","ember-metal/utils","ember-metal/run_loop","ember-views/streams/utils","ember-views/system/utils","ember-views/system/action_manager","ember-metal/streams/utils"],function(t,e,n,r,i,o,s,a){"use strict";function l(t,e){var n,r,o;if(void 0===e)for(n=new Array(t.length),r=0,o=t.length;o>r;r++)n[r]=i.readUnwrappedModel(t[r]);else for(n=new Array(t.length+1),n[0]=e,r=0,o=t.length;o>r;r++)n[r+1]=i.readUnwrappedModel(t[r]);return n}function u(t,e,n,r){var i,o=r.data.view;i=e.target?a.isStream(e.target)?e.target:o.getStream(e.target):o.getStream("controller");var s={eventName:e.on||"click",parameters:t.slice(1),view:o,bubbles:e.bubbles,preventDefault:e.preventDefault,target:i,withKeyCode:e.withKeyCode},l=c.registerAction(t[0],s,e.allowedKeys);r.dom.setAttribute(n.element,"data-ember-action",l)}t.actionHelper=u;var c={};c.registeredActions=s["default"].registeredActions;var h=["alt","shift","meta","ctrl"],d=/^click|mouse|touch/,p=function(t,e){if("undefined"==typeof e){if(d.test(t.type))return o.isSimpleClick(t);e=""}if(e.indexOf("any")>=0)return!0;for(var n=0,r=h.length;r>n;n++)if(t[h[n]+"Key"]&&-1===e.indexOf(h[n]))return!1;return!0};c.registerAction=function(t,e,i){var o=n.uuid(),u=e.eventName,c=e.parameters;return s["default"].registeredActions[o]={eventName:u,handler:function(n){if(!p(n,i))return!0;e.preventDefault!==!1&&n.preventDefault(),e.bubbles===!1&&n.stopPropagation();var o,s=e.target.value();o=a.isStream(t)?t.value():t,r["default"](function(){s.send?s.send.apply(s,l(c,o)):s[o].apply(s,l(c))})}},e.view.on("willClearRender",function(){delete s["default"].registeredActions[o]}),o},t.ActionHelper=c}),t("ember-routing-htmlbars/helpers/link-to",["exports","ember-metal/core","ember-routing-views/views/link","ember-metal/streams/utils","ember-runtime/mixins/controller","ember-htmlbars/templates/link-to-escaped","ember-htmlbars/templates/link-to-unescaped","ember-htmlbars"],function(t,e,n,r,i,o,s){"use strict";function a(t,e,a,l){var u,c=(l.data.view,t[t.length-1]);if(c&&c.isQueryParams&&(e.queryParamsObject=u=t.pop()),e.disabledWhen&&(e.disabled=e.disabledWhen,delete e.disabledWhen),!a.template){var h=t.shift(),d=a.morph.parseTextAsHTML;d?e.layout=s["default"]:e.layout=o["default"],e.linkTitle=h}for(var p=0;p<t.length;p++)if(r.isStream(t[p])){var f=t[p];if(!f._isController)for(;i["default"].detect(f.value());)f=f.get("model");t[p]=f}return e.params=t,a.helperName=a.helperName||"link-to",l.helpers.view.helperFunction.call(this,[n.LinkView],e,a,l)}function l(t,e,n,r){return r.helpers["link-to"].helperFunction.call(this,t,e,n,r)}t.deprecatedLinkToHelper=l,t.linkToHelper=a}),t("ember-routing-htmlbars/helpers/outlet",["exports","ember-metal/core"],function(t,e){"use strict";function n(t,e,n,r){var i,o,s,a=r.data.view,l=t[0]||"main";return i=e.view,i&&(s="view:"+i),o=i?a.container.lookupFactory(s):e.viewClass||a.container.lookupFactory("view:-outlet"),e._outletName=l,n.helperName=n.helperName||"outlet",r.helpers.view.helperFunction.call(this,[o],e,n,r)}t.outletHelper=n}),t("ember-routing-htmlbars/helpers/query-params",["exports","ember-metal/core","ember-routing/system/query_params"],function(t,e,n){"use strict";function r(t,e){return n["default"].create({values:e})}t.queryParamsHelper=r}),t("ember-routing-htmlbars/helpers/render",["exports","ember-metal/core","ember-metal/property_get","ember-metal/error","ember-runtime/system/string","ember-routing/system/generate_controller","ember-metal/streams/utils","ember-htmlbars/system/merge-view-bindings","ember-htmlbars/system/append-templated-view","ember-metal/platform/create"],function(t,e,n,r,i,o,s,a,l,u){"use strict";function c(t,e,s,u){var c,d,p,f,m,g=u.data.view,v=t[0],y=t[1];if(c=g._keywords.controller.value().container,d=c.lookup("router:main"),1===t.length);else{if(2!==t.length)throw new r["default"]("You must pass a templateName to render");m=y.value()}v=v.replace(/\//g,".");var b="template:"+v,_=s.template;f=c.lookup("view:"+v),f||(f=c.lookup("view:default"));var w=!!n.get(f,"template");w||(_=_||c.lookup(b));var x,C;e.controller?(x=e.controller,C="controller:"+x,delete e.controller):(x=v,C="controller:"+x);var T=g._keywords.controller.value();if(t.length>1){var E=c.lookupFactory(C)||o.generateControllerFactory(c,x,m);p=E.create({modelBinding:y,parentController:T,target:T}),f.one("willDestroyElement",function(){p.destroy()})}else p=c.lookup(C)||o["default"](c,x),p.setProperties({target:T,parentController:T});e.viewName=i.camelize(v),d&&!m&&d._connectActiveView(v,f);var k={template:_,controller:p,helperName:'render "'+v+'"'};h(g,f,v),a["default"](g,k,e),l["default"](g,s.morph,f,k)}function h(t,n,r){n._childOutlets=e["default"].A(),n._isOutlet=!0,n._outletName="__ember_orphans__",n._matchOutletName=r,n._parentOutlet=function(){for(var t=this._parentView;t&&!t._isOutlet;)t=t._parentView;return t},n.setOutletState=function(t){var e;t&&(e=t.outlets[this._matchOutletName])?(this._outletState={render:{name:"render helper stub"},outlets:u["default"](null)},this._outletState.outlets[e.render.outlet]=e,e.wasUsed=!0):this._outletState=null;for(var n=0;n<this._childOutlets.length;n++){var r=this._childOutlets[n];r.setOutletState(this._outletState&&this._outletState.outlets[r._outletName])}};for(var i,o=t;o&&!o._isOutlet;)o=o._parentView;for(;o&&(i=o._parentOutlet());)o=i;o&&(o._childOutlets.push(n),o._outletState&&n.setOutletState(o._outletState.outlets[n._outletName]))}t.renderHelper=c}),t("ember-routing-views",["exports","ember-metal/core","ember-routing-views/views/link","ember-routing-views/views/outlet"],function(t,e,n,r){"use strict";e["default"].LinkView=n.LinkView,e["default"].OutletView=r.OutletView,t["default"]=e["default"]}),t("ember-routing-views/views/link",["exports","ember-metal/core","ember-metal/property_get","ember-metal/merge","ember-metal/run_loop","ember-metal/computed","ember-runtime/system/string","ember-metal/keys","ember-views/system/utils","ember-views/views/component","ember-routing/utils","ember-metal/streams/utils"],function(t,e,n,r,i,o,s,a,l,u,c,h){"use strict";function d(t,e){var n=t.queryParamsObject,r={};if(!n)return r;var i=n.values;for(var o in i)i.hasOwnProperty(o)&&(r[o]=h.read(i[o]));return r}function p(t){for(var e=0,n=t.length;n>e;++e){var r=t[e];if(null===r||"undefined"==typeof r)return!1}return!0}function f(t,e){if(n.get(t,"loading"))return!1;var r=t["current-when"]||t.currentWhen,i=!!r;r=r||n.get(t,"loadedParams").targetRouteName,r=r.split(" ");for(var o=0,s=r.length;s>o;o++)if(m(t,r[o],i,e))return n.get(t,"activeClass");return!1}function m(t,e,r,i){var o=n.get(t,"router"),s=n.get(t,"loadedParams"),a=s.models,l=o.router.recognizer.handlersFor(e),u=l[l.length-1].handler,c=g(e,l);return a.length>c&&(e=u),i.isActiveIntent(e,a,s.queryParams,!r)}var g=function(t,e){for(var n=0,r=0,i=e.length;i>r&&(n+=e[r].names.length,e[r].handler!==t);r++);return n},v=["active","loading","disabled"];v=["active","loading","disabled","transitioningIn","transitioningOut"];var y=u["default"].extend({tagName:"a",currentWhen:null,"current-when":null,title:null,rel:null,tabindex:null,target:null,activeClass:"active",loadingClass:"loading",disabledClass:"disabled",_isDisabled:!1,replace:!1,attributeBindings:["href","title","rel","tabindex","target"],classNameBindings:v,eventName:"click",init:function(){this._super.apply(this,arguments);var t=n.get(this,"eventName");this.on(t,this,this._invoke)},_paramsChanged:function(){this.notifyPropertyChange("resolvedParams")},_setupPathObservers:function(){for(var t=this.params,e=this._wrapAsScheduled(this._paramsChanged),n=0;n<t.length;n++)h.subscribe(t[n],e,this);var r=this.queryParamsObject;if(r){var i=r.values;for(var o in i)i.hasOwnProperty(o)&&h.subscribe(i[o],e,this)}},afterRender:function(){this._super.apply(this,arguments),this._setupPathObservers()},disabled:o.computed({get:function(t,e){return!1},set:function(t,e){return void 0!==e&&this.set("_isDisabled",e),e?n.get(this,"disabledClass"):!1}}),active:o.computed("loadedParams",function(){var t=n.get(this,"router");if(t)return f(this,t.currentState)}),willBeActive:o.computed("router.targetState",function(){var t=n.get(this,"router");if(t){var e=t.targetState;if(t.currentState!==e)return!!f(this,e)}}),transitioningIn:o.computed("active","willBeActive",function(){var t=n.get(this,"willBeActive");return"undefined"==typeof t?!1:!n.get(this,"active")&&t&&"ember-transitioning-in"}),transitioningOut:o.computed("active","willBeActive",function(){var t=n.get(this,"willBeActive");return"undefined"==typeof t?!1:n.get(this,"active")&&!t&&"ember-transitioning-out"}),loading:o.computed("loadedParams",function(){return n.get(this,"loadedParams")?void 0:n.get(this,"loadingClass")}),router:o.computed(function(){var t=n.get(this,"controller");return t&&t.container?t.container.lookup("router:main"):void 0}),_invoke:function(t){if(!l.isSimpleClick(t))return!0;if(this.preventDefault!==!1){var r=n.get(this,"target");r&&"_self"!==r||t.preventDefault()}if(this.bubbles===!1&&t.stopPropagation(),n.get(this,"_isDisabled"))return!1;if(n.get(this,"loading"))return e["default"].Logger.warn("This link-to is in an inactive loading state because at least one of its parameters presently has a null/undefined value, or the provided route name is invalid."),!1;var i=n.get(this,"target");if(i&&"_self"!==i)return!1;var o=n.get(this,"router"),s=n.get(this,"loadedParams"),a=o._doTransition(s.targetRouteName,s.models,s.queryParams);return void(n.get(this,"replace")&&a.method("replace"))},_eagerUpdateUrl:function(t,e){if(t.isActive&&t.urlMethod){0===e.indexOf("#")&&(e=e.slice(1));var r=n.get(this,"router.router");"update"===t.urlMethod?r.updateURL(e):"replace"===t.urlMethod&&r.replaceURL(e),t.method(null)}},resolvedParams:o.computed("router.url",function(){var t,e=this.params,r=[],i=0===e.length;if(i){var o=this.container.lookup("controller:application");t=n.get(o,"currentRouteName")}else{t=h.read(e[0]);for(var s=1;s<e.length;s++)r.push(h.read(e[s]))}var a=d(this,t);return{targetRouteName:t,models:r,queryParams:a}}),loadedParams:o.computed("resolvedParams",function(){var t=n.get(this,"router");if(t){var e=n.get(this,"resolvedParams"),r=e.targetRouteName;if(r&&p(e.models))return e}}),queryParamsObject:null,href:o.computed("loadedParams",function(){if("a"===n.get(this,"tagName")){var t=n.get(this,"router"),e=n.get(this,"loadedParams");if(!e)return n.get(this,"loadingHref");var i={};r["default"](i,e.queryParams),t._prepareQueryParams(e.targetRouteName,e.models,i);var o=c.routeArgs(e.targetRouteName,e.models,i),s=t.generate.apply(t,o);return s}}),loadingHref:"#"});y.toString=function(){return"LinkView"},t.LinkView=y}),t("ember-routing-views/views/outlet",["exports","ember-views/views/container_view","ember-views/views/metamorph_view","ember-metal/property_get"],function(t,e,n,r){"use strict";function o(t){return!t.render.ViewClass&&!t.render.template}function s(t,e){if(!t&&!e)return!0;if(!t||!e)return!1;t=t.render,e=e.render;for(var n in t)if(t.hasOwnProperty(n)&&t[n]!==e[n]&&"name"!==n)return!1;return!0}var a=e["default"].extend({init:function(){this._super(),this._childOutlets=i.A(),this._outletState=null},_isOutlet:!0,_parentOutlet:function(){for(var t=this._parentView;t&&!t._isOutlet;)t=t._parentView;return t},_linkParent:i.on("init","parentViewDidChange",function(){var t=this._parentOutlet();t&&(t._childOutlets.push(this),t._outletState&&this.setOutletState(t._outletState.outlets[this._outletName]))}),willDestroy:function(){var t=this._parentOutlet();t&&t._childOutlets.removeObject(this),this._super()},_diffState:function(t){for(;t&&o(t);)t=t.outlets.main;var e=!s(this._outletState,t);return this._outletState=t,e},setOutletState:function(t){if(this._diffState(t)){var e=this._buildView(this._outletState),n=r.get(this,"length");e?this.replace(0,n,[e]):this.replace(0,n,[])}else for(var i=this._childOutlets,o=0;o<i.length;o++){var s=i[o];s.setOutletState(this._outletState&&this._outletState.outlets[s._outletName])}},_buildView:function(t){
if(t){var e,n=(r.get(this,"namespace.LOG_VIEW_LOOKUPS"),t.render),i=n.ViewClass,o=!1;return i||(o=!0,i=this.container.lookupFactory(this._isTopLevel?"view:toplevel":"view:default")),e=i.create({_debugTemplateName:n.name,renderedName:n.name,controller:n.controller}),r.get(e,"template")||e.set("template",n.template),e}}}),l=a.extend(n._Metamorph);t.CoreOutletView=a,t.OutletView=l}),t("ember-routing",["exports","ember-metal/core","ember-routing/ext/run_loop","ember-routing/ext/controller","ember-routing/location/api","ember-routing/location/none_location","ember-routing/location/hash_location","ember-routing/location/history_location","ember-routing/location/auto_location","ember-routing/system/generate_controller","ember-routing/system/controller_for","ember-routing/system/dsl","ember-routing/system/router","ember-routing/system/route"],function(t,e,n,r,i,o,s,a,l,u,c,h,d,p){"use strict";e["default"].Location=i["default"],e["default"].AutoLocation=l["default"],e["default"].HashLocation=s["default"],e["default"].HistoryLocation=a["default"],e["default"].NoneLocation=o["default"],e["default"].controllerFor=c["default"],e["default"].generateControllerFactory=u.generateControllerFactory,e["default"].generateController=u["default"],e["default"].RouterDSL=h["default"],e["default"].Router=d["default"],e["default"].Route=p["default"],t["default"]=e["default"]}),t("ember-routing/ext/controller",["exports","ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/computed","ember-metal/utils","ember-metal/merge","ember-runtime/mixins/controller"],function(t,e,n,r,i,o,s,a){"use strict";function l(t,e){var n,r=t;"string"===o.typeOf(r)&&(n={},n[r]={as:null},r=n);for(var i in r){if(!r.hasOwnProperty(i))return;var a=r[i];"string"===o.typeOf(a)&&(a={as:a}),n=e[i]||{as:null,scope:"model"},s["default"](n,a),e[i]=n}}function u(t){var e=n.get(t,"_normalizedQueryParams");for(var r in e)e.hasOwnProperty(r)&&t.addObserver(r+".[]",t,t._qpChanged)}a["default"].reopen({concatenatedProperties:["queryParams","_pCacheMeta"],init:function(){this._super.apply(this,arguments),u(this)},queryParams:null,_qpDelegate:null,_normalizedQueryParams:i.computed(function(){var t=o.meta(this);if(t.proto!==this)return n.get(t.proto,"_normalizedQueryParams");var e=n.get(this,"queryParams");if(e._qpMap)return e._qpMap;for(var r=e._qpMap={},i=0,s=e.length;s>i;++i)l(e[i],r);return r}),_cacheMeta:i.computed(function(){var t=o.meta(this);if(t.proto!==this)return n.get(t.proto,"_cacheMeta");var e={},r=n.get(this,"_normalizedQueryParams");for(var i in r)if(r.hasOwnProperty(i)){var s,a=r[i],l=a.scope;"controller"===l&&(s=[]),e[i]={parts:s,values:null,scope:l,prefix:"",def:n.get(this,i)}}return e}),_updateCacheParams:function(t){var e=n.get(this,"_cacheMeta");for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];o.values=t;var s=this._calculateCacheKey(o.prefix,o.parts,o.values),a=this._bucketCache;if(a){var l=a.lookup(s,i,o.def);r.set(this,i,l)}}},_qpChanged:function(t,e){var r=e.substr(0,e.length-3),i=n.get(t,"_cacheMeta"),o=i[r],s=t._calculateCacheKey(o.prefix||"",o.parts,o.values),a=n.get(t,r),l=this._bucketCache;l&&t._bucketCache.stash(s,r,a);var u=t._qpDelegate;u&&u(t,r)},_calculateCacheKey:function(t,e,r){for(var i=e||[],o="",s=0,a=i.length;a>s;++s){var l=i[s],u=n.get(r,l);o+="::"+l+":"+u}return t+o.replace(c,"-")},transitionToRoute:function(){var t=n.get(this,"target"),e=t.transitionToRoute||t.transitionTo;return e.apply(t,arguments)},transitionTo:function(){return this.transitionToRoute.apply(this,arguments)},replaceRoute:function(){var t=n.get(this,"target"),e=t.replaceRoute||t.replaceWith;return e.apply(t,arguments)},replaceWith:function(){return this.replaceRoute.apply(this,arguments)}});var c=/\./g;t["default"]=a["default"]}),t("ember-routing/ext/run_loop",["ember-metal/run_loop"],function(t){"use strict";t["default"]._addQueue("routerTransitions","actions")}),t("ember-routing/location/api",["exports","ember-metal/core","ember-metal/environment","ember-routing/location/util"],function(t,e,n,r){"use strict";t["default"]={create:function(t){var e=t&&t.implementation,n=this.implementations[e];return n.create.apply(n,arguments)},registerImplementation:function(t,e){this.implementations[t]=e},implementations:{},_location:n["default"].location,_getHash:function(){return r.getHash(this.location)}}}),t("ember-routing/location/auto_location",["exports","ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-runtime/system/object","ember-metal/environment","ember-routing/location/util"],function(t,e,n,r,i,o,s,a){"use strict";function l(t){return function(){for(var e=arguments.length,r=Array(e),o=0;e>o;o++)r[o]=arguments[o];var s=n.get(this,"concreteImplementation");return i.tryInvoke(s,t,r)}}function u(t){var e=t.location,n=t.userAgent,r=t.history,i=t.documentMode,o=t.global,s=t.rootURL,l="none",u=!1,d=a.getFullPath(e);if(a.supportsHistory(n,r)){var p=c(s,e);if(d===p)return"history";"/#"===d.substr(0,2)?(r.replaceState({path:p},null,p),l="history"):(u=!0,a.replacePath(e,p))}else if(a.supportsHashChange(i,o)){var f=h(s,e);d===f||"/"===d&&"/#/"===f?l="hash":(u=!0,a.replacePath(e,f))}return u?!1:l}function c(t,e){var n,r,i=a.getPath(e),o=a.getHash(e),s=a.getQuery(e);i.indexOf(t);return"#/"===o.substr(0,2)?(r=o.substr(1).split("#"),n=r.shift(),"/"===i.slice(-1)&&(n=n.substr(1)),i=i+n+s,r.length&&(i+="#"+r.join("#"))):i=i+s+o,i}function h(t,e){var n=t,r=c(t,e),i=r.substr(t.length);return""!==i&&("/"!==i.charAt(0)&&(i="/"+i),n+="#"+i),n}t.getHistoryPath=c,t.getHashPath=h,t["default"]=o["default"].extend({location:s["default"].location,history:s["default"].history,global:s["default"].global,userAgent:s["default"].userAgent,cancelRouterSetup:!1,rootURL:"/",detect:function(){var t=this.rootURL,e=u({location:this.location,history:this.history,userAgent:this.userAgent,rootURL:t,documentMode:this.documentMode,global:this.global});e===!1&&(r.set(this,"cancelRouterSetup",!0),e="none");var n=this.container.lookup("location:"+e);r.set(this,"concreteImplementation",n)},initState:l("initState"),getURL:l("getURL"),setURL:l("setURL"),replaceURL:l("replaceURL"),onUpdateURL:l("onUpdateURL"),formatURL:l("formatURL"),willDestroy:function(){var t=n.get(this,"concreteImplementation");t&&t.destroy()}})}),t("ember-routing/location/hash_location",["exports","ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/run_loop","ember-metal/utils","ember-runtime/system/object","ember-routing/location/api"],function(t,e,n,r,i,o,s,a){"use strict";t["default"]=s["default"].extend({implementation:"hash",init:function(){r.set(this,"location",n.get(this,"_location")||window.location)},getHash:a["default"]._getHash,getURL:function(){var t=this.getHash().substr(1),e=t;return"/"!==e.charAt(0)&&(e="/",t&&(e+="#"+t)),e},setURL:function(t){n.get(this,"location").hash=t,r.set(this,"lastSetURL",t)},replaceURL:function(t){n.get(this,"location").replace("#"+t),r.set(this,"lastSetURL",t)},onUpdateURL:function(t){var s=this,a=o.guidFor(this);e["default"].$(window).on("hashchange.ember-location-"+a,function(){i["default"](function(){var e=s.getURL();n.get(s,"lastSetURL")!==e&&(r.set(s,"lastSetURL",null),t(e))})})},formatURL:function(t){return"#"+t},willDestroy:function(){var t=o.guidFor(this);e["default"].$(window).off("hashchange.ember-location-"+t)}})}),t("ember-routing/location/history_location",["exports","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-runtime/system/object","ember-routing/location/api","ember-views/system/jquery"],function(t,e,n,r,i,o,s){"use strict";var a=!1;t["default"]=i["default"].extend({implementation:"history",init:function(){n.set(this,"location",e.get(this,"location")||window.location),n.set(this,"baseURL",s["default"]("base").attr("href")||"")},initState:function(){var t=e.get(this,"history")||window.history;n.set(this,"history",t),t&&"state"in t&&(this.supportsHistory=!0),this.replaceState(this.formatURL(this.getURL()))},rootURL:"/",getURL:function(){var t=e.get(this,"rootURL"),n=e.get(this,"location"),r=n.pathname,i=e.get(this,"baseURL");t=t.replace(/\/$/,""),i=i.replace(/\/$/,"");var o=r.replace(i,"").replace(t,""),s=n.search||"";return o+=s,o+=this.getHash()},setURL:function(t){var e=this.getState();t=this.formatURL(t),e&&e.path===t||this.pushState(t)},replaceURL:function(t){var e=this.getState();t=this.formatURL(t),e&&e.path===t||this.replaceState(t)},getState:function(){return this.supportsHistory?e.get(this,"history").state:this._historyState},pushState:function(t){var n={path:t};e.get(this,"history").pushState(n,null,t),this._historyState=n,this._previousURL=this.getURL()},replaceState:function(t){var n={path:t};e.get(this,"history").replaceState(n,null,t),this._historyState=n,this._previousURL=this.getURL()},onUpdateURL:function(t){var e=r.guidFor(this),n=this;s["default"](window).on("popstate.ember-location-"+e,function(e){(a||(a=!0,n.getURL()!==n._previousURL))&&t(n.getURL())})},formatURL:function(t){var n=e.get(this,"rootURL"),r=e.get(this,"baseURL");return""!==t?(n=n.replace(/\/$/,""),r=r.replace(/\/$/,"")):r.match(/^\//)&&n.match(/^\//)&&(r=r.replace(/\/$/,"")),r+n+t},willDestroy:function(){var t=r.guidFor(this);s["default"](window).off("popstate.ember-location-"+t)},getHash:o["default"]._getHash})}),t("ember-routing/location/none_location",["exports","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/object"],function(t,e,n,r){"use strict";t["default"]=r["default"].extend({implementation:"none",path:"",getURL:function(){return e.get(this,"path")},setURL:function(t){n.set(this,"path",t)},onUpdateURL:function(t){this.updateCallback=t},handleURL:function(t){n.set(this,"path",t),this.updateCallback(t)},formatURL:function(t){return t}})}),t("ember-routing/location/util",["exports"],function(t){"use strict";function e(t){var e=t.pathname;return"/"!==e.charAt(0)&&(e="/"+e),e}function n(t){return t.search}function r(t){var e=t.href,n=e.indexOf("#");return-1===n?"":e.substr(n)}function i(t){return e(t)+n(t)+r(t)}function o(t){var e=t.origin;return e||(e=t.protocol+"//"+t.hostname,t.port&&(e+=":"+t.port)),e}function s(t,e){return"onhashchange"in e&&(void 0===t||t>7)}function a(t,e){return-1!==t.indexOf("Android 2")&&-1!==t.indexOf("Mobile Safari")&&-1===t.indexOf("Chrome")?!1:!!(e&&"pushState"in e)}function l(t,e){t.replace(o(t)+e)}t.getPath=e,t.getQuery=n,t.getHash=r,t.getFullPath=i,t.getOrigin=o,t.supportsHashChange=s,t.supportsHistory=a,t.replacePath=l}),t("ember-routing/system/cache",["exports","ember-runtime/system/object"],function(t,e){"use strict";t["default"]=e["default"].extend({init:function(){this.cache={}},has:function(t){return t in this.cache},stash:function(t,e,n){var r=this.cache[t];r||(r=this.cache[t]={}),r[e]=n},lookup:function(t,e,n){var r=this.cache;if(!(t in r))return n;var i=r[t];return e in i?i[e]:n},cache:null})}),t("ember-routing/system/controller_for",["exports"],function(t){"use strict";function e(t,e,n){return t.lookup("controller:"+e,n)}t["default"]=e}),t("ember-routing/system/dsl",["exports","ember-metal/core","ember-metal/array"],function(t,e,n){"use strict";function r(t,e){this.parent=t,this.enableLoadingSubstates=e&&e.enableLoadingSubstates,this.matches=[]}function i(t){return t.parent&&"application"!==t.parent}function o(t,e,n){return i(t)&&n!==!0?t.parent+"."+e:e}function s(t,e,n,r){n=n||{};var i=o(t,e,n.resetNamespace);"string"!=typeof n.path&&(n.path="/"+e),t.push(n.path,i,r)}t["default"]=r,r.prototype={route:function(t,e,n){2===arguments.length&&"function"==typeof e&&(n=e,e={}),1===arguments.length&&(e={});e.resetNamespace===!0?"resource":"route";if(this.enableLoadingSubstates&&(s(this,t+"_loading",{resetNamespace:e.resetNamespace}),s(this,t+"_error",{path:"/_unused_dummy_error_path_route_"+t+"/:error"})),n){var i=o(this,t,e.resetNamespace),a=new r(i,{enableLoadingSubstates:this.enableLoadingSubstates});s(a,"loading"),s(a,"error",{path:"/_unused_dummy_error_path_route_"+t+"/:error"}),n.call(a),s(this,t,e,a.generate())}else s(this,t,e)},push:function(t,e,n){var r=e.split(".");(""===t||"/"===t||"index"===r[r.length-1])&&(this.explicitIndex=!0),this.matches.push([t,e,n])},resource:function(t,e,n){2===arguments.length&&"function"==typeof e&&(n=e,e={}),1===arguments.length&&(e={}),e.resetNamespace=!0,this.route(t,e,n)},generate:function(){var t=this.matches;return this.explicitIndex||this.route("index",{path:"/"}),function(e){for(var n=0,r=t.length;r>n;n++){var i=t[n];e(i[0]).to(i[1],i[2])}}}},r.map=function(t){var e=new r;return t.call(e),e}}),t("ember-routing/system/generate_controller",["exports","ember-metal/core","ember-metal/property_get","ember-metal/utils"],function(t,e,n,r){"use strict";function i(t,e,n){var i,o,s,a;return a=n&&r.isArray(n)?"array":n?"object":"basic",s="controller:"+a,i=t.lookupFactory(s).extend({isGenerated:!0,toString:function(){return"(generated "+e+" controller)"}}),o="controller:"+e,t._registry.register(o,i),i}function o(t,e,r){i(t,e,r);var o="controller:"+e,s=t.lookup(o);return n.get(s,"namespace.LOG_ACTIVE_GENERATION"),s}t.generateControllerFactory=i,t["default"]=o}),t("ember-routing/system/query_params",["exports","ember-runtime/system/object"],function(t,e){"use strict";t["default"]=e["default"].extend({isQueryParams:!0,values:null})}),t("ember-routing/system/route",["exports","ember-metal/core","ember-metal/error","ember-metal/property_get","ember-metal/property_set","ember-metal/get_properties","ember-metal/enumerable_utils","ember-metal/is_none","ember-metal/computed","ember-metal/merge","ember-metal/utils","ember-metal/run_loop","ember-metal/keys","ember-runtime/copy","ember-runtime/system/string","ember-runtime/system/object","ember-runtime/mixins/evented","ember-runtime/mixins/action_handler","ember-routing/system/generate_controller","ember-routing/utils"],function(t,e,n,r,i,o,s,a,l,u,c,h,d,p,f,m,g,v,y,b){"use strict";function _(){return this}function w(t){var e=x(t,t.router.router.state.handlerInfos,-1);return e&&e.handler}function x(t,e,n){if(e)for(var r,i=n||0,o=0,s=e.length;s>o;o++)if(r=e[o].handler,r===t)return e[o+i]}function C(t,e,i,o,s){var a,l,u,c,h=s&&s.controller,d=(r.get(t.router,"namespace.LOG_VIEW_LOOKUPS"),s&&s.into&&s.into.replace(/\//g,".")),p=s&&s.outlet||"main";if(o?(o=o.replace(/\//g,"."),a=o):(o=t.routeName,a=t.templateName||o),h||(h=e?t.container.lookup("controller:"+o)||t.controllerName||t.routeName:t.controllerName||t.container.lookup("controller:"+o)),"string"==typeof h){var f=h;if(h=t.container.lookup("controller:"+f),!h)throw new n["default"]("You passed `controller: '"+f+"'` into the `render` method, but no such controller could be found.")}s&&s.model&&h.set("model",s.model),l=s&&s.view||e&&o||t.viewName||o,u=t.container.lookupFactory("view:"+l),c=t.container.lookup("template:"+a);var m;d&&(m=w(t))&&d===w(t).routeName&&(d=void 0);var g={into:d,outlet:p,name:o,controller:h,ViewClass:u,template:c};return g}function T(t,e){if(e.fullQueryParams)return e.fullQueryParams;e.fullQueryParams={},u["default"](e.fullQueryParams,e.queryParams);var n=e.handlerInfos[e.handlerInfos.length-1].name;return t._deserializeQueryParams(n,e.fullQueryParams),e.fullQueryParams}function E(t,e){e.queryParamsFor=e.queryParamsFor||{};var n=t.routeName;if(e.queryParamsFor[n])return e.queryParamsFor[n];for(var i=T(t.router,e),o=e.queryParamsFor[n]={},s=r.get(t,"_qp"),a=s.qps,l=0,u=a.length;u>l;++l){var c=a[l],h=c.prop in i;o[c.prop]=h?i[c.prop]:k(c.def)}return o}function k(t){return c.isArray(t)?e["default"].A(t.slice()):t}var S=Array.prototype.slice,P=m["default"].extend(v["default"],g["default"],{queryParams:{},_qp:l.computed(function(){var t=this.controllerName||this.routeName,n=this.container.lookupFactory("controller:"+t);if(!n)return A;var i=n.proto(),o=r.get(i,"_normalizedQueryParams"),s=r.get(i,"_cacheMeta"),a=[],l={},u=this;for(var h in o)if(o.hasOwnProperty(h)){var d=o[h],p=d.as||this.serializeQueryParamKey(h),f=r.get(i,h);c.isArray(f)&&(f=e["default"].A(f.slice()));var m=c.typeOf(f),g=this.serializeQueryParam(f,p,m),v=t+":"+h,y={def:f,sdef:g,type:m,urlKey:p,prop:h,fprop:v,ctrl:t,cProto:i,svalue:g,cacheType:d.scope,route:this,cacheMeta:s[h]};l[h]=l[p]=l[v]=y,a.push(y)}return{qps:a,map:l,states:{active:function(t,e){return u._activeQPChanged(t,l[e])},allowOverrides:function(t,e){return u._updatingQPChanged(t,l[e])},changingKeys:function(t,e){return u._updateSerializedQPValue(t,l[e])}}}}),_names:null,_stashNames:function(t,e){var n=t;if(!this._names){var i=this._names=n._names;i.length||(n=e,i=n&&n._names||[]);for(var o=r.get(this,"_qp.qps"),s=o.length,a=new Array(i.length),l=0,u=i.length;u>l;++l)a[l]=n.name+"."+i[l];for(var c=0;s>c;++c){var h=o[c],d=h.cacheMeta;"model"===d.scope&&(d.parts=a),d.prefix=h.ctrl}}},_updateSerializedQPValue:function(t,e){var n=r.get(t,e.prop);e.svalue=this.serializeQueryParam(n,e.urlKey,e.type)},_activeQPChanged:function(t,e){var n=r.get(t,e.prop);this.router._queuedQPChanges[e.fprop]=n,h["default"].once(this,this._fireQueryParamTransition)},_updatingQPChanged:function(t,e){var n=this.router;n._qpUpdates||(n._qpUpdates={}),n._qpUpdates[e.urlKey]=!0},mergedProperties:["events","queryParams"],paramsFor:function(t){var e=this.container.lookup("route:"+t);if(!e)return{};var n=this.router.router.activeTransition,r=n?n.state:this.router.router.state,i={};return u["default"](i,r.params[t]),u["default"](i,E(e,r)),i},serializeQueryParamKey:function(t){return t},serializeQueryParam:function(t,e,n){return"array"===n?JSON.stringify(t):""+t},deserializeQueryParam:function(t,n,r){return"boolean"===r?"true"===t?!0:!1:"number"===r?Number(t).valueOf():"array"===r?e["default"].A(JSON.parse(t)):t},_fireQueryParamTransition:function(){this.transitionTo({queryParams:this.router._queuedQPChanges}),this.router._queuedQPChanges={}},_optionsForQueryParam:function(t){return r.get(this,"queryParams."+t.urlKey)||r.get(this,"queryParams."+t.prop)||{}},resetController:_,exit:function(){this.deactivate(),this.trigger("deactivate"),this.teardownViews()},_reset:function(t,e){var n=this.controller;n._qpDelegate=r.get(this,"_qp.states.inactive"),this.resetController(n,t,e)},enter:function(){this.connections=[],this.activate(),this.trigger("activate")},viewName:null,templateName:null,controllerName:null,_actions:{queryParamsDidChange:function(t,e,n){for(var i=r.get(this,"_qp").map,o=d["default"](t).concat(d["default"](n)),s=0,a=o.length;a>s;++s){var l=i[o[s]];l&&r.get(this._optionsForQueryParam(l),"refreshModel")&&this.refresh()}return!0},finalizeQueryParamChange:function(t,e,n){if("application"!==this.routeName)return!0;if(n){var o,a=n.state.handlerInfos,l=this.router,u=l._queryParamsFor(a[a.length-1].name),c=l._qpUpdates;b.stashParamNames(l,a);for(var h=0,d=u.qps.length;d>h;++h){var p,f,m=u.qps[h],g=m.route,v=g.controller,y=m.urlKey in t&&m.urlKey;c&&m.urlKey in c?(p=r.get(v,m.prop),f=g.serializeQueryParam(p,m.urlKey,m.type)):y?(f=t[y],p=g.deserializeQueryParam(f,m.urlKey,m.type)):(f=m.sdef,p=k(m.def)),v._qpDelegate=r.get(this,"_qp.states.inactive");var _=f!==m.svalue;if(_){if(n.queryParamsOnly&&o!==!1){var w=g._optionsForQueryParam(m),x=r.get(w,"replace");x?o=!0:x===!1&&(o=!1)}i.set(v,m.prop,p)}m.svalue=f;var C=m.sdef===f;C||e.push({value:f,visible:!0,key:y||m.urlKey})}o&&n.method("replace"),s.forEach(u.qps,function(t){var e=r.get(t.route,"_qp"),n=t.route.controller;n._qpDelegate=r.get(e,"states.active")}),l._qpUpdates=null}}},events:null,deactivate:_,activate:_,transitionTo:function(t,e){var n=this.router;return n.transitionTo.apply(n,arguments)},intermediateTransitionTo:function(){var t=this.router;t.intermediateTransitionTo.apply(t,arguments)},refresh:function(){return this.router.router.refresh(this)},replaceWith:function(){var t=this.router;return t.replaceWith.apply(t,arguments)},send:function(){if(this.router||!e["default"].testing){var t;(t=this.router).send.apply(t,arguments)}else{var n=arguments[0],r=S.call(arguments,1),i=this._actions[n];if(i)return this._actions[n].apply(this,r)}},setup:function(t,e){var n=this.controllerName||this.routeName,i=this.controllerFor(n,!0);if(i||(i=this.generateController(n,t)),this.controller=i,this.setupControllers)this.setupControllers(i,t);else{var o=r.get(this,"_qp.states");if(e&&(b.stashParamNames(this.router,e.state.handlerInfos),i._qpDelegate=o.changingKeys,i._updateCacheParams(e.params)),i._qpDelegate=o.allowOverrides,e){var s=E(this,e.state);i.setProperties(s)}this.setupController(i,t,e)}this.renderTemplates?this.renderTemplates(t):this.renderTemplate(i,t)},beforeModel:_,afterModel:_,redirect:_,contextDidChange:function(){this.currentModel=this.context},model:function(t,e){var n,i,o,s,a=r.get(this,"_qp.map");for(var l in t)"queryParams"===l||a&&l in a||((n=l.match(/^(.*)_id$/))&&(i=n[1],s=t[l]),o=!0);if(!i&&o)return p["default"](t);if(!i){if(e.resolveIndex<1)return;var u=e.state.handlerInfos[e.resolveIndex-1].context;return u}return this.findModel(i,s)},deserialize:function(t,e){return this.model(this.paramsFor(this.routeName),e)},findModel:function(){var t=r.get(this,"store");return t.find.apply(t,arguments)},store:l.computed(function(){var t=this.container;this.routeName,r.get(this,"router.namespace");return{find:function(e,n){var r=t.lookupFactory("model:"+e);if(r)return r.find(n)}}}),serialize:function(t,e){if(!(e.length<1)&&t){var n=e[0],i={};return 1===e.length?n in t?i[n]=r.get(t,n):/_id$/.test(n)&&(i[n]=r.get(t,"id")):i=o["default"](t,e),i}},setupController:function(t,e,n){t&&void 0!==e&&i.set(t,"model",e)},controllerFor:function(t,e){var n,r=this.container,i=r.lookup("route:"+t);return i&&i.controllerName&&(t=i.controllerName),n=r.lookup("controller:"+t)},generateController:function(t,e){var n=this.container;return e=e||this.modelFor(t),y["default"](n,t,e)},modelFor:function(t){var e=this.container.lookup("route:"+t),n=this.router?this.router.router.activeTransition:null;if(n){var r=e&&e.routeName||t;if(n.resolvedModels.hasOwnProperty(r))return n.resolvedModels[r]}return e&&e.currentModel},renderTemplate:function(t,e){this.render()},render:function(t,n){var r,i="string"==typeof t&&!!t,o=0===arguments.length||e["default"].isEmpty(arguments[0]);"object"!=typeof t||n?r=t:(r=this.routeName,n=t);var s=C(this,i,o,r,n);this.connections.push(s),h["default"].once(this.router,"_setOutlets")},disconnectOutlet:function(t){var e,n;t&&"string"!=typeof t?(e=t.outlet,n=t.parentView):e=t,n=n&&n.replace(/\//g,"."),e=e||"main",this._disconnectOutlet(e,n);for(var r=0;r<this.router.router.currentHandlerInfos.length;r++)this.router.router.currentHandlerInfos[r].handler._disconnectOutlet(e,n)},_disconnectOutlet:function(t,e){var n=w(this);n&&e===n.routeName&&(e=void 0);for(var r=0;r<this.connections.length;r++){var i=this.connections[r];i.outlet===t&&i.into===e&&(this.connections[r]={into:i.into,outlet:i.outlet,name:i.name},h["default"].once(this.router,"_setOutlets"))}},willDestroy:function(){this.teardownViews()},teardownViews:function(){this.connections&&this.connections.length>0&&(this.connections=[],h["default"].once(this.router,"_setOutlets"))}}),A={qps:[],map:{},states:{}};t["default"]=P}),t("ember-routing/system/router",["exports","ember-metal/core","ember-metal/error","ember-metal/property_get","ember-metal/property_set","ember-metal/properties","ember-metal/computed","ember-metal/merge","ember-metal/run_loop","ember-runtime/system/string","ember-runtime/system/object","ember-runtime/mixins/evented","ember-routing/system/dsl","ember-routing/location/api","ember-routing/utils","ember-metal/platform/create","./router_state","router","router/transition"],function(t,e,n,r,i,o,s,a,l,u,c,h,d,p,f,m,g,v){"use strict";function y(){return this}function b(t,e,n){for(var r,i,o=e.state.handlerInfos,s=!1,a=o.length-1;a>=0;--a)if(r=o[a],i=r.handler,s){if(n(i,o[a+1].handler)!==!0)return!1}else t===i&&(s=!0);return!0}function _(t,n){var r,i=[];r=t&&"object"==typeof t&&"object"==typeof t.errorThrown?t.errorThrown:t,n&&i.push(n),r&&(r.message&&i.push(r.message),r.stack&&i.push(r.stack),"string"==typeof r&&i.push(r)),e["default"].Logger.error.apply(this,i)}function w(t,e,n){var r,i=t.router,o=e.routeName.split(".").pop(),s="application"===t.routeName?"":t.routeName+".";return r=s+o+"_"+n,x(i,r)?r:(r=s+n,x(i,r)?r:void 0)}function x(t,e){var n=t.container;return t.hasRoute(e)&&(n._registry.has("template:"+e)||n._registry.has("route:"+e))}function C(t,e,r){var i=r.shift();if(!t){if(e)return;throw new n["default"]("Can't trigger action '"+i+"' because your app hasn't finished transitioning into its first route. To trigger an action on destination routes during a transition, you can call `.send()` on the `Transition` object passed to the `model/beforeModel/afterModel` hooks.")}for(var o,s,a=!1,l=t.length-1;l>=0;l--)if(o=t[l],s=o.handler,s._actions&&s._actions[i]){if(s._actions[i].apply(s,r)!==!0)return;a=!0}if(N[i])return void N[i].apply(null,r);if(!a&&!e)throw new n["default"]("Nothing handled the action '"+i+"'. If you did handle the action, this error can be caused by returning true from an action handler in a controller, causing the action to bubble.")}function T(t,e,n){for(var r=t.router,i=r.applyIntent(e,n),o=i.handlerInfos,s=i.params,a=0,l=o.length;l>a;++a){var u=o[a];u.isResolved||(u=u.becomeResolved(null,u.context)),s[u.name]=u.params}return i}function E(t){var e=t.container.lookup("controller:application");if(e){var n=t.router.currentHandlerInfos,r=R._routePath(n);"currentPath"in e||o.defineProperty(e,"currentPath"),i.set(e,"currentPath",r),"currentRouteName"in e||o.defineProperty(e,"currentRouteName"),i.set(e,"currentRouteName",n[n.length-1].name)}}function k(t,e){var n=g["default"].create({emberRouter:e,routerJs:e.router,routerJsState:t.state});e.currentState||e.set("currentState",n),e.set("targetState",n),t.then(null,function(t){return t&&t.name?t:void 0},"Ember: Process errors from Router")}function S(t){return"string"==typeof t&&(""===t||"/"===t.charAt(0))}function P(t,e,n,r){var i=t._queryParamsFor(e);for(var o in n)if(n.hasOwnProperty(o)){var s=n[o],a=i.map[o];a&&r(o,s,a)}}function A(t,e){if(t)for(var n=[t];n.length>0;){var r=n.shift();if(r.render.name===e)return r;var i=r.outlets;for(var o in i)n.push(i[o])}}function L(t,e,n){var r,o={render:n,outlets:m["default"](null)};return r=n.into?A(t,n.into):e,r?i.set(r.outlets,n.outlet,o):n.into?O(t,n.into,o):t=o,{liveRoutes:t,ownState:o}}function O(t,n,r){t.outlets.__ember_orphans__||(t.outlets.__ember_orphans__={render:{name:"__ember_orphans__"},outlets:m["default"](null)}),t.outlets.__ember_orphans__.outlets[n]=r,e["default"].run.schedule("afterRender",function(){})}function D(t,e,n){var r=A(t,n.routeName);return r?r:(e.outlets.main={render:{name:n.routeName,outlet:"main"},outlets:{}},e)}var M=[].slice,R=c["default"].extend(h["default"],{location:"hash",rootURL:"/",_initRouterJs:function(t){function n(){this.resource("application",{path:"/",overrideNameAssertion:!0},function(){for(var t=0;t<o.length;t++)o[t].call(this)})}var i=this.router=new v["default"];i.triggerEvent=C,i._triggerWillChangeContext=y,i._triggerWillLeave=y;var o=this.constructor.dslCallbacks||[y],s=new d["default"](null,{enableLoadingSubstates:!!t});n.call(s),r.get(this,"namespace.LOG_TRANSITIONS_INTERNAL")&&(i.log=e["default"].Logger.debug),i.map(s.generate())},init:function(){this._activeViews={},this._qpCache={},this._queuedQPChanges={}},url:s.computed(function(){return r.get(this,"location").getURL()}),startRouting:function(t){var e=r.get(this,"initialURL");if(this.setupRouter(t)){"undefined"==typeof e&&(e=r.get(this,"location").getURL());var n=this.handleURL(e);if(n&&n.error)throw n.error}},setupRouter:function(t){this._initRouterJs(t),this._setupLocation();var e=this.router,n=r.get(this,"location"),i=this;return r.get(n,"cancelRouterSetup")?!1:(this._setupRouter(e,n),n.onUpdateURL(function(t){i.handleURL(t)}),!0)},didTransition:function(t){E(this),this._cancelSlowTransitionTimer(),this.notifyPropertyChange("url"),this.set("currentState",this.targetState),l["default"].once(this,this.trigger,"didTransition"),r.get(this,"namespace").LOG_TRANSITIONS&&e["default"].Logger.log("Transitioned into '"+R._routePath(t)+"'")},_setOutlets:function(){var t,e,n=this.router.currentHandlerInfos,r=null;if(n){for(var i=0;i<n.length;i++){t=n[i].handler;for(var o,s=t.connections,a=0;a<s.length;a++){var l=L(r,e,s[a]);r=l.liveRoutes,(l.ownState.render.name===t.routeName||"main"===l.ownState.render.outlet)&&(o=l.ownState)}0===s.length&&(o=D(r,e,t)),e=o}if(!this._toplevelView){var u=this.container.lookupFactory("view:-outlet");this._toplevelView=u.create({_isTopLevel:!0});var c=this.container.lookup("-application-instance:main");c.didCreateRootView(this._toplevelView)}this._toplevelView.setOutletState(r)}},willTransition:function(t,n,i){l["default"].once(this,this.trigger,"willTransition",i),r.get(this,"namespace").LOG_TRANSITIONS&&e["default"].Logger.log("Preparing to transition from '"+R._routePath(t)+"' to '"+R._routePath(n)+"'")},handleURL:function(t){return t=t.split(/#(.+)?/)[0],this._doURLTransition("handleURL",t)},_doURLTransition:function(t,e){var n=this.router[t](e||"/");return k(n,this),n},transitionTo:function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];var r;if(S(e[0]))return this._doURLTransition("transitionTo",e[0]);var i=e[e.length-1];r=i&&i.hasOwnProperty("queryParams")?e.pop().queryParams:{};var o=e.shift();return this._doTransition(o,e,r)},intermediateTransitionTo:function(){var t;(t=this.router).intermediateTransitionTo.apply(t,arguments),E(this);var n=this.router.currentHandlerInfos;r.get(this,"namespace").LOG_TRANSITIONS&&e["default"].Logger.log("Intermediate-transitioned into '"+R._routePath(n)+"'")},replaceWith:function(){return this.transitionTo.apply(this,arguments).method("replace")},generate:function(){var t,e=(t=this.router).generate.apply(t,arguments);return this.location.formatURL(e)},isActive:function(t){var e=this.router;return e.isActive.apply(e,arguments)},isActiveIntent:function(t,e,n){return this.currentState.isActiveIntent(t,e,n)},send:function(t,e){var n;(n=this.router).trigger.apply(n,arguments)},hasRoute:function(t){return this.router.hasRoute(t)},reset:function(){this.router&&this.router.reset()},willDestroy:function(){this._toplevelView&&(this._toplevelView.destroy(),this._toplevelView=null),this._super.apply(this,arguments),this.reset()},_lookupActiveView:function(t){var e=this._activeViews[t];return e&&e[0]},_connectActiveView:function(t,e){function n(){delete this._activeViews[t]}var r=this._activeViews[t];r&&r[0].off("willDestroyElement",this,r[1]),this._activeViews[t]=[e,n],e.one("willDestroyElement",this,n)},_setupLocation:function(){var t=r.get(this,"location"),e=r.get(this,"rootURL");if("string"==typeof t&&this.container){var n=this.container.lookup("location:"+t);if("undefined"!=typeof n)t=i.set(this,"location",n);else{var o={implementation:t};t=i.set(this,"location",p["default"].create(o))}}null!==t&&"object"==typeof t&&(e&&i.set(t,"rootURL",e),"function"==typeof t.detect&&t.detect(),"function"==typeof t.initState&&t.initState())},_getHandlerFunction:function(){var t=m["default"](null),e=this.container,n=e.lookupFactory("route:basic"),i=this;return function(o){var s="route:"+o,a=e.lookup(s);return t[o]?a:(t[o]=!0,a||(e._registry.register(s,n.extend()),a=e.lookup(s),r.get(i,"namespace.LOG_ACTIVE_GENERATION")),a.routeName=o,a)}},_setupRouter:function(t,e){var n,r=this;t.getHandler=this._getHandlerFunction();var i=function(){e.setURL(n)};if(t.updateURL=function(t){n=t,l["default"].once(i)},e.replaceURL){var o=function(){e.replaceURL(n)};t.replaceURL=function(t){n=t,l["default"].once(o)}}t.didTransition=function(t){r.didTransition(t)},t.willTransition=function(t,e,n){r.willTransition(t,e,n)}},_serializeQueryParams:function(t,e){var n={};P(this,t,e,function(t,r,i){var o=i.urlKey;n[o]||(n[o]=[]),n[o].push({qp:i,value:r}),delete e[t]});for(var r in n){var i=n[r],o=i[0].qp;e[o.urlKey]=o.route.serializeQueryParam(i[0].value,o.urlKey,o.type);
}},_deserializeQueryParams:function(t,e){P(this,t,e,function(t,n,r){delete e[t],e[r.prop]=r.route.deserializeQueryParam(n,r.urlKey,r.type)})},_pruneDefaultQueryParamValues:function(t,e){var n=this._queryParamsFor(t);for(var r in e){var i=n.map[r];i&&i.sdef===e[r]&&delete e[r]}},_doTransition:function(t,e,n){var r=t||f.getActiveTargetName(this.router),i={};a["default"](i,n),this._prepareQueryParams(r,e,i);var o=f.routeArgs(r,e,i),s=this.router.transitionTo.apply(this.router,o);return k(s,this),s},_prepareQueryParams:function(t,e,n){this._hydrateUnsuppliedQueryParams(t,e,n),this._serializeQueryParams(t,n),this._pruneDefaultQueryParamValues(t,n)},_queryParamsFor:function(t){if(this._qpCache[t])return this._qpCache[t];var e={},n=[];this._qpCache[t]={map:e,qps:n};for(var i=this.router,o=i.recognizer.handlersFor(t),s=0,l=o.length;l>s;++s){var u=o[s],c=i.getHandler(u.handler),h=r.get(c,"_qp");h&&(a["default"](e,h.map),n.push.apply(n,h.qps))}return{qps:n,map:e}},_hydrateUnsuppliedQueryParams:function(t,e,n){var i=T(this,t,e),o=i.handlerInfos,s=this._bucketCache;f.stashParamNames(this,o);for(var a=0,l=o.length;l>a;++a)for(var u=o[a].handler,c=r.get(u,"_qp"),h=0,d=c.qps.length;d>h;++h){var p=c.qps[h],m=p.prop in n&&p.prop||p.fprop in n&&p.fprop;if(m)m!==p.fprop&&(n[p.fprop]=n[m],delete n[m]);else{var g=p.cProto,v=r.get(g,"_cacheMeta"),y=g._calculateCacheKey(p.ctrl,v[p.prop].parts,i.params);n[p.fprop]=s.lookup(y,p.prop,p.def)}}},_scheduleLoadingEvent:function(t,e){this._cancelSlowTransitionTimer(),this._slowTransitionTimer=l["default"].scheduleOnce("routerTransitions",this,"_handleSlowTransition",t,e)},currentState:null,targetState:null,_handleSlowTransition:function(t,e){this.router.activeTransition&&(this.set("targetState",g["default"].create({emberRouter:this,routerJs:this.router,routerJsState:this.router.activeTransition.state})),t.trigger(!0,"loading",t,e))},_cancelSlowTransitionTimer:function(){this._slowTransitionTimer&&l["default"].cancel(this._slowTransitionTimer),this._slowTransitionTimer=null}}),N={willResolveModel:function(t,e){e.router._scheduleLoadingEvent(t,e)},error:function(t,e,n){var r=n.router,i=b(n,e,function(e,n){var i=w(e,n,"error");return i?void r.intermediateTransitionTo(i,t):!0});return i&&x(n.router,"application_error")?void r.intermediateTransitionTo("application_error",t):void _(t,"Error while processing route: "+e.targetName)},loading:function(t,e){var n=e.router,r=b(e,t,function(e,r){var i=w(e,r,"loading");return i?void n.intermediateTransitionTo(i):t.pivotHandler!==e?!0:void 0});return r&&x(e.router,"application_loading")?void n.intermediateTransitionTo("application_loading"):void 0}};R.reopenClass({router:null,map:function(t){return this.dslCallbacks||(this.dslCallbacks=[],this.reopenClass({dslCallbacks:this.dslCallbacks})),this.dslCallbacks.push(t),this},_routePath:function(t){function e(t,e){for(var n=0,r=t.length;r>n;++n)if(t[n]!==e[n])return!1;return!0}for(var n,r,i,o=[],s=1,a=t.length;a>s;s++){for(n=t[s].name,r=n.split("."),i=M.call(o);i.length&&!e(i,r);)i.shift();o.push.apply(o,r.slice(i.length))}return o.join(".")}}),t["default"]=R}),t("ember-routing/system/router_state",["exports","ember-metal/core","ember-runtime/system/object","ember-metal/merge"],function(t,e,n,r){"use strict";function i(t,e){var n;for(n in t)if(t.hasOwnProperty(n)&&t[n]!==e[n])return!1;for(n in e)if(e.hasOwnProperty(n)&&t[n]!==e[n])return!1;return!0}var o=n["default"].extend({emberRouter:null,routerJs:null,routerJsState:null,isActiveIntent:function(t,n,o,s){var a=this.routerJsState;if(!this.routerJs.isActiveIntent(t,n,null,a))return!1;var l=e["default"].isEmpty(e["default"].keys(o));if(s&&!l){var u={};return r["default"](u,o),this.emberRouter._prepareQueryParams(t,n,u),i(u,a.queryParams)}return!0}});t["default"]=o}),t("ember-routing/utils",["exports","ember-metal/utils"],function(t,e){"use strict";function n(t,n,r){var i=[];return"string"===e.typeOf(t)&&i.push(""+t),i.push.apply(i,n),i.push({queryParams:r}),i}function r(t){var e=t.activeTransition?t.activeTransition.state.handlerInfos:t.state.handlerInfos;return e[e.length-1].name}function i(t,e){if(!e._namesStashed){for(var n=e[e.length-1].name,r=t.router.recognizer.handlersFor(n),i=null,o=0,s=e.length;s>o;++o){var a=e[o],l=r[o].names;l.length&&(i=a),a._names=l;var u=a.handler;u._stashNames(a,i)}e._namesStashed=!0}}t.routeArgs=n,t.getActiveTargetName=r,t.stashParamNames=i}),t("ember-runtime",["exports","ember-metal","ember-runtime/core","ember-runtime/compare","ember-runtime/copy","ember-runtime/inject","ember-runtime/system/namespace","ember-runtime/system/object","ember-runtime/system/tracked_array","ember-runtime/system/subarray","ember-runtime/system/container","ember-runtime/system/array_proxy","ember-runtime/system/object_proxy","ember-runtime/system/core_object","ember-runtime/system/native_array","ember-runtime/system/set","ember-runtime/system/string","ember-runtime/system/deferred","ember-runtime/system/lazy_load","ember-runtime/mixins/array","ember-runtime/mixins/comparable","ember-runtime/mixins/copyable","ember-runtime/mixins/enumerable","ember-runtime/mixins/freezable","ember-runtime/mixins/-proxy","ember-runtime/mixins/observable","ember-runtime/mixins/action_handler","ember-runtime/mixins/deferred","ember-runtime/mixins/mutable_enumerable","ember-runtime/mixins/mutable_array","ember-runtime/mixins/target_action_support","ember-runtime/mixins/evented","ember-runtime/mixins/promise_proxy","ember-runtime/mixins/sortable","ember-runtime/computed/array_computed","ember-runtime/computed/reduce_computed","ember-runtime/computed/reduce_computed_macros","ember-runtime/controllers/array_controller","ember-runtime/controllers/object_controller","ember-runtime/controllers/controller","ember-runtime/mixins/controller","ember-runtime/system/service","ember-runtime/ext/rsvp","ember-runtime/ext/string","ember-runtime/ext/function"],function(t,e,n,r,i,o,s,a,l,u,c,h,d,p,f,m,g,v,y,b,_,w,x,C,T,E,k,S,P,A,L,O,D,M,R,N,F,I,B,j,z,V,H){"use strict";e["default"].compare=r["default"],e["default"].copy=i["default"],e["default"].isEqual=n.isEqual,e["default"].inject=o["default"],e["default"].Array=b["default"],e["default"].Comparable=_["default"],e["default"].Copyable=w["default"],e["default"].SortableMixin=M["default"],e["default"].Freezable=C.Freezable,e["default"].FROZEN_ERROR=C.FROZEN_ERROR,e["default"].DeferredMixin=S["default"],e["default"].MutableEnumerable=P["default"],e["default"].MutableArray=A["default"],e["default"].TargetActionSupport=L["default"],e["default"].Evented=O["default"],e["default"].PromiseProxyMixin=D["default"],e["default"].Observable=E["default"],e["default"].arrayComputed=R.arrayComputed,e["default"].ArrayComputedProperty=R.ArrayComputedProperty,e["default"].reduceComputed=N.reduceComputed,e["default"].ReduceComputedProperty=N.ReduceComputedProperty;var U=e["default"].computed;U.sum=F.sum,U.min=F.min,U.max=F.max,U.map=F.map,U.sort=F.sort,U.setDiff=F.setDiff,U.mapBy=F.mapBy,U.mapProperty=F.mapProperty,U.filter=F.filter,U.filterBy=F.filterBy,U.filterProperty=F.filterProperty,U.uniq=F.uniq,U.union=F.union,U.intersect=F.intersect,e["default"].String=g["default"],e["default"].Object=a["default"],e["default"].TrackedArray=l["default"],e["default"].SubArray=u["default"],e["default"].Container=c.Container,e["default"].Registry=c.Registry,e["default"].Namespace=s["default"],e["default"].Enumerable=x["default"],e["default"].ArrayProxy=h["default"],e["default"].ObjectProxy=d["default"],e["default"].ActionHandler=k["default"],e["default"].CoreObject=p["default"],e["default"].NativeArray=f["default"],e["default"].Set=m["default"],e["default"].Deferred=v["default"],e["default"].onLoad=y.onLoad,e["default"].runLoadHooks=y.runLoadHooks,e["default"].ArrayController=I["default"],e["default"].ObjectController=B["default"],e["default"].Controller=j["default"],e["default"].ControllerMixin=z["default"],e["default"].Service=V["default"],e["default"]._ProxyMixin=T["default"],e["default"].RSVP=H["default"],t["default"]=e["default"]}),t("ember-runtime/compare",["exports","ember-metal/utils","ember-runtime/mixins/comparable"],function(t,e,n){"use strict";function r(t,e){var n=t-e;return(n>0)-(0>n)}function i(t,s){if(t===s)return 0;var a=e.typeOf(t),l=e.typeOf(s);if(n["default"]){if("instance"===a&&n["default"].detect(t)&&t.constructor.compare)return t.constructor.compare(t,s);if("instance"===l&&n["default"].detect(s)&&s.constructor.compare)return-1*s.constructor.compare(s,t)}var u=r(o[a],o[l]);if(0!==u)return u;switch(a){case"boolean":case"number":return r(t,s);case"string":return r(t.localeCompare(s),0);case"array":for(var c=t.length,h=s.length,d=Math.min(c,h),p=0;d>p;p++){var f=i(t[p],s[p]);if(0!==f)return f}return r(c,h);case"instance":return n["default"]&&n["default"].detect(t)?t.compare(t,s):0;case"date":return r(t.getTime(),s.getTime());default:return 0}}t["default"]=i;var o={undefined:0,"null":1,"boolean":2,number:3,string:4,array:5,object:6,instance:7,"function":8,"class":9,date:10}}),t("ember-runtime/computed/array_computed",["exports","ember-metal/core","ember-runtime/computed/reduce_computed","ember-metal/enumerable_utils","ember-metal/platform/create","ember-metal/observer","ember-metal/error"],function(t,e,n,r,i,o,s){"use strict";function a(){var t=this;return n.ReduceComputedProperty.apply(this,arguments),this._getter=function(e){return function(n){return t._hasInstanceMeta(this,n)||r.forEach(t._dependentKeys,function(e){o.addObserver(this,e,function(){t.recomputeOnce.call(this,n)})},this),e.apply(this,arguments)}}(this._getter),this}function l(t){var e;if(arguments.length>1&&(e=u.call(arguments,0,-1),t=u.call(arguments,-1)[0]),"object"!=typeof t)throw new s["default"]("Array Computed Property declared without an options hash");var n=new a(t);return e&&n.property.apply(n,e),n}t.arrayComputed=l,t.ArrayComputedProperty=a;var u=[].slice;a.prototype=i["default"](n.ReduceComputedProperty.prototype),a.prototype.initialValue=function(){return e["default"].A()},a.prototype.resetValue=function(t){return t.clear(),t},a.prototype.didChange=function(t,e){}}),t("ember-runtime/computed/reduce_computed",["exports","ember-metal/core","ember-metal/property_get","ember-metal/utils","ember-metal/error","ember-metal/property_events","ember-metal/expand_properties","ember-metal/observer","ember-metal/computed","ember-metal/platform/create","ember-metal/enumerable_utils","ember-runtime/system/tracked_array","ember-runtime/mixins/array","ember-metal/run_loop"],function(t,e,n,r,i,o,s,a,l,u,c,h,d,p){"use strict";function f(t,e){return"@this"===e?t:n.get(t,e)}function m(t,e,n,r,i,o){this.callbacks=t,this.cp=e,this.instanceMeta=n,this.dependentKeysByGuid={},this.trackedArraysByGuid={},this.suspended=!1,this.changedItems={},this.changedItemCount=0}function g(t,e,n){this.dependentArray=t,this.index=e,this.item=t.objectAt(e),this.trackedArray=n,this.beforeObserver=null,this.observer=null,this.destroyed=!1}function v(t,e,n){return 0>t?Math.max(0,e+t):e>t?t:Math.min(e-n,t)}function y(t,e,n){return Math.min(n,e-t)}function b(t,e,n,r,i,o,s){this.arrayChanged=t,this.index=n,this.item=e,this.propertyName=r,this.property=i,this.changedCount=o,s&&(this.previousValues=s)}function _(t,e,n,r,i){c.forEach(t,function(o,s){i.setValue(e.addedItem.call(this,i.getValue(),o,new b(t,o,s,r,n,t.length),i.sugarMeta))},this),e.flushedChanges.call(this,i.getValue(),i.sugarMeta)}function w(t,e){var n=t._hasInstanceMeta(this,e),r=t._instanceMeta(this,e);n&&r.setValue(t.resetValue(r.getValue())),t.options.initialize&&t.options.initialize.call(this,r.getValue(),{property:t,propertyName:e},r.sugarMeta)}function x(t,e){if(M.test(e))return!1;var n=f(t,e);return d["default"].detect(n)}function C(t,e,n){this.context=t,this.propertyName=e;var i=r.meta(t),o=i.cache;o||(o=i.cache={}),this.cache=o,this.dependentArrays={},this.sugarMeta={},this.initialValue=n}function T(t){var e=this;this.options=t,this._dependentKeys=null,this._cacheable=!0,this._itemPropertyKeys={},this._previousItemPropertyKeys={},this.readOnly(),this.recomputeOnce=function(t){p["default"].once(this,n,t)};var n=function(t){var n=e._instanceMeta(this,t),r=e._callbacks();w.call(this,e,t),n.dependentArraysObserver.suspendArrayObservers(function(){c.forEach(e._dependentKeys,function(t){if(x(this,t)){var r=f(this,t),i=n.dependentArrays[t];r===i?e._previousItemPropertyKeys[t]&&(delete e._previousItemPropertyKeys[t],n.dependentArraysObserver.setupPropertyObservers(t,e._itemPropertyKeys[t])):(n.dependentArrays[t]=r,i&&n.dependentArraysObserver.teardownObservers(i,t),r&&n.dependentArraysObserver.setupObservers(r,t))}},this)},this),c.forEach(e._dependentKeys,function(i){if(x(this,i)){var o=f(this,i);o&&_.call(this,o,r,e,t,n)}},this)};this._getter=function(t){return n.call(this,t),e._instanceMeta(this,t).getValue()}}function E(t){return t}function k(t){var e;if(arguments.length>1&&(e=L.call(arguments,0,-1),t=L.call(arguments,-1)[0]),"object"!=typeof t)throw new i["default"]("Reduce Computed Property declared without an options hash");if(!("initialValue"in t))throw new i["default"]("Reduce Computed Property declared without an initial value");var n=new T(t);return e&&n.property.apply(n,e),n}t.reduceComputed=k,t.ReduceComputedProperty=T;var S=l.cacheFor.set,P=l.cacheFor.get,A=l.cacheFor.remove,L=[].slice,O=/^(.*)\.@each\.(.*)/,D=/(.*\.@each){2,}/,M=/\.\[\]$/;m.prototype={setValue:function(t){this.instanceMeta.setValue(t,!0)},getValue:function(){return this.instanceMeta.getValue()},setupObservers:function(t,e){this.dependentKeysByGuid[r.guidFor(t)]=e,t.addArrayObserver(this,{willChange:"dependentArrayWillChange",didChange:"dependentArrayDidChange"}),this.cp._itemPropertyKeys[e]&&this.setupPropertyObservers(e,this.cp._itemPropertyKeys[e])},teardownObservers:function(t,e){var n=this.cp._itemPropertyKeys[e]||[];delete this.dependentKeysByGuid[r.guidFor(t)],this.teardownPropertyObservers(e,n),t.removeArrayObserver(this,{willChange:"dependentArrayWillChange",didChange:"dependentArrayDidChange"})},suspendArrayObservers:function(t,e){var n=this.suspended;this.suspended=!0,t.call(e),this.suspended=n},setupPropertyObservers:function(t,e){var n=f(this.instanceMeta.context,t),r=f(n,"length"),i=new Array(r);this.resetTransformations(t,i),c.forEach(n,function(r,o){var s=this.createPropertyObserverContext(n,o,this.trackedArraysByGuid[t]);i[o]=s,c.forEach(e,function(t){a.addBeforeObserver(r,t,this,s.beforeObserver),a.addObserver(r,t,this,s.observer)},this)},this)},teardownPropertyObservers:function(t,e){var n,r,i,o=this,s=this.trackedArraysByGuid[t];s&&s.apply(function(t,s,l){l!==h["default"].DELETE&&c.forEach(t,function(t){t.destroyed=!0,n=t.beforeObserver,r=t.observer,i=t.item,c.forEach(e,function(t){a.removeBeforeObserver(i,t,o,n),a.removeObserver(i,t,o,r)})})})},createPropertyObserverContext:function(t,e,n){var r=new g(t,e,n);return this.createPropertyObserver(r),r},createPropertyObserver:function(t){var e=this;t.beforeObserver=function(n,r){return e.itemPropertyWillChange(n,r,t.dependentArray,t)},t.observer=function(n,r){return e.itemPropertyDidChange(n,r,t.dependentArray,t)}},resetTransformations:function(t,e){this.trackedArraysByGuid[t]=new h["default"](e)},trackAdd:function(t,e,n){var r=this.trackedArraysByGuid[t];r&&r.addItems(e,n)},trackRemove:function(t,e,n){var r=this.trackedArraysByGuid[t];return r?r.removeItems(e,n):[]},updateIndexes:function(t,e){var n=f(e,"length");t.apply(function(t,e,r,i){r!==h["default"].DELETE&&(0!==i||r!==h["default"].RETAIN||t.length!==n||0!==e)&&c.forEach(t,function(t,n){t.index=n+e})})},dependentArrayWillChange:function(t,e,n,i){function o(t){d[h].destroyed=!0,a.removeBeforeObserver(l,t,this,d[h].beforeObserver),a.removeObserver(l,t,this,d[h].observer)}if(!this.suspended){var s,l,u,h,d,p=this.callbacks.removedItem,m=r.guidFor(t),g=this.dependentKeysByGuid[m],_=this.cp._itemPropertyKeys[g]||[],w=f(t,"length"),x=v(e,w,0),C=y(x,w,n);for(d=this.trackRemove(g,x,C),h=C-1;h>=0&&(u=x+h,!(u>=w));--h)l=t.objectAt(u),c.forEach(_,o,this),s=new b(t,l,u,this.instanceMeta.propertyName,this.cp,C),this.setValue(p.call(this.instanceMeta.context,this.getValue(),l,s,this.instanceMeta.sugarMeta));this.callbacks.flushedChanges.call(this.instanceMeta.context,this.getValue(),this.instanceMeta.sugarMeta)}},dependentArrayDidChange:function(t,e,n,i){if(!this.suspended){var o,s,l=this.callbacks.addedItem,u=r.guidFor(t),h=this.dependentKeysByGuid[u],d=new Array(i),p=this.cp._itemPropertyKeys[h],m=f(t,"length"),g=v(e,m,i),y=g+i;c.forEach(t.slice(g,y),function(e,n){p&&(s=this.createPropertyObserverContext(t,g+n,this.trackedArraysByGuid[h]),d[n]=s,c.forEach(p,function(t){a.addBeforeObserver(e,t,this,s.beforeObserver),a.addObserver(e,t,this,s.observer)},this)),o=new b(t,e,g+n,this.instanceMeta.propertyName,this.cp,i),this.setValue(l.call(this.instanceMeta.context,this.getValue(),e,o,this.instanceMeta.sugarMeta))},this),this.callbacks.flushedChanges.call(this.instanceMeta.context,this.getValue(),this.instanceMeta.sugarMeta),this.trackAdd(h,g,d)}},itemPropertyWillChange:function(t,e,n,i){var o=r.guidFor(t);this.changedItems[o]||(this.changedItems[o]={array:n,observerContext:i,obj:t,previousValues:{}}),++this.changedItemCount,this.changedItems[o].previousValues[e]=f(t,e)},itemPropertyDidChange:function(t,e,n,r){0===--this.changedItemCount&&this.flushChanges()},flushChanges:function(){var t,e,n,r=this.changedItems;for(t in r)e=r[t],e.observerContext.destroyed||(this.updateIndexes(e.observerContext.trackedArray,e.observerContext.dependentArray),n=new b(e.array,e.obj,e.observerContext.index,this.instanceMeta.propertyName,this.cp,r.length,e.previousValues),this.setValue(this.callbacks.removedItem.call(this.instanceMeta.context,this.getValue(),e.obj,n,this.instanceMeta.sugarMeta)),this.setValue(this.callbacks.addedItem.call(this.instanceMeta.context,this.getValue(),e.obj,n,this.instanceMeta.sugarMeta)));this.changedItems={},this.callbacks.flushedChanges.call(this.instanceMeta.context,this.getValue(),this.instanceMeta.sugarMeta)}},C.prototype={getValue:function(){var t=P(this.cache,this.propertyName);return void 0!==t?t:this.initialValue},setValue:function(t,e){t!==P(this.cache,this.propertyName)&&(e&&o.propertyWillChange(this.context,this.propertyName),void 0===t?A(this.cache,this.propertyName):S(this.cache,this.propertyName,t),e&&o.propertyDidChange(this.context,this.propertyName))}},T.prototype=u["default"](l.ComputedProperty.prototype),T.prototype._callbacks=function(){if(!this.callbacks){var t=this.options;this.callbacks={removedItem:t.removedItem||E,addedItem:t.addedItem||E,flushedChanges:t.flushedChanges||E}}return this.callbacks},T.prototype._hasInstanceMeta=function(t,e){var n=t.__ember_meta__,r=n&&n.cacheMeta;return!(!r||!r[e])},T.prototype._instanceMeta=function(t,e){var n=t.__ember_meta__,r=n.cacheMeta,i=r&&r[e];return r||(r=n.cacheMeta={}),i||(i=r[e]=new C(t,e,this.initialValue()),i.dependentArraysObserver=new m(this._callbacks(),this,i,t,e,i.sugarMeta)),i},T.prototype.initialValue=function(){return"function"==typeof this.options.initialValue?this.options.initialValue():this.options.initialValue},T.prototype.resetValue=function(t){return this.initialValue()},T.prototype.itemPropertyKey=function(t,e){this._itemPropertyKeys[t]=this._itemPropertyKeys[t]||[],this._itemPropertyKeys[t].push(e)},T.prototype.clearItemPropertyKeys=function(t){this._itemPropertyKeys[t]&&(this._previousItemPropertyKeys[t]=this._itemPropertyKeys[t],this._itemPropertyKeys[t]=[])},T.prototype.property=function(){var t,e,n=this,o=L.call(arguments),a={};c.forEach(o,function(o){if(D.test(o))throw new i["default"]("Nested @each properties not supported: "+o);if(t=O.exec(o)){e=t[1];var l=t[2],u=function(t){n.itemPropertyKey(e,t)};s["default"](l,u),a[r.guidFor(e)]=e}else a[r.guidFor(o)]=o});var u=[];for(var h in a)u.push(a[h]);return l.ComputedProperty.prototype.property.apply(this,u)}}),t("ember-runtime/computed/reduce_computed_macros",["exports","ember-metal/core","ember-metal/property_get","ember-metal/utils","ember-metal/error","ember-metal/enumerable_utils","ember-metal/run_loop","ember-metal/observer","ember-runtime/computed/array_computed","ember-runtime/computed/reduce_computed","ember-runtime/system/subarray","ember-metal/keys","ember-runtime/compare"],function(t,e,n,r,i,o,s,a,l,u,c,h,d){"use strict";function p(t){return u.reduceComputed(t,{initialValue:0,addedItem:function(t,e,n,r){return t+e},removedItem:function(t,e,n,r){return t-e}})}function f(t){return u.reduceComputed(t,{initialValue:-(1/0),addedItem:function(t,e,n,r){return Math.max(t,e)},removedItem:function(t,e,n,r){return t>e?t:void 0}})}function m(t){return u.reduceComputed(t,{initialValue:1/0,addedItem:function(t,e,n,r){return Math.min(t,e)},removedItem:function(t,e,n,r){return e>t?t:void 0}})}function g(t,e){var n={addedItem:function(t,n,r,i){var o=e.call(this,n,r.index);return t.insertAt(r.index,o),t},removedItem:function(t,e,n,r){return t.removeAt(n.index,1),t}};return l.arrayComputed(t,n)}function v(t,e){var r=function(t){return n.get(t,e)};return g(t+".@each."+e,r)}function y(t,e){var n={initialize:function(t,e,n){n.filteredArrayIndexes=new c["default"]},addedItem:function(t,n,r,i){var o=!!e.call(this,n,r.index,r.arrayChanged),s=i.filteredArrayIndexes.addItem(r.index,o);return o&&t.insertAt(s,n),t},removedItem:function(t,e,n,r){var i=r.filteredArrayIndexes.removeItem(n.index);return i>-1&&t.removeAt(i),t}};return l.arrayComputed(t,n)}function b(t,e,r){var i;return i=2===arguments.length?function(t){return n.get(t,e)}:function(t){return n.get(t,e)===r},y(t+".@each."+e,i)}function _(){var t=P.call(arguments);return t.push({initialize:function(t,e,n){n.itemCounts={}},addedItem:function(t,e,n,i){var o=r.guidFor(e);return i.itemCounts[o]?++i.itemCounts[o]:(i.itemCounts[o]=1,t.pushObject(e)),t},removedItem:function(t,e,n,i){var o=r.guidFor(e),s=i.itemCounts;return 0===--s[o]&&t.removeObject(e),t}}),l.arrayComputed.apply(null,t)}function w(){var t=P.call(arguments);return t.push({initialize:function(t,e,n){n.itemCounts={}},addedItem:function(t,e,n,i){var o=r.guidFor(e),s=r.guidFor(n.arrayChanged),a=n.property._dependentKeys.length,l=i.itemCounts;return l[o]||(l[o]={}),void 0===l[o][s]&&(l[o][s]=0),1===++l[o][s]&&a===h["default"](l[o]).length&&t.addObject(e),t},removedItem:function(t,e,n,i){var o,s=r.guidFor(e),a=r.guidFor(n.arrayChanged),l=i.itemCounts;return void 0===l[s][a]&&(l[s][a]=0),0===--l[s][a]&&(delete l[s][a],o=h["default"](l[s]).length,0===o&&delete l[s],t.removeObject(e)),t}}),l.arrayComputed.apply(null,t)}function x(t,e){if(2!==arguments.length)throw new i["default"]("setDiff requires exactly two dependent arrays.");return l.arrayComputed(t,e,{addedItem:function(r,i,o,s){var a=n.get(this,t),l=n.get(this,e);return o.arrayChanged===a?l.contains(i)||r.addObject(i):r.removeObject(i),r},removedItem:function(r,i,o,s){var a=n.get(this,t),l=n.get(this,e);return o.arrayChanged===l?a.contains(i)&&r.addObject(i):r.removeObject(i),r}})}function C(t,e,i,o){var s,a,l,u,c;return arguments.length<4&&(o=n.get(t,"length")),arguments.length<3&&(i=0),i===o?i:(s=i+Math.floor((o-i)/2),a=t.objectAt(s),u=r.guidFor(a),c=r.guidFor(e),u===c?s:(l=this.order(a,e),0===l&&(l=c>u?-1:1),0>l?this.binarySearch(t,e,s+1,o):l>0?this.binarySearch(t,e,i,s):s))}function T(t,e){return"function"==typeof e?E(t,e):k(t,e)}function E(t,e){return l.arrayComputed(t,{initialize:function(t,n,r){r.order=e,r.binarySearch=C,r.waitingInsertions=[],r.insertWaiting=function(){var e,n,i=r.waitingInsertions;r.waitingInsertions=[];for(var o=0;o<i.length;o++)n=i[o],e=r.binarySearch(t,n),t.insertAt(e,n)},r.insertLater=function(t){this.waitingInsertions.push(t)}},addedItem:function(t,e,n,r){return r.insertLater(e),t},removedItem:function(t,e,n,r){return t.removeObject(e),t},flushedChanges:function(t,e){e.insertWaiting()}})}function k(t,e){return l.arrayComputed(t,{initialize:function(r,i,l){function u(){var r,s,a,u=n.get(this,e),h=l.sortProperties=[],d=l.sortPropertyAscending={};i.property.clearItemPropertyKeys(t),o.forEach(u,function(e){-1!==(s=e.indexOf(":"))?(r=e.substring(0,s),a="desc"!==e.substring(s+1).toLowerCase()):(r=e,a=!0),h.push(r),d[r]=a,i.property.itemPropertyKey(t,r)}),this.addObserver(e+".@each",this,c)}function c(){s["default"].once(this,h,i.propertyName)}function h(t){u.call(this),i.property.recomputeOnce.call(this,t)}a.addObserver(this,e,c),u.call(this),l.order=function(t,e){for(var n,r,i,o=this.keyFor(t),s=this.keyFor(e),a=0;a<this.sortProperties.length;++a)if(n=this.sortProperties[a],r=d["default"](o[n],s[n]),0!==r)return i=this.sortPropertyAscending[n],i?r:-1*r;return 0},l.binarySearch=C,S(l)},addedItem:function(t,e,n,r){var i=r.binarySearch(t,e);return t.insertAt(i,e),t},removedItem:function(t,e,n,r){var i=r.binarySearch(t,e);return t.removeAt(i),r.dropKeyFor(e),t}})}function S(t){t.keyFor=function(t){var e=r.guidFor(t);if(this.keyCache[e])return this.keyCache[e];for(var i,o={},s=0;s<this.sortProperties.length;++s)i=this.sortProperties[s],o[i]=n.get(t,i);return this.keyCache[e]=o},t.dropKeyFor=function(t){var e=r.guidFor(t);this.keyCache[e]=null},t.keyCache={}}t.sum=p,t.max=f,t.min=m,t.map=g,t.mapBy=v,t.filter=y,t.filterBy=b,t.uniq=_,t.intersect=w,t.setDiff=x,t.sort=T;var P=[].slice,A=v,L=b,O=_;t.mapProperty=A,t.filterProperty=L,t.union=O}),t("ember-runtime/controllers/array_controller",["exports","ember-metal/core","ember-metal/property_get","ember-metal/enumerable_utils","ember-runtime/system/array_proxy","ember-runtime/mixins/sortable","ember-runtime/mixins/controller","ember-metal/computed","ember-metal/error","ember-runtime/mixins/array"],function(t,e,n,r,i,o,s,a,l,u){"use strict";t["default"]=i["default"].extend(s["default"],o["default"],{itemController:null,lookupItemController:function(t){return n.get(this,"itemController")},objectAtContent:function(t){var e,r=n.get(this,"length"),i=n.get(this,"arrangedContent"),o=i&&i.objectAt(t);return t>=0&&r>t&&(e=this.lookupItemController(o))?this.controllerAt(t,o,e):o},arrangedContentDidChange:function(){this._super.apply(this,arguments),this._resetSubControllers()},arrayContentDidChange:function(t,e,n){var i=this._subControllers;if(i.length){var o=i.slice(t,t+e);r.forEach(o,function(t){t&&t.destroy()}),r.replace(i,t,e,new Array(n))}this._super(t,e,n)},init:function(){this._super.apply(this,arguments),this._subControllers=[]},model:a.computed({get:function(t){return e["default"].A()},set:function(t,e){return e}}),_isVirtual:!1,controllerAt:function(t,e,r){var i,o,s,a=n.get(this,"container"),u=this._subControllers;if(u.length>t&&(o=u[t]))return o;if(s=this._isVirtual?n.get(this,"parentController"):this,i="controller:"+r,!a._registry.has(i))throw new l["default"]('Could not resolve itemController: "'+r+'"');return o=a.lookupFactory(i).create({target:s,parentController:s,model:e}),u[t]=o,o},_subControllers:null,_resetSubControllers:function(){var t,e=this._subControllers;if(e.length){for(var n=0,r=e.length;r>n;n++)t=e[n],t&&t.destroy();e.length=0}},willDestroy:function(){this._resetSubControllers(),this._super.apply(this,arguments)}})}),t("ember-runtime/controllers/controller",["exports","ember-metal/core","ember-runtime/system/object","ember-runtime/mixins/controller","ember-runtime/inject"],function(t,e,n,r,i){"use strict";function o(t){}var s=n["default"].extend(r["default"]);i.createInjectionHelper("controller",o),t["default"]=s}),t("ember-runtime/controllers/object_controller",["exports","ember-metal/core","ember-runtime/mixins/controller","ember-runtime/system/object_proxy"],function(t,e,n,r){"use strict";var i="Ember.ObjectController is deprecated, please use Ember.Controller and use `model.propertyName`.";t["default"]=r["default"].extend(n["default"],{init:function(){this._super()}}),t.objectControllerDeprecation=i}),t("ember-runtime/copy",["exports","ember-metal/enumerable_utils","ember-metal/utils","ember-runtime/system/object","ember-runtime/mixins/copyable"],function(t,e,n,r,i){"use strict";function o(t,r,s,a){var l,u,c;if("object"!=typeof t||null===t)return t;if(r&&(u=e.indexOf(s,t))>=0)return a[u];if("array"===n.typeOf(t)){if(l=t.slice(),r)for(u=l.length;--u>=0;)l[u]=o(l[u],r,s,a)}else if(i["default"]&&i["default"].detect(t))l=t.copy(r,s,a);else if(t instanceof Date)l=new Date(t.getTime());else{l={};for(c in t)Object.prototype.hasOwnProperty.call(t,c)&&"__"!==c.substring(0,2)&&(l[c]=r?o(t[c],r,s,a):t[c])}return r&&(s.push(t),a.push(l)),l}function s(t,e){return"object"!=typeof t||null===t?t:i["default"]&&i["default"].detect(t)?t.copy(e):o(t,e,e?[]:null,e?[]:null)}t["default"]=s}),t("ember-runtime/core",["exports"],function(t){"use strict";function e(t,e){return t&&"function"==typeof t.isEqual?t.isEqual(e):t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():t===e}t.isEqual=e}),t("ember-runtime/ext/function",["ember-metal/core","ember-metal/expand_properties","ember-metal/computed","ember-metal/mixin"],function(t,e,n,r){"use strict";var i=Array.prototype.slice,o=Function.prototype;(t["default"].EXTEND_PROTOTYPES===!0||t["default"].EXTEND_PROTOTYPES.Function)&&(o.property=function(){var t=n.computed(this);return t.property.apply(t,arguments)},o.observes=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return e.push(this),r.observer.apply(this,e)},o.observesImmediately=function(){return this.observes.apply(this,arguments)},o.observesBefore=function(){for(var t=[],n=function(e){t.push(e)},r=0,i=arguments.length;i>r;++r)e["default"](arguments[r],n);return this.__ember_observesBefore__=t,this},o.on=function(){var t=i.call(arguments);return this.__ember_listens__=t,this})}),t("ember-runtime/ext/rsvp",["exports","ember-metal/core","ember-metal/logger","ember-metal/run_loop","rsvp"],function(t,n,r,i,o){"use strict";function s(t){var i;if(t&&t.errorThrown?(i=t.errorThrown,"string"==typeof i&&(i=new Error(i)),i.__reason_with_error_thrown__=t):i=t,i&&"TransitionAborted"!==i.name)if(n["default"].testing){if(!a&&n["default"].__loader.registry[l]&&(a=e(l)["default"]),!a||!a.adapter)throw i;a.adapter.exception(i),r["default"].error(i.stack)}else n["default"].onerror?n["default"].onerror(i):r["default"].error(i.stack)}t.onerrorDefault=s;var a,l="ember-testing/test",u=function(){n["default"].Test&&n["default"].Test.adapter&&n["default"].Test.adapter.asyncStart()},c=function(){n["default"].Test&&n["default"].Test.adapter&&n["default"].Test.adapter.asyncEnd()};o.configure("async",function(t,e){var r=!i["default"].currentRunLoop;n["default"].testing&&r&&u(),i["default"].backburner.schedule("actions",function(){n["default"].testing&&r&&c(),t(e)})}),o.Promise.prototype.fail=function(t,e){return this["catch"](t,e)},o.on("error",s),t["default"]=o}),t("ember-runtime/ext/string",["ember-metal/core","ember-runtime/system/string"],function(t,e){"use strict";var n=String.prototype;(t["default"].EXTEND_PROTOTYPES===!0||t["default"].EXTEND_PROTOTYPES.String)&&(n.fmt=function(){return e.fmt(this,arguments)},n.w=function(){return e.w(this)},n.loc=function(){return e.loc(this,arguments)},n.camelize=function(){return e.camelize(this)},n.decamelize=function(){return e.decamelize(this)},n.dasherize=function(){return e.dasherize(this)},n.underscore=function(){return e.underscore(this)},n.classify=function(){return e.classify(this)},n.capitalize=function(){return e.capitalize(this)})}),t("ember-runtime/inject",["exports","ember-metal/core","ember-metal/enumerable_utils","ember-metal/injected_property","ember-metal/keys"],function(t,e,n,r,i){"use strict";function o(){}function s(t,e){l[t]=e,o[t]=function(e){return new r["default"](t,e)}}function a(t){var e,i,o,s,a,u=t.proto(),c=[];for(e in u)i=u[e],i instanceof r["default"]&&-1===n.indexOf(c,i.type)&&c.push(i.type);if(c.length)for(s=0,a=c.length;a>s;s++)o=l[c[s]],"function"==typeof o&&o(t);return!0}t.createInjectionHelper=s,t.validatePropertyInjections=a;var l={};t["default"]=o}),t("ember-runtime/mixins/-proxy",["exports","ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/observer","ember-metal/property_events","ember-metal/computed","ember-metal/properties","ember-metal/mixin","ember-runtime/system/string"],function(t,e,n,r,i,o,s,a,l,u,c){
"use strict";function h(t,e){var n=e.slice(8);n in this||s.propertyWillChange(this,n)}function d(t,e){var n=e.slice(8);n in this||s.propertyDidChange(this,n)}t["default"]=u.Mixin.create({content:null,_contentDidChange:u.observer("content",function(){}),isTruthy:a.computed.bool("content"),_debugContainerKey:null,willWatchProperty:function(t){var e="content."+t;o.addBeforeObserver(this,e,null,h),o.addObserver(this,e,null,d)},didUnwatchProperty:function(t){var e="content."+t;o.removeBeforeObserver(this,e,null,h),o.removeObserver(this,e,null,d)},unknownProperty:function(t){var e=n.get(this,"content");return e?n.get(e,t):void 0},setUnknownProperty:function(t,e){var o=i.meta(this);if(o.proto===this)return l.defineProperty(this,t,null,e),e;var s=n.get(this,"content");return r.set(s,t,e)}})}),t("ember-runtime/mixins/action_handler",["exports","ember-metal/merge","ember-metal/mixin","ember-metal/property_get","ember-metal/utils"],function(t,e,n,r,i){"use strict";var o=n.Mixin.create({mergedProperties:["_actions"],willMergeMixin:function(t){var n;t._actions||("object"===i.typeOf(t.actions)?n="actions":"object"===i.typeOf(t.events)&&(n="events"),n&&(t._actions=e["default"](t._actions||{},t[n])),delete t[n])},send:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];var o;if(this._actions&&this._actions[t]){var s=this._actions[t].apply(this,n)===!0;if(!s)return}(o=r.get(this,"target"))&&o.send.apply(o,arguments)}});t["default"]=o}),t("ember-runtime/mixins/array",["exports","ember-metal/core","ember-metal/property_get","ember-metal/computed","ember-metal/is_none","ember-runtime/mixins/enumerable","ember-metal/enumerable_utils","ember-metal/mixin","ember-metal/property_events","ember-metal/events","ember-metal/watching"],function(t,n,r,i,o,s,a,l,u,c,h){"use strict";function d(t,e,n,i,o){var s=n&&n.willChange||"arrayWillChange",a=n&&n.didChange||"arrayDidChange",l=r.get(t,"hasArrayObservers");return l===o&&u.propertyWillChange(t,"hasArrayObservers"),i(t,"@array:before",e,s),i(t,"@array:change",e,a),l===o&&u.propertyDidChange(t,"hasArrayObservers"),t}t["default"]=l.Mixin.create(s["default"],{length:null,objectAt:function(t){return 0>t||t>=r.get(this,"length")?void 0:r.get(this,t)},objectsAt:function(t){var e=this;return a.map(t,function(t){return e.objectAt(t)})},nextObject:function(t){return this.objectAt(t)},"[]":i.computed({get:function(t){return this},set:function(t,e){return this.replace(0,r.get(this,"length"),e),this}}),firstObject:i.computed(function(){return this.objectAt(0)}),lastObject:i.computed(function(){return this.objectAt(r.get(this,"length")-1)}),contains:function(t){return this.indexOf(t)>=0},slice:function(t,e){var i=n["default"].A(),s=r.get(this,"length");for(o["default"](t)&&(t=0),(o["default"](e)||e>s)&&(e=s),0>t&&(t=s+t),0>e&&(e=s+e);e>t;)i[i.length]=this.objectAt(t++);return i},indexOf:function(t,e){var n,i=r.get(this,"length");for(void 0===e&&(e=0),0>e&&(e+=i),n=e;i>n;n++)if(this.objectAt(n)===t)return n;return-1},lastIndexOf:function(t,e){var n,i=r.get(this,"length");for((void 0===e||e>=i)&&(e=i-1),0>e&&(e+=i),n=e;n>=0;n--)if(this.objectAt(n)===t)return n;return-1},addArrayObserver:function(t,e){return d(this,t,e,c.addListener,!1)},removeArrayObserver:function(t,e){return d(this,t,e,c.removeListener,!0)},hasArrayObservers:i.computed(function(){return c.hasListeners(this,"@array:change")||c.hasListeners(this,"@array:before")}),arrayContentWillChange:function(t,e,n){var i,o;if(void 0===t?(t=0,e=n=-1):(void 0===e&&(e=-1),void 0===n&&(n=-1)),h.isWatching(this,"@each")&&r.get(this,"@each"),c.sendEvent(this,"@array:before",[this,t,e,n]),t>=0&&e>=0&&r.get(this,"hasEnumerableObservers")){i=[],o=t+e;for(var s=t;o>s;s++)i.push(this.objectAt(s))}else i=e;return this.enumerableContentWillChange(i,n),this},arrayContentDidChange:function(t,e,n){var o,s;if(void 0===t?(t=0,e=n=-1):(void 0===e&&(e=-1),void 0===n&&(n=-1)),t>=0&&n>=0&&r.get(this,"hasEnumerableObservers")){o=[],s=t+n;for(var a=t;s>a;a++)o.push(this.objectAt(a))}else o=n;this.enumerableContentDidChange(e,o),c.sendEvent(this,"@array:change",[this,t,e,n]);var l=r.get(this,"length"),h=i.cacheFor(this,"firstObject"),d=i.cacheFor(this,"lastObject");return this.objectAt(0)!==h&&(u.propertyWillChange(this,"firstObject"),u.propertyDidChange(this,"firstObject")),this.objectAt(l-1)!==d&&(u.propertyWillChange(this,"lastObject"),u.propertyDidChange(this,"lastObject")),this},"@each":i.computed(function(){if(!this.__each){var t=e("ember-runtime/system/each_proxy").EachProxy;this.__each=new t(this)}return this.__each})})}),t("ember-runtime/mixins/comparable",["exports","ember-metal/mixin"],function(t,e){"use strict";t["default"]=e.Mixin.create({compare:null})}),t("ember-runtime/mixins/controller",["exports","ember-metal/mixin","ember-metal/alias","ember-runtime/mixins/action_handler","ember-runtime/mixins/controller_content_model_alias_deprecation"],function(t,e,n,r,i){"use strict";t["default"]=e.Mixin.create(r["default"],i["default"],{isController:!0,target:null,container:null,parentController:null,store:null,model:null,content:n["default"]("model")})}),t("ember-runtime/mixins/controller_content_model_alias_deprecation",["exports","ember-metal/core","ember-metal/mixin"],function(t,e,n){"use strict";t["default"]=n.Mixin.create({willMergeMixin:function(t){this._super.apply(this,arguments);var e=!!t.model;t.content&&!e&&(t.model=t.content,delete t.content)}})}),t("ember-runtime/mixins/copyable",["exports","ember-metal/property_get","ember-metal/mixin","ember-runtime/mixins/freezable","ember-runtime/system/string","ember-metal/error"],function(t,e,n,r,i,o){"use strict";t["default"]=n.Mixin.create({copy:null,frozenCopy:function(){if(r.Freezable&&r.Freezable.detect(this))return e.get(this,"isFrozen")?this:this.copy().freeze();throw new o["default"](i.fmt("%@ does not support freezing",[this]))}})}),t("ember-runtime/mixins/deferred",["exports","ember-metal/core","ember-metal/property_get","ember-metal/mixin","ember-metal/computed","ember-runtime/ext/rsvp"],function(t,e,n,r,i,o){"use strict";t["default"]=r.Mixin.create({then:function(t,e,r){function i(e){return t(e===s?a:e)}var o,s,a;return a=this,o=n.get(this,"_deferred"),s=o.promise,s.then(t&&i,e,r)},resolve:function(t){var e,r;e=n.get(this,"_deferred"),r=e.promise,t===this?e.resolve(r):e.resolve(t)},reject:function(t){n.get(this,"_deferred").reject(t)},_deferred:i.computed(function(){return o["default"].defer("Ember: DeferredMixin - "+this)})})}),t("ember-runtime/mixins/enumerable",["exports","ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/mixin","ember-metal/enumerable_utils","ember-metal/computed","ember-metal/property_events","ember-metal/events","ember-runtime/compare"],function(t,e,n,r,i,o,s,a,l,u){"use strict";function c(){return 0===p.length?{}:p.pop()}function h(t){return p.push(t),null}function d(t,e){function r(r){var o=n.get(r,t);return i?e===o:!!o}var i=2===arguments.length;return r}var p=[];t["default"]=i.Mixin.create({nextObject:null,firstObject:s.computed("[]",function(){if(0===n.get(this,"length"))return void 0;var t=c(),e=this.nextObject(0,null,t);return h(t),e}),lastObject:s.computed("[]",function(){var t=n.get(this,"length");if(0===t)return void 0;var e,r=c(),i=0,o=null;do o=e,e=this.nextObject(i++,o,r);while(void 0!==e);return h(r),o}),contains:function(t){var e=this.find(function(e){return e===t});return void 0!==e},forEach:function(t,e){if("function"!=typeof t)throw new TypeError;var r=c(),i=n.get(this,"length"),o=null;void 0===e&&(e=null);for(var s=0;i>s;s++){var a=this.nextObject(s,o,r);t.call(e,a,s,this),o=a}return o=null,r=h(r),this},getEach:i.aliasMethod("mapBy"),setEach:function(t,e){return this.forEach(function(n){r.set(n,t,e)})},map:function(t,n){var r=e["default"].A();return this.forEach(function(e,i,o){r[i]=t.call(n,e,i,o)}),r},mapBy:function(t){return this.map(function(e){return n.get(e,t)})},mapProperty:i.aliasMethod("mapBy"),filter:function(t,n){var r=e["default"].A();return this.forEach(function(e,i,o){t.call(n,e,i,o)&&r.push(e)}),r},reject:function(t,e){return this.filter(function(){return!t.apply(e,arguments)})},filterBy:function(t,e){return this.filter(d.apply(this,arguments))},filterProperty:i.aliasMethod("filterBy"),rejectBy:function(t,e){var r=function(r){return n.get(r,t)===e},i=function(e){return!!n.get(e,t)},o=2===arguments.length?r:i;return this.reject(o)},rejectProperty:i.aliasMethod("rejectBy"),find:function(t,e){var r=n.get(this,"length");void 0===e&&(e=null);for(var i,o,s=c(),a=!1,l=null,u=0;r>u&&!a;u++)i=this.nextObject(u,l,s),(a=t.call(e,i,u,this))&&(o=i),l=i;return i=l=null,s=h(s),o},findBy:function(t,e){return this.find(d.apply(this,arguments))},findProperty:i.aliasMethod("findBy"),every:function(t,e){return!this.find(function(n,r,i){return!t.call(e,n,r,i)})},everyBy:i.aliasMethod("isEvery"),everyProperty:i.aliasMethod("isEvery"),isEvery:function(t,e){return this.every(d.apply(this,arguments))},any:function(t,e){var r,i,o=n.get(this,"length"),s=c(),a=!1,l=null;for(void 0===e&&(e=null),i=0;o>i&&!a;i++)r=this.nextObject(i,l,s),a=t.call(e,r,i,this),l=r;return r=l=null,s=h(s),a},some:i.aliasMethod("any"),isAny:function(t,e){return this.any(d.apply(this,arguments))},anyBy:i.aliasMethod("isAny"),someProperty:i.aliasMethod("isAny"),reduce:function(t,e,n){if("function"!=typeof t)throw new TypeError;var r=e;return this.forEach(function(e,i){r=t(r,e,i,this,n)},this),r},invoke:function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];var o=e["default"].A();return this.forEach(function(e,n){var i=e&&e[t];"function"==typeof i&&(o[n]=r?i.apply(e,r):e[t]())},this),o},toArray:function(){var t=e["default"].A();return this.forEach(function(e,n){t[n]=e}),t},compact:function(){return this.filter(function(t){return null!=t})},without:function(t){if(!this.contains(t))return this;var n=e["default"].A();return this.forEach(function(e){e!==t&&(n[n.length]=e)}),n},uniq:function(){var t=e["default"].A();return this.forEach(function(e){o.indexOf(t,e)<0&&t.push(e)}),t},"[]":s.computed({get:function(t){return this}}),addEnumerableObserver:function(t,e){var r=e&&e.willChange||"enumerableWillChange",i=e&&e.didChange||"enumerableDidChange",o=n.get(this,"hasEnumerableObservers");return o||a.propertyWillChange(this,"hasEnumerableObservers"),l.addListener(this,"@enumerable:before",t,r),l.addListener(this,"@enumerable:change",t,i),o||a.propertyDidChange(this,"hasEnumerableObservers"),this},removeEnumerableObserver:function(t,e){var r=e&&e.willChange||"enumerableWillChange",i=e&&e.didChange||"enumerableDidChange",o=n.get(this,"hasEnumerableObservers");return o&&a.propertyWillChange(this,"hasEnumerableObservers"),l.removeListener(this,"@enumerable:before",t,r),l.removeListener(this,"@enumerable:change",t,i),o&&a.propertyDidChange(this,"hasEnumerableObservers"),this},hasEnumerableObservers:s.computed(function(){return l.hasListeners(this,"@enumerable:change")||l.hasListeners(this,"@enumerable:before")}),enumerableContentWillChange:function(t,e){var r,i,o;return r="number"==typeof t?t:t?n.get(t,"length"):t=-1,i="number"==typeof e?e:e?n.get(e,"length"):e=-1,o=0>i||0>r||i-r!==0,-1===t&&(t=null),-1===e&&(e=null),a.propertyWillChange(this,"[]"),o&&a.propertyWillChange(this,"length"),l.sendEvent(this,"@enumerable:before",[this,t,e]),this},enumerableContentDidChange:function(t,e){var r,i,o;return r="number"==typeof t?t:t?n.get(t,"length"):t=-1,i="number"==typeof e?e:e?n.get(e,"length"):e=-1,o=0>i||0>r||i-r!==0,-1===t&&(t=null),-1===e&&(e=null),l.sendEvent(this,"@enumerable:change",[this,t,e]),o&&a.propertyDidChange(this,"length"),a.propertyDidChange(this,"[]"),this},sortBy:function(){var t=arguments;return this.toArray().sort(function(e,r){for(var i=0;i<t.length;i++){var o=t[i],s=n.get(e,o),a=n.get(r,o),l=u["default"](s,a);if(l)return l}return 0})}})}),t("ember-runtime/mixins/evented",["exports","ember-metal/mixin","ember-metal/events"],function(t,e,n){"use strict";t["default"]=e.Mixin.create({on:function(t,e,r){return n.addListener(this,t,e,r),this},one:function(t,e,r){return r||(r=e,e=null),n.addListener(this,t,e,r,!0),this},trigger:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;e>i;i++)r[i-1]=arguments[i];n.sendEvent(this,t,r)},off:function(t,e,r){return n.removeListener(this,t,e,r),this},has:function(t){return n.hasListeners(this,t)}})}),t("ember-runtime/mixins/freezable",["exports","ember-metal/mixin","ember-metal/property_get","ember-metal/property_set"],function(t,e,n,r){"use strict";var i=e.Mixin.create({isFrozen:!1,freeze:function(){return n.get(this,"isFrozen")?this:(r.set(this,"isFrozen",!0),this)}}),o="Frozen object cannot be modified.";t.Freezable=i,t.FROZEN_ERROR=o}),t("ember-runtime/mixins/mutable_array",["exports","ember-metal/property_get","ember-metal/utils","ember-metal/error","ember-metal/mixin","ember-runtime/mixins/array","ember-runtime/mixins/mutable_enumerable","ember-runtime/mixins/enumerable"],function(t,e,n,r,i,o,s,a){"use strict";var l="Index out of range",u=[];t["default"]=i.Mixin.create(o["default"],s["default"],{replace:null,clear:function(){var t=e.get(this,"length");return 0===t?this:(this.replace(0,t,u),this)},insertAt:function(t,n){if(t>e.get(this,"length"))throw new r["default"](l);return this.replace(t,0,[n]),this},removeAt:function(t,n){if("number"==typeof t){if(0>t||t>=e.get(this,"length"))throw new r["default"](l);void 0===n&&(n=1),this.replace(t,n,u)}return this},pushObject:function(t){return this.insertAt(e.get(this,"length"),t),t},pushObjects:function(t){if(!a["default"].detect(t)&&!n.isArray(t))throw new TypeError("Must pass Ember.Enumerable to Ember.MutableArray#pushObjects");return this.replace(e.get(this,"length"),0,t),this},popObject:function(){var t=e.get(this,"length");if(0===t)return null;var n=this.objectAt(t-1);return this.removeAt(t-1,1),n},shiftObject:function(){if(0===e.get(this,"length"))return null;var t=this.objectAt(0);return this.removeAt(0),t},unshiftObject:function(t){return this.insertAt(0,t),t},unshiftObjects:function(t){return this.replace(0,0,t),this},reverseObjects:function(){var t=e.get(this,"length");if(0===t)return this;var n=this.toArray().reverse();return this.replace(0,t,n),this},setObjects:function(t){if(0===t.length)return this.clear();var n=e.get(this,"length");return this.replace(0,n,t),this},removeObject:function(t){for(var n=e.get(this,"length")||0;--n>=0;){var r=this.objectAt(n);r===t&&this.removeAt(n)}return this},addObject:function(t){return this.contains(t)||this.pushObject(t),this}})}),t("ember-runtime/mixins/mutable_enumerable",["exports","ember-metal/enumerable_utils","ember-runtime/mixins/enumerable","ember-metal/mixin","ember-metal/property_events"],function(t,e,n,r,i){"use strict";t["default"]=r.Mixin.create(n["default"],{addObject:null,addObjects:function(t){return i.beginPropertyChanges(this),e.forEach(t,function(t){this.addObject(t)},this),i.endPropertyChanges(this),this},removeObject:null,removeObjects:function(t){i.beginPropertyChanges(this);for(var e=t.length-1;e>=0;e--)this.removeObject(t[e]);return i.endPropertyChanges(this),this}})}),t("ember-runtime/mixins/observable",["exports","ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/get_properties","ember-metal/set_properties","ember-metal/mixin","ember-metal/events","ember-metal/property_events","ember-metal/observer","ember-metal/computed","ember-metal/is_none"],function(t,e,n,r,i,o,s,a,l,u,c,h){"use strict";t["default"]=s.Mixin.create({get:function(t){return n.get(this,t)},getProperties:function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return i["default"].apply(null,[this].concat(e))},set:function(t,e){return r.set(this,t,e),this},setProperties:function(t){return o["default"](this,t)},beginPropertyChanges:function(){return l.beginPropertyChanges(),this},endPropertyChanges:function(){return l.endPropertyChanges(),this},propertyWillChange:function(t){return l.propertyWillChange(this,t),this},propertyDidChange:function(t){return l.propertyDidChange(this,t),this},notifyPropertyChange:function(t){return this.propertyWillChange(t),this.propertyDidChange(t),this},addBeforeObserver:function(t,e,n){u.addBeforeObserver(this,t,e,n)},addObserver:function(t,e,n){u.addObserver(this,t,e,n)},removeObserver:function(t,e,n){u.removeObserver(this,t,e,n)},hasObserverFor:function(t){return a.hasListeners(this,t+":change")},getWithDefault:function(t,e){return n.getWithDefault(this,t,e)},incrementProperty:function(t,e){return h["default"](e)&&(e=1),r.set(this,t,(parseFloat(n.get(this,t))||0)+e),n.get(this,t)},decrementProperty:function(t,e){return h["default"](e)&&(e=1),r.set(this,t,(n.get(this,t)||0)-e),n.get(this,t)},toggleProperty:function(t){return r.set(this,t,!n.get(this,t)),n.get(this,t)},cacheFor:function(t){return c.cacheFor(this,t)},observersForKey:function(t){return u.observersFor(this,t)}})}),t("ember-runtime/mixins/promise_proxy",["exports","ember-metal/property_get","ember-metal/set_properties","ember-metal/computed","ember-metal/mixin","ember-metal/error"],function(t,e,n,r,i,o){"use strict";function s(t,e){return n["default"](t,{isFulfilled:!1,isRejected:!1}),e.then(function(e){return n["default"](t,{content:e,isFulfilled:!0}),e},function(e){throw n["default"](t,{reason:e,isRejected:!0}),e},"Ember: PromiseProxy")}function a(t){return function(){var n=e.get(this,"promise");return n[t].apply(n,arguments)}}var l=r.computed.not,u=r.computed.or;t["default"]=i.Mixin.create({reason:null,isPending:l("isSettled").readOnly(),isSettled:u("isRejected","isFulfilled").readOnly(),isRejected:!1,isFulfilled:!1,promise:r.computed({get:function(){throw new o["default"]("PromiseProxy's promise must be set")},set:function(t,e){return s(this,e)}}),then:a("then"),"catch":a("catch"),"finally":a("finally")})}),t("ember-runtime/mixins/sortable",["exports","ember-metal/core","ember-metal/property_get","ember-metal/enumerable_utils","ember-runtime/mixins/mutable_enumerable","ember-runtime/compare","ember-metal/observer","ember-metal/computed","ember-metal/computed_macros","ember-metal/mixin"],function(t,e,n,r,i,o,s,a,l,u){"use strict";t["default"]=u.Mixin.create(i["default"],{sortProperties:null,sortAscending:!0,sortFunction:o["default"],orderBy:function(t,e){var i=0,o=n.get(this,"sortProperties"),s=n.get(this,"sortAscending"),a=n.get(this,"sortFunction");return r.forEach(o,function(r){0===i&&(i=a.call(this,n.get(t,r),n.get(e,r)),0===i||s||(i=-1*i))},this),i},destroy:function(){var t=n.get(this,"content"),e=n.get(this,"sortProperties");return t&&e&&r.forEach(t,function(t){r.forEach(e,function(e){s.removeObserver(t,e,this,"contentItemSortPropertyDidChange")},this)},this),this._super.apply(this,arguments)},isSorted:l.notEmpty("sortProperties"),arrangedContent:a.computed("content","sortProperties.@each",{get:function(t){var i=n.get(this,"content"),o=n.get(this,"isSorted"),a=n.get(this,"sortProperties"),l=this;return i&&o?(i=i.slice(),i.sort(function(t,e){return l.orderBy(t,e)}),r.forEach(i,function(t){r.forEach(a,function(e){s.addObserver(t,e,this,"contentItemSortPropertyDidChange")},this)},this),e["default"].A(i)):i}}),_contentWillChange:u.beforeObserver("content",function(){var t=n.get(this,"content"),e=n.get(this,"sortProperties");t&&e&&r.forEach(t,function(t){r.forEach(e,function(e){s.removeObserver(t,e,this,"contentItemSortPropertyDidChange")},this)},this),this._super.apply(this,arguments)}),sortPropertiesWillChange:u.beforeObserver("sortProperties",function(){this._lastSortAscending=void 0}),sortPropertiesDidChange:u.observer("sortProperties",function(){this._lastSortAscending=void 0}),sortAscendingWillChange:u.beforeObserver("sortAscending",function(){this._lastSortAscending=n.get(this,"sortAscending")}),sortAscendingDidChange:u.observer("sortAscending",function(){if(void 0!==this._lastSortAscending&&n.get(this,"sortAscending")!==this._lastSortAscending){var t=n.get(this,"arrangedContent");t.reverseObjects()}}),contentArrayWillChange:function(t,e,i,o){var a=n.get(this,"isSorted");if(a){var l=n.get(this,"arrangedContent"),u=t.slice(e,e+i),c=n.get(this,"sortProperties");r.forEach(u,function(t){l.removeObject(t),r.forEach(c,function(e){s.removeObserver(t,e,this,"contentItemSortPropertyDidChange")},this)},this)}return this._super(t,e,i,o)},contentArrayDidChange:function(t,e,i,o){var a=n.get(this,"isSorted"),l=n.get(this,"sortProperties");if(a){var u=t.slice(e,e+o);r.forEach(u,function(t){this.insertItemSorted(t),r.forEach(l,function(e){s.addObserver(t,e,this,"contentItemSortPropertyDidChange")},this)},this)}return this._super(t,e,i,o)},insertItemSorted:function(t){var e=n.get(this,"arrangedContent"),r=n.get(e,"length"),i=this._binarySearch(t,0,r);e.insertAt(i,t)},contentItemSortPropertyDidChange:function(t){var e=n.get(this,"arrangedContent"),r=e.indexOf(t),i=e.objectAt(r-1),o=e.objectAt(r+1),s=i&&this.orderBy(t,i),a=o&&this.orderBy(t,o);(0>s||a>0)&&(e.removeObject(t),this.insertItemSorted(t))},_binarySearch:function(t,e,r){var i,o,s,a;return e===r?e:(a=n.get(this,"arrangedContent"),i=e+Math.floor((r-e)/2),o=a.objectAt(i),s=this.orderBy(o,t),0>s?this._binarySearch(t,i+1,r):s>0?this._binarySearch(t,e,i):i)}})}),t("ember-runtime/mixins/target_action_support",["exports","ember-metal/core","ember-metal/property_get","ember-metal/utils","ember-metal/mixin","ember-metal/computed"],function(t,e,n,r,i,o){"use strict";var s=i.Mixin.create({target:null,action:null,actionContext:null,targetObject:o.computed(function(){var t=n.get(this,"target");if("string"===r.typeOf(t)){var i=n.get(this,t);return void 0===i&&(i=n.get(e["default"].lookup,t)),i}return t}).property("target"),actionContextObject:o.computed(function(){var t=n.get(this,"actionContext");if("string"===r.typeOf(t)){var i=n.get(this,t);return void 0===i&&(i=n.get(e["default"].lookup,t)),i}return t}).property("actionContext"),triggerAction:function(t){function e(t,e){var n=[];return e&&n.push(e),n.concat(t)}t=t||{};var r=t.action||n.get(this,"action"),i=t.target||n.get(this,"targetObject"),o=t.actionContext;if("undefined"==typeof o&&(o=n.get(this,"actionContextObject")||this),i&&r){var s;return s=i.send?i.send.apply(i,e(o,r)):i[r].apply(i,e(o)),s!==!1&&(s=!0),s}return!1}});t["default"]=s}),t("ember-runtime/system/application",["exports","ember-runtime/system/namespace"],function(t,e){"use strict";t["default"]=e["default"].extend()}),t("ember-runtime/system/array_proxy",["exports","ember-metal/core","ember-metal/property_get","ember-metal/utils","ember-metal/computed","ember-metal/mixin","ember-metal/property_events","ember-metal/error","ember-runtime/system/object","ember-runtime/mixins/mutable_array","ember-runtime/mixins/enumerable","ember-runtime/system/string","ember-metal/alias"],function(t,e,n,r,i,o,s,a,l,u,c,h,d){"use strict";function p(){return this}var f="Index out of range",m=[],g=l["default"].extend(u["default"],{content:null,arrangedContent:d["default"]("content"),objectAtContent:function(t){return n.get(this,"arrangedContent").objectAt(t)},replaceContent:function(t,e,r){n.get(this,"content").replace(t,e,r)},_contentWillChange:o.beforeObserver("content",function(){this._teardownContent()}),_teardownContent:function(){var t=n.get(this,"content");t&&t.removeArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},contentArrayWillChange:p,contentArrayDidChange:p,_contentDidChange:o.observer("content",function(){n.get(this,"content");this._setupContent()}),_setupContent:function(){var t=n.get(this,"content");t&&t.addArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},_arrangedContentWillChange:o.beforeObserver("arrangedContent",function(){var t=n.get(this,"arrangedContent"),e=t?n.get(t,"length"):0;this.arrangedContentArrayWillChange(this,0,e,void 0),this.arrangedContentWillChange(this),this._teardownArrangedContent(t)}),_arrangedContentDidChange:o.observer("arrangedContent",function(){var t=n.get(this,"arrangedContent"),e=t?n.get(t,"length"):0;this._setupArrangedContent(),this.arrangedContentDidChange(this),this.arrangedContentArrayDidChange(this,0,void 0,e)}),_setupArrangedContent:function(){var t=n.get(this,"arrangedContent");t&&t.addArrayObserver(this,{willChange:"arrangedContentArrayWillChange",didChange:"arrangedContentArrayDidChange"})},_teardownArrangedContent:function(){var t=n.get(this,"arrangedContent");t&&t.removeArrayObserver(this,{willChange:"arrangedContentArrayWillChange",didChange:"arrangedContentArrayDidChange"})},arrangedContentWillChange:p,arrangedContentDidChange:p,objectAt:function(t){return n.get(this,"content")&&this.objectAtContent(t)},length:i.computed(function(){var t=n.get(this,"arrangedContent");return t?n.get(t,"length"):0}),_replace:function(t,e,r){var i=n.get(this,"content");return i&&this.replaceContent(t,e,r),this},replace:function(){if(n.get(this,"arrangedContent")!==n.get(this,"content"))throw new a["default"]("Using replace on an arranged ArrayProxy is not allowed.");this._replace.apply(this,arguments)},_insertAt:function(t,e){if(t>n.get(this,"content.length"))throw new a["default"](f);return this._replace(t,0,[e]),this},insertAt:function(t,e){if(n.get(this,"arrangedContent")===n.get(this,"content"))return this._insertAt(t,e);throw new a["default"]("Using insertAt on an arranged ArrayProxy is not allowed.")},removeAt:function(t,e){if("number"==typeof t){var r,i=n.get(this,"content"),o=n.get(this,"arrangedContent"),l=[];if(0>t||t>=n.get(this,"length"))throw new a["default"](f);for(void 0===e&&(e=1),r=t;t+e>r;r++)l.push(i.indexOf(o.objectAt(r)));for(l.sort(function(t,e){return e-t}),s.beginPropertyChanges(),r=0;r<l.length;r++)this._replace(l[r],1,m);s.endPropertyChanges()}return this},pushObject:function(t){return this._insertAt(n.get(this,"content.length"),t),t},pushObjects:function(t){if(!c["default"].detect(t)&&!r.isArray(t))throw new TypeError("Must pass Ember.Enumerable to Ember.MutableArray#pushObjects");return this._replace(n.get(this,"length"),0,t),this},setObjects:function(t){if(0===t.length)return this.clear();var e=n.get(this,"length");return this._replace(0,e,t),this},unshiftObject:function(t){return this._insertAt(0,t),t},unshiftObjects:function(t){return this._replace(0,0,t),this},slice:function(){var t=this.toArray();return t.slice.apply(t,arguments)},arrangedContentArrayWillChange:function(t,e,n,r){this.arrayContentWillChange(e,n,r)},arrangedContentArrayDidChange:function(t,e,n,r){this.arrayContentDidChange(e,n,r)},init:function(){this._super.apply(this,arguments),this._setupContent(),this._setupArrangedContent()},willDestroy:function(){this._teardownArrangedContent(),this._teardownContent()}});t["default"]=g}),t("ember-runtime/system/container",["exports","ember-metal/property_set","container/registry","container/container"],function(t,e,n,r){"use strict";n["default"].set=e.set,r["default"].set=e.set,t.Registry=n["default"],t.Container=r["default"]}),t("ember-runtime/system/core_object",["exports","ember-metal","ember-metal/merge","ember-metal/property_get","ember-metal/utils","ember-metal/platform/create","ember-metal/chains","ember-metal/events","ember-metal/mixin","ember-metal/enumerable_utils","ember-metal/error","ember-metal/platform/define_property","ember-metal/keys","ember-runtime/mixins/action_handler","ember-metal/properties","ember-metal/binding","ember-metal/computed","ember-metal/injected_property","ember-metal/run_loop","ember-metal/watching","ember-metal/core","ember-runtime/inject"],function(t,e,n,r,i,o,s,a,l,u,c,h,d,p,f,m,g,v,y,b,_,w){"REMOVE_USE_STRICT: true";function x(){var t,e,r=!1,h=function(){r||h.proto(),this.__defineNonEnumerable(i.GUID_KEY_PROPERTY),this.__defineNonEnumerable(i.NEXT_SUPER_PROPERTY);var p=i.meta(this),f=p.proto;if(p.proto=this,t){var m=t;t=null,i.apply(this,this.reopen,m)}if(e){var g=e;e=null;for(var v=this.concatenatedProperties,y=this.mergedProperties,b=0,_=g.length;_>b;b++){var w=g[b];if("object"!=typeof w&&void 0!==w)throw new c["default"]("Ember.Object.create only accepts objects.");if(w)for(var x=d["default"](w),C=0,T=x.length;T>C;C++){var E=x[C],S=w[E];if(l.IS_BINDING.test(E)){var P=p.bindings;P?p.hasOwnProperty("bindings")||(P=p.bindings=o["default"](p.bindings)):P=p.bindings={},P[E]=S}var A=this[E],L=null!==A&&"object"==typeof A&&A.isDescriptor?A:void 0;if(v&&v.length>0&&u.indexOf(v,E)>=0){var O=this[E];S=O?"function"==typeof O.concat?O.concat(S):i.makeArray(O).concat(S):i.makeArray(S)}if(y&&y.length&&u.indexOf(y,E)>=0){var D=this[E];S=n["default"](D,S)}L?L.set(this,E,S):"function"!=typeof this.setUnknownProperty||E in this?this[E]=S:this.setUnknownProperty(E,S)}}}k(this,p);var M=arguments.length;if(0===M)this.init();else if(1===M)this.init(arguments[0]);else{for(var R=new Array(M),N=0;M>N;N++)R[N]=arguments[N];this.init.apply(this,R)}p.proto=f,s.finishChains(this),a.sendEvent(this,"init")};return h.toString=l.Mixin.prototype.toString,h.willReopen=function(){r&&(h.PrototypeMixin=l.Mixin.create(h.PrototypeMixin)),r=!1},h._initMixins=function(e){t=e},h._initProperties=function(t){e=t},h.proto=function(){var t=h.superclass;return t&&t.proto(),r||(r=!0,h.PrototypeMixin.applyPartial(h.prototype)),this.prototype},h}function C(t){return function(){return t}}var T=y["default"].schedule,E=l.Mixin._apply,k=l.Mixin.finishPartial,S=l.Mixin.prototype.reopen,P=!1,A=x();A.toString=function(){return"Ember.CoreObject"},A.PrototypeMixin=l.Mixin.create({reopen:function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return E(this,e,!0),this},init:function(){},__defineNonEnumerable:function(t){h.defineProperty(this,t.name,t.descriptor)},concatenatedProperties:null,isDestroyed:!1,isDestroying:!1,destroy:function(){return this.isDestroying?void 0:(this.isDestroying=!0,T("actions",this,this.willDestroy),T("destroy",this,this._scheduledDestroy),this)},willDestroy:_.K,_scheduledDestroy:function(){this.isDestroyed||(b.destroy(this),this.isDestroyed=!0)},bind:function(t,e){return e instanceof m.Binding||(e=m.Binding.from(e)),e.to(t).connect(this),e},toString:function(){var t="function"==typeof this.toStringExtension,e=t?":"+this.toStringExtension():"",n="<"+this.constructor.toString()+":"+i.guidFor(this)+e+">";return this.toString=C(n),n}}),A.PrototypeMixin.ownerConstructor=A,A.__super__=null;var L={ClassMixin:l.REQUIRED,PrototypeMixin:l.REQUIRED,isClass:!0,isMethod:!1,extend:function(){var t,e=x();return e.ClassMixin=l.Mixin.create(this.ClassMixin),e.PrototypeMixin=l.Mixin.create(this.PrototypeMixin),e.ClassMixin.ownerConstructor=e,e.PrototypeMixin.ownerConstructor=e,S.apply(e.PrototypeMixin,arguments),e.superclass=this,e.__super__=this.prototype,t=e.prototype=o["default"](this.prototype),t.constructor=e,i.generateGuid(t),i.meta(t).proto=t,e.ClassMixin.apply(e),e},createWithMixins:function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];var r=this;return e.length>0&&this._initMixins(e),new r},create:function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];var r=this;return e.length>0&&this._initProperties(e),new r},reopen:function(){return this.willReopen(),S.apply(this.PrototypeMixin,arguments),this},reopenClass:function(){return S.apply(this.ClassMixin,arguments),E(this,arguments,!1),this},detect:function(t){if("function"!=typeof t)return!1;for(;t;){if(t===this)return!0;t=t.superclass}return!1},detectInstance:function(t){return t instanceof this},metaForProperty:function(t){var e=this.proto(),n=e[t],r=null!==n&&"object"==typeof n&&n.isDescriptor?n:void 0;return r._meta||{}},_computedProperties:g.computed(function(){P=!0;var t,e=this.proto(),n=[];for(var r in e)t=e[r],t instanceof g.ComputedProperty&&n.push({name:r,meta:t._meta});return n}).readOnly(),eachComputedProperty:function(t,e){for(var n,i,o={},s=r.get(this,"_computedProperties"),a=0,l=s.length;l>a;a++)n=s[a],i=n.name,t.call(e||this,n.name,n.meta||o)}};L._lazyInjections=function(){var t,e,n={},r=this.proto();for(t in r)e=r[t],e instanceof v["default"]&&(n[t]=e.type+":"+(e.name||t));
return n};var O=l.Mixin.create(L);O.ownerConstructor=A,A.ClassMixin=O,O.apply(A),A.reopen({didDefineProperty:function(t,n,r){if(P!==!1&&r instanceof e["default"].ComputedProperty){var i=e["default"].meta(this.constructor).cache;i&&void 0!==i._computedProperties&&(i._computedProperties=void 0)}}}),t["default"]=A}),t("ember-runtime/system/deferred",["exports","ember-metal/core","ember-runtime/mixins/deferred","ember-runtime/system/object"],function(t,e,n,r){"use strict";var i=r["default"].extend(n["default"],{init:function(){this._super.apply(this,arguments)}});i.reopenClass({promise:function(t,e){var n=i.create();return t.call(e,n),n}}),t["default"]=i}),t("ember-runtime/system/each_proxy",["exports","ember-metal/core","ember-metal/property_get","ember-metal/utils","ember-metal/enumerable_utils","ember-metal/array","ember-runtime/mixins/array","ember-runtime/system/object","ember-metal/computed","ember-metal/observer","ember-metal/events","ember-metal/properties","ember-metal/property_events"],function(t,e,n,r,i,o,s,a,l,u,c,h,d){"use strict";function p(t,e,n,i,o){var s,a=n._objects;for(a||(a=n._objects={});--o>=i;){var l=t.objectAt(o);l&&(u.addBeforeObserver(l,e,n,"contentKeyWillChange"),u.addObserver(l,e,n,"contentKeyDidChange"),s=r.guidFor(l),a[s]||(a[s]=[]),a[s].push(o))}}function f(t,e,n,i,s){var a=n._objects;a||(a=n._objects={});for(var l,c;--s>=i;){var h=t.objectAt(s);h&&(u.removeBeforeObserver(h,e,n,"contentKeyWillChange"),u.removeObserver(h,e,n,"contentKeyDidChange"),c=r.guidFor(h),l=a[c],l[o.indexOf.call(l,s)]=null)}}var m=a["default"].extend(s["default"],{init:function(t,e,n){this._super.apply(this,arguments),this._keyName=e,this._owner=n,this._content=t},objectAt:function(t){var e=this._content.objectAt(t);return e&&n.get(e,this._keyName)},length:l.computed(function(){var t=this._content;return t?n.get(t,"length"):0})}),g=/^.+:(before|change)$/,v=a["default"].extend({init:function(t){this._super.apply(this,arguments),this._content=t,t.addArrayObserver(this),i.forEach(c.watchedEvents(this),function(t){this.didAddListener(t)},this)},unknownProperty:function(t,e){var n=new m(this._content,t,this);return h.defineProperty(this,t,null,n),this.beginObservingContentKey(t),n},arrayWillChange:function(t,e,n,r){var i,o,s=this._keys;o=n>0?e+n:-1,d.beginPropertyChanges(this);for(i in s)s.hasOwnProperty(i)&&(o>0&&f(t,i,this,e,o),d.propertyWillChange(this,i));d.propertyWillChange(this._content,"@each"),d.endPropertyChanges(this)},arrayDidChange:function(t,e,n,r){var i,o=this._keys;i=r>0?e+r:-1,d.changeProperties(function(){for(var n in o)o.hasOwnProperty(n)&&(i>0&&p(t,n,this,e,i),d.propertyDidChange(this,n));d.propertyDidChange(this._content,"@each")},this)},didAddListener:function(t){g.test(t)&&this.beginObservingContentKey(t.slice(0,-7))},didRemoveListener:function(t){g.test(t)&&this.stopObservingContentKey(t.slice(0,-7))},beginObservingContentKey:function(t){var e=this._keys;if(e||(e=this._keys={}),e[t])e[t]++;else{e[t]=1;var r=this._content,i=n.get(r,"length");p(r,t,this,0,i)}},stopObservingContentKey:function(t){var e=this._keys;if(e&&e[t]>0&&--e[t]<=0){var r=this._content,i=n.get(r,"length");f(r,t,this,0,i)}},contentKeyWillChange:function(t,e){d.propertyWillChange(this,e)},contentKeyDidChange:function(t,e){d.propertyDidChange(this,e)}});t.EachArray=m,t.EachProxy=v}),t("ember-runtime/system/lazy_load",["exports","ember-metal/core","ember-metal/array","ember-runtime/system/native_array"],function(t,e,n){"use strict";function r(t,n){var r;o[t]=o[t]||e["default"].A(),o[t].pushObject(n),(r=s[t])&&n(r)}function i(t,e){if(s[t]=e,"object"==typeof window&&"function"==typeof window.dispatchEvent&&"function"==typeof CustomEvent){var r=new CustomEvent(t,{detail:e,name:t});window.dispatchEvent(r)}o[t]&&n.forEach.call(o[t],function(t){t(e)})}t.onLoad=r,t.runLoadHooks=i;var o=e["default"].ENV.EMBER_LOAD_HOOKS||{},s={}}),t("ember-runtime/system/namespace",["exports","ember-metal/core","ember-metal/property_get","ember-metal/array","ember-metal/utils","ember-metal/mixin","ember-runtime/system/object"],function(t,e,n,r,i,o,s){"use strict";function a(t,e,n){var r=t.length;m[t.join(".")]=e;for(var o in e)if(g.call(e,o)){var s=e[o];if(t[r]=o,s&&s.toString===h)s.toString=p(t.join(".")),s[y]=t.join(".");else if(s&&s.isNamespace){if(n[i.guidFor(s)])continue;n[i.guidFor(s)]=!0,a(t,s,n)}}t.length=r}function l(t,e){try{var n=t[e];return n&&n.isNamespace&&n}catch(r){}}function u(){var t,n=e["default"].lookup;if(!f.PROCESSED)for(var r in n)v.test(r)&&(!n.hasOwnProperty||n.hasOwnProperty(r))&&(t=l(n,r),t&&(t[y]=r))}function c(t){var e=t.superclass;return e?e[y]?e[y]:c(e):void 0}function h(){e["default"].BOOTED||this[y]||d();var t;if(this[y])t=this[y];else if(this._toString)t=this._toString;else{var n=c(this);t=n?"(subclass of "+n+")":"(unknown mixin)",this.toString=p(t)}return t}function d(){var t=!f.PROCESSED,n=e["default"].anyUnprocessedMixins;if(t&&(u(),f.PROCESSED=!0),t||n){for(var r,i=f.NAMESPACES,o=0,s=i.length;s>o;o++)r=i[o],a([r.toString()],r,{});e["default"].anyUnprocessedMixins=!1}}function p(t){return function(){return t}}var f=s["default"].extend({isNamespace:!0,init:function(){f.NAMESPACES.push(this),f.PROCESSED=!1},toString:function(){var t=n.get(this,"name")||n.get(this,"modulePrefix");return t?t:(u(),this[y])},nameClasses:function(){a([this.toString()],this,{})},destroy:function(){var t=f.NAMESPACES,n=this.toString();n&&(e["default"].lookup[n]=void 0,delete f.NAMESPACES_BY_ID[n]),t.splice(r.indexOf.call(t,this),1),this._super.apply(this,arguments)}});f.reopenClass({NAMESPACES:[e["default"]],NAMESPACES_BY_ID:{},PROCESSED:!1,processAll:d,byName:function(t){return e["default"].BOOTED||d(),m[t]}});var m=f.NAMESPACES_BY_ID,g={}.hasOwnProperty,v=/^[A-Z]/,y=e["default"].NAME_KEY=i.GUID_KEY+"_name";o.Mixin.prototype.toString=h,t["default"]=f}),t("ember-runtime/system/native_array",["exports","ember-metal/core","ember-metal/property_get","ember-metal/enumerable_utils","ember-metal/mixin","ember-metal/array","ember-runtime/mixins/array","ember-runtime/mixins/mutable_array","ember-runtime/mixins/observable","ember-runtime/mixins/copyable","ember-runtime/mixins/freezable","ember-runtime/copy"],function(t,e,n,r,i,o,s,a,l,u,c,h){"use strict";var d=i.Mixin.create(a["default"],l["default"],u["default"],{get:function(t){return"length"===t?this.length:"number"==typeof t?this[t]:this._super(t)},objectAt:function(t){return this[t]},replace:function(t,e,i){if(this.isFrozen)throw c.FROZEN_ERROR;var o=i?n.get(i,"length"):0;return this.arrayContentWillChange(t,e,o),0===o?this.splice(t,e):r._replace(this,t,e,i),this.arrayContentDidChange(t,e,o),this},unknownProperty:function(t,e){var n;return void 0!==e&&void 0===n&&(n=this[t]=e),n},indexOf:o.indexOf,lastIndexOf:o.lastIndexOf,copy:function(t){return t?this.map(function(t){return h["default"](t,!0)}):this.slice()}}),p=["length"];r.forEach(d.keys(),function(t){Array.prototype[t]&&p.push(t)}),d=d.without.apply(d,p);var f=function(t){return void 0===t&&(t=[]),s["default"].detect(t)?t:d.apply(t)};d.activate=function(){d.apply(Array.prototype),t.A=f=function(t){return t||[]}},(e["default"].EXTEND_PROTOTYPES===!0||e["default"].EXTEND_PROTOTYPES.Array)&&d.activate(),e["default"].A=f,t["default"]=d,t.A=f,t.NativeArray=d}),t("ember-runtime/system/object",["exports","ember-runtime/system/core_object","ember-runtime/mixins/observable"],function(t,e,n){"use strict";var r=e["default"].extend(n["default"]);r.toString=function(){return"Ember.Object"},t["default"]=r}),t("ember-runtime/system/object_proxy",["exports","ember-runtime/system/object","ember-runtime/mixins/-proxy"],function(t,e,n){"use strict";t["default"]=e["default"].extend(n["default"])}),t("ember-runtime/system/service",["exports","ember-runtime/system/object","ember-runtime/inject"],function(t,e,n){"use strict";n.createInjectionHelper("service"),t["default"]=e["default"].extend()}),t("ember-runtime/system/set",["exports","ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/is_none","ember-runtime/system/string","ember-runtime/system/core_object","ember-runtime/mixins/mutable_enumerable","ember-runtime/mixins/enumerable","ember-runtime/mixins/copyable","ember-runtime/mixins/freezable","ember-metal/error","ember-metal/property_events","ember-metal/mixin","ember-metal/computed"],function(t,e,n,r,i,o,s,a,l,u,c,h,d,p,f,m){"use strict";t["default"]=a["default"].extend(l["default"],c["default"],h.Freezable,{length:0,clear:function(){if(this.isFrozen)throw new d["default"](h.FROZEN_ERROR);var t=n.get(this,"length");if(0===t)return this;var e;this.enumerableContentWillChange(t,0),p.propertyWillChange(this,"firstObject"),p.propertyWillChange(this,"lastObject");for(var o=0;t>o;o++)e=i.guidFor(this[o]),delete this[e],delete this[o];return r.set(this,"length",0),p.propertyDidChange(this,"firstObject"),p.propertyDidChange(this,"lastObject"),this.enumerableContentDidChange(t,0),this},isEqual:function(t){if(!u["default"].detect(t))return!1;var e=n.get(this,"length");if(n.get(t,"length")!==e)return!1;for(;--e>=0;)if(!t.contains(this[e]))return!1;return!0},add:f.aliasMethod("addObject"),remove:f.aliasMethod("removeObject"),pop:function(){if(n.get(this,"isFrozen"))throw new d["default"](h.FROZEN_ERROR);var t=this.length>0?this[this.length-1]:null;return this.remove(t),t},push:f.aliasMethod("addObject"),shift:f.aliasMethod("pop"),unshift:f.aliasMethod("push"),addEach:f.aliasMethod("addObjects"),removeEach:f.aliasMethod("removeObjects"),init:function(t){this._super.apply(this,arguments),t&&this.addObjects(t)},nextObject:function(t){return this[t]},firstObject:m.computed(function(){return this.length>0?this[0]:void 0}),lastObject:m.computed(function(){return this.length>0?this[this.length-1]:void 0}),addObject:function(t){if(n.get(this,"isFrozen"))throw new d["default"](h.FROZEN_ERROR);if(o["default"](t))return this;var e,s=i.guidFor(t),a=this[s],l=n.get(this,"length");return a>=0&&l>a&&this[a]===t?this:(e=[t],this.enumerableContentWillChange(null,e),p.propertyWillChange(this,"lastObject"),l=n.get(this,"length"),this[s]=l,this[l]=t,r.set(this,"length",l+1),p.propertyDidChange(this,"lastObject"),this.enumerableContentDidChange(null,e),this)},removeObject:function(t){if(n.get(this,"isFrozen"))throw new d["default"](h.FROZEN_ERROR);if(o["default"](t))return this;var e,s,a=i.guidFor(t),l=this[a],u=n.get(this,"length"),c=0===l,f=l===u-1;return l>=0&&u>l&&this[l]===t&&(s=[t],this.enumerableContentWillChange(s,null),c&&p.propertyWillChange(this,"firstObject"),f&&p.propertyWillChange(this,"lastObject"),u-1>l&&(e=this[u-1],this[l]=e,this[i.guidFor(e)]=l),delete this[a],delete this[u-1],r.set(this,"length",u-1),c&&p.propertyDidChange(this,"firstObject"),f&&p.propertyDidChange(this,"lastObject"),this.enumerableContentDidChange(s,null)),this},contains:function(t){return this[i.guidFor(t)]>=0},copy:function(){var t=this.constructor,e=new t,o=n.get(this,"length");for(r.set(e,"length",o);--o>=0;)e[o]=this[o],e[i.guidFor(this[o])]=o;return e},toString:function(){var t,e=this.length,n=[];for(t=0;e>t;t++)n[t]=this[t];return s.fmt("Ember.Set<%@>",[n.join(",")])}})}),t("ember-runtime/system/string",["exports","ember-metal/core","ember-metal/utils","ember-metal/cache"],function(t,e,n,r){"use strict";function i(t,e){var r=e;if(!n.isArray(r)||arguments.length>2){r=new Array(arguments.length-1);for(var i=1,o=arguments.length;o>i;i++)r[i-1]=arguments[i]}var s=0;return t.replace(/%@([0-9]+)?/g,function(t,e){return e=e?parseInt(e,10)-1:s++,t=r[e],null===t?"(null)":void 0===t?"":n.inspect(t)})}function o(t,r){return(!n.isArray(r)||arguments.length>2)&&(r=Array.prototype.slice.call(arguments,1)),t=e["default"].STRINGS[t]||t,i(t,r)}function s(t){return t.split(/\s+/)}function a(t){return b.get(t)}function l(t){return f.get(t)}function u(t){return m.get(t)}function c(t){return g.get(t)}function h(t){return v.get(t)}function d(t){return y.get(t)}t.fmt=i,t.loc=o,t.w=s,t.decamelize=a,t.dasherize=l,t.camelize=u,t.classify=c,t.underscore=h,t.capitalize=d;var p=/[ _]/g,f=new r["default"](1e3,function(t){return a(t).replace(p,"-")}),m=new r["default"](1e3,function(t){return t.replace(w,function(t,e,n){return n?n.toUpperCase():""}).replace(/^([A-Z])/,function(t,e,n){return t.toLowerCase()})}),g=new r["default"](1e3,function(t){for(var e=t.split("."),n=[],r=0,i=e.length;i>r;r++){var o=u(e[r]);n.push(o.charAt(0).toUpperCase()+o.substr(1))}return n.join(".")}),v=new r["default"](1e3,function(t){return t.replace(x,"$1_$2").replace(C,"_").toLowerCase()}),y=new r["default"](1e3,function(t){return t.charAt(0).toUpperCase()+t.substr(1)}),b=new r["default"](1e3,function(t){return t.replace(_,"$1_$2").toLowerCase()}),_=/([a-z\d])([A-Z])/g,w=/(\-|_|\.|\s)+(.)?/g,x=/([a-z\d])([A-Z]+)/g,C=/\-|\s+/g;e["default"].STRINGS={},t["default"]={fmt:i,loc:o,w:s,decamelize:a,dasherize:l,camelize:u,classify:c,underscore:h,capitalize:d}}),t("ember-runtime/system/subarray",["exports","ember-metal/error","ember-metal/enumerable_utils"],function(t,e,n){"use strict";function r(t,e){this.type=t,this.count=e}function i(t){arguments.length<1&&(t=0),t>0?this._operations=[new r(o,t)]:this._operations=[]}var o="r",s="f";t["default"]=i,i.prototype={addItem:function(t,e){var n=-1,i=e?o:s,a=this;return this._findOperation(t,function(s,l,u,c,h){var d,p;i===s.type?++s.count:t===u?a._operations.splice(l,0,new r(i,1)):(d=new r(i,1),p=new r(s.type,c-t+1),s.count=t-u,a._operations.splice(l+1,0,d,p)),e&&(n=s.type===o?h+(t-u):h),a._composeAt(l)},function(t){a._operations.push(new r(i,1)),e&&(n=t),a._composeAt(a._operations.length-1)}),n},removeItem:function(t){var n=-1,r=this;return this._findOperation(t,function(e,i,s,a,l){e.type===o&&(n=l+(t-s)),e.count>1?--e.count:(r._operations.splice(i,1),r._composeAt(i))},function(){throw new e["default"]("Can't remove an item that has never been added.")}),n},_findOperation:function(t,e,n){var r,i,s,a,l,u=0;for(r=a=0,i=this._operations.length;i>r;a=l+1,++r){if(s=this._operations[r],l=a+s.count-1,t>=a&&l>=t)return void e(s,r,a,l,u);s.type===o&&(u+=s.count)}n(u)},_composeAt:function(t){var e,n=this._operations[t];n&&(t>0&&(e=this._operations[t-1],e.type===n.type&&(n.count+=e.count,this._operations.splice(t-1,1),--t)),t<this._operations.length-1&&(e=this._operations[t+1],e.type===n.type&&(n.count+=e.count,this._operations.splice(t+1,1))))},toString:function(){var t="";return n["default"].forEach(this._operations,function(e){t+=" "+e.type+":"+e.count}),t.substring(1)}}}),t("ember-runtime/system/tracked_array",["exports","ember-metal/property_get","ember-metal/enumerable_utils"],function(t,e,n){"use strict";function r(t){arguments.length<1&&(t=[]);var n=e.get(t,"length");n?this._operations=[new i(s,n,t)]:this._operations=[]}function i(t,e,n){this.type=t,this.count=e,this.items=n}function o(t,e,n,r){this.operation=t,this.index=e,this.split=n,this.rangeStart=r}var s="r",a="i",l="d";t["default"]=r,r.RETAIN=s,r.INSERT=a,r.DELETE=l,r.prototype={addItems:function(t,n){var r=e.get(n,"length");if(!(1>r)){var o,s,l=this._findArrayOperation(t),u=l.operation,c=l.index,h=l.rangeStart;s=new i(a,r,n),u?l.split?(this._split(c,t-h,s),o=c+1):(this._operations.splice(c,0,s),o=c):(this._operations.push(s),o=c),this._composeInsert(o)}},removeItems:function(t,e){if(!(1>e)){var n,r,o=this._findArrayOperation(t),s=o.index,a=o.rangeStart;return n=new i(l,e),o.split?(this._split(s,t-a,n),r=s+1):(this._operations.splice(s,0,n),r=s),this._composeDelete(r)}},apply:function(t){var e=[],r=0;n.forEach(this._operations,function(n,i){t(n.items,r,n.type,i),n.type!==l&&(r+=n.count,e=e.concat(n.items))}),this._operations=[new i(s,e.length,e)]},_findArrayOperation:function(t){var e,n,r,i,s,a=!1;for(e=r=0,s=this._operations.length;s>e;++e)if(n=this._operations[e],n.type!==l){if(i=r+n.count-1,t===r)break;if(t>r&&i>=t){a=!0;break}r=i+1}return new o(n,e,a,r)},_split:function(t,e,n){var r=this._operations[t],o=r.items.slice(e),s=new i(r.type,o.length,o);r.count=e,r.items=r.items.slice(0,e),this._operations.splice(t+1,0,n,s)},_composeInsert:function(t){var e=this._operations[t],n=this._operations[t-1],r=this._operations[t+1],i=n&&n.type,o=r&&r.type;i===a?(n.count+=e.count,n.items=n.items.concat(e.items),o===a?(n.count+=r.count,n.items=n.items.concat(r.items),this._operations.splice(t,2)):this._operations.splice(t,1)):o===a&&(e.count+=r.count,e.items=e.items.concat(r.items),this._operations.splice(t+1,1))},_composeDelete:function(t){var e,n,r,i=this._operations[t],o=i.count,s=this._operations[t-1],u=s&&s.type,c=!1,h=[];u===l&&(i=s,t-=1);for(var d=t+1;o>0;++d)e=this._operations[d],n=e.type,r=e.count,n!==l?(r>o?(h=h.concat(e.items.splice(0,o)),e.count-=o,d-=1,r=o,o=0):(r===o&&(c=!0),h=h.concat(e.items),o-=r),n===a&&(i.count-=r)):i.count+=r;return i.count>0?this._operations.splice(t+1,d-1-t):this._operations.splice(t,c?2:1),h},toString:function(){var t="";return n.forEach(this._operations,function(e){t+=" "+e.type+":"+e.count}),t.substring(1)}}}),t("ember-template-compiler",["exports","ember-metal/core","ember-template-compiler/system/precompile","ember-template-compiler/system/compile","ember-template-compiler/system/template","ember-template-compiler/plugins","ember-template-compiler/plugins/transform-each-in-to-hash","ember-template-compiler/plugins/transform-with-as-to-hash","ember-template-compiler/compat"],function(t,e,n,r,i,o,s,a){"use strict";o.registerPlugin("ast",a["default"]),o.registerPlugin("ast",s["default"]),t._Ember=e["default"],t.precompile=n["default"],t.compile=r["default"],t.template=i["default"],t.registerPlugin=o.registerPlugin}),t("ember-template-compiler/compat",["ember-metal/core","ember-template-compiler/compat/precompile","ember-template-compiler/system/compile","ember-template-compiler/system/template"],function(t,e,n,r){"use strict";var i=t["default"].Handlebars=t["default"].Handlebars||{};i.precompile=e["default"],i.compile=n["default"],i.template=r["default"]}),t("ember-template-compiler/compat/precompile",["exports","ember-template-compiler/system/compile_options"],function(t,n){"use strict";var r,o;t["default"]=function(t){if((!r||!o)&&i.__loader.registry["htmlbars-compiler/compiler"]){var s=e("htmlbars-compiler/compiler");r=s.compile,o=s.compileSpec}if(!r||!o)throw new Error("Cannot call `precompile` without the template compiler loaded. Please load `ember-template-compiler.js` prior to calling `precompile`.");var a=void 0===arguments[1]?!0:arguments[1],l=a?r:o;return l(t,n["default"]())}}),t("ember-template-compiler/plugins",["exports"],function(t){"use strict";function e(t,e){if(!n[t])throw new Error('Attempting to register "'+e+'" as "'+t+'" which is not a valid HTMLBars plugin type.');n[t].push(e)}t.registerPlugin=e;var n={ast:[]};t["default"]=n}),t("ember-template-compiler/plugins/transform-each-in-to-hash",["exports"],function(t){"use strict";function e(t){this.syntax=null,this.options=t||{}}e.prototype.transform=function(t){var e=this,n=new e.syntax.Walker,r=e.syntax.builders;return n.visit(t,function(t){if(e.validate(t)){if(t.program&&t.program.blockParams.length)throw new Error("You cannot use keyword (`{{each foo in bar}}`) and block params (`{{each bar as |foo|}}`) at the same time.");var n=t.sexpr.params.splice(0,2),i=n[0].original;t.sexpr.hash||(t.sexpr.hash=r.hash()),t.sexpr.hash.pairs.push(r.pair("keyword",r.string(i)))}}),t},e.prototype.validate=function(t){return("BlockStatement"===t.type||"MustacheStatement"===t.type)&&"each"===t.sexpr.path.original&&3===t.sexpr.params.length&&"PathExpression"===t.sexpr.params[1].type&&"in"===t.sexpr.params[1].original},t["default"]=e}),t("ember-template-compiler/plugins/transform-with-as-to-hash",["exports"],function(t){"use strict";function e(t){this.syntax=null,this.options=t}e.prototype.transform=function(t){var e=this,n=new e.syntax.Walker;this.options.moduleName;return n.visit(t,function(t){if(e.validate(t)){if(t.program&&t.program.blockParams.length)throw new Error("You cannot use keyword (`{{with foo as bar}}`) and block params (`{{with foo as |bar|}}`) at the same time.");var n=t.sexpr.params.splice(1,2),r=n[1].original;t.program.blockParams=[r]}}),t},e.prototype.validate=function(t){return"BlockStatement"===t.type&&"with"===t.sexpr.path.original&&3===t.sexpr.params.length&&"PathExpression"===t.sexpr.params[1].type&&"as"===t.sexpr.params[1].original},t["default"]=e}),t("ember-template-compiler/system/compile",["exports","ember-template-compiler/system/compile_options","ember-template-compiler/system/template"],function(t,n,r){"use strict";var o;t["default"]=function(t,s){if(!o&&i.__loader.registry["htmlbars-compiler/compiler"]&&(o=e("htmlbars-compiler/compiler").compile),!o)throw new Error("Cannot call `compile` without the template compiler loaded. Please load `ember-template-compiler.js` prior to calling `compile`.");var a=o(t,n["default"](s));return r["default"](a)}}),t("ember-template-compiler/system/compile_options",["exports","ember-metal/core","ember-template-compiler/plugins"],function(t,e,n){"use strict";t["default"]=function(t){var e=!0,r=t||{};return r===!0&&(r={}),r.revision="Ember@1.12.0",r.disableComponentGeneration=e,r.plugins=n["default"],r}}),t("ember-template-compiler/system/precompile",["exports","ember-template-compiler/system/compile_options"],function(t,n){"use strict";var r;t["default"]=function(t,o){if(!r&&i.__loader.registry["htmlbars-compiler/compiler"]&&(r=e("htmlbars-compiler/compiler").compileSpec),!r)throw new Error("Cannot call `compileSpec` without the template compiler loaded. Please load `ember-template-compiler.js` prior to calling `compileSpec`.");return r(t,n["default"](o))}}),t("ember-template-compiler/system/template",["exports"],function(t){"use strict";t["default"]=function(t){return t.isTop=!0,t.isMethod=!1,t}}),t("ember-views",["exports","ember-runtime","ember-views/system/jquery","ember-views/system/utils","ember-views/system/render_buffer","ember-views/system/renderer","dom-helper","ember-views/system/ext","ember-views/views/states","ember-views/views/core_view","ember-views/views/view","ember-views/views/container_view","ember-views/views/collection_view","ember-views/views/component","ember-views/system/event_dispatcher","ember-views/mixins/view_target_action_support","ember-views/component_lookup","ember-views/views/checkbox","ember-views/mixins/text_support","ember-views/views/text_field","ember-views/views/text_area","ember-views/views/simple_bound_view","ember-views/views/metamorph_view","ember-views/views/select"],function(t,e,n,r,i,o,s,a,l,u,c,h,d,p,f,m,g,v,y,b,_,w,x,C){"use strict";e["default"].$=n["default"],e["default"].ViewTargetActionSupport=m["default"],e["default"].RenderBuffer=i["default"];var T=e["default"].ViewUtils={};T.isSimpleClick=r.isSimpleClick,T.getViewClientRects=r.getViewClientRects,T.getViewBoundingClientRect=r.getViewBoundingClientRect,e["default"].CoreView=u.DeprecatedCoreView,e["default"].View=c["default"],e["default"].View.states=l.states,e["default"].View.cloneStates=l.cloneStates,e["default"].View.DOMHelper=s["default"],e["default"].View._Renderer=o["default"],e["default"].Checkbox=v["default"],e["default"].TextField=b["default"],e["default"].TextArea=_["default"],e["default"]._SimpleBoundView=w["default"],e["default"]._MetamorphView=x["default"],e["default"]._Metamorph=x._Metamorph,e["default"].Select=C.Select,e["default"].SelectOption=C.SelectOption,e["default"].SelectOptgroup=C.SelectOptgroup,e["default"].TextSupport=y["default"],e["default"].ComponentLookup=g["default"],e["default"].ContainerView=h["default"],e["default"].CollectionView=d["default"],e["default"].Component=p["default"],e["default"].EventDispatcher=f["default"],t["default"]=e["default"]}),t("ember-views/attr_nodes/attr_node",["exports","ember-metal/core","ember-metal/streams/utils","ember-metal/run_loop"],function(t,e,n,r){"use strict";function i(t,e){this.init(t,e)}t["default"]=i;var o="Binding style attributes may introduce cross-site scripting vulnerabilities; please ensure that values being bound are properly escaped. For more information, including how to disable this warning, see http://emberjs.com/deprecations/v1.x/#toc_binding-style-attributes.";i.prototype.init=function(t,e){this.isAttrNode=!0,this.isView=!0,this.tagName="",this.isVirtual=!0,this.attrName=t,this.attrValue=e,this.isDirty=!0,this.isDestroying=!1,this.lastValue=null,this.hasRenderedInitially=!1,n.subscribe(this.attrValue,this.rerender,this)},i.prototype.renderIfDirty=function(){if(this.isDirty&&!this.isDestroying){var t=n.read(this.attrValue);t!==this.lastValue?this._renderer.renderTree(this,this._parentView):this.isDirty=!1}},i.prototype.render=function(t){if(this.isDirty=!1,!this.isDestroying){var e=n.read(this.attrValue);return"value"!==this.attrName||null!==e&&void 0!==e||(e=""),void 0===e&&(e=null),this.hasRenderedInitially&&"value"===this.attrName&&this._morph.element.value===e?void(this.lastValue=e):void((null!==this.lastValue||null!==e)&&(this._deprecateEscapedStyle(e),this._morph.setContent(e),this.lastValue=e,this.hasRenderedInitially=!0))}},i.prototype._deprecateEscapedStyle=function(t){},i.prototype.rerender=function(){this.isDirty=!0,r["default"].schedule("render",this,this.renderIfDirty)},i.prototype.destroy=function(){this.isDestroying=!0,this.isDirty=!1,n.unsubscribe(this.attrValue,this.rerender,this),!this.removedFromDOM&&this._renderer&&this._renderer.remove(this,!0)},i.prototype.propertyDidChange=function(){},i.prototype._notifyBecameHidden=function(){},i.prototype._notifyBecameVisible=function(){},t.styleWarning=o}),t("ember-views/attr_nodes/legacy_bind",["exports","./attr_node","ember-runtime/system/string","ember-metal/utils","ember-metal/streams/utils","ember-metal/platform/create"],function(t,e,n,r,i,o){"use strict";function s(t,e){this.init(t,e)}s.prototype=o["default"](e["default"].prototype),s.prototype.render=function(t){if(this.isDirty=!1,!this.isDestroying){var e=i.read(this.attrValue);void 0===e&&(e=null),"value"!==this.attrName&&"src"!==this.attrName||null!==e||(e=""),(null!==this.lastValue||null!==e)&&(this._deprecateEscapedStyle(e),this._morph.setContent(e),this.lastValue=e)}},t["default"]=s}),t("ember-views/component_lookup",["exports","ember-runtime/system/object"],function(t,e){"use strict";t["default"]=e["default"].extend({lookupFactory:function(t,e){e=e||this.container;var n="component:"+t,r="template:components/"+t,o=e&&e._registry.has(r);o&&e._registry.injection(n,"layout",r);var s=e.lookupFactory(n);return o||s?(s||(e._registry.register(n,i.Component),s=e.lookupFactory(n)),s):void 0}})}),t("ember-views/mixins/attribute_bindings_support",["exports","ember-metal/mixin","ember-views/attr_nodes/attr_node","ember-metal/properties","ember-views/system/platform","ember-metal/streams/utils","ember-metal/property_set"],function(t,e,n,r,i,o,s){"use strict";var a=[],l=e.Mixin.create({concatenatedProperties:["attributeBindings"],attributeBindings:a,_attrNodes:a,_unspecifiedAttributeBindings:null,_applyAttributeBindings:function(t){var e=this.attributeBindings;if(e&&e.length){var r,s,a,l,u,c,h,d,p=this._unspecifiedAttributeBindings=this._unspecifiedAttributeBindings||{};for(h=0,d=e.length;d>h;h++)r=e[h],s=r.indexOf(":"),-1===s?(a=r,l=r):(a=r.substring(0,s),l=r.substring(s+1)),a in this?(c=this.getStream("view."+a),u=new n["default"](l,c),this.appendAttr(u),i.canSetNameOnInputs||"name"!==l||t.attr("name",o.read(c))):p[a]=l;this.setUnknownProperty=this._setUnknownProperty}},setUnknownProperty:null,_setUnknownProperty:function(t,e){var i=this._unspecifiedAttributeBindings&&this._unspecifiedAttributeBindings[t];if(r.defineProperty(this,t),i){var o=this.getStream("view."+t),a=new n["default"](i,o);this.appendAttr(a)}return s.set(this,t,e)}});t["default"]=l}),t("ember-views/mixins/class_names_support",["exports","ember-metal/core","ember-metal/mixin","ember-runtime/system/native_array","ember-metal/enumerable_utils","ember-metal/streams/utils","ember-views/streams/class_name_binding","ember-metal/utils"],function(t,e,n,r,i,o,s,a){"use strict";var l=[],u=n.Mixin.create({concatenatedProperties:["classNames","classNameBindings"],init:function(){this._super.apply(this,arguments),this.classNameBindings=r.A(this.classNameBindings.slice()),this.classNames=r.A(this.classNames.slice())},classNames:["ember-view"],classNameBindings:l,_applyClassNameBindings:function(){var t=this.classNameBindings;if(t&&t.length){var e,n,r,a=this.classNames;i.forEach(t,function(t){var l;l=o.isStream(t)?t:s.streamifyClassNameBinding(this,t,"_view.");var u,c=this._wrapAsScheduled(function(){e=this.$(),n=o.read(l),u&&(e.removeClass(u),a.removeObject(u)),n?(e.addClass(n),u=n):u=null});r=o.read(l),r&&(i.addObject(a,r),u=r),o.subscribe(l,c,this),this.one("willClearRender",function(){u&&(a.removeObject(u),u=null)})},this)}}});t["default"]=u}),t("ember-views/mixins/component_template_deprecation",["exports","ember-metal/core","ember-metal/property_get","ember-metal/mixin"],function(t,e,n,r){"use strict";t["default"]=r.Mixin.create({willMergeMixin:function(t){this._super.apply(this,arguments);var e,r,i=t.layoutName||t.layout||n.get(this,"layoutName");t.templateName&&!i&&(e="templateName",r="layoutName",t.layoutName=t.templateName,delete t.templateName),t.template&&!i&&(e="template",r="layout",t.layout=t.template,delete t.template)}})}),t("ember-views/mixins/instrumentation_support",["exports","ember-metal/mixin","ember-metal/computed","ember-metal/property_get"],function(t,e,n,r){"use strict";var i=e.Mixin.create({instrumentDisplay:n.computed(function(){return this.helperName?"{{"+this.helperName+"}}":void 0}),instrumentName:"view",instrumentDetails:function(t){t.template=r.get(this,"templateName"),this._super(t)}});t["default"]=i}),t("ember-views/mixins/legacy_view_support",["exports","ember-metal/core","ember-metal/mixin","ember-metal/property_get"],function(t,e,n,r){"use strict";var i=n.Mixin.create({beforeRender:function(t){},afterRender:function(t){},mutateChildViews:function(t){for(var e,n=this._childViews,r=n.length;--r>=0;)e=n[r],t(this,e,r);return this},removeAllChildren:function(){return this.mutateChildViews(function(t,e){t.removeChild(e)})},destroyAllChildren:function(){return this.mutateChildViews(function(t,e){e.destroy()})},nearestChildOf:function(t){for(var e=r.get(this,"parentView");e;){if(r.get(e,"parentView")instanceof t)return e;e=r.get(e,"parentView")}},nearestInstanceOf:function(t){for(var e=r.get(this,"parentView");e;){if(e instanceof t)return e;e=r.get(e,"parentView")}}});t["default"]=i}),t("ember-views/mixins/normalized_rerender_if_needed",["exports","ember-metal/property_get","ember-metal/mixin","ember-metal/merge","ember-views/views/states"],function(t,e,n,r,i){"use strict";var o=i.cloneStates(i.states);r["default"](o._default,{rerenderIfNeeded:function(){return this}}),r["default"](o.inDOM,{rerenderIfNeeded:function(t){t.normalizedValue()!==t._lastNormalizedValue&&t.rerender()}}),t["default"]=n.Mixin.create({_states:o,normalizedValue:function(){var t=this.lazyValue.value(),n=e.get(this,"valueNormalizerFunc");return n?n(t):t},rerenderIfNeeded:function(){this.currentState.rerenderIfNeeded(this)}})}),t("ember-views/mixins/template_rendering_support",["exports","ember-metal/mixin","ember-metal/property_get"],function(t,e,r){"use strict";function i(t,e,r){void 0===o&&(o=n("ember-htmlbars/system/render-view")["default"]),o(t,e,r)}var o,s=e.Mixin.create({render:function(t){var e=r.get(this,"layout")||r.get(this,"template");i(this,t,e)}});t["default"]=s}),t("ember-views/mixins/text_support",["exports","ember-metal/property_get","ember-metal/property_set","ember-metal/mixin","ember-runtime/mixins/target_action_support"],function(t,e,n,r,i){"use strict";function o(t,n,r){var i=e.get(n,t),o=e.get(n,"onEvent"),s=e.get(n,"value");(o===t||"keyPress"===o&&"key-press"===t)&&n.sendAction("action",s),n.sendAction(t,s),(i||o===t)&&(e.get(n,"bubbles")||r.stopPropagation())}var s=r.Mixin.create(i["default"],{value:"",attributeBindings:["autocapitalize","autocorrect","autofocus","disabled","form","maxlength","placeholder","readonly","required","selectionDirection","spellcheck","tabindex","title"],
placeholder:null,disabled:!1,maxlength:null,init:function(){this._super.apply(this,arguments),this.on("paste",this,this._elementValueDidChange),this.on("cut",this,this._elementValueDidChange),this.on("input",this,this._elementValueDidChange)},action:null,onEvent:"enter",bubbles:!1,interpretKeyEvents:function(t){var e=s.KEY_EVENTS,n=e[t.keyCode];return this._elementValueDidChange(),n?this[n](t):void 0},_elementValueDidChange:function(){n.set(this,"value",this.$().val())},change:function(t){this._elementValueDidChange(t)},insertNewline:function(t){o("enter",this,t),o("insert-newline",this,t)},cancel:function(t){o("escape-press",this,t)},focusIn:function(t){o("focus-in",this,t)},focusOut:function(t){this._elementValueDidChange(t),o("focus-out",this,t)},keyPress:function(t){o("key-press",this,t)},keyUp:function(t){this.interpretKeyEvents(t),this.sendAction("key-up",e.get(this,"value"),t)},keyDown:function(t){this.sendAction("key-down",e.get(this,"value"),t)}});s.KEY_EVENTS={13:"insertNewline",27:"cancel"},t["default"]=s}),t("ember-views/mixins/view_child_views_support",["exports","ember-metal/core","ember-metal/mixin","ember-metal/computed","ember-metal/property_get","ember-metal/property_set","ember-metal/set_properties","ember-metal/error","ember-metal/enumerable_utils","ember-runtime/system/native_array"],function(t,e,n,r,i,o,s,a,l,u){"use strict";var c=r.computed(function(){var t=this._childViews,e=u.A();return l.forEach(t,function(t){var n;t.isVirtual?(n=i.get(t,"childViews"))&&e.pushObjects(n):e.push(t)}),e.replace=function(t,e,n){throw new a["default"]("childViews is immutable")},e}),h=[],d=n.Mixin.create({childViews:c,_childViews:h,init:function(){this._childViews=this._childViews.slice(),this._super.apply(this,arguments)},appendChild:function(t,e){return this.currentState.appendChild(this,t,e)},removeChild:function(t){if(!this.isDestroying){o.set(t,"_parentView",null);var e=this._childViews;return l.removeObject(e,t),this.propertyDidChange("childViews"),this}},createChildView:function(t,e){if(!t)throw new TypeError("createChildViews first argument must exist");if(t.isView&&t._parentView===this&&t.container===this.container)return t;var n,r=e||{};if(r._parentView=this,r.renderer=this.renderer,t.isViewClass)r.container=this.container,n=t.create(r),n.viewName&&o.set(i.get(this,"concreteView"),n.viewName,n);else if("string"==typeof t){var a="view:"+t,l=this.container.lookupFactory(a);n=l.create(r)}else n=t,r.container=this.container,s["default"](n,r);return n}});t["default"]=d,t.childViewsProperty=c}),t("ember-views/mixins/view_context_support",["exports","ember-metal/mixin","ember-metal/computed","ember-metal/property_get","ember-metal/property_set"],function(t,e,n,r,i){"use strict";var o=e.Mixin.create({context:n.computed({get:function(){return r.get(this,"_context")},set:function(t,e){return i.set(this,"_context",e),e}})["volatile"](),_context:n.computed({get:function(){var t,e;return(e=r.get(this,"controller"))?e:(t=this._parentView,t?r.get(t,"_context"):null)},set:function(t,e){return e}}),_controller:null,controller:n.computed({get:function(){return this._controller?this._controller:this._parentView?r.get(this._parentView,"controller"):null},set:function(t,e){return this._controller=e,e}})});t["default"]=o}),t("ember-views/mixins/view_keyword_support",["exports","ember-metal/mixin","ember-metal/platform/create","ember-views/streams/key_stream"],function(t,e,n,r){"use strict";var i=e.Mixin.create({init:function(){this._super.apply(this,arguments),this._keywords||(this._keywords=n["default"](null)),this._keywords._view=this,this._keywords.view=void 0,this._keywords.controller=new r["default"](this,"controller"),this._setupKeywords()},_setupKeywords:function(){var t=this._keywords,e=this._contextView||this._parentView;if(e){var n=e._keywords;t.view=this.isVirtual?n.view:this;for(var r in n)t[r]||(t[r]=n[r])}else t.view=this.isVirtual?null:this}});t["default"]=i}),t("ember-views/mixins/view_state_support",["exports","ember-metal/core","ember-metal/mixin"],function(t,e,n){"use strict";var r=n.Mixin.create({transitionTo:function(t,e){this._transitionTo(t,e)},_transitionTo:function(t,e){var n=this.currentState,r=this.currentState=this._states[t];this._state=t,n&&n.exit&&n.exit(this),r.enter&&r.enter(this)}});t["default"]=r}),t("ember-views/mixins/view_stream_support",["exports","ember-metal/mixin","ember-metal/streams/stream_binding","ember-views/streams/key_stream","ember-views/streams/context_stream","ember-metal/platform/create","ember-metal/streams/utils"],function(t,e,n,r,i,o,s){"use strict";var a=e.Mixin.create({init:function(){this._baseContext=void 0,this._contextStream=void 0,this._streamBindings=void 0,this._super.apply(this,arguments)},getStream:function(t){var e=this._getContextStream().get(t);return e._label=t,e},_willDestroyElement:function(){this._streamBindings&&this._destroyStreamBindings(),this._contextStream&&this._destroyContextStream()},_getBindingForStream:function(t){void 0===this._streamBindings&&(this._streamBindings=o["default"](null));var e=t;if(s.isStream(t)&&(e=t._label,!e))return t;if(void 0!==this._streamBindings[e])return this._streamBindings[e];var r=this._getContextStream().get(e),i=new n["default"](r);return i._label=e,this._streamBindings[e]=i},_destroyStreamBindings:function(){var t=this._streamBindings;for(var e in t)t[e].destroy();this._streamBindings=void 0},_getContextStream:function(){return void 0===this._contextStream&&(this._baseContext=new r["default"](this,"context"),this._contextStream=new i["default"](this)),this._contextStream},_destroyContextStream:function(){this._baseContext.destroy(),this._baseContext=void 0,this._contextStream.destroy(),this._contextStream=void 0},_unsubscribeFromStreamBindings:function(){for(var t in this._streamBindingSubscriptions){var e=this[t+"Binding"],n=this._streamBindingSubscriptions[t];e.unsubscribe(n)}}});t["default"]=a}),t("ember-views/mixins/view_target_action_support",["exports","ember-metal/mixin","ember-runtime/mixins/target_action_support","ember-metal/alias"],function(t,e,n,r){"use strict";t["default"]=e.Mixin.create(n["default"],{target:r["default"]("controller"),actionContext:r["default"]("context")})}),t("ember-views/mixins/visibility_support",["exports","ember-metal/mixin","ember-metal/property_get","ember-metal/run_loop"],function(t,e,n,r){"use strict";function i(){return this}var o=e.Mixin.create({isVisible:!0,becameVisible:i,becameHidden:i,_isVisibleDidChange:e.observer("isVisible",function(){this._isVisible!==n.get(this,"isVisible")&&r["default"].scheduleOnce("render",this,this._toggleVisibility)}),_toggleVisibility:function(){var t=this.$(),e=n.get(this,"isVisible");this._isVisible!==e&&(this._isVisible=e,t&&(t.toggle(e),this._isAncestorHidden()||(e?this._notifyBecameVisible():this._notifyBecameHidden())))},_notifyBecameVisible:function(){this.trigger("becameVisible"),this.forEachChildView(function(t){var e=n.get(t,"isVisible");(e||null===e)&&t._notifyBecameVisible()})},_notifyBecameHidden:function(){this.trigger("becameHidden"),this.forEachChildView(function(t){var e=n.get(t,"isVisible");(e||null===e)&&t._notifyBecameHidden()})},_isAncestorHidden:function(){for(var t=n.get(this,"parentView");t;){if(n.get(t,"isVisible")===!1)return!0;t=n.get(t,"parentView")}return!1}});t["default"]=o}),t("ember-views/streams/class_name_binding",["exports","ember-metal/streams/utils","ember-metal/property_get","ember-runtime/system/string","ember-metal/utils"],function(t,e,n,r,i){"use strict";function o(t){var e,n,r=t.split(":"),i=r[0],o="";return r.length>1&&(e=r[1],3===r.length&&(n=r[2]),o=":"+e,n&&(o+=":"+n)),{path:i,classNames:o,className:""===e?void 0:e,falsyClassName:n}}function s(t,e,o,s){if(i.isArray(e)&&(e=0!==n.get(e,"length")),o||s)return o&&e?o:s&&!e?s:null;if(e===!0){var a=t.split(".");return r.dasherize(a[a.length-1])}return e!==!1&&null!=e?e:null}function a(t,n,r){r=r||"";var i=o(n);if(""===i.path)return s(i.path,!0,i.className,i.falsyClassName);var a=t.getStream(r+i.path);return e.chain(a,function(){return s(i.path,e.read(a),i.className,i.falsyClassName)})}t.parsePropertyPath=o,t.classStringForValue=s,t.streamifyClassNameBinding=a}),t("ember-views/streams/context_stream",["exports","ember-metal/core","ember-metal/merge","ember-metal/platform/create","ember-metal/path_cache","ember-metal/streams/stream","ember-metal/streams/simple"],function(t,e,n,r,i,o,s){"use strict";function a(t){this.init(),this.view=t}a.prototype=r["default"](o["default"].prototype),n["default"](a.prototype,{value:function(){},_makeChildStream:function(t,n){var r;return""===t||"this"===t?r=this.view._baseContext:i.isGlobal(t)&&e["default"].lookup[t]?(r=new s["default"](e["default"].lookup[t]),r._isGlobal=!0):r=t in this.view._keywords?new s["default"](this.view._keywords[t]):new s["default"](this.view._baseContext.get(t)),r._isRoot=!0,"controller"===t&&(r._isController=!0),r}}),t["default"]=a}),t("ember-views/streams/key_stream",["exports","ember-metal/core","ember-metal/merge","ember-metal/platform/create","ember-metal/property_get","ember-metal/property_set","ember-metal/observer","ember-metal/streams/stream","ember-metal/streams/utils"],function(t,e,n,r,i,o,s,a,l){"use strict";function u(t,e){this.init(),this.source=t,this.obj=void 0,this.key=e,l.isStream(t)&&t.subscribe(this._didChange,this)}u.prototype=r["default"](a["default"].prototype),n["default"](u.prototype,{valueFn:function(){var t=this.obj,e=l.read(this.source);return e!==t&&(t&&"object"==typeof t&&s.removeObserver(t,this.key,this,this._didChange),e&&"object"==typeof e&&s.addObserver(e,this.key,this,this._didChange),this.obj=e),e?i.get(e,this.key):void 0},setValue:function(t){this.obj&&o.set(this.obj,this.key,t)},setSource:function(t){var e=this.source;t!==e&&(l.isStream(e)&&e.unsubscribe(this._didChange,this),l.isStream(t)&&t.subscribe(this._didChange,this),this.source=t,this.notify())},_didChange:function(){this.notify()},_super$destroy:a["default"].prototype.destroy,destroy:function(){return this._super$destroy()?(l.isStream(this.source)&&this.source.unsubscribe(this._didChange,this),this.obj&&"object"==typeof this.obj&&s.removeObserver(this.obj,this.key,this,this._didChange),this.source=void 0,this.obj=void 0,!0):void 0}}),t["default"]=u,a["default"].prototype._makeChildStream=function(t){return new u(this,t)}}),t("ember-views/streams/should_display",["exports","ember-metal/streams/stream","ember-metal/streams/utils","ember-metal/platform/create","ember-metal/property_get","ember-metal/utils"],function(t,e,n,r,i,o){"use strict";function s(t){if(n.isStream(t))return new a(t);var e=t&&i.get(t,"isTruthy");return"boolean"==typeof e?e:o.isArray(t)?0!==i.get(t,"length"):!!t}function a(t){this.init(),this.oldPredicate=void 0,this.predicateStream=t,this.isTruthyStream=t.get("isTruthy"),this.lengthStream=void 0,n.subscribe(this.predicateStream,this.notify,this),n.subscribe(this.isTruthyStream,this.notify,this)}t["default"]=s,a.prototype=r["default"](e["default"].prototype),a.prototype.valueFn=function(){var t=this.oldPredicate,e=n.read(this.predicateStream),r=o.isArray(e);e!==t&&(this.lengthStream&&!r&&(n.unsubscribe(this.lengthStream,this.notify,this),this.lengthStream=void 0),!this.lengthStream&&r&&(this.lengthStream=this.predicateStream.get("length"),n.subscribe(this.lengthStream,this.notify,this)),this.oldPredicate=e);var i=n.read(this.isTruthyStream);if("boolean"==typeof i)return i;if(this.lengthStream){var s=n.read(this.lengthStream);return 0!==s}return!!e}}),t("ember-views/streams/utils",["exports","ember-metal/core","ember-metal/property_get","ember-metal/path_cache","ember-runtime/system/string","ember-metal/streams/utils","ember-views/views/view","ember-runtime/mixins/controller"],function(t,e,n,r,i,o,s,a){"use strict";function l(t,e){var i,s=o.read(t);return i="string"==typeof s?r.isGlobal(s)?n.get(null,s):e.lookupFactory("view:"+s):s}function u(t,e){var n=o.read(t),r=e.lookup("component-lookup:main");return r.lookupFactory(n,e)}function c(t){if(o.isStream(t)){var e=t.value();if(!t._isController)for(;a["default"].detect(e);)e=n.get(e,"model");return e}return t}t.readViewFactory=l,t.readComponentFactory=u,t.readUnwrappedModel=c}),t("ember-views/system/action_manager",["exports"],function(t){"use strict";function e(){}e.registeredActions={},t["default"]=e}),t("ember-views/system/event_dispatcher",["exports","ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/is_none","ember-metal/run_loop","ember-metal/utils","ember-runtime/system/string","ember-runtime/system/object","ember-views/system/jquery","ember-views/system/action_manager","ember-views/views/view","ember-metal/merge"],function(t,e,n,r,i,o,s,a,l,u,c,h,d){"use strict";t["default"]=l["default"].extend({events:{touchstart:"touchStart",touchmove:"touchMove",touchend:"touchEnd",touchcancel:"touchCancel",keydown:"keyDown",keyup:"keyUp",keypress:"keyPress",mousedown:"mouseDown",mouseup:"mouseUp",contextmenu:"contextMenu",click:"click",dblclick:"doubleClick",mousemove:"mouseMove",focusin:"focusIn",focusout:"focusOut",mouseenter:"mouseEnter",mouseleave:"mouseLeave",submit:"submit",input:"input",change:"change",dragstart:"dragStart",drag:"drag",dragenter:"dragEnter",dragleave:"dragLeave",dragover:"dragOver",drop:"drop",dragend:"dragEnd"},rootElement:"body",canDispatchToEventManager:!0,setup:function(t,e){var o,s=n.get(this,"events");d["default"](s,t||{}),i["default"](e)||r.set(this,"rootElement",e),e=u["default"](n.get(this,"rootElement")),e.addClass("ember-application");for(o in s)s.hasOwnProperty(o)&&this.setupHandler(e,o,s[o])},setupHandler:function(t,e,n){var r=this;t.on(e+".ember",".ember-view",function(t,e){var i=h["default"].views[this.id],o=!0,s=r.canDispatchToEventManager?r._findNearestEventManager(i,n):null;return s&&s!==e?o=r._dispatchEvent(s,t,n,i):i&&(o=r._bubbleEvent(i,t,n)),o}),t.on(e+".ember","[data-ember-action]",function(t){var e=u["default"](t.currentTarget).attr("data-ember-action"),r=c["default"].registeredActions[e];return r&&r.eventName===n?r.handler(t):void 0})},_findNearestEventManager:function(t,e){for(var r=null;t&&(r=n.get(t,"eventManager"),!r||!r[e]);)t=n.get(t,"parentView");return r},_dispatchEvent:function(t,e,n,r){var i=!0,a=t[n];return"function"===s.typeOf(a)?(i=o["default"](t,a,e,r),e.stopPropagation()):i=this._bubbleEvent(r,e,n),i},_bubbleEvent:function(t,e,n){return o["default"].join(t,t.handleEvent,n,e)},destroy:function(){var t=n.get(this,"rootElement");return u["default"](t).off(".ember","**").removeClass("ember-application"),this._super.apply(this,arguments)},toString:function(){return"(EventDispatcher)"}})}),t("ember-views/system/ext",["ember-metal/run_loop"],function(t){"use strict";t["default"]._addQueue("render","actions"),t["default"]._addQueue("afterRender","render")}),t("ember-views/system/jquery",["exports","ember-metal/core","ember-metal/enumerable_utils","ember-metal/environment"],function(t,e,r,i){"use strict";var s;if(i["default"].hasDOM&&(s=e["default"].imports&&e["default"].imports.jQuery||o&&o.jQuery,s||"function"!=typeof n||(s=n("jquery")),s)){var a=["dragstart","drag","dragenter","dragleave","dragover","drop","dragend"];r.forEach(a,function(t){s.event.fixHooks[t]={props:["dataTransfer"]}})}t["default"]=s}),t("ember-views/system/lookup_partial",["exports","ember-metal/core"],function(t,e){"use strict";function n(t,e){var n=e.split("/"),r=n[n.length-1];n[n.length-1]="_"+r;var i=n.join("/"),o=t.templateForName(i);return o||(o=t.templateForName(e)),o}t["default"]=n}),t("ember-views/system/platform",["exports","ember-metal/environment"],function(t,e){"use strict";var n=e["default"].hasDOM&&function(){var t=document.createElement("div"),e=document.createElement("input");return e.setAttribute("name","foo"),t.appendChild(e),!!t.innerHTML.match("foo")}();t.canSetNameOnInputs=n}),t("ember-views/system/render_buffer",["exports","ember-views/system/jquery","ember-metal/core","ember-metal/platform/create","dom-helper/prop","ember-views/system/platform"],function(t,e,n,r,i,o){"use strict";function s(t,e,n){if(c=c||{tr:t.createElement("tbody"),col:t.createElement("colgroup")},"TABLE"===n.tagName){var r=h.exec(e);if(r)return c[r[1].toLowerCase()]}}function a(){this.seen=r["default"](null),this.list=[]}function l(t){return t&&d.test(t)?t.replace(p,""):t}function u(t){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=function(t){return e[t]||"&amp;"},r=t.toString();return m.test(r)?r.replace(f,n):r}var c,h=/(?:<script)*.*?<([\w:]+)/i;a.prototype={add:function(t){this.seen[t]!==!0&&(this.seen[t]=!0,this.list.push(t))}};var d=/[^a-zA-Z0-9\-]/,p=/[^a-zA-Z0-9\-]/g,f=/&(?!\w+;)|[<>"'`]/g,m=/[&<>"'`]/,g=function(t){this.buffer=null,this.childViews=[],this.attrNodes=[],this.dom=t};g.prototype={reset:function(t,e){this.tagName=t,this.buffer=null,this._element=null,this._outerContextualElement=e,this.elementClasses=null,this.elementId=null,this.elementAttributes=null,this.elementProperties=null,this.elementTag=null,this.elementStyle=null,this.childViews.length=0,this.attrNodes.length=0},_element:null,_outerContextualElement:null,elementClasses:null,classes:null,elementId:null,elementAttributes:null,elementProperties:null,elementTag:null,elementStyle:null,pushChildView:function(t){var e=this.childViews.length;this.childViews[e]=t,this.push("<script id='morph-"+e+"' type='text/x-placeholder'></script>")},pushAttrNode:function(t){var e=this.attrNodes.length;this.attrNodes[e]=t},hydrateMorphs:function(t){for(var e=this.childViews,n=this._element,r=0,i=e.length;i>r;r++){var o=e[r],s=n.querySelector("#morph-"+r),a=s.parentNode;o._morph=this.dom.insertMorphBefore(a,s,1===a.nodeType?a:t),a.removeChild(s)}},push:function(t){return"string"==typeof t?(null===this.buffer&&(this.buffer=""),this.buffer+=t):this.buffer=t,this},addClass:function(t){return this.elementClasses=this.elementClasses||new a,this.elementClasses.add(t),this.classes=this.elementClasses.list,this},setClasses:function(t){this.elementClasses=null;var e,n=t.length;for(e=0;n>e;e++)this.addClass(t[e])},id:function(t){return this.elementId=t,this},attr:function(t,e){var n=this.elementAttributes=this.elementAttributes||{};return 1===arguments.length?n[t]:(n[t]=e,this)},removeAttr:function(t){var e=this.elementAttributes;return e&&delete e[t],this},prop:function(t,e){var n=this.elementProperties=this.elementProperties||{};return 1===arguments.length?n[t]:(n[t]=e,this)},removeProp:function(t){var e=this.elementProperties;return e&&delete e[t],this},style:function(t,e){return this.elementStyle=this.elementStyle||{},this.elementStyle[t]=e,this},generateElement:function(){var t,e,n,r=this.tagName,s=this.elementId,a=this.classes,c=this.elementAttributes,h=this.elementProperties,d=this.elementStyle,p="";n=!o.canSetNameOnInputs&&c&&c.name?"<"+l(r)+' name="'+u(c.name)+'">':r;var f=this.dom.createElement(n,this.outerContextualElement());if(s&&(this.dom.setAttribute(f,"id",s),this.elementId=null),a&&(this.dom.setAttribute(f,"class",a.join(" ")),this.classes=null,this.elementClasses=null),d){for(e in d)p+=e+":"+d[e]+";";this.dom.setAttribute(f,"style",p),this.elementStyle=null}if(c){for(t in c)this.dom.setAttribute(f,t,c[t]);this.elementAttributes=null}if(h){for(e in h){var m=i.normalizeProperty(f,e.toLowerCase())||e;this.dom.setPropertyStrict(f,m,h[e])}this.elementProperties=null}this._element=f},element:function(){if(this._element&&this.attrNodes.length>0){var t,e,n,r;for(t=0,e=this.attrNodes.length;e>t;t++)r=this.attrNodes[t],n=this.dom.createAttrMorph(this._element,r.attrName),r._morph=n}var i=this.innerContent();if(null===i)return this._element;var o=this.innerContextualElement(i);if(this.dom.detectNamespace(o),this._element||(this._element=this.dom.createDocumentFragment()),i.nodeType)this._element.appendChild(i);else{var s=this.dom.parseHTML(i,o);this._element.appendChild(s)}return this.childViews.length>0&&this.hydrateMorphs(o),this._element},string:function(){if(this._element){var t=this.element(),n=t.outerHTML;return"undefined"==typeof n?e["default"]("<div/>").append(t).html():n}return this.innerString()},outerContextualElement:function(){return void 0===this._outerContextualElement&&(this.outerContextualElement=document.body),this._outerContextualElement},innerContextualElement:function(t){var e;e=this._element&&1===this._element.nodeType?this._element:this.outerContextualElement();var n;return t&&(n=s(this.dom,t,e)),n||e},innerString:function(){var t=this.innerContent();return t&&!t.nodeType?t:void 0},innerContent:function(){return this.buffer}},t["default"]=g}),t("ember-views/system/renderer",["exports","ember-metal/core","ember-metal-views/renderer","ember-metal/platform/create","ember-views/system/render_buffer","ember-metal/run_loop","ember-metal/property_get","ember-metal/instrumentation"],function(t,e,n,r,i,o,s,a){"use strict";function l(t,e){this._super$constructor(t,e),this.buffer=new i["default"](t)}l.prototype=r["default"](n["default"].prototype),l.prototype.constructor=l,l.prototype._super$constructor=n["default"],l.prototype.scheduleRender=function(t,e){return o["default"].scheduleOnce("render",t,e)},l.prototype.cancelRender=function(t){o["default"].cancel(t)},l.prototype.createElement=function(t,e){var n=t.tagName;null!==n&&"object"==typeof n&&n.isDescriptor&&(n=s.get(t,"tagName"));var r=t.classNameBindings;""===n&&r&&r.length>0;(null===n||void 0===n)&&(n="div");var i=t.buffer=this.buffer;i.reset(n,e),t.beforeRender&&t.beforeRender(i),""!==n&&(t.applyAttributesToBuffer&&t.applyAttributesToBuffer(i),i.generateElement()),t.render&&t.render(i),t.afterRender&&t.afterRender(i);var o=i.element();return t.buffer=null,o&&1===o.nodeType&&(t.element=o),o},l.prototype.destroyView=function(t){t.removedFromDOM=!0,t.destroy()},l.prototype.childViews=function(t){return t._attrNodes&&t._childViews?t._attrNodes.concat(t._childViews):t._attrNodes||t._childViews},n["default"].prototype.willCreateElement=function(t){a.subscribers.length&&t.instrumentDetails&&(t._instrumentEnd=a._instrumentStart("render."+t.instrumentName,function(){var e={};return t.instrumentDetails(e),e})),t._transitionTo&&t._transitionTo("inBuffer")},n["default"].prototype.didCreateElement=function(t){t._transitionTo&&t._transitionTo("hasElement"),t._instrumentEnd&&t._instrumentEnd()},n["default"].prototype.willInsertElement=function(t){this._destinedForDOM&&t.trigger&&t.trigger("willInsertElement")},n["default"].prototype.didInsertElement=function(t){t._transitionTo&&t._transitionTo("inDOM"),this._destinedForDOM&&t.trigger&&t.trigger("didInsertElement")},n["default"].prototype.willRemoveElement=function(t){},n["default"].prototype.willDestroyElement=function(t){this._destinedForDOM&&(t._willDestroyElement&&t._willDestroyElement(),t.trigger&&(t.trigger("willDestroyElement"),t.trigger("willClearRender")))},n["default"].prototype.didDestroyElement=function(t){t.element=null,t._transitionTo&&t._transitionTo("preRender")},t["default"]=l}),t("ember-views/system/utils",["exports"],function(t){"use strict";function e(t){var e=t.shiftKey||t.metaKey||t.altKey||t.ctrlKey,n=t.which>1;return!e&&!n}function n(t){var e=document.createRange();return e.setStartBefore(t._morph.firstNode),e.setEndAfter(t._morph.lastNode),e}function r(t){var e=n(t);return e.getClientRects()}function i(t){var e=n(t);return e.getBoundingClientRect()}t.isSimpleClick=e,t.getViewClientRects=r,t.getViewBoundingClientRect=i}),t("ember-views/views/bound_component_view",["exports","ember-views/views/metamorph_view","ember-metal/streams/utils","ember-views/streams/utils","ember-htmlbars/system/merge-view-bindings","ember-metal/error","ember-views/views/container_view","ember-views/views/view"],function(t,e,n,r,i,o,s,a){"use strict";t["default"]=s["default"].extend(e._Metamorph,{init:function(){this._super.apply(this,arguments),this.componentNameStream=this._boundComponentOptions.componentNameStream,n.subscribe(this.componentNameStream,this._updateBoundChildComponent,this),this._updateBoundChildComponent()},willDestroy:function(){n.unsubscribe(this.componentNameStream,this._updateBoundChildComponent,this),this._super.apply(this,arguments)},_updateBoundChildComponent:function(){this.replace(0,1,[this._createNewComponent()])},_createNewComponent:function(){var t=n.read(this.componentNameStream);if(!t)return this.createChildView(a["default"]);var e=r.readComponentFactory(t,this.container);if(!e)throw new o["default"]('HTMLBars error: Could not find component named "'+n.read(this._boundComponentOptions.componentNameStream)+'".');var s,l=this._boundComponentOptions,u={};for(s in l)"_boundComponentOptions"!==s&&"componentNameStream"!==s&&(u[s]=l[s]);var c={};return i["default"](this,c,u),this.createChildView(e,c)}})}),t("ember-views/views/bound_if_view",["exports","ember-metal/run_loop","ember-views/views/metamorph_view","ember-views/mixins/normalized_rerender_if_needed","ember-htmlbars/system/render-view"],function(t,e,n,r,i){"use strict";t["default"]=n["default"].extend(r["default"],{init:function(){this._super.apply(this,arguments);var t=this;this.conditionStream.subscribe(this._wrapAsScheduled(function(){e["default"].scheduleOnce("render",t,"rerenderIfNeeded")}))},normalizedValue:function(){return this.conditionStream.value()},render:function(t){var e=this.conditionStream.value();this._lastNormalizedValue=e;var n=e?this.truthyTemplate:this.falsyTemplate;i["default"](this,t,n)}})}),t("ember-views/views/bound_partial_view",["exports","ember-views/views/metamorph_view","ember-views/mixins/normalized_rerender_if_needed","ember-views/system/lookup_partial","ember-metal/run_loop","ember-htmlbars/system/render-view","ember-htmlbars/templates/empty"],function(t,e,n,r,i,o,s){"use strict";t["default"]=e["default"].extend(n["default"],{init:function(){this._super.apply(this,arguments);var t=this;this.templateNameStream.subscribe(this._wrapAsScheduled(function(){i["default"].scheduleOnce("render",t,"rerenderIfNeeded")}))},normalizedValue:function(){return this.templateNameStream.value()},render:function(t){var e=this.normalizedValue();this._lastNormalizedValue=e;var n;e&&(n=r["default"](this,e)),o["default"](this,t,n||s["default"])}})}),t("ember-views/views/checkbox",["exports","ember-metal/property_get","ember-metal/property_set","ember-views/views/view"],function(t,e,n,r){"use strict";t["default"]=r["default"].extend({instrumentDisplay:'{{input type="checkbox"}}',classNames:["ember-checkbox"],tagName:"input",attributeBindings:["type","checked","indeterminate","disabled","tabindex","name","autofocus","required","form"],type:"checkbox",checked:!1,disabled:!1,indeterminate:!1,init:function(){this._super.apply(this,arguments),this.on("change",this,this._updateElementValue)},didInsertElement:function(){this._super.apply(this,arguments),e.get(this,"element").indeterminate=!!e.get(this,"indeterminate")},_updateElementValue:function(){n.set(this,"checked",this.$().prop("checked"))}})}),t("ember-views/views/collection_view",["exports","ember-metal/core","ember-metal/binding","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/string","ember-views/views/container_view","ember-views/views/core_view","ember-views/views/view","ember-metal/mixin","ember-views/streams/utils","ember-runtime/mixins/array"],function(t,e,n,r,i,o,s,a,l,u,c,h){"use strict";var d=s["default"].extend({content:null,emptyViewClass:l["default"],emptyView:null,itemViewClass:l["default"],init:function(){var t=this._super.apply(this,arguments);return this._contentDidChange(),t},_contentWillChange:u.beforeObserver("content",function(){var t=this.get("content");t&&t.removeArrayObserver(this);var e=t?r.get(t,"length"):0;this.arrayWillChange(t,0,e)}),_contentDidChange:u.observer("content",function(){var t=r.get(this,"content");t&&(this._assertArrayLike(t),t.addArrayObserver(this));var e=t?r.get(t,"length"):0;this.arrayDidChange(t,0,null,e)}),_assertArrayLike:function(t){},destroy:function(){if(this._super.apply(this,arguments)){var t=r.get(this,"content");return t&&t.removeArrayObserver(this),this._createdEmptyView&&this._createdEmptyView.destroy(),this}},arrayWillChange:function(t,e,n){var i=r.get(this,"emptyView");i&&i instanceof l["default"]&&i.removeFromParent();var o,s,a=this._childViews;for(s=e+n-1;s>=e;s--)o=a[s],o.destroy()},arrayDidChange:function(t,e,o,s){var l,u,h,d,p,f,m,g=[];if(d=t?r.get(t,"length"):0){for(m=this._itemViewProps||{},p=r.get(this,"itemViewClass"),p=c.readViewFactory(p,this.container),h=e;e+s>h;h++)u=t.objectAt(h),m._context=this.keyword?this.get("context"):u,m.content=u,m.contentIndex=h,l=this.createChildView(p,m),this.blockParams>0&&(l._blockArguments=[u]),this.blockParams>1&&l._blockArguments.push(l.getStream("_view.contentIndex")),g.push(l);if(this.replace(e,0,g),this.blockParams>1){var v=this._childViews;for(h=e+s;d>h;h++)l=v[h],i.set(l,"contentIndex",h)}}else{if(f=r.get(this,"emptyView"),!f)return;"string"==typeof f&&n.isGlobalPath(f)&&(f=r.get(f)||f),f=this.createChildView(f),g.push(f),i.set(this,"emptyView",f),a["default"].detect(f)&&(this._createdEmptyView=f),this.replace(e,0,g)}},createChildView:function(t,e){var n=this._super(t,e),o=r.get(n,"tagName");return(null===o||void 0===o)&&(o=d.CONTAINER_MAP[r.get(this,"tagName")],i.set(n,"tagName",o)),n}});d.CONTAINER_MAP={ul:"li",ol:"li",table:"tr",thead:"tr",tbody:"tr",tfoot:"tr",tr:"td",select:"option"},t["default"]=d}),t("ember-views/views/component",["exports","ember-metal/core","ember-views/mixins/component_template_deprecation","ember-runtime/mixins/target_action_support","ember-views/views/view","ember-metal/property_get","ember-metal/property_set","ember-metal/is_none","ember-metal/computed","ember-metal/computed_macros","ember-htmlbars/templates/component"],function(t,e,n,r,i,o,s,a,l,u,c){"use strict";var h=i["default"].extend(r["default"],n["default"],{controller:null,context:null,instrumentName:"component",instrumentDisplay:l.computed(function(){return this._debugContainerKey?"{{"+this._debugContainerKey.split(":")[1]+"}}":void 0}),init:function(){this._super.apply(this,arguments),this._keywords.view=this,s.set(this,"context",this),s.set(this,"controller",this)},defaultLayout:c["default"],template:l.computed("templateName",{get:function(){var t=o.get(this,"templateName"),e=this.templateForName(t,"template");return e||o.get(this,"defaultTemplate")},set:function(t,e){return e}}),templateName:null,_setupKeywords:function(){},_yield:function(t,e,n,r){var s=e.data.view,a=this._parentView,l=o.get(this,"template");l&&s.appendChild(i["default"],{isVirtual:!0,tagName:"",template:l,_blockArguments:r,_contextView:a,_morph:n,context:o.get(a,"context"),controller:o.get(a,"controller")})},targetObject:l.computed("_parentView",function(t){var e=this._parentView;return e?o.get(e,"controller"):null}),sendAction:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];var i;i=void 0===t?o.get(this,"action"):o.get(this,t),void 0!==i&&this.triggerAction({action:i,actionContext:n})},send:function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];var s,a=this._actions&&this._actions[t];if(a){var l=this._actions[t].apply(this,r)===!0;if(!l)return}if(s=o.get(this,"target"))s.send.apply(s,arguments);else if(!a)throw new Error(e["default"].inspect(this)+" had no action handler for: "+t)}});t["default"]=h}),t("ember-views/views/container_view",["exports","ember-metal/core","ember-metal/merge","ember-runtime/mixins/mutable_array","ember-metal/property_get","ember-metal/property_set","ember-views/views/view","ember-views/views/states","ember-metal/error","ember-metal/enumerable_utils","ember-metal/computed","ember-metal/run_loop","ember-metal/properties","ember-metal/mixin","ember-runtime/system/native_array"],function(t,e,n,r,i,o,s,a,l,u,c,h,d,p,f){"use strict";function m(){return this}var g=a.cloneStates(a.states),v=s["default"].extend(r["default"],{_states:g,willWatchProperty:function(t){},init:function(){this._super.apply(this,arguments);var t=i.get(this,"childViews");
d.defineProperty(this,"childViews",s["default"].childViewsProperty);var e=this._childViews;u.forEach(t,function(t,n){var r;"string"==typeof t?(r=i.get(this,t),r=this.createChildView(r),o.set(this,t,r)):r=this.createChildView(t),e[n]=r},this);var n=i.get(this,"currentView");n&&(e.length||(e=this._childViews=this._childViews.slice()),e.push(this.createChildView(n)))},replace:function(t,e,n){var r=n?i.get(n,"length"):0;if(this.arrayContentWillChange(t,e,r),this.childViewsWillChange(this._childViews,t,e),0===r)this._childViews.splice(t,e);else{var o=[t,e].concat(n);n.length&&!this._childViews.length&&(this._childViews=this._childViews.slice()),this._childViews.splice.apply(this._childViews,o)}return this.arrayContentDidChange(t,e,r),this.childViewsDidChange(this._childViews,t,e,r),this},objectAt:function(t){return this._childViews[t]},length:c.computed(function(){return this._childViews.length})["volatile"](),render:function(t){var e=t.element(),n=t.dom;return""===this.tagName?(e=n.createDocumentFragment(),t._element=e,this._childViewsMorph=n.appendMorph(e,this._morph.contextualElement)):this._childViewsMorph=n.appendMorph(e),e},instrumentName:"container",childViewsWillChange:function(t,e,n){if(this.propertyWillChange("childViews"),n>0){var r=t.slice(e,e+n);this.currentState.childViewsWillChange(this,t,e,n),this.initializeViews(r,null,null)}},removeChild:function(t){return this.removeObject(t),this},childViewsDidChange:function(t,e,n,r){if(r>0){var i=t.slice(e,e+r);this.initializeViews(i,this),this.currentState.childViewsDidChange(this,t,e,r)}this.propertyDidChange("childViews")},initializeViews:function(t,e){u.forEach(t,function(t){o.set(t,"_parentView",e),!t.container&&e&&o.set(t,"container",e.container)})},currentView:null,_currentViewWillChange:p.beforeObserver("currentView",function(){var t=i.get(this,"currentView");t&&t.destroy()}),_currentViewDidChange:p.observer("currentView",function(){var t=i.get(this,"currentView");t&&this.pushObject(t)}),_ensureChildrenAreInDOM:function(){this.currentState.ensureChildrenAreInDOM(this)}});n["default"](g._default,{childViewsWillChange:m,childViewsDidChange:m,ensureChildrenAreInDOM:m}),n["default"](g.inBuffer,{childViewsDidChange:function(t,e,n,r){throw new l["default"]("You cannot modify child views while in the inBuffer state")}}),n["default"](g.hasElement,{childViewsWillChange:function(t,e,n,r){for(var i=n;n+r>i;i++){var o=e[i];o._unsubscribeFromStreamBindings(),o.remove()}},childViewsDidChange:function(t,e,n,r){h["default"].scheduleOnce("render",t,"_ensureChildrenAreInDOM")},ensureChildrenAreInDOM:function(t){for(var e=t._childViews,n=t._renderer,r=null,i=e.length-1;i>=0;i--){var o=e[i];o._elementCreated||n.renderTree(o,t,r),r=o._morph}}}),t["default"]=v}),t("ember-views/views/core_view",["exports","ember-views/system/renderer","dom-helper","ember-views/views/states","ember-runtime/system/object","ember-runtime/mixins/evented","ember-runtime/mixins/action_handler","ember-metal/property_get","ember-metal/computed","ember-metal/utils"],function(t,e,n,r,i,o,s,a,l,u){"use strict";function c(){return this}var h,d=i["default"].extend(o["default"],s["default"],{isView:!0,isVirtual:!1,_states:r.cloneStates(r.states),init:function(){this._super.apply(this,arguments),this._state="preRender",this.currentState=this._states.preRender,this._isVisible=a.get(this,"isVisible"),this.renderer||(h=h||new e["default"](new n["default"]),this.renderer=h)},parentView:l.computed("_parentView",function(){var t=this._parentView;return t&&t.isVirtual?a.get(t,"parentView"):t}),_state:null,_parentView:null,concreteView:l.computed("parentView",function(){return this.isVirtual?a.get(this,"parentView.concreteView"):this}),instrumentName:"core_view",instrumentDetails:function(t){t.object=this.toString(),t.containerKey=this._debugContainerKey,t.view=this},trigger:function(){this._super.apply(this,arguments);var t=arguments[0],e=this[t];if(e){for(var n=arguments.length,r=new Array(n-1),i=1;n>i;i++)r[i-1]=arguments[i];return e.apply(this,r)}},has:function(t){return"function"===u.typeOf(this[t])||this._super(t)},destroy:function(){var t=this._parentView;if(this._super.apply(this,arguments))return!this.removedFromDOM&&this._renderer&&this._renderer.remove(this,!0),t&&t.removeChild(this),this._transitionTo("destroying",!1),this},clearRenderedChildren:c,_transitionTo:c,destroyElement:c});d.reopenClass({isViewClass:!0});var p=d.extend({init:function(){this._super.apply(this,arguments)}});t["default"]=d,t.DeprecatedCoreView=p}),t("ember-views/views/each",["exports","ember-metal/core","ember-runtime/system/string","ember-metal/property_get","ember-metal/property_set","ember-views/views/collection_view","ember-metal/binding","ember-runtime/mixins/controller","ember-runtime/controllers/array_controller","ember-runtime/mixins/array","ember-metal/observer","ember-views/views/metamorph_view"],function(t,e,n,r,i,o,s,a,l,u,c,h){"use strict";t["default"]=o["default"].extend(h._Metamorph,{init:function(){var t,e=r.get(this,"itemController");if(e){var n=r.get(this,"controller.container").lookupFactory("controller:array").create({_isVirtual:!0,parentController:r.get(this,"controller"),itemController:e,target:r.get(this,"controller"),_eachView:this});this.disableContentObservers(function(){i.set(this,"content",n),t=new s.Binding("content","_eachView.dataSource").oneWay(),t.connect(n)}),this._arrayController=n}else this.disableContentObservers(function(){t=new s.Binding("content","dataSource").oneWay(),t.connect(this)});return this._super.apply(this,arguments)},_assertArrayLike:function(t){},disableContentObservers:function(t){c.removeBeforeObserver(this,"content",null,"_contentWillChange"),c.removeObserver(this,"content",null,"_contentDidChange"),t.call(this),c.addBeforeObserver(this,"content",null,"_contentWillChange"),c.addObserver(this,"content",null,"_contentDidChange")},itemViewClass:h["default"],emptyViewClass:h["default"],createChildView:function(t,e){var n=this._super(t,e),o=r.get(n,"content"),s=r.get(this,"keyword");return s&&(n._keywords[s]=o),o&&o.isController&&i.set(n,"controller",o),n},destroy:function(){return this._super.apply(this,arguments)?(this._arrayController&&this._arrayController.destroy(),this):void 0}})}),t("ember-views/views/metamorph_view",["exports","ember-metal/core","ember-views/views/view","ember-metal/mixin"],function(t,e,n,r){"use strict";var i=r.Mixin.create({isVirtual:!0,tagName:"",instrumentName:"metamorph",init:function(){this._super.apply(this,arguments)}});t["default"]=n["default"].extend(i),t._Metamorph=i}),t("ember-views/views/select",["exports","ember-metal/enumerable_utils","ember-metal/property_get","ember-metal/property_set","ember-views/views/view","ember-views/views/collection_view","ember-metal/utils","ember-metal/is_none","ember-metal/computed","ember-runtime/system/native_array","ember-metal/mixin","ember-metal/properties","ember-htmlbars/templates/select","ember-htmlbars/templates/select-option"],function(t,e,n,r,i,o,s,a,l,u,c,h,d,p){"use strict";var f=d["default"],m=i["default"].extend({instrumentDisplay:"Ember.SelectOption",tagName:"option",attributeBindings:["value","selected"],defaultTemplate:p["default"],init:function(){this.labelPathDidChange(),this.valuePathDidChange(),this._super.apply(this,arguments)},selected:l.computed(function(){var t=n.get(this,"value"),r=n.get(this,"parentView.selection");return n.get(this,"parentView.multiple")?r&&e.indexOf(r,t)>-1:t===n.get(this,"parentView.value")}).property("content","parentView.selection"),labelPathDidChange:c.observer("parentView.optionLabelPath",function(){var t=n.get(this,"parentView.optionLabelPath");h.defineProperty(this,"label",l.computed.alias(t))}),valuePathDidChange:c.observer("parentView.optionValuePath",function(){var t=n.get(this,"parentView.optionValuePath");h.defineProperty(this,"value",l.computed.alias(t))})}),g=o["default"].extend({instrumentDisplay:"Ember.SelectOptgroup",tagName:"optgroup",attributeBindings:["label"],selectionBinding:"parentView.selection",multipleBinding:"parentView.multiple",optionLabelPathBinding:"parentView.optionLabelPath",optionValuePathBinding:"parentView.optionValuePath",itemViewClassBinding:"parentView.optionView"}),v=i["default"].extend({instrumentDisplay:"Ember.Select",tagName:"select",classNames:["ember-select"],defaultTemplate:f,attributeBindings:["autofocus","autocomplete","disabled","form","multiple","name","required","size","tabindex"],multiple:!1,disabled:!1,required:!1,content:null,selection:null,value:l.computed({get:function(t){var e=n.get(this,"_valuePath");return e?n.get(this,"selection."+e):n.get(this,"selection")},set:function(t,e){return e}}).property("_valuePath","selection"),prompt:null,optionLabelPath:"content",optionValuePath:"content",optionGroupPath:null,groupView:g,groupedContent:l.computed(function(){var t=n.get(this,"optionGroupPath"),r=u.A(),i=n.get(this,"content")||[];return e.forEach(i,function(e){var i=n.get(e,t);n.get(r,"lastObject.label")!==i&&r.pushObject({label:i,content:u.A()}),n.get(r,"lastObject.content").push(e)}),r}).property("optionGroupPath","content.@each"),optionView:m,_change:function(){n.get(this,"multiple")?this._changeMultiple():this._changeSingle()},selectionDidChange:c.observer("selection.@each",function(){var t=n.get(this,"selection");if(n.get(this,"multiple")){if(!s.isArray(t))return void r.set(this,"selection",u.A([t]));this._selectionDidChangeMultiple()}else this._selectionDidChangeSingle()}),valueDidChange:c.observer("value",function(){var t,e=n.get(this,"content"),r=n.get(this,"value"),i=n.get(this,"optionValuePath").replace(/^content\.?/,""),o=i?n.get(this,"selection."+i):n.get(this,"selection");r!==o&&(t=e?e.find(function(t){return r===(i?n.get(t,i):t)}):null,this.set("selection",t))}),_setDefaults:function(){var t=n.get(this,"selection"),e=n.get(this,"value");a["default"](t)||this.selectionDidChange(),a["default"](e)||this.valueDidChange(),a["default"](t)&&this._change()},_changeSingle:function(){var t=this.$()[0].selectedIndex,e=n.get(this,"content"),i=n.get(this,"prompt");if(e&&n.get(e,"length")){if(i&&0===t)return void r.set(this,"selection",null);i&&(t-=1),r.set(this,"selection",e.objectAt(t))}},_changeMultiple:function(){var t=this.$("option:selected"),i=n.get(this,"prompt"),o=i?1:0,a=n.get(this,"content"),l=n.get(this,"selection");if(a&&t){var u=t.map(function(){return this.index-o}).toArray(),c=a.objectsAt(u);s.isArray(l)?e.replace(l,0,n.get(l,"length"),c):r.set(this,"selection",c)}},_selectionDidChangeSingle:function(){var t=n.get(this,"value"),e=this;t&&t.then?t.then(function(r){n.get(e,"value")===t&&e._setSelectedIndex(r)}):this._setSelectedIndex(t)},_setSelectedIndex:function(t){var r=n.get(this,"element"),i=n.get(this,"contentValues");if(r){var o=e.indexOf(i,t),s=n.get(this,"prompt");s&&(o+=1),r&&(r.selectedIndex=o)}},_valuePath:l.computed("optionValuePath",function(){var t=n.get(this,"optionValuePath");return t.replace(/^content\.?/,"")}),contentValues:l.computed("content.[]","_valuePath",function(){var t=n.get(this,"_valuePath"),r=n.get(this,"content")||[];return t?e.map(r,function(e){return n.get(e,t)}):e.map(r,function(t){return t})}),_selectionDidChangeMultiple:function(){var t,r=n.get(this,"content"),i=n.get(this,"selection"),o=r?e.indexesOf(r,i):[-1],s=n.get(this,"prompt"),a=s?1:0,l=this.$("option");l&&l.each(function(){t=this.index>-1?this.index-a:-1,this.selected=e.indexOf(o,t)>-1})},init:function(){this._super.apply(this,arguments),this.on("didInsertElement",this,this._setDefaults),this.on("change",this,this._change)}});t["default"]=v,t.Select=v,t.SelectOption=m,t.SelectOptgroup=g}),t("ember-views/views/simple_bound_view",["exports","ember-metal/error","ember-metal/run_loop","ember-metal/utils"],function(t,e,n,r){"use strict";function i(){return this}function o(t,e,n,i){this.stream=i,this[r.GUID_KEY]=r.uuid(),this._lastNormalizedValue=void 0,this.state="preRender",this.updateId=null,this._parentView=t,this.buffer=null,this._morph=n,this.renderer=e}function s(t,e,r){var i=t.appendChild(o,{_morph:e,stream:r});r.subscribe(t._wrapAsScheduled(function(){n["default"].scheduleOnce("render",i,"rerender")}))}t.appendSimpleBoundView=s,o.prototype={isVirtual:!0,isView:!0,tagName:"",destroy:function(){this.updateId&&(n["default"].cancel(this.updateId),this.updateId=null),this._parentView&&this._parentView.removeChild(this),this.morph=null,this.state="destroyed"},propertyWillChange:i,propertyDidChange:i,normalizedValue:function(){var t=this.stream.value();return null===t||void 0===t?"":t},render:function(t){var e=this.normalizedValue();this._lastNormalizedValue=e,t._element=e},rerender:function(){switch(this.state){case"preRender":case"destroyed":break;case"inBuffer":throw new e["default"]("Something you did tried to replace an {{expression}} before it was inserted into the DOM.");case"hasElement":case"inDOM":this.updateId=n["default"].scheduleOnce("render",this,"update")}return this},update:function(){this.updateId=null;var t=this.normalizedValue();t!==this._lastNormalizedValue&&(this._lastNormalizedValue=t,this._morph.setContent(t))},_transitionTo:function(t){this.state=t}},o.create=function(t){return new o(t._parentView,t.renderer,t._morph,t.stream)},o.isViewClass=!0,t["default"]=o}),t("ember-views/views/states",["exports","ember-metal/platform/create","ember-metal/merge","ember-views/views/states/default","ember-views/views/states/pre_render","ember-views/views/states/in_buffer","ember-views/views/states/has_element","ember-views/views/states/in_dom","ember-views/views/states/destroying"],function(t,e,n,r,i,o,s,a,l){"use strict";function u(t){var r={};r._default={},r.preRender=e["default"](r._default),r.destroying=e["default"](r._default),r.inBuffer=e["default"](r._default),r.hasElement=e["default"](r._default),r.inDOM=e["default"](r.hasElement);for(var i in t)t.hasOwnProperty(i)&&n["default"](r[i],t[i]);return r}t.cloneStates=u;var c={_default:r["default"],preRender:i["default"],inDOM:a["default"],inBuffer:o["default"],hasElement:s["default"],destroying:l["default"]};t.states=c}),t("ember-views/views/states/default",["exports","ember-metal/error"],function(t,e){"use strict";function n(){return this}t["default"]={appendChild:function(){throw new e["default"]("You can't use appendChild outside of the rendering process")},$:function(){return void 0},getElement:function(){return null},handleEvent:function(){return!0},destroyElement:function(t){return t._renderer&&t._renderer.remove(t,!1),t},rerender:n,invokeObserver:n}}),t("ember-views/views/states/destroying",["exports","ember-metal/merge","ember-metal/platform/create","ember-runtime/system/string","ember-views/views/states/default","ember-metal/error"],function(t,e,n,r,i,o){"use strict";var s="You can't call %@ on a view being destroyed",a=n["default"](i["default"]);e["default"](a,{appendChild:function(){throw new o["default"](r.fmt(s,["appendChild"]))},rerender:function(){throw new o["default"](r.fmt(s,["rerender"]))},destroyElement:function(){throw new o["default"](r.fmt(s,["destroyElement"]))}}),t["default"]=a}),t("ember-views/views/states/has_element",["exports","ember-views/views/states/default","ember-metal/run_loop","ember-metal/merge","ember-metal/platform/create","ember-views/system/jquery","ember-metal/error","ember-metal/property_get"],function(t,e,n,r,i,o,s,a){"use strict";var l=i["default"](e["default"]);r["default"](l,{$:function(t,e){var n=t.get("concreteView").element;return e?o["default"](e,n):o["default"](n)},getElement:function(t){var e=a.get(t,"parentView");return e&&(e=a.get(e,"element")),e?t.findElementInParentElement(e):o["default"]("#"+a.get(t,"elementId"))[0]},rerender:function(t){if(t._root._morph&&!t._elementInserted)throw new s["default"]("Something you did caused a view to re-render after it rendered but before it was inserted into the DOM.");n["default"].scheduleOnce("render",t,"_rerender")},destroyElement:function(t){return t._renderer.remove(t,!1),t},handleEvent:function(t,e,n){return t.has(e)?t.trigger(e,n):!0},invokeObserver:function(t,e){e.call(t)}}),t["default"]=l}),t("ember-views/views/states/in_buffer",["exports","ember-views/views/states/default","ember-metal/error","ember-views/system/jquery","ember-metal/platform/create","ember-metal/merge"],function(t,e,n,r,i,o){"use strict";var s=i["default"](e["default"]);o["default"](s,{$:function(t,e){return t.rerender(),r["default"]()},rerender:function(t){throw new n["default"]("Something you did caused a view to re-render after it rendered but before it was inserted into the DOM.")},appendChild:function(t,e,n){var r=t.buffer,i=t._childViews;return e=t.createChildView(e,n),i.length||(i=t._childViews=i.slice()),i.push(e),e._morph||r.pushChildView(e),t.propertyDidChange("childViews"),e},appendAttr:function(t,e){var n=t.buffer,r=t._attrNodes;return r.length||(r=t._attrNodes=r.slice()),r.push(e),e._morph||n.pushAttrNode(e),t.propertyDidChange("childViews"),e},invokeObserver:function(t,e){e.call(t)}}),t["default"]=s}),t("ember-views/views/states/in_dom",["exports","ember-metal/platform/create","ember-metal/merge","ember-metal/error","ember-metal/observer","ember-views/views/states/has_element"],function(t,e,n,r,i,o){"use strict";var s=e["default"](o["default"]);n["default"](s,{enter:function(t){t.isVirtual||t._register()},exit:function(t){this.isVirtual||t._unregister()},appendAttr:function(t,e){var n=t._attrNodes;return n.length||(n=t._attrNodes=n.slice()),n.push(e),e._parentView=t,t.renderer.appendAttrTo(e,t.element,e.attrName),t.propertyDidChange("childViews"),e}}),t["default"]=s}),t("ember-views/views/states/pre_render",["exports","ember-views/views/states/default","ember-metal/platform/create"],function(t,e,n){"use strict";var r=n["default"](e["default"]);t["default"]=r}),t("ember-views/views/text_area",["exports","ember-metal/property_get","ember-views/views/component","ember-views/mixins/text_support","ember-metal/mixin"],function(t,e,n,r,i){"use strict";t["default"]=n["default"].extend(r["default"],{instrumentDisplay:"{{textarea}}",classNames:["ember-text-area"],tagName:"textarea",attributeBindings:["rows","cols","name","selectionEnd","selectionStart","wrap","lang","dir"],rows:null,cols:null,_updateElementValue:i.observer("value",function(){var t=e.get(this,"value"),n=this.$();n&&t!==n.val()&&n.val(t)}),init:function(){this._super.apply(this,arguments),this.on("didInsertElement",this,this._updateElementValue)}})}),t("ember-views/views/text_field",["exports","ember-metal/core","ember-metal/computed","ember-metal/environment","ember-metal/platform/create","ember-views/views/component","ember-views/mixins/text_support"],function(t,e,n,r,i,o,s){"use strict";function a(t){if(t in c)return c[t];if(!r["default"].hasDOM)return c[t]=t,t;u||(u=document.createElement("input"));try{u.type=t}catch(e){}return c[t]=u.type===t}function l(){return n.computed({get:function(){return"text"},set:function(t,e){var n="text";return a(e)&&(n=e),n}})}var u,c=i["default"](null);t["default"]=o["default"].extend(s["default"],{instrumentDisplay:'{{input type="text"}}',classNames:["ember-text-field"],tagName:"input",attributeBindings:["accept","autocomplete","autosave","dir","formaction","formenctype","formmethod","formnovalidate","formtarget","height","inputmode","lang","list","max","min","multiple","name","pattern","size","step","type","value","width"],defaultLayout:null,value:"",type:l(),size:null,pattern:null,min:null,max:null})}),t("ember-views/views/view",["exports","ember-metal/core","ember-runtime/mixins/evented","ember-runtime/system/object","ember-metal/error","ember-metal/property_get","ember-metal/run_loop","ember-metal/observer","ember-metal/utils","ember-metal/computed","ember-metal/mixin","ember-metal/deprecate_property","ember-metal/property_events","ember-views/system/jquery","ember-views/system/ext","ember-views/views/core_view","ember-views/mixins/view_stream_support","ember-views/mixins/view_keyword_support","ember-views/mixins/view_context_support","ember-views/mixins/view_child_views_support","ember-views/mixins/view_state_support","ember-views/mixins/template_rendering_support","ember-views/mixins/class_names_support","ember-views/mixins/attribute_bindings_support","ember-views/mixins/legacy_view_support","ember-views/mixins/instrumentation_support","ember-views/mixins/visibility_support"],function(t,e,n,r,i,o,s,a,l,u,c,h,d,p,f,m,g,v,y,b,_,w,x,C,T,E,k){"use strict";function S(){return this}e["default"].TEMPLATES={};var P=[],A=m["default"].extend(g["default"],v["default"],y["default"],b["default"],_["default"],w["default"],x["default"],C["default"],T["default"],E["default"],k["default"],{isView:!0,templateName:null,layoutName:null,template:u.computed("templateName",{get:function(){var t=o.get(this,"templateName"),e=this.templateForName(t,"template");return e||o.get(this,"defaultTemplate")},set:function(t,e){return void 0!==e?e:o.get(this,t)}}),layout:u.computed("layoutName",{get:function(t){var e=o.get(this,"layoutName"),n=this.templateForName(e,"layout");return n||o.get(this,"defaultLayout")},set:function(t,e){return e}}),_yield:function(t,e,n){var r=o.get(this,"template");return r?r.isHTMLBars?r.render(t,e,n.contextualElement):r(t,e):void 0},_blockArguments:P,templateForName:function(t,e){if(t){if(!this.container)throw new i["default"]("Container was not found when looking up a views template. This is most likely due to manually instantiating an Ember.View. See: http://git.io/EKPpnA");return this.container.lookup("template:"+t)}},_contextDidChange:c.observer("context",function(){this.rerender()}),_childViewsWillChange:c.beforeObserver("childViews",function(){if(this.isVirtual){var t=o.get(this,"parentView");t&&d.propertyWillChange(t,"childViews")}}),_childViewsDidChange:c.observer("childViews",function(){if(this.isVirtual){var t=o.get(this,"parentView");t&&d.propertyDidChange(t,"childViews")}}),nearestOfType:function(t){for(var e=o.get(this,"parentView"),n=t instanceof c.Mixin?function(e){return t.detect(e)}:function(e){return t.detect(e.constructor)};e;){if(n(e))return e;e=o.get(e,"parentView")}},nearestWithProperty:function(t){for(var e=o.get(this,"parentView");e;){if(t in e)return e;e=o.get(e,"parentView")}},_parentViewDidChange:c.observer("_parentView",function(){this.isDestroying||(this._setupKeywords(),this.trigger("parentViewDidChange"),o.get(this,"parentView.controller")&&!o.get(this,"controller")&&this.notifyPropertyChange("controller"))}),_controllerDidChange:c.observer("controller",function(){this.isDestroying||(this.rerender(),this.forEachChildView(function(t){t.propertyDidChange("controller")}))}),rerender:function(){return this.currentState.rerender(this)},_rerender:function(){this.isDestroying||this.isDestroyed||this._renderer.renderTree(this,this._parentView)},_classStringForProperty:function(t){return A._classStringForValue(t.path,t.stream.value(),t.className,t.falsyClassName)},element:null,$:function(t){return this.currentState.$(this,t)},forEachChildView:function(t){var e=this._childViews;if(!e)return this;var n,r,i=e.length;for(r=0;i>r;r++)n=e[r],t(n);return this},appendTo:function(t){var e=p["default"](t);return this.renderer.appendTo(this,e[0]),this},renderToElement:function(t){t=t||"body";var e=this.renderer._dom.createElement(t);return this.renderer.appendTo(this,e),e},replaceIn:function(t){var e=p["default"](t);return this.renderer.replaceIn(this,e[0]),this},append:function(){return this.appendTo(document.body)},remove:function(){this.removedFromDOM||this.destroyElement()},elementId:null,findElementInParentElement:function(t){var e="#"+this.elementId;return p["default"](e)[0]||p["default"](e,t)[0]},createElement:function(){return this.element?this:(this._didCreateElementWithoutMorph=!0,this.renderer.renderTree(this),this)},willInsertElement:S,didInsertElement:S,willClearRender:S,destroyElement:function(){return this.currentState.destroyElement(this)},willDestroyElement:S,parentViewDidChange:S,applyAttributesToBuffer:function(t){this._applyClassNameBindings(),this._applyAttributeBindings(t),t.setClasses(this.classNames),t.id(this.elementId);var e=o.get(this,"ariaRole");e&&t.attr("role",e),o.get(this,"isVisible")===!1&&t.style("display","none")},tagName:null,ariaRole:null,init:function(){this.isVirtual||this.elementId||(this.elementId=l.guidFor(this)),this._super.apply(this,arguments),this._viewRegistry||(this._viewRegistry=A.views)},__defineNonEnumerable:function(t){this[t.name]=t.descriptor.value},appendAttr:function(t){return this.currentState.appendAttr(this,t)},removeFromParent:function(){var t=this._parentView;return this.remove(),t&&t.removeChild(this),this},destroy:function(){var t=o.get(this,"parentView"),e=this.viewName;return this._super.apply(this,arguments)?(e&&t&&t.set(e,null),this):void 0},handleEvent:function(t,e){return this.currentState.handleEvent(this,t,e)},_register:function(){this._viewRegistry[this.elementId]=this},_unregister:function(){delete this._viewRegistry[this.elementId]},registerObserver:function(t,e,n,r){if(r||"function"!=typeof n||(r=n,n=null),t&&"object"==typeof t){var i=this._wrapAsScheduled(r);a.addObserver(t,e,n,i),this.one("willClearRender",function(){a.removeObserver(t,e,n,i)})}},_wrapAsScheduled:function(t){var e=this,n=function(){e.currentState.invokeObserver(this,t)},r=function(){s["default"].scheduleOnce("render",this,n)};return r}});h.deprecateProperty(A.prototype,"state","_state"),h.deprecateProperty(A.prototype,"states","_states");var L=r["default"].extend(n["default"]).create();A.addMutationListener=function(t){L.on("change",t)},A.removeMutationListener=function(t){L.off("change",t)},A.notifyMutationListeners=function(){L.trigger("change")},A.views={},A.childViewsProperty=b.childViewsProperty,t["default"]=A,t.ViewKeywordSupport=v["default"],t.ViewStreamSupport=g["default"],t.ViewContextSupport=y["default"],t.ViewChildViewsSupport=b["default"],t.ViewStateSupport=_["default"],t.TemplateRenderingSupport=w["default"],t.ClassNamesSupport=x["default"],t.AttributeBindingsSupport=C["default"]}),t("ember-views/views/with_view",["exports","ember-metal/property_set","ember-views/views/metamorph_view","ember-views/mixins/normalized_rerender_if_needed","ember-metal/run_loop","ember-htmlbars/system/render-view"],function(t,e,n,r,i,o){"use strict";t["default"]=n["default"].extend(r["default"],{init:function(){this._super.apply(this,arguments);var t=this;this.withValue.subscribe(this._wrapAsScheduled(function(){i["default"].scheduleOnce("render",t,"rerenderIfNeeded")}));var n=this.controllerName;if(n){var r=this.container.lookupFactory("controller:"+n),o=r.create({parentController:this.previousContext,target:this.previousContext});this._generatedController=o,this.preserveContext?(this._blockArguments=[o],this.withValue.subscribe(function(t){e.set(o,"model",t.value())})):e.set(this,"controller",o),e.set(o,"model",this.withValue.value())}else this.preserveContext&&(this._blockArguments=[this.withValue])},normalizedValue:function(){return this.withValue.value()},render:function(t){var n=this.normalizedValue();this._lastNormalizedValue=n,this.preserveContext||this.controllerName||e.set(this,"_context",n);var r=n?this.mainTemplate:this.inverseTemplate;o["default"](this,t,r)},willDestroy:function(){this._super.apply(this,arguments),this._generatedController&&this._generatedController.destroy()}})}),t("ember",["ember-metal","ember-runtime","ember-views","ember-routing","ember-application","ember-extension-support","ember-htmlbars","ember-routing-htmlbars","ember-routing-views","ember-metal/environment","ember-runtime/system/lazy_load"],function(t,n,r,o,s,a,l,u,c,h,d){"use strict";i.__loader.registry["ember-template-compiler"]&&e("ember-template-compiler"),i.__loader.registry["ember-testing"]&&e("ember-testing"),d.runLoadHooks("Ember")}),t("htmlbars-util",["./htmlbars-util/safe-string","./htmlbars-util/handlebars/utils","./htmlbars-util/namespaces","exports"],function(t,e,n,r){"use strict";var i=t["default"],o=e.escapeExpression,s=n.getAttrNamespace;r.SafeString=i,r.escapeExpression=o,r.getAttrNamespace=s}),t("htmlbars-util/array-utils",["exports"],function(t){"use strict";function e(t,e,n){var r,i;if(void 0===n)for(r=0,i=t.length;i>r;r++)e(t[r],r,t);else for(r=0,i=t.length;i>r;r++)e.call(n,t[r],r,t)}function n(t,e){var n,r,i=[];for(n=0,r=t.length;r>n;n++)i.push(e(t[n],n,t));return i}t.forEach=e,t.map=n;var r;r=Array.prototype.indexOf?function(t,e,n){return t.indexOf(e,n)}:function(t,e,n){void 0===n||null===n?n=0:0>n&&(n=Math.max(0,t.length+n));for(var r=n,i=t.length;i>r;r++)if(t[r]===e)return r;return-1};var i=r;t.indexOfArray=i}),t("htmlbars-util/handlebars/safe-string",["exports"],function(t){"use strict";function e(t){this.string=t}e.prototype.toString=e.prototype.toHTML=function(){return""+this.string},t["default"]=e}),t("htmlbars-util/handlebars/utils",["./safe-string","exports"],function(t,e){"use strict";function n(t){return a[t]}function r(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function i(t){return t&&t.toHTML?t.toHTML():null==t?"":t?(t=""+t,u.test(t)?t.replace(l,n):t):t+""}function o(t){return t||0===t?d(t)&&0===t.length?!0:!1:!0}function s(t,e){return(t?t+".":"")+e}var a=(t["default"],{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),l=/[&<>"'`]/g,u=/[&<>"'`]/;e.extend=r;var c=Object.prototype.toString;e.toString=c;var h=function(t){return"function"==typeof t};h(/x/)&&(h=function(t){return"function"==typeof t&&"[object Function]"===c.call(t)});var h;e.isFunction=h;var d=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===c.call(t):!1};e.isArray=d,e.escapeExpression=i,e.isEmpty=o,e.appendContextPath=s}),t("htmlbars-util/namespaces",["exports"],function(t){"use strict";function e(t){var e,r=t.indexOf(":");if(-1!==r){var i=t.slice(0,r);e=n[i]}return e||null}var n={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};t.getAttrNamespace=e}),t("htmlbars-util/object-utils",["exports"],function(t){"use strict";function e(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t}t.merge=e}),t("htmlbars-util/quoting",["exports"],function(t){"use strict";function e(t){return t=t.replace(/\\/g,"\\\\"),t=t.replace(/"/g,'\\"'),t=t.replace(/\n/g,"\\n")}function n(t){return'"'+e(t)+'"'}function r(t){return"["+t+"]"}function i(t){return"{"+t.join(", ")+"}"}function o(t,e){for(var n="";e--;)n+=t;return n}t.escapeString=e,t.string=n,t.array=r,t.hash=i,t.repeat=o}),t("htmlbars-util/safe-string",["./handlebars/safe-string","exports"],function(t,e){"use strict";var n=t["default"];e["default"]=n}),t("morph-attr",["./morph-attr/sanitize-attribute-value","./dom-helper/prop","./dom-helper/build-html-dom","./htmlbars-util","exports"],function(t,e,n,r,i){"use strict";function o(t){this.domHelper.setPropertyStrict(this.element,this.attrName,t)}function s(t){c(t)?this.domHelper.removeAttribute(this.element,this.attrName):this.domHelper.setAttribute(this.element,this.attrName,t)}function a(t){c(t)?this.domHelper.removeAttribute(this.element,this.attrName):this.domHelper.setAttributeNS(this.element,this.namespace,this.attrName,t)}function l(t,e,n,r){this.element=t,this.domHelper=n,this.namespace=void 0!==r?r:p(e),this.escaped=!0;var i=h(this.element,e);this.namespace?(this._update=a,this.attrName=e):t.namespaceURI!==d&&"style"!==e&&i?(this.attrName=i,this._update=o):(this.attrName=e,this._update=s)}var u=t.sanitizeAttributeValue,c=e.isAttrRemovalValue,h=e.normalizeProperty,d=n.svgNamespace,p=r.getAttrNamespace;l.prototype.setContent=function(t){if(this.escaped){var e=u(this.domHelper,this.element,this.attrName,t);this._update(e,this.namespace)}else this._update(t,this.namespace)},i["default"]=l,i.sanitizeAttributeValue=u}),t("morph-attr/sanitize-attribute-value",["exports"],function(t){"use strict";function e(t,e,a,l){var u;if(u=e?e.tagName.toUpperCase():null,
l&&l.toHTML)return l.toHTML();if((null===u||r[u])&&o[a]){var c=t.protocolForURL(l);if(n[c]===!0)return"unsafe:"+l}return i[u]&&s[a]?"unsafe:"+l:l}var n={"javascript:":!0,"vbscript:":!0},r={A:!0,BODY:!0,LINK:!0,IMG:!0,IFRAME:!0,BASE:!0},i={EMBED:!0},o={href:!0,src:!0,background:!0};t.badAttributes=o;var s={src:!0};t.sanitizeAttributeValue=e}),t("morph-range",["./morph-range/utils","exports"],function(t,e){"use strict";function n(t,e){this.domHelper=t,this.contextualElement=e,this.parseTextAsHTML=!1,this.firstNode=null,this.lastNode=null,this.parentMorph=null,this.firstChildMorph=null,this.lastChildMorph=null,this.previousMorph=null,this.nextMorph=null}function r(t){for(var e,n=t;(e=n.parentMorph)&&n===e.firstChildMorph&&n.firstNode!==e.firstNode;)e.firstNode=n.firstNode,n=e}function i(t){for(var e,n=t;(e=n.parentMorph)&&n===e.lastChildMorph&&n.lastNode!==e.lastNode;)e.lastNode=n.lastNode,n=e}var o=t.clear,s=t.insertBefore;n.prototype.setContent=function(t){if(null===t||void 0===t)return this.clear();var e=typeof t;switch(e){case"string":return this.parseTextAsHTML?this.setHTML(t):this.setText(t);case"object":if("number"==typeof t.nodeType)return this.setNode(t);if("string"==typeof t.string)return this.setHTML(t.string);if(this.parseTextAsHTML)return this.setHTML(t.toString());case"boolean":case"number":return this.setText(t.toString());default:throw new TypeError("unsupported content")}},n.prototype.clear=function(){return this.setNode(this.domHelper.createComment(""))},n.prototype.setText=function(t){var e=this.firstNode,n=this.lastNode;return e&&n===e&&3===e.nodeType?(e.nodeValue=t,e):this.setNode(t?this.domHelper.createTextNode(t):this.domHelper.createComment(""))},n.prototype.setNode=function(t){var e,n;switch(t.nodeType){case 3:e=t,n=t;break;case 11:e=t.firstChild,n=t.lastChild,null===e&&(e=this.domHelper.createComment(""),t.appendChild(e),n=e);break;default:e=t,n=t}var a=this.firstNode;if(null!==a){var l=a.parentNode;s(l,e,n,a),o(l,a,this.lastNode)}return this.firstNode=e,this.lastNode=n,this.parentMorph&&(r(this),i(this)),t},n.prototype.reset=function(){this.firstChildMorph=null,this.lastChildMorph=null},n.prototype.destroy=function(){var t=this.parentMorph,e=this.previousMorph,n=this.nextMorph,s=this.firstNode,a=this.lastNode,l=s&&s.parentNode;if(e?n?(e.nextMorph=n,n.previousMorph=e):(e.nextMorph=null,t&&(t.lastChildMorph=e)):n?(n.previousMorph=null,t&&(t.firstChildMorph=n)):t&&(t.lastChildMorph=t.firstChildMorph=null),this.parentMorph=null,this.firstNode=null,this.lastNode=null,t){if(!t.firstChildMorph)return void t.clear();r(t.firstChildMorph),i(t.lastChildMorph)}o(l,s,a)},n.prototype.setHTML=function(t){var e=this.domHelper.parseHTML(t,this.contextualElement);return this.setNode(e)},n.prototype.appendContent=function(t){return this.insertContentBeforeMorph(t,null)},n.prototype.insertContentBeforeMorph=function(t,e){var r=new n(this.domHelper,this.contextualElement);return r.setContent(t),this.insertBeforeMorph(r,e),r},n.prototype.appendMorph=function(t){this.insertBeforeMorph(t,null)},n.prototype.insertBeforeMorph=function(t,e){if(e&&e.parentMorph!==this)throw new Error("The morph before which the new morph is to be inserted is not a child of this morph.");t.parentMorph=this;var n=this.firstNode.parentNode;s(n,t.firstNode,t.lastNode,e?e.firstNode:this.lastNode.nextSibling),this.firstChildMorph||o(n,this.firstNode,this.lastNode);var a=e?e.previousMorph:this.lastChildMorph;a?(a.nextMorph=t,t.previousMorph=a):this.firstChildMorph=t,e?(e.previousMorph=t,t.nextMorph=e):this.lastChildMorph=t,r(this.firstChildMorph),i(this.lastChildMorph)},e["default"]=n}),t("morph-range/utils",["exports"],function(t){"use strict";function e(t,e,n){if(t){var r,i=e;do{if(r=i.nextSibling,t.removeChild(i),i===n)break;i=r}while(i)}}function n(t,e,n,r){var i,o=n,s=r;do{if(i=o.previousSibling,t.insertBefore(o,s),o===e)break;s=o,o=i}while(o)}t.clear=e,t.insertBefore=n}),t("route-recognizer",["./route-recognizer/dsl","exports"],function(t,e){"use strict";function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){this.string=t}function i(t){this.name=t}function o(t){this.name=t}function s(){}function a(t,e,n){"/"===t.charAt(0)&&(t=t.substr(1));for(var a=t.split("/"),l=[],u=0,c=a.length;c>u;u++){var h,d=a[u];(h=d.match(/^:([^\/]+)$/))?(l.push(new i(h[1])),e.push(h[1]),n.dynamics++):(h=d.match(/^\*([^\/]+)$/))?(l.push(new o(h[1])),e.push(h[1]),n.stars++):""===d?l.push(new s):(l.push(new r(d)),n.statics++)}return l}function l(t){this.charSpec=t,this.nextStates=[]}function u(t){return t.sort(function(t,e){if(t.types.stars!==e.types.stars)return t.types.stars-e.types.stars;if(t.types.stars){if(t.types.statics!==e.types.statics)return e.types.statics-t.types.statics;if(t.types.dynamics!==e.types.dynamics)return e.types.dynamics-t.types.dynamics}return t.types.dynamics!==e.types.dynamics?t.types.dynamics-e.types.dynamics:t.types.statics!==e.types.statics?e.types.statics-t.types.statics:0})}function c(t,e){for(var n=[],r=0,i=t.length;i>r;r++){var o=t[r];n=n.concat(o.match(e))}return n}function h(t){this.queryParams=t||{}}function d(t,e,n){for(var r=t.handlers,i=t.regex,o=e.match(i),s=1,a=new h(n),l=0,u=r.length;u>l;l++){for(var c=r[l],d=c.names,p={},f=0,m=d.length;m>f;f++)p[d[f]]=o[s++];a.push({handler:c.handler,params:p,isDynamic:!!d.length})}return a}function p(t,e){return e.eachChar(function(e){t=t.put(e)}),t}function f(t){return t=t.replace(/\+/gm,"%20"),decodeURIComponent(t)}var m=t["default"],g=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],v=new RegExp("(\\"+g.join("|\\")+")","g");r.prototype={eachChar:function(t){for(var e,n=this.string,r=0,i=n.length;i>r;r++)e=n.charAt(r),t({validChars:e})},regex:function(){return this.string.replace(v,"\\$1")},generate:function(){return this.string}},i.prototype={eachChar:function(t){t({invalidChars:"/",repeat:!0})},regex:function(){return"([^/]+)"},generate:function(t){return t[this.name]}},o.prototype={eachChar:function(t){t({invalidChars:"",repeat:!0})},regex:function(){return"(.+)"},generate:function(t){return t[this.name]}},s.prototype={eachChar:function(){},regex:function(){return""},generate:function(){return""}},l.prototype={get:function(t){for(var e=this.nextStates,n=0,r=e.length;r>n;n++){var i=e[n],o=i.charSpec.validChars===t.validChars;if(o=o&&i.charSpec.invalidChars===t.invalidChars)return i}},put:function(t){var e;return(e=this.get(t))?e:(e=new l(t),this.nextStates.push(e),t.repeat&&e.nextStates.push(e),e)},match:function(t){for(var e,n,r,i=this.nextStates,o=[],s=0,a=i.length;a>s;s++)e=i[s],n=e.charSpec,"undefined"!=typeof(r=n.validChars)?-1!==r.indexOf(t)&&o.push(e):"undefined"!=typeof(r=n.invalidChars)&&-1===r.indexOf(t)&&o.push(e);return o}};var y=Object.create||function(t){function e(){}return e.prototype=t,new e};h.prototype=y({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var b=function(){this.rootState=new l,this.names={}};b.prototype={add:function(t,e){for(var n,r=this.rootState,i="^",o={statics:0,dynamics:0,stars:0},l=[],u=[],c=!0,h=0,d=t.length;d>h;h++){var f=t[h],m=[],g=a(f.path,m,o);u=u.concat(g);for(var v=0,y=g.length;y>v;v++){var b=g[v];b instanceof s||(c=!1,r=r.put({validChars:"/"}),i+="/",r=p(r,b),i+=b.regex())}var _={handler:f.handler,names:m};l.push(_)}c&&(r=r.put({validChars:"/"}),i+="/"),r.handlers=l,r.regex=new RegExp(i+"$"),r.types=o,(n=e&&e.as)&&(this.names[n]={segments:u,handlers:l})},handlersFor:function(t){var e=this.names[t],n=[];if(!e)throw new Error("There is no route named "+t);for(var r=0,i=e.handlers.length;i>r;r++)n.push(e.handlers[r]);return n},hasRoute:function(t){return!!this.names[t]},generate:function(t,e){var n=this.names[t],r="";if(!n)throw new Error("There is no route named "+t);for(var i=n.segments,o=0,a=i.length;a>o;o++){var l=i[o];l instanceof s||(r+="/",r+=l.generate(e))}return"/"!==r.charAt(0)&&(r="/"+r),e&&e.queryParams&&(r+=this.generateQueryString(e.queryParams,n.handlers)),r},generateQueryString:function(t,e){var r=[],i=[];for(var o in t)t.hasOwnProperty(o)&&i.push(o);i.sort();for(var s=0,a=i.length;a>s;s++){o=i[s];var l=t[o];if(null!=l){var u=encodeURIComponent(o);if(n(l))for(var c=0,h=l.length;h>c;c++){var d=o+"[]="+encodeURIComponent(l[c]);r.push(d)}else u+="="+encodeURIComponent(l),r.push(u)}}return 0===r.length?"":"?"+r.join("&")},parseQueryString:function(t){for(var e=t.split("&"),n={},r=0;r<e.length;r++){var i,o=e[r].split("="),s=f(o[0]),a=s.length,l=!1;1===o.length?i="true":(a>2&&"[]"===s.slice(a-2)&&(l=!0,s=s.slice(0,a-2),n[s]||(n[s]=[])),i=o[1]?f(o[1]):""),l?n[s].push(i):n[s]=i}return n},recognize:function(t){var e,n,r,i,o=[this.rootState],s={},a=!1;if(i=t.indexOf("?"),-1!==i){var l=t.substr(i+1,t.length);t=t.substr(0,i),s=this.parseQueryString(l)}for(t=decodeURI(t),"/"!==t.charAt(0)&&(t="/"+t),e=t.length,e>1&&"/"===t.charAt(e-1)&&(t=t.substr(0,e-1),a=!0),n=0,r=t.length;r>n&&(o=c(o,t.charAt(n)),o.length);n++);var h=[];for(n=0,r=o.length;r>n;n++)o[n].handlers&&h.push(o[n]);o=u(h);var p=h[0];return p&&p.handlers?(a&&"(.+)$"===p.regex.source.slice(-5)&&(t+="/"),d(p,t,s)):void 0}},b.prototype.map=m,b.VERSION="0.1.5",e["default"]=b}),t("route-recognizer/dsl",["exports"],function(t){"use strict";function e(t,e,n){this.path=t,this.matcher=e,this.delegate=n}function n(t){this.routes={},this.children={},this.target=t}function r(t,n,i){return function(o,s){var a=t+o;return s?void s(r(a,n,i)):new e(t+o,n,i)}}function i(t,e,n){for(var r=0,i=0,o=t.length;o>i;i++)r+=t[i].path.length;e=e.substr(r);var s={path:e,handler:n};t.push(s)}function o(t,e,n,r){var s=e.routes;for(var a in s)if(s.hasOwnProperty(a)){var l=t.slice();i(l,a,s[a]),e.children[a]?o(l,e.children[a],n,r):n.call(r,l)}}e.prototype={to:function(t,e){var n=this.delegate;if(n&&n.willAddRoute&&(t=n.willAddRoute(this.matcher.target,t)),this.matcher.add(this.path,t),e){if(0===e.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,t,e,this.delegate)}return this}},n.prototype={add:function(t,e){this.routes[t]=e},addChild:function(t,e,i,o){var s=new n(e);this.children[t]=s;var a=r(t,s,o);o&&o.contextEntered&&o.contextEntered(e,a),i(a)}},t["default"]=function(t,e){var i=new n;t(r("",i,this.delegate)),o([],i,function(t){e?e(this,t):this.add(t)},this)}}),t("router",["./router/router","exports"],function(t,e){"use strict";var n=t["default"];e["default"]=n}),t("router/handler-info",["./utils","rsvp/promise","exports"],function(t,e,n){"use strict";function r(t){var e=t||{};s(this,e),this.initialize(e)}function i(t,e){if(!t^!e)return!1;if(!t)return!0;for(var n in t)if(t.hasOwnProperty(n)&&t[n]!==e[n])return!1;return!0}var o=t.bind,s=t.merge,a=(t.serialize,t.promiseLabel),l=t.applyHook,u=e["default"];r.prototype={name:null,handler:null,params:null,context:null,factory:null,initialize:function(){},log:function(t,e){t.log&&t.log(this.name+": "+e)},promiseLabel:function(t){return a("'"+this.name+"' "+t)},getUnresolved:function(){return this},serialize:function(){return this.params||{}},resolve:function(t,e){var n=o(this,this.checkForAbort,t),r=o(this,this.runBeforeModelHook,e),i=o(this,this.getModel,e),s=o(this,this.runAfterModelHook,e),a=o(this,this.becomeResolved,e);return u.resolve(void 0,this.promiseLabel("Start handler")).then(n,null,this.promiseLabel("Check for abort")).then(r,null,this.promiseLabel("Before model")).then(n,null,this.promiseLabel("Check if aborted during 'beforeModel' hook")).then(i,null,this.promiseLabel("Model")).then(n,null,this.promiseLabel("Check if aborted in 'model' hook")).then(s,null,this.promiseLabel("After model")).then(n,null,this.promiseLabel("Check if aborted in 'afterModel' hook")).then(a,null,this.promiseLabel("Become resolved"))},runBeforeModelHook:function(t){return t.trigger&&t.trigger(!0,"willResolveModel",t,this.handler),this.runSharedModelHook(t,"beforeModel",[])},runAfterModelHook:function(t,e){var n=this.name;return this.stashResolvedModel(t,e),this.runSharedModelHook(t,"afterModel",[e]).then(function(){return t.resolvedModels[n]},null,this.promiseLabel("Ignore fulfillment value and return model value"))},runSharedModelHook:function(t,e,n){this.log(t,"calling "+e+" hook"),this.queryParams&&n.push(this.queryParams),n.push(t);var r=l(this.handler,e,n);return r&&r.isTransition&&(r=null),u.resolve(r,this.promiseLabel("Resolve value returned from one of the model hooks"))},getModel:null,checkForAbort:function(t,e){return u.resolve(t(),this.promiseLabel("Check for abort")).then(function(){return e},null,this.promiseLabel("Ignore fulfillment value and continue"))},stashResolvedModel:function(t,e){t.resolvedModels=t.resolvedModels||{},t.resolvedModels[this.name]=e},becomeResolved:function(t,e){var n=this.serialize(e);return t&&(this.stashResolvedModel(t,e),t.params=t.params||{},t.params[this.name]=n),this.factory("resolved",{context:e,name:this.name,handler:this.handler,params:n})},shouldSupercede:function(t){if(!t)return!0;var e=t.context===this.context;return t.name!==this.name||this.hasOwnProperty("context")&&!e||this.hasOwnProperty("params")&&!i(this.params,t.params)}},n["default"]=r}),t("router/handler-info/factory",["router/handler-info/resolved-handler-info","router/handler-info/unresolved-handler-info-by-object","router/handler-info/unresolved-handler-info-by-param","exports"],function(t,e,n,r){"use strict";function i(t,e){var n=i.klasses[t],r=new n(e||{});return r.factory=i,r}var o=t["default"],s=e["default"],a=n["default"];i.klasses={resolved:o,param:a,object:s},r["default"]=i}),t("router/handler-info/resolved-handler-info",["../handler-info","router/utils","rsvp/promise","exports"],function(t,e,n,r){"use strict";var i=t["default"],o=e.subclass,s=(e.promiseLabel,n["default"]),a=o(i,{resolve:function(t,e){return e&&e.resolvedModels&&(e.resolvedModels[this.name]=this.context),s.resolve(this,this.promiseLabel("Resolve"))},getUnresolved:function(){return this.factory("param",{name:this.name,handler:this.handler,params:this.params})},isResolved:!0});r["default"]=a}),t("router/handler-info/unresolved-handler-info-by-object",["../handler-info","router/utils","rsvp/promise","exports"],function(t,e,n,r){"use strict";var i=t["default"],o=(e.merge,e.subclass),s=(e.promiseLabel,e.isParam),a=n["default"],l=o(i,{getModel:function(t){return this.log(t,this.name+": resolving provided model"),a.resolve(this.context)},initialize:function(t){this.names=t.names||[],this.context=t.context},serialize:function(t){var e=t||this.context,n=this.names,r=this.handler,i={};if(s(e))return i[n[0]]=e,i;if(r.serialize)return r.serialize(e,n);if(1===n.length){var o=n[0];return/_id$/.test(o)?i[o]=e.id:i[o]=e,i}}});r["default"]=l}),t("router/handler-info/unresolved-handler-info-by-param",["../handler-info","router/utils","exports"],function(t,e,n){"use strict";var r=t["default"],i=e.resolveHook,o=e.merge,s=e.subclass,a=(e.promiseLabel,s(r,{initialize:function(t){this.params=t.params||{}},getModel:function(t){var e=this.params;t&&t.queryParams&&(e={},o(e,this.params),e.queryParams=t.queryParams);var n=this.handler,r=i(n,"deserialize")||i(n,"model");return this.runSharedModelHook(t,r,[e])}}));n["default"]=a}),t("router/router",["route-recognizer","rsvp/promise","./utils","./transition-state","./transition","./transition-intent/named-transition-intent","./transition-intent/url-transition-intent","./handler-info","exports"],function(t,e,n,r,i,o,s,a,l){"use strict";function u(t){var e=t||{};this.getHandler=e.getHandler||this.getHandler,this.updateURL=e.updateURL||this.updateURL,this.replaceURL=e.replaceURL||this.replaceURL,this.didTransition=e.didTransition||this.didTransition,this.willTransition=e.willTransition||this.willTransition,this.delegate=e.delegate||this.delegate,this.triggerEvent=e.triggerEvent||this.triggerEvent,this.log=e.log||this.log,this.recognizer=new w,this.reset()}function c(t,e){var n,r=!!this.activeTransition,i=r?this.activeTransition.state:this.state,o=t.applyToState(i,this.recognizer,this.getHandler,e),s=A(i.queryParams,o.queryParams);return y(o.handlerInfos,i.handlerInfos)?s&&(n=this.queryParamsTransition(s,r,i,o))?n:this.activeTransition||new R(this):e?void d(this,o):(n=new R(this,t,o),this.activeTransition&&this.activeTransition.abort(),this.activeTransition=n,n.promise=n.promise.then(function(t){return g(n,t.state)},null,L("Settle transition promise when transition is finalized")),r||_(this,o,n),h(this,o,s),n)}function h(t,e,n){n&&(t._changedQueryParams=n.all,C(t,e.handlerInfos,!0,["queryParamsDidChange",n.changed,n.all,n.removed]),t._changedQueryParams=null)}function d(t,e,n){var r,i,o,s=f(t.state,e);for(r=0,i=s.exited.length;i>r;r++)o=s.exited[r].handler,delete o.context,O(o,"reset",!0,n),O(o,"exit",n);var a=t.oldState=t.state;t.state=e;var l=t.currentHandlerInfos=s.unchanged.slice();try{for(r=0,i=s.reset.length;i>r;r++)o=s.reset[r].handler,O(o,"reset",!1,n);for(r=0,i=s.updatedContext.length;i>r;r++)p(l,s.updatedContext[r],!1,n);for(r=0,i=s.entered.length;i>r;r++)p(l,s.entered[r],!0,n)}catch(u){throw t.state=a,t.currentHandlerInfos=a.handlerInfos,u}t.state.queryParams=b(t,l,e.queryParams,n)}function p(t,e,n,r){var i=e.handler,o=e.context;if(n&&O(i,"enter",r),r&&r.isAborted)throw new N;if(i.context=o,O(i,"contextDidChange"),O(i,"setup",o,r),r&&r.isAborted)throw new N;return t.push(e),!0}function f(t,e){var n,r,i,o=t.handlerInfos,s=e.handlerInfos,a={updatedContext:[],exited:[],entered:[],unchanged:[]},l=!1;for(r=0,i=s.length;i>r;r++){var u=o[r],c=s[r];u&&u.handler===c.handler||(n=!0),n?(a.entered.push(c),u&&a.exited.unshift(u)):l||u.context!==c.context?(l=!0,a.updatedContext.push(c)):a.unchanged.push(u)}for(r=s.length,i=o.length;i>r;r++)a.exited.unshift(o[r]);return a.reset=a.updatedContext.slice(),a.reset.reverse(),a}function m(t,e,n){var r=t.urlMethod;if(r){for(var i=t.router,o=e.handlerInfos,s=o[o.length-1].name,a={},l=o.length-1;l>=0;--l){var u=o[l];S(a,u.params),u.handler.inaccessibleByURL&&(r=null)}if(r){a.queryParams=t._visibleQueryParams||e.queryParams;var c=i.recognizer.generate(s,a);"replace"===r?i.replaceURL(c):i.updateURL(c)}}}function g(t,e){try{T(t.router,t.sequence,"Resolved all models on destination route; finalizing transition.");var n=t.router,r=e.handlerInfos;t.sequence;return d(n,e,t),t.isAborted?(n.state.handlerInfos=n.currentHandlerInfos,x.reject(M(t))):(m(t,e,t.intent.url),t.isActive=!1,n.activeTransition=null,C(n,n.currentHandlerInfos,!0,["didTransition"]),n.didTransition&&n.didTransition(n.currentHandlerInfos),T(n,t.sequence,"TRANSITION COMPLETE."),r[r.length-1].handler)}catch(i){if(!(i instanceof N)){var o=t.state.handlerInfos;t.trigger(!0,"error",i,t,o[o.length-1].handler),t.abort()}throw i}}function v(t,e,n){var r=e[0]||"/",i=e[e.length-1],o={};i&&i.hasOwnProperty("queryParams")&&(o=B.call(e).queryParams);var s;if(0===e.length){T(t,"Updating query params");var a=t.state.handlerInfos;s=new F({name:a[a.length-1].name,contexts:[],queryParams:o})}else"/"===r.charAt(0)?(T(t,"Attempting URL transition to "+r),s=new I({url:r})):(T(t,"Attempting transition to "+r),s=new F({name:e[0],contexts:E.call(e,1),queryParams:o}));return t.transitionByIntent(s,n)}function y(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;r>n;++n)if(t[n]!==e[n])return!1;return!0}function b(t,e,n,r){for(var i in n)n.hasOwnProperty(i)&&null===n[i]&&delete n[i];var o=[];C(t,e,!0,["finalizeQueryParamChange",n,o,r]),r&&(r._visibleQueryParams={});for(var s={},a=0,l=o.length;l>a;++a){var u=o[a];s[u.key]=u.value,r&&u.visible!==!1&&(r._visibleQueryParams[u.key]=u.value)}return s}function _(t,e,n){var r,i,o,s,a,l,u=t.state.handlerInfos,c=[],h=null;for(s=u.length,o=0;s>o;o++){if(a=u[o],l=e.handlerInfos[o],!l||a.name!==l.name){h=o;break}l.isResolved||c.push(a)}null!==h&&(r=u.slice(h,s),i=function(t){for(var e=0,n=r.length;n>e;e++)if(r[e].name===t)return!0;return!1}),C(t,u,!0,["willTransition",n]),t.willTransition&&t.willTransition(u,e.handlerInfos,n)}var w=t["default"],x=e["default"],C=n.trigger,T=n.log,E=n.slice,k=n.forEach,S=n.merge,P=(n.serialize,n.extractQueryParams),A=n.getChangelist,L=n.promiseLabel,O=n.callHook,D=r["default"],M=i.logAbort,R=i.Transition,N=i.TransitionAborted,F=o["default"],I=s["default"],B=(a.ResolvedHandlerInfo,Array.prototype.pop);u.prototype={map:function(t){this.recognizer.delegate=this.delegate,this.recognizer.map(t,function(t,e){for(var n=e.length-1,r=!0;n>=0&&r;--n){var i=e[n];t.add(e,{as:i.handler}),r="/"===i.path||""===i.path||".index"===i.handler.slice(-6)}})},hasRoute:function(t){return this.recognizer.hasRoute(t)},getHandler:function(){},queryParamsTransition:function(t,e,n,r){var i=this;if(h(this,r,t),!e&&this.activeTransition)return this.activeTransition;var o=new R(this);return o.queryParamsOnly=!0,n.queryParams=b(this,r.handlerInfos,r.queryParams,o),o.promise=o.promise.then(function(t){return m(o,n,!0),i.didTransition&&i.didTransition(i.currentHandlerInfos),t},null,L("Transition complete")),o},transitionByIntent:function(t,e){try{return c.apply(this,arguments)}catch(n){return new R(this,t,null,n)}},reset:function(){this.state&&k(this.state.handlerInfos.slice().reverse(),function(t){var e=t.handler;O(e,"exit")}),this.state=new D,this.currentHandlerInfos=null},activeTransition:null,handleURL:function(t){var e=E.call(arguments);return"/"!==t.charAt(0)&&(e[0]="/"+t),v(this,e).method(null)},updateURL:function(){throw new Error("updateURL is not implemented")},replaceURL:function(t){this.updateURL(t)},transitionTo:function(t){return v(this,arguments)},intermediateTransitionTo:function(t){return v(this,arguments,!0)},refresh:function(t){for(var e=this.activeTransition?this.activeTransition.state:this.state,n=e.handlerInfos,r={},i=0,o=n.length;o>i;++i){var s=n[i];r[s.name]=s.params||{}}T(this,"Starting a refresh transition");var a=new F({name:n[n.length-1].name,pivotHandler:t||n[0].handler,contexts:[],queryParams:this._changedQueryParams||e.queryParams||{}});return this.transitionByIntent(a,!1)},replaceWith:function(t){return v(this,arguments).method("replace")},generate:function(t){for(var e=P(E.call(arguments,1)),n=e[0],r=e[1],i=new F({name:t,contexts:n}),o=i.applyToState(this.state,this.recognizer,this.getHandler),s={},a=0,l=o.handlerInfos.length;l>a;++a){var u=o.handlerInfos[a],c=u.serialize();S(s,c)}return s.queryParams=r,this.recognizer.generate(t,s)},applyIntent:function(t,e){var n=new F({name:t,contexts:e}),r=this.activeTransition&&this.activeTransition.state||this.state;return n.applyToState(r,this.recognizer,this.getHandler)},isActiveIntent:function(t,e,n,r){var i,o,s=r||this.state,a=s.handlerInfos;if(!a.length)return!1;var l=a[a.length-1].name,u=this.recognizer.handlersFor(l),c=0;for(o=u.length;o>c&&(i=a[c],i.name!==t);++c);if(c===u.length)return!1;var h=new D;h.handlerInfos=a.slice(0,c+1),u=u.slice(0,c+1);var d=new F({name:l,contexts:e}),p=d.applyToHandlers(h,u,this.getHandler,l,!0,!0),f=y(p.handlerInfos,h.handlerInfos);if(!n||!f)return f;var m={};S(m,n);var g=s.queryParams;for(var v in g)g.hasOwnProperty(v)&&m.hasOwnProperty(v)&&(m[v]=g[v]);return f&&!A(m,n)},isActive:function(t){var e=P(E.call(arguments,1));return this.isActiveIntent(t,e[0],e[1])},trigger:function(t){var e=E.call(arguments);C(this,this.currentHandlerInfos,!1,e)},log:null},l["default"]=u}),t("router/transition-intent",["./utils","exports"],function(t,e){"use strict";function n(t){this.initialize(t),this.data=this.data||{}}t.merge;n.prototype={initialize:null,applyToState:null},e["default"]=n}),t("router/transition-intent/named-transition-intent",["../transition-intent","../transition-state","../handler-info/factory","../utils","exports"],function(t,e,n,r,i){"use strict";var o=t["default"],s=e["default"],a=n["default"],l=r.isParam,u=r.extractQueryParams,c=r.merge,h=r.subclass;i["default"]=h(o,{name:null,pivotHandler:null,contexts:null,queryParams:null,initialize:function(t){this.name=t.name,this.pivotHandler=t.pivotHandler,this.contexts=t.contexts||[],this.queryParams=t.queryParams},applyToState:function(t,e,n,r){var i=u([this.name].concat(this.contexts)),o=i[0],s=(i[1],e.handlersFor(o[0])),a=s[s.length-1].handler;return this.applyToHandlers(t,s,n,a,r)},applyToHandlers:function(t,e,n,r,i,o){var a,l,u=new s,h=this.contexts.slice(0),d=e.length;if(this.pivotHandler)for(a=0,l=e.length;l>a;++a)if(n(e[a].handler)===this.pivotHandler){d=a;break}!this.pivotHandler;for(a=e.length-1;a>=0;--a){var p=e[a],f=p.handler,m=n(f),g=t.handlerInfos[a],v=null;if(v=p.names.length>0?a>=d?this.createParamHandlerInfo(f,m,p.names,h,g):this.getHandlerInfoForDynamicSegment(f,m,p.names,h,g,r,a):this.createParamHandlerInfo(f,m,p.names,h,g),o){v=v.becomeResolved(null,v.context);var y=g&&g.context;p.names.length>0&&v.context===y&&(v.params=g&&g.params),v.context=y}var b=g;(a>=d||v.shouldSupercede(g))&&(d=Math.min(a,d),b=v),i&&!o&&(b=b.becomeResolved(null,b.context)),u.handlerInfos.unshift(b)}if(h.length>0)throw new Error("More context objects were passed than there are dynamic segments for the route: "+r);return i||this.invalidateChildren(u.handlerInfos,d),c(u.queryParams,this.queryParams||{}),u},invalidateChildren:function(t,e){for(var n=e,r=t.length;r>n;++n){t[n];t[n]=t[n].getUnresolved()}},getHandlerInfoForDynamicSegment:function(t,e,n,r,i,o,s){var u;n.length;if(r.length>0){if(u=r[r.length-1],l(u))return this.createParamHandlerInfo(t,e,n,r,i);r.pop()}else{if(i&&i.name===t)return i;if(!this.preTransitionState)return i;var c=this.preTransitionState.handlerInfos[s];u=c&&c.context}return a("object",{name:t,handler:e,context:u,names:n})},createParamHandlerInfo:function(t,e,n,r,i){for(var o={},s=n.length;s--;){var u=i&&t===i.name&&i.params||{},c=r[r.length-1],h=n[s];if(l(c))o[h]=""+r.pop();else{if(!u.hasOwnProperty(h))throw new Error("You didn't provide enough string/numeric parameters to satisfy all of the dynamic segments for route "+t);o[h]=u[h]}}return a("param",{name:t,handler:e,params:o})}})}),t("router/transition-intent/url-transition-intent",["../transition-intent","../transition-state","../handler-info/factory","../utils","./../unrecognized-url-error","exports"],function(t,e,n,r,i,o){"use strict";var s=t["default"],a=e["default"],l=n["default"],u=(r.oCreate,r.merge),c=r.subclass,h=i["default"];o["default"]=c(s,{url:null,initialize:function(t){this.url=t.url},applyToState:function(t,e,n){var r,i,o=new a,s=e.recognize(this.url);if(!s)throw new h(this.url);var c=!1;for(r=0,i=s.length;i>r;++r){var d=s[r],p=d.handler,f=n(p);if(f.inaccessibleByURL)throw new h(this.url);var m=l("param",{name:p,handler:f,params:d.params}),g=t.handlerInfos[r];c||m.shouldSupercede(g)?(c=!0,o.handlerInfos[r]=m):o.handlerInfos[r]=g}return u(o.queryParams,s.queryParams),o}})}),t("router/transition-state",["./handler-info","./utils","rsvp/promise","exports"],function(t,e,n,r){"use strict";function i(t){this.handlerInfos=[],this.queryParams={},this.params={}}var o=(t.ResolvedHandlerInfo,e.forEach),s=e.promiseLabel,a=e.callHook,l=n["default"];i.prototype={handlerInfos:null,queryParams:null,params:null,promiseLabel:function(t){var e="";return o(this.handlerInfos,function(t){""!==e&&(e+="."),e+=t.name}),s("'"+e+"': "+t)},resolve:function(t,e){function n(){return l.resolve(t(),c.promiseLabel("Check if should continue"))["catch"](function(t){return h=!0,l.reject(t)},c.promiseLabel("Handle abort"))}function r(t){var n=c.handlerInfos,r=e.resolveIndex>=n.length?n.length-1:e.resolveIndex;return l.reject({error:t,handlerWithError:c.handlerInfos[r].handler,wasAborted:h,state:c})}function i(t){var r=c.handlerInfos[e.resolveIndex].isResolved;if(c.handlerInfos[e.resolveIndex++]=t,!r){var i=t.handler;a(i,"redirect",t.context,e)}return n().then(s,null,c.promiseLabel("Resolve handler"))}function s(){if(e.resolveIndex===c.handlerInfos.length)return{error:null,state:c};var t=c.handlerInfos[e.resolveIndex];return t.resolve(n,e).then(i,null,c.promiseLabel("Proceed"))}var u=this.params;o(this.handlerInfos,function(t){u[t.name]=t.params||{}}),e=e||{},e.resolveIndex=0;var c=this,h=!1;return l.resolve(null,this.promiseLabel("Start transition")).then(s,null,this.promiseLabel("Resolve handler"))["catch"](r,this.promiseLabel("Handle error"))}},r["default"]=i}),t("router/transition",["rsvp/promise","./handler-info","./utils","exports"],function(t,e,n,r){"use strict";function i(t,e,n,r){function s(){return l.isAborted?a.reject(void 0,h("Transition aborted - reject")):void 0}var l=this;if(this.state=n||t.state,this.intent=e,this.router=t,this.data=this.intent&&this.intent.data||{},this.resolvedModels={},this.queryParams={},r)return this.promise=a.reject(r),void(this.error=r);if(n){this.params=n.params,this.queryParams=n.queryParams,this.handlerInfos=n.handlerInfos;var u=n.handlerInfos.length;u&&(this.targetName=n.handlerInfos[u-1].name);for(var c=0;u>c;++c){var d=n.handlerInfos[c];if(!d.isResolved)break;this.pivotHandler=d.handler}this.sequence=i.currentSequence++,this.promise=n.resolve(s,this)["catch"](function(t){return t.wasAborted||l.isAborted?a.reject(o(l)):(l.trigger("error",t.error,l,t.handlerWithError),l.abort(),a.reject(t.error))},h("Handle Abort"))}else this.promise=a.resolve(this.state),this.params={}}function o(t){return c(t.router,t.sequence,"detected abort."),new s}function s(t){this.message=t||"TransitionAborted",this.name="TransitionAborted"}var a=t["default"],l=(e.ResolvedHandlerInfo,n.trigger),u=n.slice,c=n.log,h=n.promiseLabel;i.currentSequence=0,i.prototype={targetName:null,urlMethod:"update",intent:null,params:null,pivotHandler:null,resolveIndex:0,handlerInfos:null,resolvedModels:null,isActive:!0,state:null,queryParamsOnly:!1,isTransition:!0,isExiting:function(t){for(var e=this.handlerInfos,n=0,r=e.length;r>n;++n){var i=e[n];if(i.name===t||i.handler===t)return!1}return!0},promise:null,data:null,then:function(t,e,n){return this.promise.then(t,e,n)},"catch":function(t,e){return this.promise["catch"](t,e)},"finally":function(t,e){return this.promise["finally"](t,e)},abort:function(){return this.isAborted?this:(c(this.router,this.sequence,this.targetName+": transition was aborted"),this.intent.preTransitionState=this.router.state,this.isAborted=!0,this.isActive=!1,this.router.activeTransition=null,this)},retry:function(){return this.abort(),this.router.transitionByIntent(this.intent,!1)},method:function(t){return this.urlMethod=t,this},trigger:function(t){var e=u.call(arguments);"boolean"==typeof t?e.shift():t=!1,l(this.router,this.state.handlerInfos.slice(0,this.resolveIndex+1),t,e)},followRedirects:function(){var t=this.router;return this.promise["catch"](function(e){return t.activeTransition?t.activeTransition.followRedirects():a.reject(e)})},toString:function(){return"Transition (sequence "+this.sequence+")"},log:function(t){c(this.router,this.sequence,t)}},i.prototype.send=i.prototype.trigger,r.Transition=i,r.logAbort=o,r.TransitionAborted=s}),t("router/unrecognized-url-error",["./utils","exports"],function(t,e){"use strict";function n(t){this.message=t||"UnrecognizedURLError",this.name="UnrecognizedURLError",Error.call(this)}var r=t.oCreate;n.prototype=r(Error.prototype),e["default"]=n}),t("router/utils",["exports"],function(t){"use strict";function e(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function n(t){var e,n,r=t&&t.length;return r&&r>0&&t[r-1]&&t[r-1].hasOwnProperty("queryParams")?(n=t[r-1].queryParams,e=g.call(t,0,r-1),[e,n]):[t,null]}function r(t){for(var e in t)if("number"==typeof t[e])t[e]=""+t[e];else if(v(t[e]))for(var n=0,r=t[e].length;r>n;n++)t[e][n]=""+t[e][n]}function i(t,e,n){t.log&&(3===arguments.length?t.log("Transition #"+e+": "+n):(n=e,t.log(n)))}function o(t,e){var n=arguments;return function(r){var i=g.call(n,2);return i.push(r),e.apply(t,i)}}function s(t){return"string"==typeof t||t instanceof String||"number"==typeof t||t instanceof Number}function a(t,e){for(var n=0,r=t.length;r>n&&!1!==e(t[n]);n++);}function l(t,e,n,r){if(t.triggerEvent)return void t.triggerEvent(e,n,r);var i=r.shift();if(!e){if(n)return;throw new Error("Could not trigger event '"+i+"'. There are no active handlers")}for(var o=!1,s=e.length-1;s>=0;s--){
var a=e[s],l=a.handler;if(l.events&&l.events[i]){if(l.events[i].apply(l,r)!==!0)return;o=!0}}if(!o&&!n)throw new Error("Nothing handled the event '"+i+"'.")}function u(t,n){var i,o={all:{},changed:{},removed:{}};e(o.all,n);var s=!1;r(t),r(n);for(i in t)t.hasOwnProperty(i)&&(n.hasOwnProperty(i)||(s=!0,o.removed[i]=t[i]));for(i in n)if(n.hasOwnProperty(i))if(v(t[i])&&v(n[i]))if(t[i].length!==n[i].length)o.changed[i]=n[i],s=!0;else for(var a=0,l=t[i].length;l>a;a++)t[i][a]!==n[i][a]&&(o.changed[i]=n[i],s=!0);else t[i]!==n[i]&&(o.changed[i]=n[i],s=!0);return s&&o}function c(t){return"Router: "+t}function h(t,n){function r(e){t.call(this,e||{})}return r.prototype=y(t.prototype),e(r.prototype,n),r}function d(t,e){if(t){var n="_"+e;return t[n]&&n||t[e]&&e}}function p(t,e,n,r){var i=d(t,e);return i&&t[i].call(t,n,r)}function f(t,e,n){var r=d(t,e);return r?0===n.length?t[r].call(t):1===n.length?t[r].call(t,n[0]):2===n.length?t[r].call(t,n[0],n[1]):t[r].apply(t,n):void 0}var m,g=Array.prototype.slice;m=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var v=m;t.isArray=v;var y=Object.create||function(t){function e(){}return e.prototype=t,new e};t.oCreate=y,t.extractQueryParams=n,t.log=i,t.bind=o,t.forEach=a,t.trigger=l,t.getChangelist=u,t.promiseLabel=c,t.subclass=h,t.merge=e,t.slice=g,t.isParam=s,t.coerceQueryParamsToString=r,t.callHook=p,t.resolveHook=d,t.applyHook=f}),t("rsvp",["./rsvp/promise","./rsvp/events","./rsvp/node","./rsvp/all","./rsvp/all-settled","./rsvp/race","./rsvp/hash","./rsvp/hash-settled","./rsvp/rethrow","./rsvp/defer","./rsvp/config","./rsvp/map","./rsvp/resolve","./rsvp/reject","./rsvp/filter","./rsvp/asap","exports"],function(t,e,n,r,i,o,s,a,l,u,c,h,d,p,f,m,g){"use strict";function v(t,e){L.async(t,e)}function y(){L.on.apply(L,arguments)}function b(){L.off.apply(L,arguments)}var _=t["default"],w=e["default"],x=n["default"],C=r["default"],T=i["default"],E=o["default"],k=s["default"],S=a["default"],P=l["default"],A=u["default"],L=c.config,O=c.configure,D=h["default"],M=d["default"],R=p["default"],N=f["default"],F=m["default"];L.async=F;var I=M;if("undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){var B=window.__PROMISE_INSTRUMENTATION__;O("instrument",!0);for(var j in B)B.hasOwnProperty(j)&&y(j,B[j])}g.cast=I,g.Promise=_,g.EventTarget=w,g.all=C,g.allSettled=T,g.race=E,g.hash=k,g.hashSettled=S,g.rethrow=P,g.defer=A,g.denodeify=x,g.configure=O,g.on=y,g.off=b,g.resolve=M,g.reject=R,g.async=v,g.map=D,g.filter=N}),t("rsvp.umd",["./rsvp"],function(e){"use strict";var n=e.Promise,r=e.allSettled,i=e.hash,o=e.hashSettled,s=e.denodeify,a=e.on,l=e.off,u=e.map,c=e.filter,h=e.resolve,d=e.reject,p=e.rethrow,f=e.all,m=e.defer,g=e.EventTarget,v=e.configure,y=e.race,b=e.async,_={race:y,Promise:n,allSettled:r,hash:i,hashSettled:o,denodeify:s,on:a,off:l,map:u,filter:c,resolve:h,reject:d,all:f,rethrow:p,defer:m,EventTarget:g,configure:v,async:b};"function"==typeof t&&t.amd?t(function(){return _}):"undefined"!=typeof module&&module.exports?module.exports=_:"undefined"!=typeof this&&(this.RSVP=_)}),t("rsvp/-internal",["./utils","./instrument","./config","exports"],function(t,e,n,r){"use strict";function i(){return new TypeError("A promises callback cannot return that same promise.")}function o(){}function s(t){try{return t.then}catch(e){return P.error=e,P}}function a(t,e,n,r){try{t.call(e,n,r)}catch(i){return i}}function l(t,e,n){T.async(function(t){var r=!1,i=a(n,e,function(n){r||(r=!0,e!==n?h(t,n):p(t,n))},function(e){r||(r=!0,f(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,f(t,i))},t)}function u(t,e){e._state===k?p(t,e._result):t._state===S?f(t,e._result):m(e,void 0,function(n){e!==n?h(t,n):p(t,n)},function(e){f(t,e)})}function c(t,e){if(e.constructor===t.constructor)u(t,e);else{var n=s(e);n===P?f(t,P.error):void 0===n?p(t,e):x(n)?l(t,e,n):p(t,e)}}function h(t,e){t===e?p(t,e):w(e)?c(t,e):p(t,e)}function d(t){t._onerror&&t._onerror(t._result),g(t)}function p(t,e){t._state===E&&(t._result=e,t._state=k,0===t._subscribers.length?T.instrument&&C("fulfilled",t):T.async(g,t))}function f(t,e){t._state===E&&(t._state=S,t._result=e,T.async(d,t))}function m(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+k]=n,i[o+S]=r,0===o&&t._state&&T.async(g,t)}function g(t){var e=t._subscribers,n=t._state;if(T.instrument&&C(n===k?"fulfilled":"rejected",t),0!==e.length){for(var r,i,o=t._result,s=0;s<e.length;s+=3)r=e[s],i=e[s+n],r?b(n,r,i,o):i(o);t._subscribers.length=0}}function v(){this.error=null}function y(t,e){try{return t(e)}catch(n){return A.error=n,A}}function b(t,e,n,r){var o,s,a,l,u=x(n);if(u){if(o=y(n,r),o===A?(l=!0,s=o.error,o=null):a=!0,e===o)return void f(e,i())}else o=r,a=!0;e._state!==E||(u&&a?h(e,o):l?f(e,s):t===k?p(e,o):t===S&&f(e,o))}function _(t,e){try{e(function(e){h(t,e)},function(e){f(t,e)})}catch(n){f(t,n)}}var w=t.objectOrFunction,x=t.isFunction,C=e["default"],T=n.config,E=void 0,k=1,S=2,P=new v,A=new v;r.noop=o,r.resolve=h,r.reject=f,r.fulfill=p,r.subscribe=m,r.publish=g,r.publishRejection=d,r.initializePromise=_,r.invokeCallback=b,r.FULFILLED=k,r.REJECTED=S,r.PENDING=E}),t("rsvp/all-settled",["./enumerator","./promise","./utils","exports"],function(t,e,n,r){"use strict";function i(t,e,n){this._superConstructor(t,e,!1,n)}var o=t["default"],s=t.makeSettledResult,a=e["default"],l=n.o_create;i.prototype=l(o.prototype),i.prototype._superConstructor=o,i.prototype._makeResult=s,i.prototype._validationError=function(){return new Error("allSettled must be called with an array")},r["default"]=function(t,e){return new i(a,t,e).promise}}),t("rsvp/all",["./promise","exports"],function(t,e){"use strict";var n=t["default"];e["default"]=function(t,e){return n.all(t,e)}}),t("rsvp/asap",["exports"],function(t){"use strict";function e(){return function(){process.nextTick(a)}}function r(){return function(){vertxNext(a)}}function i(){var t=0,e=new p(a),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function o(){var t=new MessageChannel;return t.port1.onmessage=a,function(){t.port2.postMessage(0)}}function s(){return function(){setTimeout(a,1)}}function a(){for(var t=0;u>t;t+=2){var e=m[t],n=m[t+1];e(n),m[t]=void 0,m[t+1]=void 0}u=0}function l(){try{var t=n("vertx");t.runOnLoop||t.runOnContext;return r()}catch(e){return s()}}var u=0;t["default"]=function(t,e){m[u]=t,m[u+1]=e,u+=2,2===u&&c()};var c,h="undefined"!=typeof window?window:void 0,d=h||{},p=d.MutationObserver||d.WebKitMutationObserver,f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,m=new Array(1e3);c="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?e():p?i():f?o():void 0===h&&"function"==typeof n?l():s()}),t("rsvp/config",["./events","exports"],function(t,e){"use strict";function n(t,e){return"onerror"===t?void i.on("error",e):2!==arguments.length?i[t]:void(i[t]=e)}var r=t["default"],i={instrument:!1};r.mixin(i),e.config=i,e.configure=n}),t("rsvp/defer",["./promise","exports"],function(t,e){"use strict";var n=t["default"];e["default"]=function(t){var e={};return e.promise=new n(function(t,n){e.resolve=t,e.reject=n},t),e}}),t("rsvp/enumerator",["./utils","./-internal","exports"],function(t,e,n){"use strict";function r(t,e,n){return t===h?{state:"fulfilled",value:n}:{state:"rejected",reason:n}}function i(t,e,n,r){this._instanceConstructor=t,this.promise=new t(a,r),this._abortOnReject=n,this._validateInput(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._init(),0===this.length?u(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&u(this.promise,this._result))):l(this.promise,this._validationError())}var o=t.isArray,s=t.isMaybeThenable,a=e.noop,l=e.reject,u=e.fulfill,c=e.subscribe,h=e.FULFILLED,d=e.REJECTED,p=e.PENDING;n.makeSettledResult=r,i.prototype._validateInput=function(t){return o(t)},i.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},i.prototype._init=function(){this._result=new Array(this.length)},n["default"]=i,i.prototype._enumerate=function(){for(var t=this.length,e=this.promise,n=this._input,r=0;e._state===p&&t>r;r++)this._eachEntry(n[r],r)},i.prototype._eachEntry=function(t,e){var n=this._instanceConstructor;s(t)?t.constructor===n&&t._state!==p?(t._onerror=null,this._settledAt(t._state,e,t._result)):this._willSettleAt(n.resolve(t),e):(this._remaining--,this._result[e]=this._makeResult(h,e,t))},i.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===p&&(this._remaining--,this._abortOnReject&&t===d?l(r,n):this._result[e]=this._makeResult(t,e,n)),0===this._remaining&&u(r,this._result)},i.prototype._makeResult=function(t,e,n){return n},i.prototype._willSettleAt=function(t,e){var n=this;c(t,void 0,function(t){n._settledAt(h,e,t)},function(t){n._settledAt(d,e,t)})}}),t("rsvp/events",["exports"],function(t){"use strict";function e(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1}function n(t){var e=t._promiseCallbacks;return e||(e=t._promiseCallbacks={}),e}t["default"]={mixin:function(t){return t.on=this.on,t.off=this.off,t.trigger=this.trigger,t._promiseCallbacks=void 0,t},on:function(t,r){var i,o=n(this);i=o[t],i||(i=o[t]=[]),-1===e(i,r)&&i.push(r)},off:function(t,r){var i,o,s=n(this);return r?(i=s[t],o=e(i,r),void(-1!==o&&i.splice(o,1))):void(s[t]=[])},trigger:function(t,e){var r,i,o=n(this);if(r=o[t])for(var s=0;s<r.length;s++)(i=r[s])(e)}}}),t("rsvp/filter",["./promise","./utils","exports"],function(t,e,n){"use strict";var r=t["default"],i=e.isFunction;n["default"]=function(t,e,n){return r.all(t,n).then(function(t){if(!i(e))throw new TypeError("You must pass a function as filter's second argument.");for(var o=t.length,s=new Array(o),a=0;o>a;a++)s[a]=e(t[a]);return r.all(s,n).then(function(e){for(var n=new Array(o),r=0,i=0;o>i;i++)e[i]&&(n[r]=t[i],r++);return n.length=r,n})})}}),t("rsvp/hash-settled",["./promise","./enumerator","./promise-hash","./utils","exports"],function(t,e,n,r,i){"use strict";function o(t,e,n){this._superConstructor(t,e,!1,n)}var s=t["default"],a=e.makeSettledResult,l=n["default"],u=e["default"],c=r.o_create;o.prototype=c(l.prototype),o.prototype._superConstructor=u,o.prototype._makeResult=a,o.prototype._validationError=function(){return new Error("hashSettled must be called with an object")},i["default"]=function(t,e){return new o(s,t,e).promise}}),t("rsvp/hash",["./promise","./promise-hash","exports"],function(t,e,n){"use strict";var r=t["default"],i=e["default"];n["default"]=function(t,e){return new i(r,t,e).promise}}),t("rsvp/instrument",["./config","./utils","exports"],function(t,e,n){"use strict";function r(){setTimeout(function(){for(var t,e=0;e<s.length;e++){t=s[e];var n=t.payload;n.guid=n.key+n.id,n.childGuid=n.key+n.childId,n.error&&(n.stack=n.error.stack),i.trigger(t.name,t.payload)}s.length=0},50)}var i=t.config,o=e.now,s=[];n["default"]=function(t,e,n){1===s.push({name:t,payload:{key:e._guidKey,id:e._id,eventName:t,detail:e._result,childId:n&&n._id,label:e._label,timeStamp:o(),error:i["instrument-with-stack"]?new Error(e._label):null}})&&r()}}),t("rsvp/map",["./promise","./utils","exports"],function(t,e,n){"use strict";var r=t["default"],i=e.isFunction;n["default"]=function(t,e,n){return r.all(t,n).then(function(t){if(!i(e))throw new TypeError("You must pass a function as map's second argument.");for(var o=t.length,s=new Array(o),a=0;o>a;a++)s[a]=e(t[a]);return r.all(s,n)})}}),t("rsvp/node",["./promise","./-internal","./utils","exports"],function(t,e,n,r){"use strict";function i(){this.value=void 0}function o(t){try{return t.then}catch(e){return y.value=e,y}}function s(t,e,n){try{t.apply(e,n)}catch(r){return y.value=r,y}}function a(t,e){for(var n,r,i={},o=t.length,s=new Array(o),a=0;o>a;a++)s[a]=t[a];for(r=0;r<e.length;r++)n=e[r],i[n]=s[r+1];return i}function l(t){for(var e=t.length,n=new Array(e-1),r=1;e>r;r++)n[r-1]=t[r];return n}function u(t,e){return{then:function(n,r){return t.call(e,n,r)}}}function c(t,e,n,r){var i=s(n,r,e);return i===y&&g(t,i.value),t}function h(t,e,n,r){return p.all(e).then(function(e){var i=s(n,r,e);return i===y&&g(t,i.value),t})}function d(t){return t&&"object"==typeof t?t.constructor===p?!0:o(t):!1}var p=t["default"],f=e.noop,m=e.resolve,g=e.reject,v=n.isArray,y=new i,b=new i;r["default"]=function(t,e){var n=function(){for(var n,r=this,i=arguments.length,o=new Array(i+1),s=!1,y=0;i>y;++y){if(n=arguments[y],!s){if(s=d(n),s===b){var _=new p(f);return g(_,b.value),_}s&&s!==!0&&(n=u(s,n))}o[y]=n}var w=new p(f);return o[i]=function(t,n){t?g(w,t):void 0===e?m(w,n):e===!0?m(w,l(arguments)):v(e)?m(w,a(arguments,e)):m(w,n)},s?h(w,o,t,r):c(w,o,t,r)};return n.__proto__=t,n}}),t("rsvp/promise-hash",["./enumerator","./-internal","./utils","exports"],function(t,e,n,r){"use strict";function i(t,e,n){this._superConstructor(t,e,!0,n)}var o=t["default"],s=e.PENDING,a=n.o_create;r["default"]=i,i.prototype=a(o.prototype),i.prototype._superConstructor=o,i.prototype._init=function(){this._result={}},i.prototype._validateInput=function(t){return t&&"object"==typeof t},i.prototype._validationError=function(){return new Error("Promise.hash must be called with an object")},i.prototype._enumerate=function(){var t=this.promise,e=this._input,n=[];for(var r in e)t._state===s&&e.hasOwnProperty(r)&&n.push({position:r,entry:e[r]});var i=n.length;this._remaining=i;for(var o,a=0;t._state===s&&i>a;a++)o=n[a],this._eachEntry(o.entry,o.position)}}),t("rsvp/promise",["./config","./instrument","./utils","./-internal","./promise/all","./promise/race","./promise/resolve","./promise/reject","exports"],function(t,e,n,r,i,o,s,a,l){"use strict";function u(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function c(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function h(t,e){this._id=S++,this._label=e,this._state=void 0,this._result=void 0,this._subscribers=[],d.instrument&&p("created",this),g!==t&&(f(t)||u(),this instanceof h||c(),y(this,t))}var d=t.config,p=e["default"],f=n.isFunction,m=n.now,g=r.noop,v=r.subscribe,y=r.initializePromise,b=r.invokeCallback,_=r.FULFILLED,w=r.REJECTED,x=i["default"],C=o["default"],T=s["default"],E=a["default"],k="rsvp_"+m()+"-",S=0;l["default"]=h,h.cast=T,h.all=x,h.race=C,h.resolve=T,h.reject=E,h.prototype={constructor:h,_guidKey:k,_onerror:function(t){d.trigger("error",t)},then:function(t,e,n){var r=this,i=r._state;if(i===_&&!t||i===w&&!e)return d.instrument&&p("chained",this,this),this;r._onerror=null;var o=new this.constructor(g,n),s=r._result;if(d.instrument&&p("chained",r,o),i){var a=arguments[i-1];d.async(function(){b(i,o,a,s)})}else v(r,o,t,e);return o},"catch":function(t,e){return this.then(null,t,e)},"finally":function(t,e){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})},e)}}}),t("rsvp/promise/all",["../enumerator","exports"],function(t,e){"use strict";var n=t["default"];e["default"]=function(t,e){return new n(this,t,!0,e).promise}}),t("rsvp/promise/race",["../utils","../-internal","exports"],function(t,e,n){"use strict";var r=t.isArray,i=e.noop,o=e.resolve,s=e.reject,a=e.subscribe,l=e.PENDING;n["default"]=function(t,e){function n(t){o(h,t)}function u(t){s(h,t)}var c=this,h=new c(i,e);if(!r(t))return s(h,new TypeError("You must pass an array to race.")),h;for(var d=t.length,p=0;h._state===l&&d>p;p++)a(c.resolve(t[p]),void 0,n,u);return h}}),t("rsvp/promise/reject",["../-internal","exports"],function(t,e){"use strict";var n=t.noop,r=t.reject;e["default"]=function(t,e){var i=this,o=new i(n,e);return r(o,t),o}}),t("rsvp/promise/resolve",["../-internal","exports"],function(t,e){"use strict";var n=t.noop,r=t.resolve;e["default"]=function(t,e){var i=this;if(t&&"object"==typeof t&&t.constructor===i)return t;var o=new i(n,e);return r(o,t),o}}),t("rsvp/race",["./promise","exports"],function(t,e){"use strict";var n=t["default"];e["default"]=function(t,e){return n.race(t,e)}}),t("rsvp/reject",["./promise","exports"],function(t,e){"use strict";var n=t["default"];e["default"]=function(t,e){return n.reject(t,e)}}),t("rsvp/resolve",["./promise","exports"],function(t,e){"use strict";var n=t["default"];e["default"]=function(t,e){return n.resolve(t,e)}}),t("rsvp/rethrow",["exports"],function(t){"use strict";t["default"]=function(t){throw setTimeout(function(){throw t}),t}}),t("rsvp/utils",["exports"],function(t){"use strict";function e(t){return"function"==typeof t||"object"==typeof t&&null!==t}function n(t){return"function"==typeof t}function r(t){return"object"==typeof t&&null!==t}function i(){}t.objectOrFunction=e,t.isFunction=n,t.isMaybeThenable=r;var o;o=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var s=o;t.isArray=s;var a=Date.now||function(){return(new Date).getTime()};t.now=a;var l=Object.create||function(t){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof t)throw new TypeError("Argument must be an object");return i.prototype=t,new i};t.o_create=l}),e("ember")}(),function(){define("ember",[],function(){"use strict";return{"default":Ember}}),define("ember-data",[],function(){"use strict";return{"default":DS}})}(),define("jquery",[],function(){"use strict";return{"default":jQuery}}),function(){define("ember/resolver",[],function(){"use strict";function t(t){return{create:function(e){return"function"==typeof t.extend?t.extend(e):t}}}function e(){var t=i(null);return t._dict=null,delete t._dict,t}function n(t){if(t.parsedName===!0)return t;var e,n,r,i=t.split("@");if("helper:@content-helper"!==t&&2===i.length){var a=i[0].split(":");if(2===a.length)e=a[1],n=a[0],r=i[1];else{var l=i[1].split(":");e=i[0],n=l[0],r=l[1]}}else i=t.split(":"),n=i[0],r=i[1];var u=r,c=s(this,"namespace"),h=c;return{parsedName:!0,fullName:t,prefix:e||this.prefix({type:n}),type:n,fullNameWithoutType:u,name:r,root:h,resolveMethodName:"resolve"+o(n)}}function r(e){Ember.assert("`modulePrefix` must be defined",this.namespace.modulePrefix);var n=this.findModuleName(e);if(n){var r=this._extractDefaultExport(n,e);if(void 0===r)throw new Error(" Expected to find: '"+e.fullName+"' within '"+n+"' but got 'undefined'. Did you forget to `export default` within '"+n+"'?");return this.shouldWrapInClassFactory(r,e)&&(r=t(r)),r}return this._super(e)}"undefined"==typeof requirejs.entries&&(requirejs.entries=requirejs._eak_seen);var i=Object.create||Ember.create;if(!i||i(null).hasOwnProperty)throw new Error("This browser does not support Object.create(null), please polyfil with es5-sham: http://git.io/yBU2rg");var o=(Ember.String.underscore,Ember.String.classify),s=Ember.get,a=Ember.DefaultResolver.extend({resolveOther:r,resolveTemplate:r,pluralizedTypes:null,makeToString:function(t,e){return""+this.namespace.modulePrefix+"@"+e+":"},parseName:n,shouldWrapInClassFactory:function(t,e){return!1},init:function(){this._super(),this.moduleBasedResolver=!0,this._normalizeCache=e(),this.pluralizedTypes=this.pluralizedTypes||e(),this.pluralizedTypes.config||(this.pluralizedTypes.config="config"),this._deprecatedPodModulePrefix=!1},normalize:function(t){return this._normalizeCache[t]||(this._normalizeCache[t]=this._normalize(t))},_normalize:function(t){var e=t.split(":");return e.length>1?e[0]+":"+Ember.String.dasherize(e[1].replace(/\./g,"/")):t},pluralize:function(t){return this.pluralizedTypes[t]||(this.pluralizedTypes[t]=t+"s")},podBasedLookupWithPrefix:function(t,e){var n=e.fullNameWithoutType;return"template"===e.type&&(n=n.replace(/^components\//,"")),t+"/"+n+"/"+e.type},podBasedModuleName:function(t){var e=this.namespace.podModulePrefix||this.namespace.modulePrefix;return this.podBasedLookupWithPrefix(e,t)},podBasedComponentsInSubdir:function(t){var e=this.namespace.podModulePrefix||this.namespace.modulePrefix;return e+="/components","component"===t.type||t.fullNameWithoutType.match(/^components/)?this.podBasedLookupWithPrefix(e,t):void 0},mainModuleName:function(t){var e=t.prefix+"/"+t.type;return"main"===t.fullNameWithoutType?e:void 0},defaultModuleName:function(t){return t.prefix+"/"+this.pluralize(t.type)+"/"+t.fullNameWithoutType},prefix:function(t){var e=this.namespace.modulePrefix;return this.namespace[t.type+"Prefix"]&&(e=this.namespace[t.type+"Prefix"]),e},moduleNameLookupPatterns:Ember.computed(function(){return Ember.A([this.podBasedModuleName,this.podBasedComponentsInSubdir,this.mainModuleName,this.defaultModuleName])}),findModuleName:function(t,e){var n,r=this;return this.get("moduleNameLookupPatterns").find(function(i){var o=requirejs.entries,s=i.call(r,t);return s&&(s=r.chooseModuleName(o,s)),s&&o[s]&&(e||r._logLookup(!0,t,s),n=s),e||r._logLookup(n,t,s),n}),n},chooseModuleName:function(t,e){var n=Ember.String.underscore(e);if(e!==n&&t[e]&&t[n])throw new TypeError("Ambiguous module names: `"+e+"` and `"+n+"`");if(t[e])return e;if(t[n])return n;var r=e.replace(/\/-([^\/]*)$/,"/_$1");return t[r]?(Ember.deprecate('Modules should not contain underscores. Attempted to lookup "'+e+'" which was not found. Please rename "'+r+'" to "'+e+'" instead.',!1),r):e},lookupDescription:function(t){var e=this.parseName(t),n=this.findModuleName(e,!0);return n},_logLookup:function(t,e,n){if(Ember.ENV.LOG_MODULE_RESOLVER||e.root.LOG_RESOLVER){var r,i;r=t?"[✓]":"[ ]",i=e.fullName.length>60?".":new Array(60-e.fullName.length).join("."),n||(n=this.lookupDescription(e)),Ember.Logger.info(r,e.fullName,i,n)}},knownForType:function(t){for(var n=requirejs.entries,r=(Object.keys||Ember.keys)(n),i=e(),o=0,s=r.length;s>o;o++){var a=r[o],l=this.translateToContainerFullname(t,a);l&&(i[l]=!0)}return i},translateToContainerFullname:function(t,e){var n,r=this.prefix({type:t}),i=this.pluralize(t),o=new RegExp("^"+r+"/"+i+"/(.+)$"),s=new RegExp("^"+r+"/(.+)/"+t+"$");return(n=e.match(s))?t+":"+n[1]:(n=e.match(o))?t+":"+n[1]:void 0},_extractDefaultExport:function(t){var e=require(t,null,null,!0);return e&&e["default"]&&(e=e["default"]),e}});return a.moduleBasedResolver=!0,a["default"]=a,a}),define("resolver",["ember/resolver"],function(t){return Ember.deprecate('Importing/requiring Ember Resolver as "resolver" is deprecated, please use "ember/resolver" instead'),t})}(),function(){define("ember/container-debug-adapter",[],function(){"use strict";function t(t,e,n){var r=e.match(new RegExp("^/?"+n+"/(.+)/"+t+"$"));return r?r[1]:void 0}if("undefined"==typeof Ember.ContainerDebugAdapter)return null;var e=Ember.ContainerDebugAdapter.extend({canCatalogEntriesByType:function(t){return!0},_getEntries:function(){return requirejs.entries},catalogEntriesByType:function(e){var n=this._getEntries(),r=Ember.A(),i=this.namespace.modulePrefix;for(var o in n)if(n.hasOwnProperty(o)&&-1!==o.indexOf(e)){var s=t(e,o,this.namespace.podModulePrefix||i);s||(s=o.split(e+"s/").pop()),r.addObject(s)}return r}});return e["default"]=e,e})}(),function(){!function(){"use strict";Ember.Application.initializer({name:"container-debug-adapter",initialize:function(t,e){var n=require("ember/container-debug-adapter");require("ember/resolver");t.register("container-debug-adapter:main",n),e.inject("container-debug-adapter:main","namespace","application:main")}})}()}(),function(){define("ember/load-initializers",[],function(){"use strict";return{"default":function(t,e){var n=new RegExp("^"+e+"/initializers");Ember.keys(requirejs._eak_seen).filter(function(t){return n.test(t)}).forEach(function(e){var n=require(e,null,null,!0);if(!n)throw new Error(e+" must export an initializer.");t.initializer(n["default"])})}}})}(),function(t){function e(t,e,n){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:n;default:throw new Error("Implement me")}}function n(t,e){return St.call(t,e)}function r(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function i(t){wt.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function o(t,e){var n=!0;return f(function(){return n&&(i(t),n=!1),e.apply(this,arguments)},e)}function s(t,e){ye[t]||(i(e),ye[t]=!0)}function a(t,e){return function(n){return v(t.call(this,n),e)}}function l(t,e){return function(n){return this.localeData().ordinal(t.call(this,n),e)}}function u(t,e){var n,r,i=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(i,"months");return 0>e-o?(n=t.clone().add(i-1,"months"),r=(e-o)/(o-n)):(n=t.clone().add(i+1,"months"),r=(e-o)/(n-o)),-(i+r)}function c(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(r=t.isPM(n),r&&12>e&&(e+=12),r||12!==e||(e=0),e):e}function h(){}function d(t,e){e!==!1&&M(t),m(this,t),this._d=new Date(+t._d),_e===!1&&(_e=!0,wt.updateOffset(this),_e=!1)}function p(t){var e=k(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*a,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=wt.localeData(),this._bubble()}function f(t,e){for(var r in e)n(e,r)&&(t[r]=e[r]);return n(e,"toString")&&(t.toString=e.toString),n(e,"valueOf")&&(t.valueOf=e.valueOf),t}function m(t,e){var n,r,i;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),Ft.length>0)for(n in Ft)r=Ft[n],i=e[r],"undefined"!=typeof i&&(t[r]=i);return t}function g(t){return 0>t?Math.ceil(t):Math.floor(t)}function v(t,e,n){for(var r=""+Math.abs(t),i=t>=0;r.length<e;)r="0"+r;return(i?n?"+":"":"-")+r}function y(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function b(t,e){var n;return e=B(e,t),t.isBefore(e)?n=y(t,e):(n=y(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function _(t,e){return function(n,r){var i,o;return null===r||isNaN(+r)||(s(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=wt.duration(n,r),w(this,i,t),this}}function w(t,e,n,r){var i=e._milliseconds,o=e._days,s=e._months;r=null==r?!0:r,i&&t._d.setTime(+t._d+i*n),o&&mt(t,"Date",ft(t,"Date")+o*n),s&&pt(t,ft(t,"Month")+s*n),r&&wt.updateOffset(t,o||s)}function x(t){return"[object Array]"===Object.prototype.toString.call(t)}function C(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function T(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(r=0;i>r;r++)(n&&t[r]!==e[r]||!n&&P(t[r])!==P(e[r]))&&s++;return s+o}function E(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=he[t]||de[e]||e}return t}function k(t){var e,r,i={};for(r in t)n(t,r)&&(e=E(r),e&&(i[e]=t[r]));return i}function S(e){var n,r;if(0===e.indexOf("week"))n=7,r="day";else{if(0!==e.indexOf("month"))return;n=12,r="month"}wt[e]=function(i,o){var s,a,l=wt._locale[e],u=[];if("number"==typeof i&&(o=i,i=t),a=function(t){var e=wt().utc().set(r,t);return l.call(wt._locale,e,i||"")},null!=o)return a(o);for(s=0;n>s;s++)u.push(a(s));return u}}function P(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function A(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function L(t,e,n){return ut(wt([t,11,31+e-n]),e,n).week}function O(t){return D(t)?366:365}function D(t){return t%4===0&&t%100!==0||t%400===0}function M(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[At]<0||t._a[At]>11?At:t._a[Lt]<1||t._a[Lt]>A(t._a[Pt],t._a[At])?Lt:t._a[Ot]<0||t._a[Ot]>24||24===t._a[Ot]&&(0!==t._a[Dt]||0!==t._a[Mt]||0!==t._a[Rt])?Ot:t._a[Dt]<0||t._a[Dt]>59?Dt:t._a[Mt]<0||t._a[Mt]>59?Mt:t._a[Rt]<0||t._a[Rt]>999?Rt:-1,t._pf._overflowDayOfYear&&(Pt>e||e>Lt)&&(e=Lt),t._pf.overflow=e)}function R(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&e._pf.bigHour===t)),e._isValid}function N(t){return t?t.toLowerCase().replace("_","-"):t}function F(t){for(var e,n,r,i,o=0;o<t.length;){for(i=N(t[o]).split("-"),e=i.length,n=N(t[o+1]),n=n?n.split("-"):null;e>0;){if(r=I(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&T(i,n,!0)>=e-1)break;e--}o++}return null}function I(t){var e=null;if(!Nt[t]&&It)try{e=wt.locale(),require("./locale/"+t),wt.locale(e)}catch(n){}return Nt[t]}function B(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(wt.isMoment(t)||C(t)?+t:+wt(t))-+n,n._d.setTime(+n._d+r),wt.updateOffset(n,!1),n):wt(t).local()}function j(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function z(t){var e,n,r=t.match(Vt);for(e=0,n=r.length;n>e;e++)ve[r[e]]?r[e]=ve[r[e]]:r[e]=j(r[e]);return function(i){var o="";for(e=0;n>e;e++)o+=r[e]instanceof Function?r[e].call(i,t):r[e];return o}}function V(t,e){return t.isValid()?(e=H(e,t.localeData()),pe[e]||(pe[e]=z(e)),pe[e](t)):t.localeData().invalidDate()}function H(t,e){function n(t){return e.longDateFormat(t)||t}var r=5;for(Ht.lastIndex=0;r>=0&&Ht.test(t);)t=t.replace(Ht,n),Ht.lastIndex=0,r-=1;return t}function U(t,e){var n,r=e._strict;switch(t){case"Q":return Qt;case"DDDD":return ee;case"YYYY":case"GGGG":case"gggg":return r?ne:qt;case"Y":case"G":case"g":return ie;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return r?re:$t;case"S":if(r)return Qt;case"SS":if(r)return te;case"SSS":if(r)return ee;case"DDD":return Wt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Kt;case"a":case"A":return e._locale._meridiemParse;case"x":return Jt;case"X":return Xt;case"Z":case"ZZ":return Yt;case"T":return Zt;case"SSSS":return Gt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return r?te:Ut;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ut;case"Do":return r?e._locale._ordinalParse:e._locale._ordinalParseLenient;default:return n=new RegExp(X(J(t.replace("\\","")),"i"))}}function W(t){t=t||"";var e=t.match(Yt)||[],n=e[e.length-1]||[],r=(n+"").match(ue)||["-",0,0],i=+(60*r[1])+P(r[2]);return"+"===r[0]?i:-i}function q(t,e,n){var r,i=n._a;switch(t){case"Q":null!=e&&(i[At]=3*(P(e)-1));break;case"M":case"MM":null!=e&&(i[At]=P(e)-1);break;case"MMM":case"MMMM":r=n._locale.monthsParse(e,t,n._strict),null!=r?i[At]=r:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(i[Lt]=P(e));break;case"Do":null!=e&&(i[Lt]=P(parseInt(e.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=P(e));break;case"YY":i[Pt]=wt.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":i[Pt]=P(e);break;case"a":case"A":n._meridiem=e;break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":i[Ot]=P(e);break;case"m":case"mm":i[Dt]=P(e);break;case"s":case"ss":i[Mt]=P(e);break;case"S":case"SS":case"SSS":case"SSSS":i[Rt]=P(1e3*("0."+e));break;case"x":n._d=new Date(P(e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=W(e);break;case"dd":case"ddd":case"dddd":r=n._locale.weekdaysParse(e),null!=r?(n._w=n._w||{},n._w.d=r):n._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":
t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=P(e));break;case"gg":case"GG":n._w=n._w||{},n._w[t]=wt.parseTwoDigitYear(e)}}function $(t){var n,r,i,o,s,a,l;n=t._w,null!=n.GG||null!=n.W||null!=n.E?(s=1,a=4,r=e(n.GG,t._a[Pt],ut(wt(),1,4).year),i=e(n.W,1),o=e(n.E,1)):(s=t._locale._week.dow,a=t._locale._week.doy,r=e(n.gg,t._a[Pt],ut(wt(),s,a).year),i=e(n.w,1),null!=n.d?(o=n.d,s>o&&++i):o=null!=n.e?n.e+s:s),l=ct(r,i,o,a,s),t._a[Pt]=l.year,t._dayOfYear=l.dayOfYear}function G(t){var n,r,i,o,s=[];if(!t._d){for(i=Y(t),t._w&&null==t._a[Lt]&&null==t._a[At]&&$(t),t._dayOfYear&&(o=e(t._a[Pt],i[Pt]),t._dayOfYear>O(o)&&(t._pf._overflowDayOfYear=!0),r=ot(o,0,t._dayOfYear),t._a[At]=r.getUTCMonth(),t._a[Lt]=r.getUTCDate()),n=0;3>n&&null==t._a[n];++n)t._a[n]=s[n]=i[n];for(;7>n;n++)t._a[n]=s[n]=null==t._a[n]?2===n?1:0:t._a[n];24===t._a[Ot]&&0===t._a[Dt]&&0===t._a[Mt]&&0===t._a[Rt]&&(t._nextDay=!0,t._a[Ot]=0),t._d=(t._useUTC?ot:it).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ot]=24)}}function K(t){var e;t._d||(e=k(t._i),t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],G(t))}function Y(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Z(e){if(e._f===wt.ISO_8601)return void tt(e);e._a=[],e._pf.empty=!0;var n,r,i,o,s,a=""+e._i,l=a.length,u=0;for(i=H(e._f,e._locale).match(Vt)||[],n=0;n<i.length;n++)o=i[n],r=(a.match(U(o,e))||[])[0],r&&(s=a.substr(0,a.indexOf(r)),s.length>0&&e._pf.unusedInput.push(s),a=a.slice(a.indexOf(r)+r.length),u+=r.length),ve[o]?(r?e._pf.empty=!1:e._pf.unusedTokens.push(o),q(o,r,e)):e._strict&&!r&&e._pf.unusedTokens.push(o);e._pf.charsLeftOver=l-u,a.length>0&&e._pf.unusedInput.push(a),e._pf.bigHour===!0&&e._a[Ot]<=12&&(e._pf.bigHour=t),e._a[Ot]=c(e._locale,e._a[Ot],e._meridiem),G(e),M(e)}function J(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i})}function X(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(t){var e,n,i,o,s;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)s=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=r(),e._f=t._f[o],Z(e),R(e)&&(s+=e._pf.charsLeftOver,s+=10*e._pf.unusedTokens.length,e._pf.score=s,(null==i||i>s)&&(i=s,n=e));f(t,n||e)}function tt(t){var e,n,r=t._i,i=oe.exec(r);if(i){for(t._pf.iso=!0,e=0,n=ae.length;n>e;e++)if(ae[e][1].exec(r)){t._f=ae[e][0]+(i[6]||" ");break}for(e=0,n=le.length;n>e;e++)if(le[e][1].exec(r)){t._f+=le[e][0];break}r.match(Yt)&&(t._f+="Z"),Z(t)}else t._isValid=!1}function et(t){tt(t),t._isValid===!1&&(delete t._isValid,wt.createFromInputFallback(t))}function nt(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function rt(e){var n,r=e._i;r===t?e._d=new Date:C(r)?e._d=new Date(+r):null!==(n=Bt.exec(r))?e._d=new Date(+n[1]):"string"==typeof r?et(e):x(r)?(e._a=nt(r.slice(0),function(t){return parseInt(t,10)}),G(e)):"object"==typeof r?K(e):"number"==typeof r?e._d=new Date(r):wt.createFromInputFallback(e)}function it(t,e,n,r,i,o,s){var a=new Date(t,e,n,r,i,o,s);return 1970>t&&a.setFullYear(t),a}function ot(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function st(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function at(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function lt(t,e,n){var r=wt.duration(t).abs(),i=kt(r.as("s")),o=kt(r.as("m")),s=kt(r.as("h")),a=kt(r.as("d")),l=kt(r.as("M")),u=kt(r.as("y")),c=i<fe.s&&["s",i]||1===o&&["m"]||o<fe.m&&["mm",o]||1===s&&["h"]||s<fe.h&&["hh",s]||1===a&&["d"]||a<fe.d&&["dd",a]||1===l&&["M"]||l<fe.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,at.apply({},c)}function ut(t,e,n){var r,i=n-e,o=n-t.day();return o>i&&(o-=7),i-7>o&&(o+=7),r=wt(t).add(o,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function ct(t,e,n,r,i){var o,s,a=ot(t,0,1).getUTCDay();return a=0===a?7:a,n=null!=n?n:i,o=i-a+(a>r?7:0)-(i>a?7:0),s=7*(e-1)+(n-i)+o+1,{year:s>0?t:t-1,dayOfYear:s>0?s:O(t-1)+s}}function ht(e){var n,r=e._i,i=e._f;return e._locale=e._locale||wt.localeData(e._l),null===r||i===t&&""===r?wt.invalid({nullInput:!0}):("string"==typeof r&&(e._i=r=e._locale.preparse(r)),wt.isMoment(r)?new d(r,!0):(i?x(i)?Q(e):Z(e):rt(e),n=new d(e),n._nextDay&&(n.add(1,"d"),n._nextDay=t),n))}function dt(t,e){var n,r;if(1===e.length&&x(e[0])&&(e=e[0]),!e.length)return wt();for(n=e[0],r=1;r<e.length;++r)e[r][t](n)&&(n=e[r]);return n}function pt(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),A(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function ft(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function mt(t,e,n){return"Month"===e?pt(t,n):t._d["set"+(t._isUTC?"UTC":"")+e](n)}function gt(t,e){return function(n){return null!=n?(mt(this,t,n),wt.updateOffset(this,e),this):ft(this,t)}}function vt(t){return 400*t/146097}function yt(t){return 146097*t/400}function bt(t){wt.duration.fn[t]=function(){return this._data[t]}}function _t(t){"undefined"==typeof ender&&(xt=Et.moment,t?Et.moment=o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",wt):Et.moment=wt)}for(var wt,xt,Ct,Tt="2.9.0",Et="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,kt=Math.round,St=Object.prototype.hasOwnProperty,Pt=0,At=1,Lt=2,Ot=3,Dt=4,Mt=5,Rt=6,Nt={},Ft=[],It="undefined"!=typeof module&&module&&module.exports,Bt=/^\/?Date\((\-?\d+)/i,jt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,zt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Vt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Ht=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ut=/\d\d?/,Wt=/\d{1,3}/,qt=/\d{1,4}/,$t=/[+\-]?\d{1,6}/,Gt=/\d+/,Kt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Yt=/Z|[\+\-]\d\d:?\d\d/gi,Zt=/T/i,Jt=/[\+\-]?\d+/,Xt=/[\+\-]?\d+(\.\d{1,3})?/,Qt=/\d/,te=/\d\d/,ee=/\d{3}/,ne=/\d{4}/,re=/[+-]?\d{6}/,ie=/[+-]?\d+/,oe=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,se="YYYY-MM-DDTHH:mm:ssZ",ae=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],le=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ue=/([\+\-]|\d\d)/gi,ce=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),he={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},de={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},pe={},fe={s:45,m:45,h:22,d:26,M:11},me="DDD w W M D d".split(" "),ge="M D H h m s w W".split(" "),ve={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return v(this.year()%100,2)},YYYY:function(){return v(this.year(),4)},YYYYY:function(){return v(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+v(Math.abs(t),6)},gg:function(){return v(this.weekYear()%100,2)},gggg:function(){return v(this.weekYear(),4)},ggggg:function(){return v(this.weekYear(),5)},GG:function(){return v(this.isoWeekYear()%100,2)},GGGG:function(){return v(this.isoWeekYear(),4)},GGGGG:function(){return v(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return P(this.milliseconds()/100)},SS:function(){return v(P(this.milliseconds()/10),2)},SSS:function(){return v(this.milliseconds(),3)},SSSS:function(){return v(this.milliseconds(),3)},Z:function(){var t=this.utcOffset(),e="+";return 0>t&&(t=-t,e="-"),e+v(P(t/60),2)+":"+v(P(t)%60,2)},ZZ:function(){var t=this.utcOffset(),e="+";return 0>t&&(t=-t,e="-"),e+v(P(t/60),2)+v(P(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ye={},be=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],_e=!1;me.length;)Ct=me.pop(),ve[Ct+"o"]=l(ve[Ct],Ct);for(;ge.length;)Ct=ge.pop(),ve[Ct+Ct]=a(ve[Ct],2);ve.DDDD=a(ve.DDD,3),f(h.prototype,{set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t,e,n){var r,i,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=wt.utc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=wt([2e3,1]).day(e),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e,n){var r=this._calendar[t];return"function"==typeof r?r.apply(e,[n]):r},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(t,e,n,r):i.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(t){return t},postformat:function(t){return t},week:function(t){return ut(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),wt=function(e,n,i,o){var s;return"boolean"==typeof i&&(o=i,i=t),s={},s._isAMomentObject=!0,s._i=e,s._f=n,s._l=i,s._strict=o,s._isUTC=!1,s._pf=r(),ht(s)},wt.suppressDeprecationWarnings=!1,wt.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),wt.min=function(){var t=[].slice.call(arguments,0);return dt("isBefore",t)},wt.max=function(){var t=[].slice.call(arguments,0);return dt("isAfter",t)},wt.utc=function(e,n,i,o){var s;return"boolean"==typeof i&&(o=i,i=t),s={},s._isAMomentObject=!0,s._useUTC=!0,s._isUTC=!0,s._l=i,s._i=e,s._f=n,s._strict=o,s._pf=r(),ht(s).utc()},wt.unix=function(t){return wt(1e3*t)},wt.duration=function(t,e){var r,i,o,s,a=t,l=null;return wt.isDuration(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(a={},e?a[e]=t:a.milliseconds=t):(l=jt.exec(t))?(r="-"===l[1]?-1:1,a={y:0,d:P(l[Lt])*r,h:P(l[Ot])*r,m:P(l[Dt])*r,s:P(l[Mt])*r,ms:P(l[Rt])*r}):(l=zt.exec(t))?(r="-"===l[1]?-1:1,o=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*r},a={y:o(l[2]),M:o(l[3]),d:o(l[4]),h:o(l[5]),m:o(l[6]),s:o(l[7]),w:o(l[8])}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(s=b(wt(a.from),wt(a.to)),a={},a.ms=s.milliseconds,a.M=s.months),i=new p(a),wt.isDuration(t)&&n(t,"_locale")&&(i._locale=t._locale),i},wt.version=Tt,wt.defaultFormat=se,wt.ISO_8601=function(){},wt.momentProperties=Ft,wt.updateOffset=function(){},wt.relativeTimeThreshold=function(e,n){return fe[e]===t?!1:n===t?fe[e]:(fe[e]=n,!0)},wt.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return wt.locale(t,e)}),wt.locale=function(t,e){var n;return t&&(n="undefined"!=typeof e?wt.defineLocale(t,e):wt.localeData(t),n&&(wt.duration._locale=wt._locale=n)),wt._locale._abbr},wt.defineLocale=function(t,e){return null!==e?(e.abbr=t,Nt[t]||(Nt[t]=new h),Nt[t].set(e),wt.locale(t),Nt[t]):(delete Nt[t],null)},wt.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(t){return wt.localeData(t)}),wt.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return wt._locale;if(!x(t)){if(e=I(t))return e;t=[t]}return F(t)},wt.isMoment=function(t){return t instanceof d||null!=t&&n(t,"_isAMomentObject")},wt.isDuration=function(t){return t instanceof p};for(Ct=be.length-1;Ct>=0;--Ct)S(be[Ct]);wt.normalizeUnits=function(t){return E(t)},wt.invalid=function(t){var e=wt.utc(NaN);return null!=t?f(e._pf,t):e._pf.userInvalidated=!0,e},wt.parseZone=function(){return wt.apply(null,arguments).parseZone()},wt.parseTwoDigitYear=function(t){return P(t)+(P(t)>68?1900:2e3)},wt.isDate=C,f(wt.fn=d.prototype,{clone:function(){return wt(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=wt(this).utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():V(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):V(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return R(this)},isDSTShifted:function(){return this._a?this.isValid()&&T(this._a,(this._isUTC?wt.utc(this._a):wt(this._a)).toArray())>0:!1},parsingFlags:function(){return f({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.utcOffset(0,t)},local:function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(t){var e=V(this,t||wt.defaultFormat);return this.localeData().postformat(e)},add:_(1,"add"),subtract:_(-1,"subtract"),diff:function(t,e,n){var r,i,o=B(t,this),s=6e4*(o.utcOffset()-this.utcOffset());return e=E(e),"year"===e||"month"===e||"quarter"===e?(i=u(this,o),"quarter"===e?i/=3:"year"===e&&(i/=12)):(r=this-o,i="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-s)/864e5:"week"===e?(r-s)/6048e5:r),n?i:g(i)},from:function(t,e){return wt.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(wt(),t)},calendar:function(t){var e=t||wt(),n=B(e,this).startOf("day"),r=this.diff(n,"days",!0),i=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this,wt(e)))},isLeapYear:function(){return D(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=st(t,this.localeData()),this.add(t-e,"d")):e},month:gt("Month",!0),startOf:function(t){switch(t=E(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=E(e),e===t||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(t,e){var n;return e=E("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=wt.isMoment(t)?t:wt(t),+this>+t):(n=wt.isMoment(t)?+t:+wt(t),n<+this.clone().startOf(e))},isBefore:function(t,e){var n;return e=E("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=wt.isMoment(t)?t:wt(t),+t>+this):(n=wt.isMoment(t)?+t:+wt(t),+this.clone().endOf(e)<n)},isBetween:function(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)},isSame:function(t,e){var n;return e=E(e||"millisecond"),"millisecond"===e?(t=wt.isMoment(t)?t:wt(t),+this===+t):(n=+wt(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=wt.apply(null,arguments),this>t?this:t}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=wt.apply(null,arguments),t>this?this:t}),zone:o("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),utcOffset:function(t,e){var n,r=this._offset||0;return null!=t?("string"==typeof t&&(t=W(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(n=this._dateUtcOffset()),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),r!==t&&(!e||this._changeInProgress?w(this,wt.duration(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,wt.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(W(this._i)),this},hasAlignedHourOffset:function(t){return t=t?wt(t).utcOffset():0,(this.utcOffset()-t)%60===0},daysInMonth:function(){return A(this.year(),this.month())},dayOfYear:function(t){var e=kt((wt(this).startOf("day")-wt(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=ut(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=ut(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=ut(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return L(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return L(this.year(),t.dow,t.doy)},get:function(t){return t=E(t),this[t]()},set:function(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else t=E(t),"function"==typeof this[t]&&this[t](e);return this},locale:function(e){var n;return e===t?this._locale._abbr:(n=wt.localeData(e),null!=n&&(this._locale=n),this)},lang:o("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===t?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),wt.fn.millisecond=wt.fn.milliseconds=gt("Milliseconds",!1),wt.fn.second=wt.fn.seconds=gt("Seconds",!1),wt.fn.minute=wt.fn.minutes=gt("Minutes",!1),wt.fn.hour=wt.fn.hours=gt("Hours",!0),wt.fn.date=gt("Date",!0),wt.fn.dates=o("dates accessor is deprecated. Use date instead.",gt("Date",!0)),wt.fn.year=gt("FullYear",!0),wt.fn.years=o("years accessor is deprecated. Use year instead.",gt("FullYear",!0)),wt.fn.days=wt.fn.day,wt.fn.months=wt.fn.month,wt.fn.weeks=wt.fn.week,wt.fn.isoWeeks=wt.fn.isoWeek,wt.fn.quarters=wt.fn.quarter,wt.fn.toJSON=wt.fn.toISOString,wt.fn.isUTC=wt.fn.isUtc,f(wt.duration.fn=p.prototype,{_bubble:function(){var t,e,n,r=this._milliseconds,i=this._days,o=this._months,s=this._data,a=0;s.milliseconds=r%1e3,t=g(r/1e3),s.seconds=t%60,e=g(t/60),s.minutes=e%60,n=g(e/60),s.hours=n%24,i+=g(n/24),a=g(vt(i)),i-=g(yt(a)),o+=g(i/30),i%=30,a+=g(o/12),o%=12,s.days=i,s.months=o,s.years=a},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return g(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*P(this._months/12)},humanize:function(t){var e=lt(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var n=wt.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=wt.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=E(t),this[t.toLowerCase()+"s"]()},as:function(t){var e,n;if(t=E(t),"month"===t||"year"===t)return e=this._days+this._milliseconds/864e5,n=this._months+12*vt(e),"month"===t?n:n/12;switch(e=this._days+Math.round(yt(this._months/12)),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:wt.fn.lang,locale:wt.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),r=Math.abs(this.hours()),i=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(r||i||o?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),wt.duration.fn.toString=wt.duration.fn.toISOString;for(Ct in ce)n(ce,Ct)&&bt(Ct.toLowerCase());wt.duration.fn.asMilliseconds=function(){return this.as("ms")},wt.duration.fn.asSeconds=function(){return this.as("s")},wt.duration.fn.asMinutes=function(){return this.as("m")},wt.duration.fn.asHours=function(){return this.as("h")},wt.duration.fn.asDays=function(){return this.as("d")},wt.duration.fn.asWeeks=function(){return this.as("weeks")},wt.duration.fn.asMonths=function(){return this.as("M")},wt.duration.fn.asYears=function(){return this.as("y")},wt.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===P(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),It?module.exports=wt:"function"==typeof define&&define.amd?(define(function(t,e,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(Et.moment=xt),wt}),_t(!0)):_t()}.call(this),function(){function t(t,e){define(t,[],function(){"use strict";return e})}t("moment",{"default":moment})}(),function(t){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],t);else if("object"==typeof exports)t(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";t(jQuery,moment)}}(function(t,e){"use strict";if(!e)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var n=function(n,r){var i,o,s,a,l,u={},c=e().startOf("d"),h=c.clone(),d=!0,p=!1,f=!1,m=0,g=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10}],v=["days","months","years"],y=["top","bottom","auto"],b=["left","right","auto"],_=["default","top","bottom"],w={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},x={},C=function(t){if("string"!=typeof t||t.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(t){case"y":return-1!==s.indexOf("Y");case"M":return-1!==s.indexOf("M");case"d":return-1!==s.toLowerCase().indexOf("d");case"h":case"H":return-1!==s.toLowerCase().indexOf("h");case"m":return-1!==s.indexOf("m");case"s":return-1!==s.indexOf("s");default:return!1}},T=function(){return C("h")||C("m")||C("s")},E=function(){return C("y")||C("M")||C("d")},k=function(){var e=t("<thead>").append(t("<tr>").append(t("<th>").addClass("prev").attr("data-action","previous").append(t("<span>").addClass(r.icons.previous))).append(t("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",r.calendarWeeks?"6":"5")).append(t("<th>").addClass("next").attr("data-action","next").append(t("<span>").addClass(r.icons.next)))),n=t("<tbody>").append(t("<tr>").append(t("<td>").attr("colspan",r.calendarWeeks?"8":"7")));return[t("<div>").addClass("datepicker-days").append(t("<table>").addClass("table-condensed").append(e).append(t("<tbody>"))),t("<div>").addClass("datepicker-months").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone())),t("<div>").addClass("datepicker-years").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone()))]},S=function(){var e=t("<tr>"),n=t("<tr>"),i=t("<tr>");return C("h")&&(e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","incrementHours").append(t("<span>").addClass(r.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-hour").attr("data-time-component","hours").attr("data-action","showHours"))),i.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","decrementHours").append(t("<span>").addClass(r.icons.down))))),C("m")&&(C("h")&&(e.append(t("<td>").addClass("separator")),n.append(t("<td>").addClass("separator").html(":")),i.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","incrementMinutes").append(t("<span>").addClass(r.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-minute").attr("data-time-component","minutes").attr("data-action","showMinutes"))),i.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","decrementMinutes").append(t("<span>").addClass(r.icons.down))))),C("s")&&(C("m")&&(e.append(t("<td>").addClass("separator")),n.append(t("<td>").addClass("separator").html(":")),i.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","incrementSeconds").append(t("<span>").addClass(r.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-second").attr("data-time-component","seconds").attr("data-action","showSeconds"))),i.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","decrementSeconds").append(t("<span>").addClass(r.icons.down))))),o||(e.append(t("<td>").addClass("separator")),n.append(t("<td>").append(t("<button>").addClass("btn btn-primary").attr("data-action","togglePeriod"))),i.append(t("<td>").addClass("separator"))),t("<div>").addClass("timepicker-picker").append(t("<table>").addClass("table-condensed").append([e,n,i]))},P=function(){var e=t("<div>").addClass("timepicker-hours").append(t("<table>").addClass("table-condensed")),n=t("<div>").addClass("timepicker-minutes").append(t("<table>").addClass("table-condensed")),r=t("<div>").addClass("timepicker-seconds").append(t("<table>").addClass("table-condensed")),i=[S()];return C("h")&&i.push(e),C("m")&&i.push(n),C("s")&&i.push(r),i},A=function(){var e=[];return r.showTodayButton&&e.push(t("<td>").append(t("<a>").attr("data-action","today").append(t("<span>").addClass(r.icons.today)))),!r.sideBySide&&E()&&T()&&e.push(t("<td>").append(t("<a>").attr("data-action","togglePicker").append(t("<span>").addClass(r.icons.time)))),r.showClear&&e.push(t("<td>").append(t("<a>").attr("data-action","clear").append(t("<span>").addClass(r.icons.clear)))),r.showClose&&e.push(t("<td>").append(t("<a>").attr("data-action","close").append(t("<span>").addClass(r.icons.close)))),t("<table>").addClass("table-condensed").append(t("<tbody>").append(t("<tr>").append(e)));
},L=function(){var e=t("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),n=t("<div>").addClass("datepicker").append(k()),i=t("<div>").addClass("timepicker").append(P()),s=t("<ul>").addClass("list-unstyled"),a=t("<li>").addClass("picker-switch"+(r.collapse?" accordion-toggle":"")).append(A());return r.inline&&e.removeClass("dropdown-menu"),o&&e.addClass("usetwentyfour"),r.sideBySide&&E()&&T()?(e.addClass("timepicker-sbs"),e.append(t("<div>").addClass("row").append(n.addClass("col-sm-6")).append(i.addClass("col-sm-6"))),e.append(a),e):("top"===r.toolbarPlacement&&s.append(a),E()&&s.append(t("<li>").addClass(r.collapse&&T()?"collapse in":"").append(n)),"default"===r.toolbarPlacement&&s.append(a),T()&&s.append(t("<li>").addClass(r.collapse&&E()?"collapse":"").append(i)),"bottom"===r.toolbarPlacement&&s.append(a),e.append(s))},O=function(){var e,i={};return e=n.is("input")||r.inline?n.data():n.find("input").data(),e.dateOptions&&e.dateOptions instanceof Object&&(i=t.extend(!0,i,e.dateOptions)),t.each(r,function(t){var n="date"+t.charAt(0).toUpperCase()+t.slice(1);void 0!==e[n]&&(i[t]=e[n])}),i},D=function(){var e,i=(p||n).position(),o=(p||n).offset(),s=r.widgetPositioning.vertical,a=r.widgetPositioning.horizontal;if(r.widgetParent)e=r.widgetParent.append(f);else if(n.is("input"))e=n.parent().append(f);else{if(r.inline)return void(e=n.append(f));e=n,n.children().first().after(f)}if("auto"===s&&(s=o.top+1.5*f.height()>=t(window).height()+t(window).scrollTop()&&f.height()+n.outerHeight()<o.top?"top":"bottom"),"auto"===a&&(a=e.width()<o.left+f.outerWidth()/2&&o.left+f.outerWidth()>t(window).width()?"right":"left"),"top"===s?f.addClass("top").removeClass("bottom"):f.addClass("bottom").removeClass("top"),"right"===a?f.addClass("pull-right"):f.removeClass("pull-right"),"relative"!==e.css("position")&&(e=e.parents().filter(function(){return"relative"===t(this).css("position")}).first()),0===e.length)throw new Error("datetimepicker component should be placed within a relative positioned container");f.css({top:"top"===s?"auto":i.top+n.outerHeight(),bottom:"top"===s?i.top+n.outerHeight():"auto",left:"left"===a?e.css("padding-left"):"auto",right:"left"===a?"auto":e.width()-n.outerWidth()})},M=function(t){"dp.change"===t.type&&(t.date&&t.date.isSame(t.oldDate)||!t.date&&!t.oldDate)||n.trigger(t)},R=function(t){f&&(t&&(l=Math.max(m,Math.min(2,l+t))),f.find(".datepicker > div").hide().filter(".datepicker-"+g[l].clsName).show())},N=function(){var e=t("<tr>"),n=h.clone().startOf("w");for(r.calendarWeeks===!0&&e.append(t("<th>").addClass("cw").text("#"));n.isBefore(h.clone().endOf("w"));)e.append(t("<th>").addClass("dow").text(n.format("dd"))),n.add(1,"d");f.find(".datepicker-days thead").append(e)},F=function(t){return r.disabledDates[t.format("YYYY-MM-DD")]===!0},I=function(t){return r.enabledDates[t.format("YYYY-MM-DD")]===!0},B=function(t,e){return t.isValid()?r.disabledDates&&F(t)&&"M"!==e?!1:r.enabledDates&&!I(t)&&"M"!==e?!1:r.minDate&&t.isBefore(r.minDate,e)?!1:r.maxDate&&t.isAfter(r.maxDate,e)?!1:"d"===e&&-1!==r.daysOfWeekDisabled.indexOf(t.day())?!1:!0:!1},j=function(){for(var e=[],n=h.clone().startOf("y").hour(12);n.isSame(h,"y");)e.push(t("<span>").attr("data-action","selectMonth").addClass("month").text(n.format("MMM"))),n.add(1,"M");f.find(".datepicker-months td").empty().append(e)},z=function(){var e=f.find(".datepicker-months"),n=e.find("th"),r=e.find("tbody").find("span");e.find(".disabled").removeClass("disabled"),B(h.clone().subtract(1,"y"),"y")||n.eq(0).addClass("disabled"),n.eq(1).text(h.year()),B(h.clone().add(1,"y"),"y")||n.eq(2).addClass("disabled"),r.removeClass("active"),c.isSame(h,"y")&&r.eq(c.month()).addClass("active"),r.each(function(e){B(h.clone().month(e),"M")||t(this).addClass("disabled")})},V=function(){var t=f.find(".datepicker-years"),e=t.find("th"),n=h.clone().subtract(5,"y"),i=h.clone().add(6,"y"),o="";for(t.find(".disabled").removeClass("disabled"),r.minDate&&r.minDate.isAfter(n,"y")&&e.eq(0).addClass("disabled"),e.eq(1).text(n.year()+"-"+i.year()),r.maxDate&&r.maxDate.isBefore(i,"y")&&e.eq(2).addClass("disabled");!n.isAfter(i,"y");)o+='<span data-action="selectYear" class="year'+(n.isSame(c,"y")?" active":"")+(B(n,"y")?"":" disabled")+'">'+n.year()+"</span>",n.add(1,"y");t.find("td").html(o)},H=function(){var n,i,o,s=f.find(".datepicker-days"),a=s.find("th"),l=[];if(E()){for(s.find(".disabled").removeClass("disabled"),a.eq(1).text(h.format(r.dayViewHeaderFormat)),B(h.clone().subtract(1,"M"),"M")||a.eq(0).addClass("disabled"),B(h.clone().add(1,"M"),"M")||a.eq(2).addClass("disabled"),n=h.clone().startOf("M").startOf("week");!h.clone().endOf("M").endOf("w").isBefore(n,"d");)0===n.weekday()&&(i=t("<tr>"),r.calendarWeeks&&i.append('<td class="cw">'+n.week()+"</td>"),l.push(i)),o="",n.isBefore(h,"M")&&(o+=" old"),n.isAfter(h,"M")&&(o+=" new"),n.isSame(c,"d")&&!d&&(o+=" active"),B(n,"d")||(o+=" disabled"),n.isSame(e(),"d")&&(o+=" today"),(0===n.day()||6===n.day())&&(o+=" weekend"),i.append('<td data-action="selectDay" class="day'+o+'">'+n.date()+"</td>"),n.add(1,"d");s.find("tbody").empty().append(l),z(),V()}},U=function(){var e=f.find(".timepicker-hours table"),n=h.clone().startOf("d"),r=[],i=t("<tr>");for(h.hour()>11&&!o&&n.hour(12);n.isSame(h,"d")&&(o||h.hour()<12&&n.hour()<12||h.hour()>11);)n.hour()%4===0&&(i=t("<tr>"),r.push(i)),i.append('<td data-action="selectHour" class="hour'+(B(n,"h")?"":" disabled")+'">'+n.format(o?"HH":"hh")+"</td>"),n.add(1,"h");e.empty().append(r)},W=function(){for(var e=f.find(".timepicker-minutes table"),n=h.clone().startOf("h"),i=[],o=t("<tr>"),s=1===r.stepping?5:r.stepping;h.isSame(n,"h");)n.minute()%(4*s)===0&&(o=t("<tr>"),i.push(o)),o.append('<td data-action="selectMinute" class="minute'+(B(n,"m")?"":" disabled")+'">'+n.format("mm")+"</td>"),n.add(s,"m");e.empty().append(i)},q=function(){for(var e=f.find(".timepicker-seconds table"),n=h.clone().startOf("m"),r=[],i=t("<tr>");h.isSame(n,"m");)n.second()%20===0&&(i=t("<tr>"),r.push(i)),i.append('<td data-action="selectSecond" class="second'+(B(n,"s")?"":" disabled")+'">'+n.format("ss")+"</td>"),n.add(5,"s");e.empty().append(r)},$=function(){var t=f.find(".timepicker span[data-time-component]");o||f.find(".timepicker [data-action=togglePeriod]").text(c.format("A")),t.filter("[data-time-component=hours]").text(c.format(o?"HH":"hh")),t.filter("[data-time-component=minutes]").text(c.format("mm")),t.filter("[data-time-component=seconds]").text(c.format("ss")),U(),W(),q()},G=function(){f&&(H(),$())},K=function(t){var e=d?null:c;return t?(t=t.clone().locale(r.locale),1!==r.stepping&&t.minutes(Math.round(t.minutes()/r.stepping)*r.stepping%60).seconds(0),void(B(t)?(c=t,h=c.clone(),i.val(c.format(s)),n.data("date",c.format(s)),G(),d=!1,M({type:"dp.change",date:c.clone(),oldDate:e})):(r.keepInvalid||i.val(d?"":c.format(s)),M({type:"dp.error",date:t})))):(d=!0,i.val(""),n.data("date",""),M({type:"dp.change",date:null,oldDate:e}),void G())},Y=function(){var e=!1;return f?(f.find(".collapse").each(function(){var n=t(this).data("collapse");return n&&n.transitioning?(e=!0,!1):!0}),e?u:(p&&p.hasClass("btn")&&p.toggleClass("active"),f.hide(),t(window).off("resize",D),f.off("click","[data-action]"),f.off("mousedown",!1),f.remove(),f=!1,M({type:"dp.hide",date:c.clone()}),u)):u},Z=function(){K(null)},J={next:function(){h.add(g[l].navStep,g[l].navFnc),H()},previous:function(){h.subtract(g[l].navStep,g[l].navFnc),H()},pickerSwitch:function(){R(1)},selectMonth:function(e){var n=t(e.target).closest("tbody").find("span").index(t(e.target));h.month(n),l===m?(K(c.clone().year(h.year()).month(h.month())),r.inline||Y()):(R(-1),H())},selectYear:function(e){var n=parseInt(t(e.target).text(),10)||0;h.year(n),l===m?(K(c.clone().year(h.year())),r.inline||Y()):(R(-1),H())},selectDay:function(e){var n=h.clone();t(e.target).is(".old")&&n.subtract(1,"M"),t(e.target).is(".new")&&n.add(1,"M"),K(n.date(parseInt(t(e.target).text(),10))),T()||r.keepOpen||r.inline||Y()},incrementHours:function(){K(c.clone().add(1,"h"))},incrementMinutes:function(){K(c.clone().add(r.stepping,"m"))},incrementSeconds:function(){K(c.clone().add(1,"s"))},decrementHours:function(){K(c.clone().subtract(1,"h"))},decrementMinutes:function(){K(c.clone().subtract(r.stepping,"m"))},decrementSeconds:function(){K(c.clone().subtract(1,"s"))},togglePeriod:function(){K(c.clone().add(c.hours()>=12?-12:12,"h"))},togglePicker:function(e){var n,i=t(e.target),o=i.closest("ul"),s=o.find(".in"),a=o.find(".collapse:not(.in)");if(s&&s.length){if(n=s.data("collapse"),n&&n.transitioning)return;s.collapse?(s.collapse("hide"),a.collapse("show")):(s.removeClass("in"),a.addClass("in")),i.is("span")?i.toggleClass(r.icons.time+" "+r.icons.date):i.find("span").toggleClass(r.icons.time+" "+r.icons.date)}},showPicker:function(){f.find(".timepicker > div:not(.timepicker-picker)").hide(),f.find(".timepicker .timepicker-picker").show()},showHours:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-hours").show()},showMinutes:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var n=parseInt(t(e.target).text(),10);o||(c.hours()>=12?12!==n&&(n+=12):12===n&&(n=0)),K(c.clone().hours(n)),J.showPicker.call(u)},selectMinute:function(e){K(c.clone().minutes(parseInt(t(e.target).text(),10))),J.showPicker.call(u)},selectSecond:function(e){K(c.clone().seconds(parseInt(t(e.target).text(),10))),J.showPicker.call(u)},clear:Z,today:function(){K(e())},close:Y},X=function(e){return t(e.currentTarget).is(".disabled")?!1:(J[t(e.currentTarget).data("action")].apply(u,arguments),!1)},Q=function(){var n,o={year:function(t){return t.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(t){return t.date(1).hours(0).seconds(0).minutes(0)},day:function(t){return t.hours(0).seconds(0).minutes(0)},hour:function(t){return t.seconds(0).minutes(0)},minute:function(t){return t.seconds(0)}};return i.prop("disabled")||!r.ignoreReadonly&&i.prop("readonly")||f?u:(r.useCurrent&&d&&(i.is("input")&&0===i.val().trim().length||r.inline)&&(n=e(),"string"==typeof r.useCurrent&&(n=o[r.useCurrent](n)),K(n)),f=L(),N(),j(),f.find(".timepicker-hours").hide(),f.find(".timepicker-minutes").hide(),f.find(".timepicker-seconds").hide(),G(),R(),t(window).on("resize",D),f.on("click","[data-action]",X),f.on("mousedown",!1),p&&p.hasClass("btn")&&p.toggleClass("active"),f.show(),D(),i.is(":focus")||i.focus(),M({type:"dp.show"}),u)},tt=function(){return f?Y():Q()},et=function(t){return t=e.isMoment(t)||t instanceof Date?e(t):e(t,a,r.useStrict),t.locale(r.locale),t},nt=function(t){var e,n,i,o,s=null,a=[],l={},c=t.which,h="p";x[c]=h;for(e in x)x.hasOwnProperty(e)&&x[e]===h&&(a.push(e),parseInt(e,10)!==c&&(l[e]=!0));for(e in r.keyBinds)if(r.keyBinds.hasOwnProperty(e)&&"function"==typeof r.keyBinds[e]&&(i=e.split(" "),i.length===a.length&&w[c]===i[i.length-1])){for(o=!0,n=i.length-2;n>=0;n--)if(!(w[i[n]]in l)){o=!1;break}if(o){s=r.keyBinds[e];break}}s&&(s.call(u,f),t.stopPropagation(),t.preventDefault())},rt=function(t){x[t.which]="r",t.stopPropagation(),t.preventDefault()},it=function(e){var n=t(e.target).val().trim(),r=n?et(n):null;return K(r),e.stopImmediatePropagation(),!1},ot=function(){i.on({change:it,blur:r.debug?"":Y,keydown:nt,keyup:rt}),n.is("input")?i.on({focus:Q}):p&&(p.on("click",tt),p.on("mousedown",!1))},st=function(){i.off({change:it,blur:Y,keydown:nt,keyup:rt}),n.is("input")?i.off({focus:Q}):p&&(p.off("click",tt),p.off("mousedown",!1))},at=function(e){var n={};return t.each(e,function(){var t=et(this);t.isValid()&&(n[t.format("YYYY-MM-DD")]=!0)}),Object.keys(n).length?n:!1},lt=function(){var t=r.format||"L LT";s=t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){var e=c.localeData().longDateFormat(t)||t;return e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return c.localeData().longDateFormat(t)||t})}),a=r.extraFormats?r.extraFormats.slice():[],a.indexOf(t)<0&&a.indexOf(s)<0&&a.push(s),o=s.toLowerCase().indexOf("a")<1&&s.indexOf("h")<1,C("y")&&(m=2),C("M")&&(m=1),C("d")&&(m=0),l=Math.max(m,l),d||K(c)};if(u.destroy=function(){Y(),st(),n.removeData("DateTimePicker"),n.removeData("date")},u.toggle=tt,u.show=Q,u.hide=Y,u.disable=function(){return Y(),p&&p.hasClass("btn")&&p.addClass("disabled"),i.prop("disabled",!0),u},u.enable=function(){return p&&p.hasClass("btn")&&p.removeClass("disabled"),i.prop("disabled",!1),u},u.ignoreReadonly=function(t){if(0===arguments.length)return r.ignoreReadonly;if("boolean"!=typeof t)throw new TypeError("ignoreReadonly () expects a boolean parameter");return r.ignoreReadonly=t,u},u.options=function(e){if(0===arguments.length)return t.extend(!0,{},r);if(!(e instanceof Object))throw new TypeError("options() options parameter should be an object");return t.extend(!0,r,e),t.each(r,function(t,e){if(void 0===u[t])throw new TypeError("option "+t+" is not recognized!");u[t](e)}),u},u.date=function(t){if(0===arguments.length)return d?null:c.clone();if(!(null===t||"string"==typeof t||e.isMoment(t)||t instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return K(null===t?null:et(t)),u},u.format=function(t){if(0===arguments.length)return r.format;if("string"!=typeof t&&("boolean"!=typeof t||t!==!1))throw new TypeError("format() expects a sting or boolean:false parameter "+t);return r.format=t,s&&lt(),u},u.dayViewHeaderFormat=function(t){if(0===arguments.length)return r.dayViewHeaderFormat;if("string"!=typeof t)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return r.dayViewHeaderFormat=t,u},u.extraFormats=function(t){if(0===arguments.length)return r.extraFormats;if(t!==!1&&!(t instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return r.extraFormats=t,a&&lt(),u},u.disabledDates=function(e){if(0===arguments.length)return r.disabledDates?t.extend({},r.disabledDates):r.disabledDates;if(!e)return r.disabledDates=!1,G(),u;if(!(e instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return r.disabledDates=at(e),r.enabledDates=!1,G(),u},u.enabledDates=function(e){if(0===arguments.length)return r.enabledDates?t.extend({},r.enabledDates):r.enabledDates;if(!e)return r.enabledDates=!1,G(),u;if(!(e instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return r.enabledDates=at(e),r.disabledDates=!1,G(),u},u.daysOfWeekDisabled=function(t){if(0===arguments.length)return r.daysOfWeekDisabled.splice(0);if(!(t instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");return r.daysOfWeekDisabled=t.reduce(function(t,e){return e=parseInt(e,10),e>6||0>e||isNaN(e)?t:(-1===t.indexOf(e)&&t.push(e),t)},[]).sort(),G(),u},u.maxDate=function(t){if(0===arguments.length)return r.maxDate?r.maxDate.clone():r.maxDate;if("boolean"==typeof t&&t===!1)return r.maxDate=!1,G(),u;"string"==typeof t&&("now"===t||"moment"===t)&&(t=e());var n=et(t);if(!n.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+t);if(r.minDate&&n.isBefore(r.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+n.format(s));return r.maxDate=n,r.maxDate.isBefore(t)&&K(r.maxDate),h.isAfter(n)&&(h=n.clone()),G(),u},u.minDate=function(t){if(0===arguments.length)return r.minDate?r.minDate.clone():r.minDate;if("boolean"==typeof t&&t===!1)return r.minDate=!1,G(),u;"string"==typeof t&&("now"===t||"moment"===t)&&(t=e());var n=et(t);if(!n.isValid())throw new TypeError("minDate() Could not parse date parameter: "+t);if(r.maxDate&&n.isAfter(r.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+n.format(s));return r.minDate=n,r.minDate.isAfter(t)&&K(r.minDate),h.isBefore(n)&&(h=n.clone()),G(),u},u.defaultDate=function(t){if(0===arguments.length)return r.defaultDate?r.defaultDate.clone():r.defaultDate;if(!t)return r.defaultDate=!1,u;"string"==typeof t&&("now"===t||"moment"===t)&&(t=e());var n=et(t);if(!n.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+t);if(!B(n))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return r.defaultDate=n,r.defaultDate&&""===i.val().trim()&&void 0===i.attr("placeholder")&&K(r.defaultDate),u},u.locale=function(t){if(0===arguments.length)return r.locale;if(!e.localeData(t))throw new TypeError("locale() locale "+t+" is not loaded from moment locales!");return r.locale=t,c.locale(r.locale),h.locale(r.locale),s&&lt(),f&&(Y(),Q()),u},u.stepping=function(t){return 0===arguments.length?r.stepping:(t=parseInt(t,10),(isNaN(t)||1>t)&&(t=1),r.stepping=t,u)},u.useCurrent=function(t){var e=["year","month","day","hour","minute"];if(0===arguments.length)return r.useCurrent;if("boolean"!=typeof t&&"string"!=typeof t)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof t&&-1===e.indexOf(t.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+e.join(", "));return r.useCurrent=t,u},u.collapse=function(t){if(0===arguments.length)return r.collapse;if("boolean"!=typeof t)throw new TypeError("collapse() expects a boolean parameter");return r.collapse===t?u:(r.collapse=t,f&&(Y(),Q()),u)},u.icons=function(e){if(0===arguments.length)return t.extend({},r.icons);if(!(e instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return t.extend(r.icons,e),f&&(Y(),Q()),u},u.useStrict=function(t){if(0===arguments.length)return r.useStrict;if("boolean"!=typeof t)throw new TypeError("useStrict() expects a boolean parameter");return r.useStrict=t,u},u.sideBySide=function(t){if(0===arguments.length)return r.sideBySide;if("boolean"!=typeof t)throw new TypeError("sideBySide() expects a boolean parameter");return r.sideBySide=t,f&&(Y(),Q()),u},u.viewMode=function(t){if(0===arguments.length)return r.viewMode;if("string"!=typeof t)throw new TypeError("viewMode() expects a string parameter");if(-1===v.indexOf(t))throw new TypeError("viewMode() parameter must be one of ("+v.join(", ")+") value");return r.viewMode=t,l=Math.max(v.indexOf(t),m),R(),u},u.toolbarPlacement=function(t){if(0===arguments.length)return r.toolbarPlacement;if("string"!=typeof t)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===_.indexOf(t))throw new TypeError("toolbarPlacement() parameter must be one of ("+_.join(", ")+") value");return r.toolbarPlacement=t,f&&(Y(),Q()),u},u.widgetPositioning=function(e){if(0===arguments.length)return t.extend({},r.widgetPositioning);if("[object Object]"!=={}.toString.call(e))throw new TypeError("widgetPositioning() expects an object variable");if(e.horizontal){if("string"!=typeof e.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(e.horizontal=e.horizontal.toLowerCase(),-1===b.indexOf(e.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+b.join(", ")+")");r.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if("string"!=typeof e.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(e.vertical=e.vertical.toLowerCase(),-1===y.indexOf(e.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+y.join(", ")+")");r.widgetPositioning.vertical=e.vertical}return G(),u},u.calendarWeeks=function(t){if(0===arguments.length)return r.calendarWeeks;if("boolean"!=typeof t)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return r.calendarWeeks=t,G(),u},u.showTodayButton=function(t){if(0===arguments.length)return r.showTodayButton;if("boolean"!=typeof t)throw new TypeError("showTodayButton() expects a boolean parameter");return r.showTodayButton=t,f&&(Y(),Q()),u},u.showClear=function(t){if(0===arguments.length)return r.showClear;if("boolean"!=typeof t)throw new TypeError("showClear() expects a boolean parameter");return r.showClear=t,f&&(Y(),Q()),u},u.widgetParent=function(e){if(0===arguments.length)return r.widgetParent;if("string"==typeof e&&(e=t(e)),null!==e&&"string"!=typeof e&&!(e instanceof t))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return r.widgetParent=e,f&&(Y(),Q()),u},u.keepOpen=function(t){if(0===arguments.length)return r.keepOpen;if("boolean"!=typeof t)throw new TypeError("keepOpen() expects a boolean parameter");return r.keepOpen=t,u},u.inline=function(t){if(0===arguments.length)return r.inline;if("boolean"!=typeof t)throw new TypeError("inline() expects a boolean parameter");return r.inline=t,u},u.clear=function(){return Z(),u},u.keyBinds=function(t){return r.keyBinds=t,u},u.debug=function(t){if("boolean"!=typeof t)throw new TypeError("debug() expects a boolean parameter");return r.debug=t,u},u.showClose=function(t){if(0===arguments.length)return r.showClose;if("boolean"!=typeof t)throw new TypeError("showClose() expects a boolean parameter");return r.showClose=t,u},u.keepInvalid=function(t){if(0===arguments.length)return r.keepInvalid;if("boolean"!=typeof t)throw new TypeError("keepInvalid() expects a boolean parameter");return r.keepInvalid=t,u},u.datepickerInput=function(t){if(0===arguments.length)return r.datepickerInput;if("string"!=typeof t)throw new TypeError("datepickerInput() expects a string parameter");return r.datepickerInput=t,u},n.is("input"))i=n;else if(i=n.find(r.datepickerInput),0===i.size())i=n.find("input");else if(!i.is("input"))throw new Error('CSS class "'+r.datepickerInput+'" cannot be applied to non input element');if(n.hasClass("input-group")&&(p=0===n.find(".datepickerbutton").size()?n.find('[class^="input-group-"]'):n.find(".datepickerbutton")),!r.inline&&!i.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return t.extend(!0,r,O()),u.options(r),lt(),ot(),i.prop("disabled")&&u.disable(),i.is("input")&&0!==i.val().trim().length?K(et(i.val().trim())):r.defaultDate&&void 0===i.attr("placeholder")&&K(r.defaultDate),r.inline&&Q(),u};t.fn.datetimepicker=function(e){return this.each(function(){var r=t(this);r.data("DateTimePicker")||(e=t.extend(!0,{},t.fn.datetimepicker.defaults,e),r.data("DateTimePicker",n(r,e)))})},t.fn.datetimepicker.defaults={format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:e.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:[],calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(t){if(t){var n=this.date()||e();t.find(".datepicker").is(":visible")?this.date(n.clone().subtract(7,"d")):this.date(n.clone().add(1,"m"))}},down:function(t){if(!t)return void this.show();var n=this.date()||e();t.find(".datepicker").is(":visible")?this.date(n.clone().add(7,"d")):this.date(n.clone().subtract(1,"m"))},"control up":function(t){if(t){var n=this.date()||e();t.find(".datepicker").is(":visible")?this.date(n.clone().subtract(1,"y")):this.date(n.clone().add(1,"h"))}},"control down":function(t){if(t){var n=this.date()||e();t.find(".datepicker").is(":visible")?this.date(n.clone().add(1,"y")):this.date(n.clone().subtract(1,"h"))}},left:function(t){if(t){var n=this.date()||e();t.find(".datepicker").is(":visible")&&this.date(n.clone().subtract(1,"d"))}},right:function(t){if(t){var n=this.date()||e();t.find(".datepicker").is(":visible")&&this.date(n.clone().add(1,"d"))}},pageUp:function(t){if(t){var n=this.date()||e();t.find(".datepicker").is(":visible")&&this.date(n.clone().subtract(1,"M"))}},pageDown:function(t){if(t){var n=this.date()||e();t.find(".datepicker").is(":visible")&&this.date(n.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(t){t.find(".timepicker").is(":visible")&&t.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(e())},"delete":function(){this.clear()}},debug:!1}}),function(){"use strict";var t=this,e=t.Chart,n=function(t){this.canvas=t.canvas,this.ctx=t;this.width=t.canvas.width,this.height=t.canvas.height;return this.aspectRatio=this.width/this.height,r.retinaScale(this),this};n.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},n.types={};var r=n.helpers={},i=r.each=function(t,e,n){var r=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var i;for(i=0;i<t.length;i++)e.apply(n,[t[i],i].concat(r))}else for(var o in t)e.apply(n,[t[o],o].concat(r))},o=r.clone=function(t){var e={};return i(t,function(n,r){t.hasOwnProperty(r)&&(e[r]=n)}),e},s=r.extend=function(t){return i(Array.prototype.slice.call(arguments,1),function(e){i(e,function(n,r){e.hasOwnProperty(r)&&(t[r]=n)})}),t},a=r.merge=function(t,e){var n=Array.prototype.slice.call(arguments,0);return n.unshift({}),s.apply(null,n)},l=r.indexOf=function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},u=(r.where=function(t,e){var n=[];return r.each(t,function(t){e(t)&&n.push(t)}),n},r.findNextWhere=function(t,e,n){n||(n=-1);for(var r=n+1;r<t.length;r++){var i=t[r];if(e(i))return i}},r.findPreviousWhere=function(t,e,n){n||(n=t.length);for(var r=n-1;r>=0;r--){var i=t[r];if(e(i))return i}},r.inherits=function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},r=function(){this.constructor=n};return r.prototype=e.prototype,n.prototype=new r,n.extend=u,t&&s(n.prototype,t),n.__super__=e.prototype,n}),c=r.noop=function(){},h=r.uid=function(){var t=0;return function(){return"chart-"+t++}}(),d=r.warn=function(t){window.console&&"function"==typeof window.console.warn&&console.warn(t)},p=r.amd="function"==typeof define&&define.amd,f=r.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},m=r.max=function(t){return Math.max.apply(Math,t)},g=r.min=function(t){return Math.min.apply(Math,t)},v=(r.cap=function(t,e,n){if(f(e)){if(t>e)return e}else if(f(n)&&n>t)return n;return t},r.getDecimalPlaces=function(t){return t%1!==0&&f(t)?t.toString().split(".")[1].length:0}),y=r.radians=function(t){return t*(Math.PI/180)},b=(r.getAngleFromPoint=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r),o=2*Math.PI+Math.atan2(r,n);return 0>n&&0>r&&(o+=2*Math.PI),{angle:o,distance:i}},r.aliasPixel=function(t){return t%2===0?0:.5}),_=(r.splineCurve=function(t,e,n,r){var i=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),o=Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)),s=r*i/(i+o),a=r*o/(i+o);return{inner:{x:e.x-s*(n.x-t.x),y:e.y-s*(n.y-t.y)},outer:{x:e.x+a*(n.x-t.x),y:e.y+a*(n.y-t.y)}}},r.calculateOrderOfMagnitude=function(t){return Math.floor(Math.log(t)/Math.LN10)}),w=(r.calculateScaleRange=function(t,e,n,r,i){var o=2,s=Math.floor(e/(1.5*n)),a=o>=s,l=m(t),u=g(t);l===u&&(l+=.5,u>=.5&&!r?u-=.5:l+=.5);for(var c=Math.abs(l-u),h=_(c),d=Math.ceil(l/(1*Math.pow(10,h)))*Math.pow(10,h),p=r?0:Math.floor(u/(1*Math.pow(10,h)))*Math.pow(10,h),f=d-p,v=Math.pow(10,h),y=Math.round(f/v);(y>s||s>2*y)&&!a;)if(y>s)v*=2,y=Math.round(f/v),y%1!==0&&(a=!0);else if(i&&h>=0){if(v/2%1!==0)break;v/=2,y=Math.round(f/v)}else v/=2,y=Math.round(f/v);return a&&(y=o,v=f/y),{steps:y,stepValue:v,min:p,max:p+y*v}},r.template=function(t,e){function n(t,e){var n=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):r[t]=r[t];return e?n(e):n}if(t instanceof Function)return t(e);var r={};return n(t,e)}),x=(r.generateLabels=function(t,e,n,r){var o=new Array(e);return labelTemplateString&&i(o,function(e,i){o[i]=w(t,{value:n+r*(i+1)})}),o},r.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-0.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-0.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,r=1;return 0===t?0:1==(t/=1)?1:(n||(n=.3),r<Math.abs(1)?(r=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/r),-(r*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n)))},easeOutElastic:function(t){var e=1.70158,n=0,r=1;return 0===t?0:1==(t/=1)?1:(n||(n=.3),r<Math.abs(1)?(r=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*t)*Math.sin((1*t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,r=1;return 0===t?0:2==(t/=.5)?1:(n||(n=1*(.3*1.5)),r<Math.abs(1)?(r=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/r),1>t?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n)):r*Math.pow(2,-10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){
return 1-x.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?1*(7.5625*t*t):2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*x.easeInBounce(2*t):.5*x.easeOutBounce(2*t-1)+.5}}),C=r.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),T=(r.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),r.animationLoop=function(t,e,n,r,i,o){var s=0,a=x[n]||x.linear,l=function(){s++;var n=s/e,u=a(n);t.call(o,u,n,s),r.call(o,u,n),e>s?o.animationFrame=C(l):i.apply(o)};C(l)},r.getRelativePosition=function(t){var e,n,r=t.originalEvent||t,i=t.currentTarget||t.srcElement,o=i.getBoundingClientRect();return r.touches?(e=r.touches[0].clientX-o.left,n=r.touches[0].clientY-o.top):(e=r.clientX-o.left,n=r.clientY-o.top),{x:e,y:n}},r.addEvent=function(t,e,n){t.addEventListener?t.addEventListener(e,n):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}),E=r.removeEvent=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=c},k=(r.bindEvents=function(t,e,n){t.events||(t.events={}),i(e,function(e){t.events[e]=function(){n.apply(t,arguments)},T(t.chart.canvas,e,t.events[e])})},r.unbindEvents=function(t,e){i(e,function(e,n){E(t.chart.canvas,n,e)})}),S=r.getMaximumWidth=function(t){var e=t.parentNode;return e.clientWidth},P=r.getMaximumHeight=function(t){var e=t.parentNode;return e.clientHeight},A=(r.getMaximumSize=r.getMaximumWidth,r.retinaScale=function(t){var e=t.ctx,n=t.canvas.width,r=t.canvas.height;window.devicePixelRatio&&(e.canvas.style.width=n+"px",e.canvas.style.height=r+"px",e.canvas.height=r*window.devicePixelRatio,e.canvas.width=n*window.devicePixelRatio,e.scale(window.devicePixelRatio,window.devicePixelRatio))}),L=r.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},O=r.fontString=function(t,e,n){return e+" "+t+"px "+n},D=r.longestText=function(t,e,n){t.font=e;var r=0;return i(n,function(e){var n=t.measureText(e).width;r=n>r?n:r}),r},M=r.drawRoundedRectangle=function(t,e,n,r,i,o){t.beginPath(),t.moveTo(e+o,n),t.lineTo(e+r-o,n),t.quadraticCurveTo(e+r,n,e+r,n+o),t.lineTo(e+r,n+i-o),t.quadraticCurveTo(e+r,n+i,e+r-o,n+i),t.lineTo(e+o,n+i),t.quadraticCurveTo(e,n+i,e,n+i-o),t.lineTo(e,n+o),t.quadraticCurveTo(e,n,e+o,n),t.closePath()};n.instances={},n.Type=function(t,e,r){this.options=e,this.chart=r,this.id=h(),n.instances[this.id]=this,e.responsive&&this.resize(),this.initialize.call(this,t)},s(n.Type.prototype,{initialize:function(){return this},clear:function(){return L(this.chart),this},stop:function(){return r.cancelAnimFrame.call(t,this.animationFrame),this},resize:function(t){this.stop();var e=this.chart.canvas,n=S(this.chart.canvas),r=this.options.maintainAspectRatio?n/this.chart.aspectRatio:P(this.chart.canvas);return e.width=this.chart.width=n,e.height=this.chart.height=r,A(this.chart),"function"==typeof t&&t.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:c,render:function(t){return t&&this.reflow(),this.options.animation&&!t?r.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return w(this.options.legendTemplate,this)},destroy:function(){this.clear(),k(this,this.events);var t=this.chart.canvas;t.width=this.chart.width,t.height=this.chart.height,t.style.removeProperty?(t.style.removeProperty("width"),t.style.removeProperty("height")):(t.style.removeAttribute("width"),t.style.removeAttribute("height")),delete n.instances[this.id]},showTooltip:function(t,e){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var o=function(t){var e=!1;return t.length!==this.activeElements.length?e=!0:(i(t,function(t,n){t!==this.activeElements[n]&&(e=!0)},this),e)}.call(this,t);if(o||e){if(this.activeElements=t,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),t.length>0)if(this.datasets&&this.datasets.length>1){for(var s,a,u=this.datasets.length-1;u>=0&&(s=this.datasets[u].points||this.datasets[u].bars||this.datasets[u].segments,a=l(s,t[0]),-1===a);u--);var c=[],h=[],d=function(t){var e,n,i,o,s,l=[],u=[],d=[];return r.each(this.datasets,function(t){e=t.points||t.bars||t.segments,e[a]&&e[a].hasValue()&&l.push(e[a])}),r.each(l,function(t){u.push(t.x),d.push(t.y),c.push(r.template(this.options.multiTooltipTemplate,t)),h.push({fill:t._saved.fillColor||t.fillColor,stroke:t._saved.strokeColor||t.strokeColor})},this),s=g(d),i=m(d),o=g(u),n=m(u),{x:o>this.chart.width/2?o:n,y:(s+i)/2}}.call(this,a);new n.MultiTooltip({x:d.x,y:d.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:c,legendColors:h,legendColorBackground:this.options.multiTooltipKeyBackground,title:t[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else i(t,function(t){var e=t.tooltipPosition();new n.Tooltip({x:Math.round(e.x),y:Math.round(e.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:w(this.options.tooltipTemplate,t),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),n.Type.extend=function(t){var e=this,r=function(){return e.apply(this,arguments)};if(r.prototype=o(e.prototype),s(r.prototype,t),r.extend=n.Type.extend,t.name||e.prototype.name){var i=t.name||e.prototype.name,l=n.defaults[e.prototype.name]?o(n.defaults[e.prototype.name]):{};n.defaults[i]=s(l,t.defaults),n.types[i]=r,n.prototype[i]=function(t,e){var o=a(n.defaults.global,n.defaults[i],e||{});return new r(t,o,this)}}else d("Name not provided for this chart, so it hasn't been registered");return e},n.Element=function(t){s(this,t),this.initialize.apply(this,arguments),this.save()},s(n.Element.prototype,{initialize:function(){},restore:function(t){return t?i(t,function(t){this[t]=this._saved[t]},this):s(this,this._saved),this},save:function(){return this._saved=o(this),delete this._saved._saved,this},update:function(t){return i(t,function(t,e){this._saved[e]=this[e],this[e]=t},this),this},transition:function(t,e){return i(t,function(t,n){this[n]=(t-this._saved[n])*e+this._saved[n]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return f(this.value)}}),n.Element.extend=u,n.Point=n.Element.extend({display:!0,inRange:function(t,e){var n=this.hitDetectionRadius+this.radius;return Math.pow(t-this.x,2)+Math.pow(e-this.y,2)<Math.pow(n,2)},draw:function(){if(this.display){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.stroke()}}}),n.Arc=n.Element.extend({inRange:function(t,e){var n=r.getAngleFromPoint(this,{x:t,y:e}),i=n.angle>=this.startAngle&&n.angle<=this.endAngle,o=n.distance>=this.innerRadius&&n.distance<=this.outerRadius;return i&&o},tooltipPosition:function(){var t=this.startAngle+(this.endAngle-this.startAngle)/2,e=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(t)*e,y:this.y+Math.sin(t)*e}},draw:function(t){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),e.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.lineJoin="bevel",this.showStroke&&e.stroke()}}),n.Rectangle=n.Element.extend({draw:function(){var t=this.ctx,e=this.width/2,n=this.x-e,r=this.x+e,i=this.base-(this.base-this.y),o=this.strokeWidth/2;this.showStroke&&(n+=o,r-=o,i+=o),t.beginPath(),t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.moveTo(n,this.base),t.lineTo(n,i),t.lineTo(r,i),t.lineTo(r,this.base),t.fill(),this.showStroke&&t.stroke()},height:function(){return this.base-this.y},inRange:function(t,e){return t>=this.x-this.width/2&&t<=this.x+this.width/2&&e>=this.y&&e<=this.base}}),n.Tooltip=n.Element.extend({draw:function(){var t=this.chart.ctx;t.font=O(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var e=this.caretPadding=2,n=t.measureText(this.text).width+2*this.xPadding,r=this.fontSize+2*this.yPadding,i=r+this.caretHeight+e;this.x+n/2>this.chart.width?this.xAlign="left":this.x-n/2<0&&(this.xAlign="right"),this.y-i<0&&(this.yAlign="below");var o=this.x-n/2,s=this.y-i;if(t.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":t.beginPath(),t.moveTo(this.x,this.y-e),t.lineTo(this.x+this.caretHeight,this.y-(e+this.caretHeight)),t.lineTo(this.x-this.caretHeight,this.y-(e+this.caretHeight)),t.closePath(),t.fill();break;case"below":s=this.y+e+this.caretHeight,t.beginPath(),t.moveTo(this.x,this.y+e),t.lineTo(this.x+this.caretHeight,this.y+e+this.caretHeight),t.lineTo(this.x-this.caretHeight,this.y+e+this.caretHeight),t.closePath(),t.fill()}switch(this.xAlign){case"left":o=this.x-n+(this.cornerRadius+this.caretHeight);break;case"right":o=this.x-(this.cornerRadius+this.caretHeight)}M(t,o,s,n,r,this.cornerRadius),t.fill(),t.fillStyle=this.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(this.text,o+n/2,s+r/2)}}}),n.MultiTooltip=n.Element.extend({initialize:function(){this.font=O(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=O(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var t=this.ctx.measureText(this.title).width,e=D(this.ctx,this.font,this.labels)+this.fontSize+3,n=m([e,t]);this.width=n+2*this.xPadding;var r=this.height/2;this.y-r<0?this.y=r:this.y+r>this.chart.height&&(this.y=this.chart.height-r),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(t){var e=this.y-this.height/2+this.yPadding,n=t-1;return 0===t?e+this.titleFontSize/2:e+(1.5*this.fontSize*n+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{M(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var t=this.ctx;t.fillStyle=this.fillColor,t.fill(),t.closePath(),t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.titleTextColor,t.font=this.titleFont,t.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),t.font=this.font,r.each(this.labels,function(e,n){t.fillStyle=this.textColor,t.fillText(e,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(n+1)),t.fillStyle=this.legendColorBackground,t.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize),t.fillStyle=this.legendColors[n].fill,t.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),n.Scale=n.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),e=0;e<=this.steps;e++)this.yLabels.push(w(this.templateString,{value:(this.min+e*this.stepValue).toFixed(t)}));this.yLabelWidth=this.display&&this.showLabels?D(this.ctx,this.font,this.yLabels):0},addXLabel:function(t){this.xLabels.push(t),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var t,e=this.endPoint-this.startPoint;for(this.calculateYRange(e),this.buildYLabels(),this.calculateXLabelRotation();e>this.endPoint-this.startPoint;)e=this.endPoint-this.startPoint,t=this.yLabelWidth,this.calculateYRange(e),this.buildYLabels(),t<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var t,e,n=this.ctx.measureText(this.xLabels[0]).width,r=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=r/2+3,this.xScalePaddingLeft=n/2>this.yLabelWidth+10?n/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var i,o=D(this.ctx,this.font,this.xLabels);this.xLabelWidth=o;for(var s=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>s&&0===this.xLabelRotation||this.xLabelWidth>s&&this.xLabelRotation<=90&&this.xLabelRotation>0;)i=Math.cos(y(this.xLabelRotation)),t=i*n,e=i*r,t+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=t+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=i*o;this.xLabelRotation>0&&(this.endPoint-=Math.sin(y(this.xLabelRotation))*o+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:c,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(t){var e=this.drawingArea()/(this.min-this.max);return this.endPoint-e*(t-this.min)},calculateX:function(t){var e=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),n=e/(this.valuesCount-(this.offsetGridLines?0:1)),r=n*t+this.xScalePaddingLeft;return this.offsetGridLines&&(r+=n/2),Math.round(r)},update:function(t){r.extend(this,t),this.fit()},draw:function(){var t=this.ctx,e=(this.endPoint-this.startPoint)/this.steps,n=Math.round(this.xScalePaddingLeft);this.display&&(t.fillStyle=this.textColor,t.font=this.font,i(this.yLabels,function(i,o){var s=this.endPoint-e*o,a=Math.round(s),l=this.showHorizontalLines;t.textAlign="right",t.textBaseline="middle",this.showLabels&&t.fillText(i,n-10,s),0!==o||l||(l=!0),l&&t.beginPath(),o>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),a+=r.aliasPixel(t.lineWidth),l&&(t.moveTo(n,a),t.lineTo(this.width,a),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(n-5,a),t.lineTo(n,a),t.stroke(),t.closePath()},this),i(this.xLabels,function(e,n){var r=this.calculateX(n)+b(this.lineWidth),i=this.calculateX(n-(this.offsetGridLines?.5:0))+b(this.lineWidth),o=this.xLabelRotation>0,s=this.showVerticalLines;0!==n||s||(s=!0),s&&t.beginPath(),n>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),s&&(t.moveTo(i,this.endPoint),t.lineTo(i,this.startPoint-3),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(i,this.endPoint),t.lineTo(i,this.endPoint+5),t.stroke(),t.closePath(),t.save(),t.translate(r,o?this.endPoint+12:this.endPoint+8),t.rotate(-1*y(this.xLabelRotation)),t.font=this.font,t.textAlign=o?"right":"center",t.textBaseline=o?"middle":"top",t.fillText(e,0,0),t.restore()},this))}}),n.RadialScale=n.Element.extend({initialize:function(){this.size=g([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(t){var e=this.drawingArea/(this.max-this.min);return(t-this.min)*e},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),e=0;e<=this.steps;e++)this.yLabels.push(w(this.templateString,{value:(this.min+e*this.stepValue).toFixed(t)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var t,e,n,r,i,o,s,a,l,u,c,h,d=g([this.height/2-this.pointLabelFontSize-5,this.width/2]),p=this.width,m=0;for(this.ctx.font=O(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e=0;e<this.valuesCount;e++)t=this.getPointPosition(e,d),n=this.ctx.measureText(w(this.templateString,{value:this.labels[e]})).width+5,0===e||e===this.valuesCount/2?(r=n/2,t.x+r>p&&(p=t.x+r,i=e),t.x-r<m&&(m=t.x-r,s=e)):e<this.valuesCount/2?t.x+n>p&&(p=t.x+n,i=e):e>this.valuesCount/2&&t.x-n<m&&(m=t.x-n,s=e);l=m,u=Math.ceil(p-this.width),o=this.getIndexAngle(i),a=this.getIndexAngle(s),c=u/Math.sin(o+Math.PI/2),h=l/Math.sin(a+Math.PI/2),c=f(c)?c:0,h=f(h)?h:0,this.drawingArea=d-(h+c)/2,this.setCenterPoint(h,c)},setCenterPoint:function(t,e){var n=this.width-e-this.drawingArea,r=t+this.drawingArea;this.xCenter=(r+n)/2,this.yCenter=this.height/2},getIndexAngle:function(t){var e=2*Math.PI/this.valuesCount;return t*e-Math.PI/2},getPointPosition:function(t,e){var n=this.getIndexAngle(t);return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter}},draw:function(){if(this.display){var t=this.ctx;if(i(this.yLabels,function(e,n){if(n>0){var r,i=n*(this.drawingArea/this.steps),o=this.yCenter-i;if(this.lineWidth>0)if(t.strokeStyle=this.lineColor,t.lineWidth=this.lineWidth,this.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,i,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var s=0;s<this.valuesCount;s++)r=this.getPointPosition(s,this.calculateCenterOffset(this.min+n*this.stepValue)),0===s?t.moveTo(r.x,r.y):t.lineTo(r.x,r.y);t.closePath(),t.stroke()}if(this.showLabels){if(t.font=O(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var a=t.measureText(e).width;t.fillStyle=this.backdropColor,t.fillRect(this.xCenter-a/2-this.backdropPaddingX,o-this.fontSize/2-this.backdropPaddingY,a+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.fontColor,t.fillText(e,this.xCenter,o)}}},this),!this.lineArc){t.lineWidth=this.angleLineWidth,t.strokeStyle=this.angleLineColor;for(var e=this.valuesCount-1;e>=0;e--){if(this.angleLineWidth>0){var n=this.getPointPosition(e,this.calculateCenterOffset(this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(n.x,n.y),t.stroke(),t.closePath()}var r=this.getPointPosition(e,this.calculateCenterOffset(this.max)+5);t.font=O(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t.fillStyle=this.pointLabelFontColor;var o=this.labels.length,s=this.labels.length/2,a=s/2,l=a>e||e>o-a,u=e===a||e===o-a;0===e?t.textAlign="center":e===s?t.textAlign="center":s>e?t.textAlign="left":t.textAlign="right",u?t.textBaseline="middle":l?t.textBaseline="bottom":t.textBaseline="top",t.fillText(this.labels[e],r.x,r.y)}}}}}),r.addEvent(window,"resize",function(){var t;return function(){clearTimeout(t),t=setTimeout(function(){i(n.instances,function(t){t.options.responsive&&t.resize(t.render,!0)})},50)}}()),p?define(function(){return n}):"object"==typeof module&&module.exports&&(module.exports=n),t.Chart=n,n.noConflict=function(){return t.Chart=e,n}}.call(this),function(){"use strict";var t=this,e=t.Chart,n=e.helpers,r={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Bar",defaults:r,initialize:function(t){var r=this.options;this.ScaleClass=e.Scale.extend({offsetGridLines:!0,calculateBarX:function(t,e,n){var i=this.calculateBaseWidth(),o=this.calculateX(n)-i/2,s=this.calculateBarWidth(t);return o+s*e+e*r.barDatasetSpacing+s/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*r.barValueSpacing},calculateBarWidth:function(t){var e=this.calculateBaseWidth()-(t-1)*r.barDatasetSpacing;return e/t}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getBarsAtEvent(t):[];this.eachBars(function(t){t.restore(["fillColor","strokeColor"])}),n.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),this.BarClass=e.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),n.each(t.datasets,function(e,r){var i={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,bars:[]};this.datasets.push(i),n.each(e.data,function(n,r){i.bars.push(new this.BarClass({value:n,label:t.labels[r],datasetLabel:e.label,strokeColor:e.strokeColor,fillColor:e.fillColor,highlightFill:e.highlightFill||e.fillColor,highlightStroke:e.highlightStroke||e.strokeColor}))},this)},this),this.buildScale(t.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(t,e,r){n.extend(t,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,r,e),y:this.scale.endPoint}),t.save()},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachBars(function(t){t.save()}),this.render()},eachBars:function(t){n.each(this.datasets,function(e,r){n.each(e.bars,t,this,r)},this)},getBarsAtEvent:function(t){for(var e,r=[],i=n.getRelativePosition(t),o=function(t){r.push(t.bars[e])},s=0;s<this.datasets.length;s++)for(e=0;e<this.datasets[s].bars.length;e++)if(this.datasets[s].bars[e].inRange(i.x,i.y))return n.each(this.datasets,o),r;return r},buildScale:function(t){var e=this,r=function(){var t=[];return e.eachBars(function(e){t.push(e.value)}),t},i={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var e=n.calculateScaleRange(r(),t,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,e)},xLabels:t,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(i,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(i)},addData:function(t,e){n.each(t,function(t,n){this.datasets[n].bars.push(new this.BarClass({value:t,label:e,x:this.scale.calculateBarX(this.datasets.length,n,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[n].strokeColor,fillColor:this.datasets[n].fillColor}))},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(t){t.bars.shift()},this),this.update()},reflow:function(){n.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var t=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var e=t||1;this.clear();this.chart.ctx;this.scale.draw(e),n.each(this.datasets,function(t,r){n.each(t.bars,function(t,n){t.hasValue()&&(t.base=this.scale.endPoint,t.transition({x:this.scale.calculateBarX(this.datasets.length,r,n),y:this.scale.calculateY(t.value),width:this.scale.calculateBarWidth(this.datasets.length)},e).draw())},this)},this)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,n=e.helpers,r={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Doughnut",defaults:r,initialize:function(t){this.segments=[],this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=e.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];n.each(this.segments,function(t){t.restore(["fillColor"])}),n.each(e,function(t){t.fillColor=t.highlightColor}),this.showTooltip(e)}),this.calculateTotal(t),n.each(t,function(t,e){this.addData(t,e,!0)},this),this.render()},getSegmentsAtEvent:function(t){var e=[],r=n.getRelativePosition(t);return n.each(this.segments,function(t){t.inRange(r.x,r.y)&&e.push(t)},this),e},addData:function(t,e,n){var r=e||this.segments.length;this.segments.splice(r,0,new this.SegmentArc({value:t.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:t.color,highlightColor:t.highlight||t.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(t.value),label:t.label})),n||(this.reflow(),this.update())},calculateCircumference:function(t){return 2*Math.PI*(t/this.total)},calculateTotal:function(t){this.total=0,n.each(t,function(t){this.total+=t.value},this)},update:function(){this.calculateTotal(this.segments),n.each(this.activeElements,function(t){t.restore(["fillColor"])}),n.each(this.segments,function(t){t.save()}),this.render()},removeData:function(t){var e=n.isNumber(t)?t:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,n.each(this.segments,function(t){t.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(t){var e=t?t:1;this.clear(),n.each(this.segments,function(t,n){t.transition({circumference:this.calculateCircumference(t.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},e),t.endAngle=t.startAngle+t.circumference,t.draw(),0===n&&(t.startAngle=1.5*Math.PI),n<this.segments.length-1&&(this.segments[n+1].startAngle=t.endAngle)},this)}}),e.types.Doughnut.extend({name:"Pie",defaults:n.merge(r,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var t=this,e=t.Chart,n=e.helpers,r={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Line",defaults:r,initialize:function(t){this.PointClass=e.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(t){return Math.pow(t-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),n.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),n.each(t.datasets,function(e){var r={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};this.datasets.push(r),n.each(e.data,function(n,i){r.points.push(new this.PointClass({value:n,label:t.labels[i],datasetLabel:e.label,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))},this),this.buildScale(t.labels),this.eachPoints(function(t,e){n.extend(t,{x:this.scale.calculateX(e),y:this.scale.endPoint}),t.save()},this)},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachPoints(function(t){t.save()}),this.render()},eachPoints:function(t){n.each(this.datasets,function(e){n.each(e.points,t,this)},this)},getPointsAtEvent:function(t){var e=[],r=n.getRelativePosition(t);return n.each(this.datasets,function(t){n.each(t.points,function(t){t.inRange(r.x,r.y)&&e.push(t)})},this),e},buildScale:function(t){var r=this,i=function(){var t=[];return r.eachPoints(function(e){t.push(e.value)}),t},o={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var e=n.calculateScaleRange(i(),t,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,e)},xLabels:t,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,
showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(o,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new e.Scale(o)},addData:function(t,e){n.each(t,function(t,n){this.datasets[n].points.push(new this.PointClass({value:t,label:e,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[n].pointStrokeColor,fillColor:this.datasets[n].pointColor}))},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(t){t.points.shift()},this),this.update()},reflow:function(){var t=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var e=t||1;this.clear();var r=this.chart.ctx,i=function(t){return null!==t.value},o=function(t,e,r){return n.findNextWhere(e,i,r)||t},s=function(t,e,r){return n.findPreviousWhere(e,i,r)||t};this.scale.draw(e),n.each(this.datasets,function(t){var a=n.where(t.points,i);n.each(t.points,function(t,n){t.hasValue()&&t.transition({y:this.scale.calculateY(t.value),x:this.scale.calculateX(n)},e)},this),this.options.bezierCurve&&n.each(a,function(t,e){var r=e>0&&e<a.length-1?this.options.bezierCurveTension:0;t.controlPoints=n.splineCurve(s(t,a,e),t,o(t,a,e),r),t.controlPoints.outer.y>this.scale.endPoint?t.controlPoints.outer.y=this.scale.endPoint:t.controlPoints.outer.y<this.scale.startPoint&&(t.controlPoints.outer.y=this.scale.startPoint),t.controlPoints.inner.y>this.scale.endPoint?t.controlPoints.inner.y=this.scale.endPoint:t.controlPoints.inner.y<this.scale.startPoint&&(t.controlPoints.inner.y=this.scale.startPoint)},this),r.lineWidth=this.options.datasetStrokeWidth,r.strokeStyle=t.strokeColor,r.beginPath(),n.each(a,function(t,e){if(0===e)r.moveTo(t.x,t.y);else if(this.options.bezierCurve){var n=s(t,a,e);r.bezierCurveTo(n.controlPoints.outer.x,n.controlPoints.outer.y,t.controlPoints.inner.x,t.controlPoints.inner.y,t.x,t.y)}else r.lineTo(t.x,t.y)},this),r.stroke(),this.options.datasetFill&&a.length>0&&(r.lineTo(a[a.length-1].x,this.scale.endPoint),r.lineTo(a[0].x,this.scale.endPoint),r.fillStyle=t.fillColor,r.closePath(),r.fill()),n.each(a,function(t){t.draw()})},this)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,n=e.helpers,r={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"PolarArea",defaults:r,initialize:function(t){this.segments=[],this.SegmentArc=e.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new e.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:t.length}),this.updateScaleRange(t),this.scale.update(),n.each(t,function(t,e){this.addData(t,e,!0)},this),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];n.each(this.segments,function(t){t.restore(["fillColor"])}),n.each(e,function(t){t.fillColor=t.highlightColor}),this.showTooltip(e)}),this.render()},getSegmentsAtEvent:function(t){var e=[],r=n.getRelativePosition(t);return n.each(this.segments,function(t){t.inRange(r.x,r.y)&&e.push(t)},this),e},addData:function(t,e,n){var r=e||this.segments.length;this.segments.splice(r,0,new this.SegmentArc({fillColor:t.color,highlightColor:t.highlight||t.color,label:t.label,value:t.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(t.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),n||(this.reflow(),this.update())},removeData:function(t){var e=n.isNumber(t)?t:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},calculateTotal:function(t){this.total=0,n.each(t,function(t){this.total+=t.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(t){var e=[];n.each(t,function(t){e.push(t.value)});var r=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(e,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,r,{size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),n.each(this.segments,function(t){t.save()}),this.render()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),n.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),n.each(this.segments,function(t){t.update({outerRadius:this.scale.calculateCenterOffset(t.value)})},this)},draw:function(t){var e=t||1;this.clear(),n.each(this.segments,function(t,n){t.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(t.value)},e),t.endAngle=t.startAngle+t.circumference,0===n&&(t.startAngle=1.5*Math.PI),n<this.segments.length-1&&(this.segments[n+1].startAngle=t.endAngle),t.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var t=this,e=t.Chart,n=e.helpers;e.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(t){this.PointClass=e.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(t),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),n.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),n.each(t.datasets,function(e){var r={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};this.datasets.push(r),n.each(e.data,function(n,i){var o;this.scale.animation||(o=this.scale.getPointPosition(i,this.scale.calculateCenterOffset(n))),r.points.push(new this.PointClass({value:n,label:t.labels[i],datasetLabel:e.label,x:this.options.animation?this.scale.xCenter:o.x,y:this.options.animation?this.scale.yCenter:o.y,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(t){n.each(this.datasets,function(e){n.each(e.points,t,this)},this)},getPointsAtEvent:function(t){var e=n.getRelativePosition(t),r=n.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},e),i=2*Math.PI/this.scale.valuesCount,o=Math.round((r.angle-1.5*Math.PI)/i),s=[];return(o>=this.scale.valuesCount||0>o)&&(o=0),r.distance<=this.scale.drawingArea&&n.each(this.datasets,function(t){s.push(t.points[o])}),s},buildScale:function(t){this.scale=new e.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:t.labels,valuesCount:t.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(t.datasets),this.scale.buildYLabels()},updateScaleRange:function(t){var e=function(){var e=[];return n.each(t,function(t){t.data?e=e.concat(t.data):n.each(t.points,function(t){e.push(t.value)})}),e}(),r=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(e,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,r)},addData:function(t,e){this.scale.valuesCount++,n.each(t,function(t,n){var r=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(t));this.datasets[n].points.push(new this.PointClass({value:t,label:e,x:r.x,y:r.y,strokeColor:this.datasets[n].pointStrokeColor,fillColor:this.datasets[n].pointColor}))},this),this.scale.labels.push(e),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),n.each(this.datasets,function(t){t.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(t){t.save()}),this.reflow(),this.render()},reflow:function(){n.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(t){var e=t||1,r=this.chart.ctx;this.clear(),this.scale.draw(),n.each(this.datasets,function(t){n.each(t.points,function(t,n){t.hasValue()&&t.transition(this.scale.getPointPosition(n,this.scale.calculateCenterOffset(t.value)),e)},this),r.lineWidth=this.options.datasetStrokeWidth,r.strokeStyle=t.strokeColor,r.beginPath(),n.each(t.points,function(t,e){0===e?r.moveTo(t.x,t.y):r.lineTo(t.x,t.y)},this),r.closePath(),r.stroke(),r.fillStyle=t.fillColor,r.fill(),n.each(t.points,function(t){t.hasValue()&&t.draw()})},this)}})}.call(this),function(t,e){"use strict";var n;if("object"==typeof exports){try{n=require("moment")}catch(r){}module.exports=e(n)}else"function"==typeof define&&define.amd?define(function(t){var r="moment";try{n=t(r)}catch(i){}return e(n)}):t.Pikaday=e(t.moment)}(this,function(t){"use strict";var e="function"==typeof t,n=!!window.addEventListener,r=window.document,i=window.setTimeout,o=function(t,e,r,i){n?t.addEventListener(e,r,!!i):t.attachEvent("on"+e,r)},s=function(t,e,r,i){n?t.removeEventListener(e,r,!!i):t.detachEvent("on"+e,r)},a=function(t,e,n){var i;r.createEvent?(i=r.createEvent("HTMLEvents"),i.initEvent(e,!0,!1),i=b(i,n),t.dispatchEvent(i)):r.createEventObject&&(i=r.createEventObject(),i=b(i,n),t.fireEvent("on"+e,i))},l=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},u=function(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")},c=function(t,e){u(t,e)||(t.className=""===t.className?e:t.className+" "+e)},h=function(t,e){t.className=l((" "+t.className+" ").replace(" "+e+" "," "))},d=function(t){return/Array/.test(Object.prototype.toString.call(t))},p=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},f=function(t){var e=t.getDay();return 0===e||6===e},m=function(t){return t%4===0&&t%100!==0||t%400===0},g=function(t,e){return[31,m(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},v=function(t){p(t)&&t.setHours(0,0,0,0)},y=function(t,e){return t.getTime()===e.getTime()},b=function(t,e,n){var r,i;for(r in e)i=void 0!==t[r],i&&"object"==typeof e[r]&&null!==e[r]&&void 0===e[r].nodeName?p(e[r])?n&&(t[r]=new Date(e[r].getTime())):d(e[r])?n&&(t[r]=e[r].slice(0)):t[r]=b({},e[r],n):(n||!i)&&(t[r]=e[r]);return t},_=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},w={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},x=function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},C=function(t){if(t.isEmpty)return'<td class="is-empty"></td>';var e=[];return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&e.push("is-selected"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'"><button class="pika-button pika-day" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"},T=function(t,e,n){var r=new Date(n,0,1),i=Math.ceil(((new Date(n,e,t)-r)/864e5+r.getDay()+1)/7);return'<td class="pika-week">'+i+"</td>"},E=function(t,e){return"<tr>"+(e?t.reverse():t).join("")+"</tr>"},k=function(t){return"<tbody>"+t.join("")+"</tbody>"},S=function(t){var e,n=[];for(t.showWeekNumber&&n.push("<th></th>"),e=0;7>e;e++)n.push('<th scope="col"><abbr title="'+x(t,e)+'">'+x(t,e,!0)+"</abbr></th>");return"<thead>"+(t.isRTL?n.reverse():n).join("")+"</thead>"},P=function(t,e,n,r,i){var o,s,a,l,u,c=t._o,h=n===c.minYear,p=n===c.maxYear,f='<div class="pika-title">',m=!0,g=!0;for(a=[],o=0;12>o;o++)a.push('<option value="'+(n===i?o-e:12+o-e)+'"'+(o===r?" selected":"")+(h&&o<c.minMonth||p&&o>c.maxMonth?"disabled":"")+">"+c.i18n.months[o]+"</option>");for(l='<div class="pika-label">'+c.i18n.months[r]+'<select class="pika-select pika-select-month" tabindex="-1">'+a.join("")+"</select></div>",d(c.yearRange)?(o=c.yearRange[0],s=c.yearRange[1]+1):(o=n-c.yearRange,s=1+n+c.yearRange),a=[];s>o&&o<=c.maxYear;o++)o>=c.minYear&&a.push('<option value="'+o+'"'+(o===n?" selected":"")+">"+o+"</option>");return u='<div class="pika-label">'+n+c.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+a.join("")+"</select></div>",f+=c.showMonthAfterYear?u+l:l+u,h&&(0===r||c.minMonth>=r)&&(m=!1),p&&(11===r||c.maxMonth<=r)&&(g=!1),0===e&&(f+='<button class="pika-prev'+(m?"":" is-disabled")+'" type="button">'+c.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(f+='<button class="pika-next'+(g?"":" is-disabled")+'" type="button">'+c.i18n.nextMonth+"</button>"),f+="</div>"},A=function(t,e){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+S(t)+k(e)+"</table>"},L=function(s){var a=this,l=a.config(s);a._onMouseDown=function(t){if(a._v){t=t||window.event;var e=t.target||t.srcElement;if(e){if(!u(e.parentNode,"is-disabled")){if(u(e,"pika-button")&&!u(e,"is-empty"))return a.setDate(new Date(e.getAttribute("data-pika-year"),e.getAttribute("data-pika-month"),e.getAttribute("data-pika-day"))),void(l.bound&&i(function(){a.hide(),l.field&&l.field.blur()},100));u(e,"pika-prev")?a.prevMonth():u(e,"pika-next")&&a.nextMonth()}if(u(e,"pika-select"))a._c=!0;else{if(!t.preventDefault)return t.returnValue=!1,!1;t.preventDefault()}}}},a._onChange=function(t){t=t||window.event;var e=t.target||t.srcElement;e&&(u(e,"pika-select-month")?a.gotoMonth(e.value):u(e,"pika-select-year")&&a.gotoYear(e.value))},a._onInputChange=function(n){var r;n.firedBy!==a&&(e?(r=t(l.field.value,l.format),r=r&&r.isValid()?r.toDate():null):r=new Date(Date.parse(l.field.value)),p(r)&&a.setDate(r),a._v||a.show())},a._onInputFocus=function(){a.show()},a._onInputClick=function(){a.show()},a._onInputBlur=function(){var t=r.activeElement;do if(u(t,"pika-single"))return;while(t=t.parentNode);a._c||(a._b=i(function(){a.hide()},50)),a._c=!1},a._onClick=function(t){t=t||window.event;var e=t.target||t.srcElement,r=e;if(e){!n&&u(e,"pika-select")&&(e.onchange||(e.setAttribute("onchange","return;"),o(e,"change",a._onChange)));do if(u(r,"pika-single")||r===l.trigger)return;while(r=r.parentNode);a._v&&e!==l.trigger&&r!==l.trigger&&a.hide()}},a.el=r.createElement("div"),a.el.className="pika-single"+(l.isRTL?" is-rtl":"")+(l.theme?" "+l.theme:""),o(a.el,"ontouchend"in r?"touchend":"mousedown",a._onMouseDown,!0),o(a.el,"change",a._onChange),l.field&&(l.container?l.container.appendChild(a.el):l.bound?r.body.appendChild(a.el):l.field.parentNode.insertBefore(a.el,l.field.nextSibling),o(l.field,"change",a._onInputChange),l.defaultDate||(e&&l.field.value?l.defaultDate=t(l.field.value,l.format).toDate():l.defaultDate=new Date(Date.parse(l.field.value)),l.setDefaultDate=!0));var c=l.defaultDate;p(c)?l.setDefaultDate?a.setDate(c,!0):a.gotoDate(c):a.gotoDate(new Date),l.bound?(this.hide(),a.el.className+=" is-bound",o(l.trigger,"click",a._onInputClick),o(l.trigger,"focus",a._onInputFocus),o(l.trigger,"blur",a._onInputBlur)):this.show()};return L.prototype={config:function(t){this._o||(this._o=b({},w,!0));var e=b(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.theme="string"==typeof e.theme&&e.theme?e.theme:null,e.bound=!!(void 0!==e.bound?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn="function"==typeof e.disableDayFn?e.disableDayFn:null;var n=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=n>4?4:n,p(e.minDate)||(e.minDate=!1),p(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&this.setMinDate(e.minDate),e.maxDate&&(v(e.maxDate),e.maxYear=e.maxDate.getFullYear(),e.maxMonth=e.maxDate.getMonth()),d(e.yearRange)){var r=(new Date).getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||r,e.yearRange[1]=parseInt(e.yearRange[1],10)||r}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||w.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(n){return p(this._d)?e?t(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return e?t(this._d):null},setMoment:function(n,r){e&&t.isMoment(n)&&this.setDate(n.toDate(),r)},getDate:function(){return p(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",a(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof t&&(t=new Date(Date.parse(t))),p(t)){var n=this._o.minDate,r=this._o.maxDate;p(n)&&n>t?t=n:p(r)&&t>r&&(t=r),this._d=new Date(t.getTime()),v(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),a(this._o.field,"change",{firedBy:this})),e||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(t){var e=!0;if(p(t)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=t.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),e=i<n.getTime()||r.getTime()<i}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustCalendars:function(){this.calendars[0]=_(this.calendars[0]);for(var t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=_({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){v(t),this._o.minDate=t,this._o.minYear=t.getFullYear(),this._o.minMonth=t.getMonth()},setMaxDate:function(t){this._o.maxDate=t},setStartRange:function(t){this._o.startRange=t},setEndRange:function(t){this._o.endRange=t},draw:function(t){if(this._v||t){var e=this._o,n=e.minYear,r=e.maxYear,o=e.minMonth,s=e.maxMonth,a="";this._y<=n&&(this._y=n,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=r&&(this._y=r,!isNaN(s)&&this._m>s&&(this._m=s));for(var l=0;l<e.numberOfMonths;l++)a+='<div class="pika-lendar">'+P(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year)+this.render(this.calendars[l].year,this.calendars[l].month)+"</div>";if(this.el.innerHTML=a,e.bound&&"hidden"!==e.field.type&&i(function(){e.trigger.focus()},1),"function"==typeof this._o.onDraw){var u=this;i(function(){u._o.onDraw.call(u)},0)}}},adjustPosition:function(){var t,e,n,i,o,s,a,l,u,c;if(!this._o.container){if(this.el.style.position="absolute",t=this._o.trigger,e=t,n=this.el.offsetWidth,i=this.el.offsetHeight,o=window.innerWidth||r.documentElement.clientWidth,s=window.innerHeight||r.documentElement.clientHeight,a=window.pageYOffset||r.body.scrollTop||r.documentElement.scrollTop,"function"==typeof t.getBoundingClientRect)c=t.getBoundingClientRect(),l=c.left+window.pageXOffset,u=c.bottom+window.pageYOffset;else for(l=e.offsetLeft,u=e.offsetTop+e.offsetHeight;e=e.offsetParent;)l+=e.offsetLeft,u+=e.offsetTop;(this._o.reposition&&l+n>o||this._o.position.indexOf("right")>-1&&l-n+t.offsetWidth>0)&&(l=l-n+t.offsetWidth),(this._o.reposition&&u+i>s+a||this._o.position.indexOf("top")>-1&&u-i-t.offsetHeight>0)&&(u=u-i-t.offsetHeight),this.el.style.left=l+"px",this.el.style.top=u+"px"}},render:function(t,e){var n=this._o,r=new Date,i=g(t,e),o=new Date(t,e,1).getDay(),s=[],a=[];v(r),n.firstDay>0&&(o-=n.firstDay,0>o&&(o+=7));for(var l=i+o,u=l;u>7;)u-=7;l+=7-u;for(var c=0,h=0;l>c;c++){var d,m=new Date(t,e,1+(c-o)),b=p(this._d)?y(m,this._d):!1,_=y(m,r),w=o>c||c>=i+o,x=n.startRange&&y(n.startRange,m),k=n.endRange&&y(n.endRange,m),S=n.startRange&&n.endRange&&n.startRange<m&&m<n.endRange,P=n.minDate&&m<n.minDate||n.maxDate&&m>n.maxDate||n.disableWeekends&&f(m)||n.disableDayFn&&n.disableDayFn(m),d={day:1+(c-o),month:e,year:t,isSelected:b,isToday:_,isDisabled:P,isEmpty:w,isStartRange:x,isEndRange:k,isInRange:S};a.push(C(d)),7===++h&&(n.showWeekNumber&&a.unshift(T(c-o,e,t)),s.push(E(a,n.isRTL)),a=[],h=0)}return A(n,s)},isVisible:function(){return this._v},show:function(){this._v||(h(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(o(r,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var t=this._v;t!==!1&&(this._o.bound&&s(r,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",c(this.el,"is-hidden"),this._v=!1,void 0!==t&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),s(this.el,"mousedown",this._onMouseDown,!0),s(this.el,"change",this._onChange),this._o.field&&(s(this._o.field,"change",this._onInputChange),this._o.bound&&(s(this._o.trigger,"click",this._onInputClick),s(this._o.trigger,"focus",this._onInputFocus),s(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},L}),function(t,e,n){var r=t.L,i={};i.version="0.7.2","object"==typeof module&&"object"==typeof module.exports?module.exports=i:"function"==typeof define&&define.amd&&define(i),i.noConflict=function(){return t.L=r,this},t.L=i,i.Util={extend:function(t){var e,n,r,i,o=Array.prototype.slice.call(arguments,1);for(n=0,r=o.length;r>n;n++){i=o[n]||{};for(e in i)i.hasOwnProperty(e)&&(t[e]=i[e])}return t},bind:function(t,e){var n=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(e,n||arguments)}},stamp:function(){var t=0,e="_leaflet_id";return function(n){return n[e]=n[e]||++t,n[e]}}(),invokeEach:function(t,e,n){var r,i;if("object"==typeof t){i=Array.prototype.slice.call(arguments,3);for(r in t)e.apply(n,[r,t[r]].concat(i));return!0}return!1},limitExecByInterval:function(t,e,n){var r,i;return function o(){var s=arguments;return r?void(i=!0):(r=!0,setTimeout(function(){r=!1,i&&(o.apply(n,s),i=!1)},e),void t.apply(n,s))}},falseFn:function(){return!1},formatNum:function(t,e){var n=Math.pow(10,e||5);return Math.round(t*n)/n},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return i.Util.trim(t).split(/\s+/)},setOptions:function(t,e){return t.options=i.extend({},t.options,e),t.options},getParamString:function(t,e,n){var r=[];for(var i in t)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(t[i]));return(e&&-1!==e.indexOf("?")?"&":"?")+r.join("&")},template:function(t,e){return t.replace(/\{ *([\w_]+) *\}/g,function(t,r){var i=e[r];if(i===n)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i})},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function e(e){var n,r,i=["webkit","moz","o","ms"];for(n=0;n<i.length&&!r;n++)r=t[i[n]+e];return r}function n(e){var n=+new Date,i=Math.max(0,16-(n-r));return r=n+i,t.setTimeout(e,i)}var r=0,o=t.requestAnimationFrame||e("RequestAnimationFrame")||n,s=t.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(e){t.clearTimeout(e)};i.Util.requestAnimFrame=function(e,r,s,a){return e=i.bind(e,r),s&&o===n?void e():o.call(t,e,a)},i.Util.cancelAnimFrame=function(e){e&&s.call(t,e)}}(),i.extend=i.Util.extend,i.bind=i.Util.bind,i.stamp=i.Util.stamp,i.setOptions=i.Util.setOptions,i.Class=function(){},i.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},n=function(){};n.prototype=this.prototype;var r=new n;r.constructor=e,e.prototype=r;for(var o in this)this.hasOwnProperty(o)&&"prototype"!==o&&(e[o]=this[o]);t.statics&&(i.extend(e,t.statics),delete t.statics),t.includes&&(i.Util.extend.apply(null,[r].concat(t.includes)),delete t.includes),t.options&&r.options&&(t.options=i.extend({},r.options,t.options)),i.extend(r,t),r._initHooks=[];var s=this;return e.__super__=s.prototype,r.callInitHooks=function(){if(!this._initHooksCalled){s.prototype.callInitHooks&&s.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;e>t;t++)r._initHooks[t].call(this)}},e},i.Class.include=function(t){i.extend(this.prototype,t)},i.Class.mergeOptions=function(t){i.extend(this.prototype.options,t)},i.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n)};var o="_leaflet_events";i.Mixin={},i.Mixin.Events={addEventListener:function(t,e,n){if(i.Util.invokeEach(t,this.addEventListener,this,e,n))return this;var r,s,a,l,u,c,h,d=this[o]=this[o]||{},p=n&&n!==this&&i.stamp(n);for(t=i.Util.splitWords(t),r=0,s=t.length;s>r;r++)a={action:e,context:n||this},l=t[r],p?(u=l+"_idx",c=u+"_len",h=d[u]=d[u]||{},h[p]||(h[p]=[],d[c]=(d[c]||0)+1),h[p].push(a)):(d[l]=d[l]||[],d[l].push(a));return this},hasEventListeners:function(t){var e=this[o];return!!e&&(t in e&&e[t].length>0||t+"_idx"in e&&e[t+"_idx_len"]>0)},removeEventListener:function(t,e,n){if(!this[o])return this;if(!t)return this.clearAllEventListeners();if(i.Util.invokeEach(t,this.removeEventListener,this,e,n))return this;var r,s,a,l,u,c,h,d,p,f=this[o],m=n&&n!==this&&i.stamp(n);for(t=i.Util.splitWords(t),r=0,s=t.length;s>r;r++)if(a=t[r],c=a+"_idx",h=c+"_len",d=f[c],e){if(l=m&&d?d[m]:f[a]){for(u=l.length-1;u>=0;u--)l[u].action!==e||n&&l[u].context!==n||(p=l.splice(u,1),p[0].action=i.Util.falseFn);n&&d&&0===l.length&&(delete d[m],f[h]--)}}else delete f[a],delete f[c],delete f[h];return this},clearAllEventListeners:function(){return delete this[o],this},fireEvent:function(t,e){if(!this.hasEventListeners(t))return this;var n,r,s,a,l,u=i.Util.extend({},e,{type:t,target:this}),c=this[o];if(c[t])for(n=c[t].slice(),r=0,s=n.length;s>r;r++)n[r].action.call(n[r].context,u);a=c[t+"_idx"];for(l in a)if(n=a[l].slice())for(r=0,s=n.length;s>r;r++)n[r].action.call(n[r].context,u);return this},addOneTimeEventListener:function(t,e,n){if(i.Util.invokeEach(t,this.addOneTimeEventListener,this,e,n))return this;var r=i.bind(function(){this.removeEventListener(t,e,n).removeEventListener(t,r,n)},this);return this.addEventListener(t,e,n).addEventListener(t,r,n)}},i.Mixin.Events.on=i.Mixin.Events.addEventListener,i.Mixin.Events.off=i.Mixin.Events.removeEventListener,i.Mixin.Events.once=i.Mixin.Events.addOneTimeEventListener,i.Mixin.Events.fire=i.Mixin.Events.fireEvent,function(){var r="ActiveXObject"in t,o=r&&!e.addEventListener,s=navigator.userAgent.toLowerCase(),a=-1!==s.indexOf("webkit"),l=-1!==s.indexOf("chrome"),u=-1!==s.indexOf("phantom"),c=-1!==s.indexOf("android"),h=-1!==s.search("android [23]"),d=-1!==s.indexOf("gecko"),p=typeof orientation!=n+"",f=t.navigator&&t.navigator.msPointerEnabled&&t.navigator.msMaxTouchPoints&&!t.PointerEvent,m=t.PointerEvent&&t.navigator.pointerEnabled&&t.navigator.maxTouchPoints||f,g="devicePixelRatio"in t&&t.devicePixelRatio>1||"matchMedia"in t&&t.matchMedia("(min-resolution:144dpi)")&&t.matchMedia("(min-resolution:144dpi)").matches,v=e.documentElement,y=r&&"transition"in v.style,b="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix&&!h,_="MozPerspective"in v.style,w="OTransition"in v.style,x=!t.L_DISABLE_3D&&(y||b||_||w)&&!u,C=!t.L_NO_TOUCH&&!u&&function(){
var t="ontouchstart";if(m||t in v)return!0;var n=e.createElement("div"),r=!1;return n.setAttribute?(n.setAttribute(t,"return;"),"function"==typeof n[t]&&(r=!0),n.removeAttribute(t),n=null,r):!1}();i.Browser={ie:r,ielt9:o,webkit:a,gecko:d&&!a&&!t.opera&&!r,android:c,android23:h,chrome:l,ie3d:y,webkit3d:b,gecko3d:_,opera3d:w,any3d:x,mobile:p,mobileWebkit:p&&a,mobileWebkit3d:p&&b,mobileOpera:p&&t.opera,touch:C,msPointer:f,pointer:m,retina:g}}(),i.Point=function(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e},i.Point.prototype={clone:function(){return new i.Point(this.x,this.y)},add:function(t){return this.clone()._add(i.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(i.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(t){t=i.point(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=i.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=i.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+i.Util.formatNum(this.x)+", "+i.Util.formatNum(this.y)+")"}},i.point=function(t,e,r){return t instanceof i.Point?t:i.Util.isArray(t)?new i.Point(t[0],t[1]):t===n||null===t?t:new i.Point(t,e,r)},i.Bounds=function(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;i>r;r++)this.extend(n[r])},i.Bounds.prototype={extend:function(t){return t=i.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new i.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new i.Point(this.min.x,this.max.y)},getTopRight:function(){return new i.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return t="number"==typeof t[0]||t instanceof i.Point?i.point(t):i.bounds(t),t instanceof i.Bounds?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=i.bounds(t);var e=this.min,n=this.max,r=t.min,o=t.max,s=o.x>=e.x&&r.x<=n.x,a=o.y>=e.y&&r.y<=n.y;return s&&a},isValid:function(){return!(!this.min||!this.max)}},i.bounds=function(t,e){return!t||t instanceof i.Bounds?t:new i.Bounds(t,e)},i.Transformation=function(t,e,n,r){this._a=t,this._b=e,this._c=n,this._d=r},i.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new i.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},i.DomUtil={get:function(t){return"string"==typeof t?e.getElementById(t):t},getStyle:function(t,n){var r=t.style[n];if(!r&&t.currentStyle&&(r=t.currentStyle[n]),(!r||"auto"===r)&&e.defaultView){var i=e.defaultView.getComputedStyle(t,null);r=i?i[n]:null}return"auto"===r?null:r},getViewportOffset:function(t){var n,r=0,o=0,s=t,a=e.body,l=e.documentElement;do{if(r+=s.offsetTop||0,o+=s.offsetLeft||0,r+=parseInt(i.DomUtil.getStyle(s,"borderTopWidth"),10)||0,o+=parseInt(i.DomUtil.getStyle(s,"borderLeftWidth"),10)||0,n=i.DomUtil.getStyle(s,"position"),s.offsetParent===a&&"absolute"===n)break;if("fixed"===n){r+=a.scrollTop||l.scrollTop||0,o+=a.scrollLeft||l.scrollLeft||0;break}if("relative"===n&&!s.offsetLeft){var u=i.DomUtil.getStyle(s,"width"),c=i.DomUtil.getStyle(s,"max-width"),h=s.getBoundingClientRect();("none"!==u||"none"!==c)&&(o+=h.left+s.clientLeft),r+=h.top+(a.scrollTop||l.scrollTop||0);break}s=s.offsetParent}while(s);s=t;do{if(s===a)break;r-=s.scrollTop||0,o-=s.scrollLeft||0,s=s.parentNode}while(s);return new i.Point(o,r)},documentIsLtr:function(){return i.DomUtil._docIsLtrCached||(i.DomUtil._docIsLtrCached=!0,i.DomUtil._docIsLtr="ltr"===i.DomUtil.getStyle(e.body,"direction")),i.DomUtil._docIsLtr},create:function(t,n,r){var i=e.createElement(t);return i.className=n,r&&r.appendChild(i),i},hasClass:function(t,e){if(t.classList!==n)return t.classList.contains(e);var r=i.DomUtil._getClass(t);return r.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(r)},addClass:function(t,e){if(t.classList!==n)for(var r=i.Util.splitWords(e),o=0,s=r.length;s>o;o++)t.classList.add(r[o]);else if(!i.DomUtil.hasClass(t,e)){var a=i.DomUtil._getClass(t);i.DomUtil._setClass(t,(a?a+" ":"")+e)}},removeClass:function(t,e){t.classList!==n?t.classList.remove(e):i.DomUtil._setClass(t,i.Util.trim((" "+i.DomUtil._getClass(t)+" ").replace(" "+e+" "," ")))},_setClass:function(t,e){t.className.baseVal===n?t.className=e:t.className.baseVal=e},_getClass:function(t){return t.className.baseVal===n?t.className:t.className.baseVal},setOpacity:function(t,e){if("opacity"in t.style)t.style.opacity=e;else if("filter"in t.style){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(r)}catch(i){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+r+"(opacity="+e+")"}},testProp:function(t){for(var n=e.documentElement.style,r=0;r<t.length;r++)if(t[r]in n)return t[r];return!1},getTranslateString:function(t){var e=i.Browser.webkit3d,n="translate"+(e?"3d":"")+"(",r=(e?",0":"")+")";return n+t.x+"px,"+t.y+"px"+r},getScaleString:function(t,e){var n=i.DomUtil.getTranslateString(e.add(e.multiplyBy(-1*t))),r=" scale("+t+") ";return n+r},setPosition:function(t,e,n){t._leaflet_pos=e,!n&&i.Browser.any3d?t.style[i.DomUtil.TRANSFORM]=i.DomUtil.getTranslateString(e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos}},i.DomUtil.TRANSFORM=i.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),i.DomUtil.TRANSITION=i.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),i.DomUtil.TRANSITION_END="webkitTransition"===i.DomUtil.TRANSITION||"OTransition"===i.DomUtil.TRANSITION?i.DomUtil.TRANSITION+"End":"transitionend",function(){if("onselectstart"in e)i.extend(i.DomUtil,{disableTextSelection:function(){i.DomEvent.on(t,"selectstart",i.DomEvent.preventDefault)},enableTextSelection:function(){i.DomEvent.off(t,"selectstart",i.DomEvent.preventDefault)}});else{var n=i.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);i.extend(i.DomUtil,{disableTextSelection:function(){if(n){var t=e.documentElement.style;this._userSelect=t[n],t[n]="none"}},enableTextSelection:function(){n&&(e.documentElement.style[n]=this._userSelect,delete this._userSelect)}})}i.extend(i.DomUtil,{disableImageDrag:function(){i.DomEvent.on(t,"dragstart",i.DomEvent.preventDefault)},enableImageDrag:function(){i.DomEvent.off(t,"dragstart",i.DomEvent.preventDefault)}})}(),i.LatLng=function(t,e,r){if(t=parseFloat(t),e=parseFloat(e),isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=t,this.lng=e,r!==n&&(this.alt=parseFloat(r))},i.extend(i.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),i.LatLng.prototype={equals:function(t){if(!t)return!1;t=i.latLng(t);var e=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return e<=i.LatLng.MAX_MARGIN},toString:function(t){return"LatLng("+i.Util.formatNum(this.lat,t)+", "+i.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){t=i.latLng(t);var e=6378137,n=i.LatLng.DEG_TO_RAD,r=(t.lat-this.lat)*n,o=(t.lng-this.lng)*n,s=this.lat*n,a=t.lat*n,l=Math.sin(r/2),u=Math.sin(o/2),c=l*l+u*u*Math.cos(s)*Math.cos(a);return 2*e*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))},wrap:function(t,e){var n=this.lng;return t=t||-180,e=e||180,n=(n+e)%(e-t)+(t>n||n===e?e:t),new i.LatLng(this.lat,n)}},i.latLng=function(t,e){return t instanceof i.LatLng?t:i.Util.isArray(t)?"number"==typeof t[0]||"string"==typeof t[0]?new i.LatLng(t[0],t[1],t[2]):null:t===n||null===t?t:"object"==typeof t&&"lat"in t?new i.LatLng(t.lat,"lng"in t?t.lng:t.lon):e===n?null:new i.LatLng(t,e)},i.LatLngBounds=function(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;i>r;r++)this.extend(n[r])},i.LatLngBounds.prototype={extend:function(t){if(!t)return this;var e=i.latLng(t);return t=null!==e?e:i.latLngBounds(t),t instanceof i.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(t.lat,this._southWest.lat),this._southWest.lng=Math.min(t.lng,this._southWest.lng),this._northEast.lat=Math.max(t.lat,this._northEast.lat),this._northEast.lng=Math.max(t.lng,this._northEast.lng)):(this._southWest=new i.LatLng(t.lat,t.lng),this._northEast=new i.LatLng(t.lat,t.lng)):t instanceof i.LatLngBounds&&(this.extend(t._southWest),this.extend(t._northEast)),this},pad:function(t){var e=this._southWest,n=this._northEast,r=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new i.LatLngBounds(new i.LatLng(e.lat-r,e.lng-o),new i.LatLng(n.lat+r,n.lng+o))},getCenter:function(){return new i.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new i.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new i.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof i.LatLng?i.latLng(t):i.latLngBounds(t);var e,n,r=this._southWest,o=this._northEast;return t instanceof i.LatLngBounds?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=r.lat&&n.lat<=o.lat&&e.lng>=r.lng&&n.lng<=o.lng},intersects:function(t){t=i.latLngBounds(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>=e.lat&&r.lat<=n.lat,a=o.lng>=e.lng&&r.lng<=n.lng;return s&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return t?(t=i.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}},i.latLngBounds=function(t,e){return!t||t instanceof i.LatLngBounds?t:new i.LatLngBounds(t,e)},i.Projection={},i.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(t){var e=i.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,t.lat),-n),o=t.lng*e,s=r*e;return s=Math.log(Math.tan(Math.PI/4+s/2)),new i.Point(o,s)},unproject:function(t){var e=i.LatLng.RAD_TO_DEG,n=t.x*e,r=(2*Math.atan(Math.exp(t.y))-Math.PI/2)*e;return new i.LatLng(r,n)}},i.Projection.LonLat={project:function(t){return new i.Point(t.lng,t.lat)},unproject:function(t){return new i.LatLng(t.y,t.x)}},i.CRS={latLngToPoint:function(t,e){var n=this.projection.project(t),r=this.scale(e);return this.transformation._transform(n,r)},pointToLatLng:function(t,e){var n=this.scale(e),r=this.transformation.untransform(t,n);return this.projection.unproject(r)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)},getSize:function(t){var e=this.scale(t);return i.point(e,e)}},i.CRS.Simple=i.extend({},i.CRS,{projection:i.Projection.LonLat,transformation:new i.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)}}),i.CRS.EPSG3857=i.extend({},i.CRS,{code:"EPSG:3857",projection:i.Projection.SphericalMercator,transformation:new i.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(t){var e=this.projection.project(t),n=6378137;return e.multiplyBy(n)}}),i.CRS.EPSG900913=i.extend({},i.CRS.EPSG3857,{code:"EPSG:900913"}),i.CRS.EPSG4326=i.extend({},i.CRS,{code:"EPSG:4326",projection:i.Projection.LonLat,transformation:new i.Transformation(1/360,.5,-1/360,.5)}),i.Map=i.Class.extend({includes:i.Mixin.Events,options:{crs:i.CRS.EPSG3857,fadeAnimation:i.DomUtil.TRANSITION&&!i.Browser.android23,trackResize:!0,markerZoomAnimation:i.DomUtil.TRANSITION&&i.Browser.any3d},initialize:function(t,e){e=i.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=i.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.center&&e.zoom!==n&&this.setView(i.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(e.layers)},setView:function(t,e){return e=e===n?this.getZoom():e,this._resetView(i.latLng(t),this._limitZoom(e)),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=this._limitZoom(t),this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t||1),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t||1),e)},setZoomAround:function(t,e,n){var r=this.getZoomScale(e),o=this.getSize().divideBy(2),s=t instanceof i.Point?t:this.latLngToContainerPoint(t),a=s.subtract(o).multiplyBy(1-1/r),l=this.containerPointToLatLng(o.add(a));return this.setView(l,e,{zoom:n})},fitBounds:function(t,e){e=e||{},t=t.getBounds?t.getBounds():i.latLngBounds(t);var n=i.point(e.paddingTopLeft||e.padding||[0,0]),r=i.point(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(r)),s=r.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),o),l=this.project(t.getNorthEast(),o),u=this.unproject(a.add(l).divideBy(2).add(s),o);return o=e&&e.maxZoom?Math.min(e.maxZoom,o):o,this.setView(u,o,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(i.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return t=i.latLngBounds(t),this.options.maxBounds=t,t?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(t,e){var n=this.getCenter(),r=this._limitCenter(n,this._zoom,t);return n.equals(r)?this:this.panTo(r,e)},addLayer:function(t){var e=i.stamp(t);return this._layers[e]?this:(this._layers[e]=t,!t.options||isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[e]=t,this._updateZoomLevels()),this.options.zoomAnimation&&i.TileLayer&&t instanceof i.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,t.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(t),this)},removeLayer:function(t){var e=i.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&this.fire("layerremove",{layer:t}),this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels()),this.options.zoomAnimation&&i.TileLayer&&t instanceof i.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,t.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(t){return t?i.stamp(t)in this._layers:!1},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},invalidateSize:function(t){if(!this._loaded)return this;t=i.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var n=this.getSize(),r=e.divideBy(2).round(),o=n.divideBy(2).round(),s=r.subtract(o);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(t){this._container._leaflet=n}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new i.LatLngBounds(e,n)},getMinZoom:function(){return this.options.minZoom===n?this._layersMinZoom===n?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===n?this._layersMaxZoom===n?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=i.latLngBounds(t);var r,o=this.getMinZoom()-(e?1:0),s=this.getMaxZoom(),a=this.getSize(),l=t.getNorthWest(),u=t.getSouthEast(),c=!0;n=i.point(n||[0,0]);do o++,r=this.project(u,o).subtract(this.project(l,o)).add(n),c=e?r.x<a.x||r.y<a.y:a.contains(r);while(c&&s>=o);return c&&e?null:e?o:o-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new i.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var t=this._getTopLeftPoint();return new i.Bounds(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t){var e=this.options.crs;return e.scale(t)/e.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+Math.log(t)/Math.LN2},project:function(t,e){return e=e===n?this._zoom:e,this.options.crs.latLngToPoint(i.latLng(t),e)},unproject:function(t,e){return e=e===n?this._zoom:e,this.options.crs.pointToLatLng(i.point(t),e)},layerPointToLatLng:function(t){var e=i.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(i.latLng(t))._round();return e._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(t){return i.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return i.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(i.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(i.latLng(t)))},mouseEventToContainerPoint:function(t){return i.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=i.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet)throw new Error("Map container is already initialized.");e._leaflet=!0},_initLayout:function(){var t=this._container;i.DomUtil.addClass(t,"leaflet-container"+(i.Browser.touch?" leaflet-touch":"")+(i.Browser.retina?" leaflet-retina":"")+(i.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var e=i.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._mapPane=t.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=t.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),t.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),t.shadowPane=this._createPane("leaflet-shadow-pane"),t.overlayPane=this._createPane("leaflet-overlay-pane"),t.markerPane=this._createPane("leaflet-marker-pane"),t.popupPane=this._createPane("leaflet-popup-pane");var e=" leaflet-zoom-hide";this.options.markerZoomAnimation||(i.DomUtil.addClass(t.markerPane,e),i.DomUtil.addClass(t.shadowPane,e),i.DomUtil.addClass(t.popupPane,e))},_createPane:function(t,e){return i.DomUtil.create("div",t,e||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(t){t=t?i.Util.isArray(t)?t:[t]:[];for(var e=0,n=t.length;n>e;e++)this.addLayer(t[e])},_resetView:function(t,e,n,r){var o=this._zoom!==e;r||(this.fire("movestart"),o&&this.fire("zoomstart")),this._zoom=e,this._initialCenter=t,this._initialTopLeftPoint=this._getNewTopLeftPoint(t),n?this._initialTopLeftPoint._add(this._getMapPanePos()):i.DomUtil.setPosition(this._mapPane,new i.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var s=!this._loaded;this._loaded=!0,s&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("viewreset",{hard:!n}),this.fire("move"),(o||r)&&this.fire("zoomend"),this.fire("moveend",{hard:!n})},_rawPanBy:function(t){i.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var t,e=1/0,r=-(1/0),i=this._getZoomSpan();for(t in this._zoomBoundLayers){var o=this._zoomBoundLayers[t];isNaN(o.options.minZoom)||(e=Math.min(e,o.options.minZoom)),isNaN(o.options.maxZoom)||(r=Math.max(r,o.options.maxZoom))}t===n?this._layersMaxZoom=this._layersMinZoom=n:(this._layersMaxZoom=r,this._layersMinZoom=e),i!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){if(i.DomEvent){e=e||"on",i.DomEvent[e](this._container,"click",this._onMouseClick,this);var n,r,o=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(n=0,r=o.length;r>n;n++)i.DomEvent[e](this._container,o[n],this._fireMouseEvent,this);this.options.trackResize&&i.DomEvent[e](t,"resize",this._onResize,this)}},_onResize:function(){i.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=i.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(t){!this._loaded||!t._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||i.DomEvent._skipped(t)||(this.fire("preclick"),this._fireMouseEvent(t))},_fireMouseEvent:function(t){if(this._loaded&&!i.DomEvent._skipped(t)){var e=t.type;if(e="mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,this.hasEventListeners(e)){"contextmenu"===e&&i.DomEvent.preventDefault(t);var n=this.mouseEventToContainerPoint(t),r=this.containerPointToLayerPoint(n),o=this.layerPointToLatLng(r);this.fire(e,{latlng:o,layerPoint:r,containerPoint:n,originalEvent:t})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var t=0,e=this._handlers.length;e>t;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,this):this.on("load",t,e),this},_layerAdd:function(t){t.onAdd(this),this.fire("layeradd",{layer:t})},_getMapPanePos:function(){return i.DomUtil.getPosition(this._mapPane)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._round()},_latLngToNewLayerPoint:function(t,e,n){var r=this._getNewTopLeftPoint(n,e).add(this._getMapPanePos());return this.project(t,e)._subtract(r)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var r=this.project(t,e),o=this.getSize().divideBy(2),s=new i.Bounds(r.subtract(o),r.add(o)),a=this._getBoundsOffset(s,n,e);return this.unproject(r.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),r=new i.Bounds(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(r,e))},_getBoundsOffset:function(t,e,n){var r=this.project(e.getNorthWest(),n).subtract(t.min),o=this.project(e.getSouthEast(),n).subtract(t.max),s=this._rebound(r.x,-o.x),a=this._rebound(r.y,-o.y);return new i.Point(s,a)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom();return Math.max(e,Math.min(n,t))}}),i.map=function(t,e){return new i.Map(t,e)},i.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(t){var e=i.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,t.lat),-n),o=this.R_MAJOR,s=this.R_MINOR,a=t.lng*e*o,l=r*e,u=s/o,c=Math.sqrt(1-u*u),h=c*Math.sin(l);h=Math.pow((1-h)/(1+h),.5*c);var d=Math.tan(.5*(.5*Math.PI-l))/h;return l=-o*Math.log(d),new i.Point(a,l)},unproject:function(t){for(var e,n=i.LatLng.RAD_TO_DEG,r=this.R_MAJOR,o=this.R_MINOR,s=t.x*n/r,a=o/r,l=Math.sqrt(1-a*a),u=Math.exp(-t.y/r),c=Math.PI/2-2*Math.atan(u),h=15,d=1e-7,p=h,f=.1;Math.abs(f)>d&&--p>0;)e=l*Math.sin(c),f=Math.PI/2-2*Math.atan(u*Math.pow((1-e)/(1+e),.5*l))-c,c+=f;return new i.LatLng(c*n,s)}},i.CRS.EPSG3395=i.extend({},i.CRS,{code:"EPSG:3395",projection:i.Projection.Mercator,transformation:function(){var t=i.Projection.Mercator,e=t.R_MAJOR,n=.5/(Math.PI*e);return new i.Transformation(n,.5,-n,.5)}()}),i.TileLayer=i.Class.extend({includes:i.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:i.Browser.mobile,updateWhenIdle:i.Browser.mobile},initialize:function(t,e){e=i.setOptions(this,e),e.detectRetina&&i.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,e.minZoom>0&&e.minZoom--,this.options.maxZoom--),e.bounds&&(e.bounds=i.latLngBounds(e.bounds)),this._url=t;var n=this.options.subdomains;"string"==typeof n&&(this.options.subdomains=n.split(""))},onAdd:function(t){this._map=t,this._animated=t._zoomAnimated,this._initContainer(),t.on({viewreset:this._reset,moveend:this._update},this),this._animated&&t.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=i.Util.limitExecByInterval(this._update,150,this),t.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._container.parentNode.removeChild(this._container),t.off({viewreset:this._reset,moveend:this._update},this),this._animated&&t.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||t.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;return this._container&&(t.appendChild(this._container),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._container&&(t.insertBefore(this._container,t.firstChild),this._setAutoZIndex(t,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==n&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t,e){var n,r,i,o=t.children,s=-e(1/0,-(1/0));for(r=0,i=o.length;i>r;r++)o[r]!==this._container&&(n=parseInt(o[r].style.zIndex,10),isNaN(n)||(s=e(s,n)));this.options.zIndex=this._container.style.zIndex=(isFinite(s)?s:0)+e(1,-1)},_updateOpacity:function(){var t,e=this._tiles;if(i.Browser.ielt9)for(t in e)i.DomUtil.setOpacity(e[t],this.options.opacity);else i.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var t=this._map._panes.tilePane;if(!this._container){if(this._container=i.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var e="leaflet-tile-container";this._bgBuffer=i.DomUtil.create("div",e,this._container),this._tileContainer=i.DomUtil.create("div",e,this._container)}else this._tileContainer=this._container;t.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(t){for(var e in this._tiles)this.fire("tileunload",{tile:this._tiles[e]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&t&&t.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var t=this._map,e=t.getZoom()+this.options.zoomOffset,n=this.options.maxNativeZoom,r=this.options.tileSize;return n&&e>n&&(r=Math.round(t.getZoomScale(e)/t.getZoomScale(n)*r)),r},_update:function(){if(this._map){var t=this._map,e=t.getPixelBounds(),n=t.getZoom(),r=this._getTileSize();if(!(n>this.options.maxZoom||n<this.options.minZoom)){var o=i.bounds(e.min.divideBy(r)._floor(),e.max.divideBy(r)._floor());this._addTilesFromCenterOut(o),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(o)}}},_addTilesFromCenterOut:function(t){var n,r,o,s=[],a=t.getCenter();for(n=t.min.y;n<=t.max.y;n++)for(r=t.min.x;r<=t.max.x;r++)o=new i.Point(r,n),this._tileShouldBeLoaded(o)&&s.push(o);var l=s.length;if(0!==l){s.sort(function(t,e){return t.distanceTo(a)-e.distanceTo(a)});var u=e.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=l,r=0;l>r;r++)this._addTile(s[r],u);this._tileContainer.appendChild(u)}},_tileShouldBeLoaded:function(t){if(t.x+":"+t.y in this._tiles)return!1;var e=this.options;if(!e.continuousWorld){var n=this._getWrapTileNum();if(e.noWrap&&(t.x<0||t.x>=n.x)||t.y<0||t.y>=n.y)return!1}if(e.bounds){var r=e.tileSize,i=t.multiplyBy(r),o=i.add([r,r]),s=this._map.unproject(i),a=this._map.unproject(o);if(e.continuousWorld||e.noWrap||(s=s.wrap(),a=a.wrap()),!e.bounds.intersects([s,a]))return!1}return!0},_removeOtherTiles:function(t){var e,n,r,i;for(i in this._tiles)e=i.split(":"),n=parseInt(e[0],10),r=parseInt(e[1],10),(n<t.min.x||n>t.max.x||r<t.min.y||r>t.max.y)&&this._removeTile(i)},_removeTile:function(t){var e=this._tiles[t];this.fire("tileunload",{tile:e,url:e.src}),this.options.reuseTiles?(i.DomUtil.removeClass(e,"leaflet-tile-loaded"),this._unusedTiles.push(e)):e.parentNode===this._tileContainer&&this._tileContainer.removeChild(e),i.Browser.android||(e.onload=null,e.src=i.Util.emptyImageUrl),delete this._tiles[t]},_addTile:function(t,e){var n=this._getTilePos(t),r=this._getTile();i.DomUtil.setPosition(r,n,i.Browser.chrome),this._tiles[t.x+":"+t.y]=r,this._loadTile(r,t),r.parentNode!==this._tileContainer&&e.appendChild(r)},_getZoomForUrl:function(){var t=this.options,e=this._map.getZoom();return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getTilePos:function(t){var e=this._map.getPixelOrigin(),n=this._getTileSize();return t.multiplyBy(n).subtract(e)},getTileUrl:function(t){return i.Util.template(this._url,i.extend({s:this._getSubdomain(t),z:t.z,x:t.x,y:t.y},this.options))},_getWrapTileNum:function(){var t=this._map.options.crs,e=t.getSize(this._map.getZoom());return e.divideBy(this._getTileSize())._floor();
},_adjustTilePoint:function(t){var e=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(t.x=(t.x%e.x+e.x)%e.x),this.options.tms&&(t.y=e.y-t.y-1),t.z=this._getZoomForUrl()},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var t=this._unusedTiles.pop();return this._resetTile(t),t}return this._createTile()},_resetTile:function(){},_createTile:function(){var t=i.DomUtil.create("img","leaflet-tile");return t.style.width=t.style.height=this._getTileSize()+"px",t.galleryimg="no",t.onselectstart=t.onmousemove=i.Util.falseFn,i.Browser.ielt9&&this.options.opacity!==n&&i.DomUtil.setOpacity(t,this.options.opacity),i.Browser.mobileWebkit3d&&(t.style.WebkitBackfaceVisibility="hidden"),t},_loadTile:function(t,e){t._layer=this,t.onload=this._tileOnLoad,t.onerror=this._tileOnError,this._adjustTilePoint(e),t.src=this.getTileUrl(e),this.fire("tileloadstart",{tile:t,url:t.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&i.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(i.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var t=this._layer;this.src!==i.Util.emptyImageUrl&&(i.DomUtil.addClass(this,"leaflet-tile-loaded"),t.fire("tileload",{tile:this,url:this.src})),t._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire("tileerror",{tile:this,url:this.src});var e=t.options.errorTileUrl;e&&(this.src=e),t._tileLoaded()}}),i.tileLayer=function(t,e){return new i.TileLayer(t,e)},i.TileLayer.WMS=i.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(t,e){this._url=t;var n=i.extend({},this.defaultWmsParams),r=e.tileSize||this.options.tileSize;e.detectRetina&&i.Browser.retina?n.width=n.height=2*r:n.width=n.height=r;for(var o in e)this.options.hasOwnProperty(o)||"crs"===o||(n[o]=e[o]);this.wmsParams=n,i.setOptions(this,e)},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,i.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._map,n=this.options.tileSize,r=t.multiplyBy(n),o=r.add([n,n]),s=this._crs.project(e.unproject(r,t.z)),a=this._crs.project(e.unproject(o,t.z)),l=this._wmsVersion>=1.3&&this._crs===i.CRS.EPSG4326?[a.y,s.x,s.y,a.x].join(","):[s.x,a.y,a.x,s.y].join(","),u=i.Util.template(this._url,{s:this._getSubdomain(t)});return u+i.Util.getParamString(this.wmsParams,u,!0)+"&BBOX="+l},setParams:function(t,e){return i.extend(this.wmsParams,t),e||this.redraw(),this}}),i.tileLayer.wms=function(t,e){return new i.TileLayer.WMS(t,e)},i.TileLayer.Canvas=i.TileLayer.extend({options:{async:!1},initialize:function(t){i.setOptions(this,t)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var t in this._tiles)this._redrawTile(this._tiles[t]);return this},_redrawTile:function(t){this.drawTile(t,t._tilePoint,this._map._zoom)},_createTile:function(){var t=i.DomUtil.create("canvas","leaflet-tile");return t.width=t.height=this.options.tileSize,t.onselectstart=t.onmousemove=i.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,this._redrawTile(t),this.options.async||this.tileDrawn(t)},drawTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}}),i.tileLayer.canvas=function(t){return new i.TileLayer.Canvas(t)},i.ImageOverlay=i.Class.extend({includes:i.Mixin.Events,options:{opacity:1},initialize:function(t,e,n){this._url=t,this._bounds=i.latLngBounds(e),i.setOptions(this,n)},onAdd:function(t){this._map=t,this._image||this._initImage(),t._panes.overlayPane.appendChild(this._image),t.on("viewreset",this._reset,this),t.options.zoomAnimation&&i.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image),t.off("viewreset",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._image&&t.insertBefore(this._image,t.firstChild),this},setUrl:function(t){this._url=t,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=i.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&i.Browser.any3d?i.DomUtil.addClass(this._image,"leaflet-zoom-animated"):i.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),i.extend(this._image,{galleryimg:"no",onselectstart:i.Util.falseFn,onmousemove:i.Util.falseFn,onload:i.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(t){var e=this._map,n=this._image,r=e.getZoomScale(t.zoom),o=this._bounds.getNorthWest(),s=this._bounds.getSouthEast(),a=e._latLngToNewLayerPoint(o,t.zoom,t.center),l=e._latLngToNewLayerPoint(s,t.zoom,t.center)._subtract(a),u=a._add(l._multiplyBy(.5*(1-1/r)));n.style[i.DomUtil.TRANSFORM]=i.DomUtil.getTranslateString(u)+" scale("+r+") "},_reset:function(){var t=this._image,e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),n=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(e);i.DomUtil.setPosition(t,e),t.style.width=n.x+"px",t.style.height=n.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){i.DomUtil.setOpacity(this._image,this.options.opacity)}}),i.imageOverlay=function(t,e,n){return new i.ImageOverlay(t,e,n)},i.Icon=i.Class.extend({options:{className:""},initialize:function(t){i.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r;return r=e&&"IMG"===e.tagName?this._createImg(n,e):this._createImg(n),this._setIconStyles(r,t),r},_setIconStyles:function(t,e){var n,r=this.options,o=i.point(r[e+"Size"]);n="shadow"===e?i.point(r.shadowAnchor||r.iconAnchor):i.point(r.iconAnchor),!n&&o&&(n=o.divideBy(2,!0)),t.className="leaflet-marker-"+e+" "+r.className,n&&(t.style.marginLeft=-n.x+"px",t.style.marginTop=-n.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,n){return n=n||e.createElement("img"),n.src=t,n},_getIconUrl:function(t){return i.Browser.retina&&this.options[t+"RetinaUrl"]?this.options[t+"RetinaUrl"]:this.options[t+"Url"]}}),i.icon=function(t){return new i.Icon(t)},i.Icon.Default=i.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];i.Browser.retina&&"icon"===t&&(t+="-2x");var n=i.Icon.Default.imagePath;if(!n)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return n+"/marker-"+t+".png"}}),i.Icon.Default.imagePath=function(){var t,n,r,i,o,s=e.getElementsByTagName("script"),a=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(t=0,n=s.length;n>t;t++)if(r=s[t].src,i=r.match(a))return o=r.split(a)[0],(o?o+"/":"")+"images"}(),i.Marker=i.Class.extend({includes:i.Mixin.Events,options:{icon:new i.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(t,e){i.setOptions(this,e),this._latlng=i.latLng(t)},onAdd:function(t){this._map=t,t.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),t.options.zoomAnimation&&t.options.markerZoomAnimation&&t.on("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),t.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=i.latLng(t),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update(),this},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e=this._map,n=e.options.zoomAnimation&&e.options.markerZoomAnimation,r=n?"leaflet-zoom-animated":"leaflet-zoom-hide",o=t.icon.createIcon(this._icon),s=!1;o!==this._icon&&(this._icon&&this._removeIcon(),s=!0,t.title&&(o.title=t.title),t.alt&&(o.alt=t.alt)),i.DomUtil.addClass(o,r),t.keyboard&&(o.tabIndex="0"),this._icon=o,this._initInteraction(),t.riseOnHover&&i.DomEvent.on(o,"mouseover",this._bringToFront,this).on(o,"mouseout",this._resetZIndex,this);var a=t.icon.createShadow(this._shadow),l=!1;a!==this._shadow&&(this._removeShadow(),l=!0),a&&i.DomUtil.addClass(a,r),this._shadow=a,t.opacity<1&&this._updateOpacity();var u=this._map._panes;s&&u.markerPane.appendChild(this._icon),a&&l&&u.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&i.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(t){i.DomUtil.setPosition(this._icon,t),this._shadow&&i.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu"];i.DomUtil.addClass(t,"leaflet-clickable"),i.DomEvent.on(t,"click",this._onMouseClick,this),i.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var n=0;n<e.length;n++)i.DomEvent.on(t,e[n],this._fireMouseEvent,this);i.Handler.MarkerDrag&&(this.dragging=new i.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(t){var e=this.dragging&&this.dragging.moved();(this.hasEventListeners(t.type)||e)&&i.DomEvent.stopPropagation(t),e||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(t.type,{originalEvent:t,latlng:this._latlng})},_onKeyPress:function(t){13===t.keyCode&&this.fire("click",{originalEvent:t,latlng:this._latlng})},_fireMouseEvent:function(t){this.fire(t.type,{originalEvent:t,latlng:this._latlng}),"contextmenu"===t.type&&this.hasEventListeners(t.type)&&i.DomEvent.preventDefault(t),"mousedown"!==t.type?i.DomEvent.stopPropagation(t):i.DomEvent.preventDefault(t)},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){i.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&i.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),i.marker=function(t,e){return new i.Marker(t,e)},i.DivIcon=i.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(t){var n=t&&"DIV"===t.tagName?t:e.createElement("div"),r=this.options;return r.html!==!1?n.innerHTML=r.html:n.innerHTML="",r.bgPos&&(n.style.backgroundPosition=-r.bgPos.x+"px "+-r.bgPos.y+"px"),this._setIconStyles(n,"icon"),n},createShadow:function(){return null}}),i.divIcon=function(t){return new i.DivIcon(t)},i.Map.mergeOptions({closePopupOnClick:!0}),i.Popup=i.Class.extend({includes:i.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(t,e){i.setOptions(this,t),this._source=e,this._animated=i.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(t){this._map=t,this._container||this._initLayout();var e=t.options.fadeAnimation;e&&i.DomUtil.setOpacity(this._container,0),t._panes.popupPane.appendChild(this._container),t.on(this._getEvents(),this),this.update(),e&&i.DomUtil.setOpacity(this._container,1),this.fire("open"),t.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(t){return t.addLayer(this),this},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._panes.popupPane.removeChild(this._container),i.Util.falseFn(this._container.offsetWidth),t.off(this._getEvents(),this),t.options.fadeAnimation&&i.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),t.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=i.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var t={viewreset:this._updatePosition};return this._animated&&(t.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t,e="leaflet-popup",n=e+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),r=this._container=i.DomUtil.create("div",n);this.options.closeButton&&(t=this._closeButton=i.DomUtil.create("a",e+"-close-button",r),t.href="#close",t.innerHTML="&#215;",i.DomEvent.disableClickPropagation(t),i.DomEvent.on(t,"click",this._onCloseButtonClick,this));var o=this._wrapper=i.DomUtil.create("div",e+"-content-wrapper",r);i.DomEvent.disableClickPropagation(o),this._contentNode=i.DomUtil.create("div",e+"-content",o),i.DomEvent.disableScrollPropagation(this._contentNode),i.DomEvent.on(o,"contextmenu",i.DomEvent.stopPropagation),this._tipContainer=i.DomUtil.create("div",e+"-tip-container",r),this._tip=i.DomUtil.create("div",e+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var r=t.offsetHeight,o=this.options.maxHeight,s="leaflet-popup-scrolled";o&&r>o?(e.height=o+"px",i.DomUtil.addClass(t,s)):i.DomUtil.removeClass(t,s),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=this._animated,n=i.point(this.options.offset);e&&i.DomUtil.setPosition(this._container,t),this._containerBottom=-n.y-(e?0:t.y),this._containerLeft=-Math.round(this._containerWidth/2)+n.x+(e?0:t.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);i.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(this.options.autoPan){var t=this._map,e=this._container.offsetHeight,n=this._containerWidth,r=new i.Point(this._containerLeft,-e-this._containerBottom);this._animated&&r._add(i.DomUtil.getPosition(this._container));var o=t.layerPointToContainerPoint(r),s=i.point(this.options.autoPanPadding),a=i.point(this.options.autoPanPaddingTopLeft||s),l=i.point(this.options.autoPanPaddingBottomRight||s),u=t.getSize(),c=0,h=0;o.x+n+l.x>u.x&&(c=o.x+n-u.x+l.x),o.x-c-a.x<0&&(c=o.x-a.x),o.y+e+l.y>u.y&&(h=o.y+e-u.y+l.y),o.y-h-a.y<0&&(h=o.y-a.y),(c||h)&&t.fire("autopanstart").panBy([c,h])}},_onCloseButtonClick:function(t){this._close(),i.DomEvent.stop(t)}}),i.popup=function(t,e){return new i.Popup(t,e)},i.Map.include({openPopup:function(t,e,n){if(this.closePopup(),!(t instanceof i.Popup)){var r=t;t=new i.Popup(n).setLatLng(e).setContent(r)}return t._isOpen=!0,this._popup=t,this.addLayer(t)},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&(this.removeLayer(t),t._isOpen=!1),this}}),i.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(t,e){var n=i.point(this.options.icon.options.popupAnchor||[0,0]);return n=n.add(i.Popup.prototype.options.offset),e&&e.offset&&(n=n.add(e.offset)),e=i.extend({offset:n},e),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),t instanceof i.Popup?(i.setOptions(t,e),this._popup=t):this._popup=new i.Popup(e,this).setContent(t),this},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),i.LayerGroup=i.Class.extend({initialize:function(t){this._layers={};var e,n;if(t)for(e=0,n=t.length;n>e;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return t?t in this._layers||this.getLayerId(t)in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(t){var e,n,r=Array.prototype.slice.call(arguments,1);for(e in this._layers)n=this._layers[e],n[t]&&n[t].apply(n,r);return this},onAdd:function(t){this._map=t,this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t),this._map=null},addTo:function(t){return t.addLayer(this),this},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return i.stamp(t)}}),i.layerGroup=function(t){return new i.LayerGroup(t)},i.FeatureGroup=i.LayerGroup.extend({includes:i.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(t){return this.hasLayer(t)?this:("on"in t&&t.on(i.FeatureGroup.EVENTS,this._propagateEvent,this),i.LayerGroup.prototype.addLayer.call(this,t),this._popupContent&&t.bindPopup&&t.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.off(i.FeatureGroup.EVENTS,this._propagateEvent,this),i.LayerGroup.prototype.removeLayer.call(this,t),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:t})):this},bindPopup:function(t,e){return this._popupContent=t,this._popupOptions=e,this.invoke("bindPopup",t,e)},openPopup:function(t){for(var e in this._layers){this._layers[e].openPopup(t);break}return this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new i.LatLngBounds;return this.eachLayer(function(e){t.extend(e instanceof i.Marker?e.getLatLng():e.getBounds())}),t},_propagateEvent:function(t){t=i.extend({layer:t.target,target:this},t),this.fire(t.type,t)}}),i.featureGroup=function(t){return new i.FeatureGroup(t)},i.Path=i.Class.extend({includes:[i.Mixin.Events],statics:{CLIP_PADDING:function(){var e=i.Browser.mobile?1280:2e3,n=(e/Math.max(t.outerWidth,t.outerHeight)-1)/2;return Math.max(0,Math.min(.5,n))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(t){i.setOptions(this,t)},onAdd:function(t){this._map=t,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),t.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,i.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),t.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(t){return i.setOptions(this,t),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),i.Map.include({_updatePathViewport:function(){var t=i.Path.CLIP_PADDING,e=this.getSize(),n=i.DomUtil.getPosition(this._mapPane),r=n.multiplyBy(-1)._subtract(e.multiplyBy(t)._round()),o=r.add(e.multiplyBy(1+2*t)._round());this._pathViewport=new i.Bounds(r,o)}}),i.Path.SVG_NS="http://www.w3.org/2000/svg",i.Browser.svg=!(!e.createElementNS||!e.createElementNS(i.Path.SVG_NS,"svg").createSVGRect),i.Path=i.Path.extend({statics:{SVG:i.Browser.svg},bringToFront:function(){var t=this._map._pathRoot,e=this._container;return e&&t.lastChild!==e&&t.appendChild(e),this},bringToBack:function(){var t=this._map._pathRoot,e=this._container,n=t.firstChild;return e&&n!==e&&t.insertBefore(e,n),this},getPathString:function(){},_createElement:function(t){return e.createElementNS(i.Path.SVG_NS,t)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&i.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var t=this.getPathString();t||(t="M0 0"),this._path.setAttribute("d",t)},_initEvents:function(){if(this.options.clickable){(i.Browser.svg||!i.Browser.vml)&&i.DomUtil.addClass(this._path,"leaflet-clickable"),i.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var t=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],e=0;e<t.length;e++)i.DomEvent.on(this._container,t[e],this._fireMouseEvent,this)}},_onMouseClick:function(t){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(t)},_fireMouseEvent:function(t){if(this.hasEventListeners(t.type)){var e=this._map,n=e.mouseEventToContainerPoint(t),r=e.containerPointToLayerPoint(n),o=e.layerPointToLatLng(r);this.fire(t.type,{latlng:o,layerPoint:r,containerPoint:n,originalEvent:t}),"contextmenu"===t.type&&i.DomEvent.preventDefault(t),"mousemove"!==t.type&&i.DomEvent.stopPropagation(t)}}}),i.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=i.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&i.Browser.any3d?(i.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):i.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(t){var e=this.getZoomScale(t.zoom),n=this._getCenterOffset(t.center)._multiplyBy(-e)._add(this._pathViewport.min);this._pathRoot.style[i.DomUtil.TRANSFORM]=i.DomUtil.getTranslateString(n)+" scale("+e+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,n=t.max,r=n.x-e.x,o=n.y-e.y,s=this._pathRoot,a=this._panes.overlayPane;i.Browser.mobileWebkit&&a.removeChild(s),i.DomUtil.setPosition(s,e),s.setAttribute("width",r),s.setAttribute("height",o),s.setAttribute("viewBox",[e.x,e.y,r,o].join(" ")),i.Browser.mobileWebkit&&a.appendChild(s)}}}),i.Path.include({bindPopup:function(t,e){return t instanceof i.Popup?this._popup=t:((!this._popup||e)&&(this._popup=new i.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(t){return this._popup&&(t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:t})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(t){this._popup.setLatLng(t.latlng),this._map.openPopup(this._popup)}}),i.Browser.vml=!i.Browser.svg&&function(){try{var t=e.createElement("div");t.innerHTML='<v:shape adj="1"/>';var n=t.firstChild;return n.style.behavior="url(#default#VML)",n&&"object"==typeof n.adj}catch(r){return!1}}(),i.Path=i.Browser.svg||!i.Browser.vml?i.Path:i.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return e.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return e.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var t=this._container=this._createElement("shape");i.DomUtil.addClass(t,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&i.DomUtil.addClass(t,"leaflet-clickable"),t.coordsize="1 1",this._path=this._createElement("path"),t.appendChild(this._path),this._map._pathRoot.appendChild(t)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var t=this._stroke,e=this._fill,n=this.options,r=this._container;r.stroked=n.stroke,r.filled=n.fill,n.stroke?(t||(t=this._stroke=this._createElement("stroke"),t.endcap="round",r.appendChild(t)),t.weight=n.weight+"px",t.color=n.color,t.opacity=n.opacity,n.dashArray?t.dashStyle=i.Util.isArray(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):t.dashStyle="",n.lineCap&&(t.endcap=n.lineCap.replace("butt","flat")),n.lineJoin&&(t.joinstyle=n.lineJoin)):t&&(r.removeChild(t),this._stroke=null),n.fill?(e||(e=this._fill=this._createElement("fill"),r.appendChild(e)),e.color=n.fillColor||n.color,e.opacity=n.fillOpacity):e&&(r.removeChild(e),this._fill=null)},_updatePath:function(){var t=this._container.style;t.display="none",this._path.v=this.getPathString()+" ",t.display=""}}),i.Map.include(i.Browser.svg||!i.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var t=this._pathRoot=e.createElement("div");t.className="leaflet-vml-container",this._panes.overlayPane.appendChild(t),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),i.Browser.canvas=function(){return!!e.createElement("canvas").getContext}(),i.Path=i.Path.SVG&&!t.L_PREFER_CANVAS||!i.Browser.canvas?i.Path:i.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(t){return i.setOptions(this,t),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(t){t.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this._map=null},_requestUpdate:function(){this._map&&!i.Path._updateRequest&&(i.Path._updateRequest=i.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){i.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;t.stroke&&(this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color),t.fill&&(this._ctx.fillStyle=t.fillColor||t.color)},_drawPath:function(){var t,e,n,r,o,s;for(this._ctx.beginPath(),t=0,n=this._parts.length;n>t;t++){for(e=0,r=this._parts[t].length;r>e;e++)o=this._parts[t][e],s=(0===e?"move":"line")+"To",this._ctx[s](o.x,o.y);this instanceof i.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var t=this._ctx,e=this.options;this._drawPath(),t.save(),this._updateStyle(),e.fill&&(t.globalAlpha=e.fillOpacity,t.fill()),e.stroke&&(t.globalAlpha=e.opacity,t.stroke()),t.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onClick,this))},_onClick:function(t){this._containsPoint(t.layerPoint)&&this.fire("click",t)},_onMouseMove:function(t){this._map&&!this._map._animatingZoom&&(this._containsPoint(t.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",t)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",t)))}}),i.Map.include(i.Path.SVG&&!t.L_PREFER_CANVAS||!i.Browser.canvas?{}:{_initPathRoot:function(){var t,n=this._pathRoot;n||(n=this._pathRoot=e.createElement("canvas"),n.style.position="absolute",t=this._canvasCtx=n.getContext("2d"),t.lineCap="round",t.lineJoin="round",this._panes.overlayPane.appendChild(n),
this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,n=t.max.subtract(e),r=this._pathRoot;i.DomUtil.setPosition(r,e),r.width=n.x,r.height=n.y,r.getContext("2d").translate(-e.x,-e.y)}}}),i.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=this._reducePoints(t,n),t=this._simplifyDP(t,n)},pointToSegmentDistance:function(t,e,n){return Math.sqrt(this._sqClosestPointOnSegment(t,e,n,!0))},closestPointOnSegment:function(t,e,n){return this._sqClosestPointOnSegment(t,e,n)},_simplifyDP:function(t,e){var r=t.length,i=typeof Uint8Array!=n+""?Uint8Array:Array,o=new i(r);o[0]=o[r-1]=1,this._simplifyDPStep(t,o,e,0,r-1);var s,a=[];for(s=0;r>s;s++)o[s]&&a.push(t[s]);return a},_simplifyDPStep:function(t,e,n,r,i){var o,s,a,l=0;for(s=r+1;i-1>=s;s++)a=this._sqClosestPointOnSegment(t[s],t[r],t[i],!0),a>l&&(o=s,l=a);l>n&&(e[o]=1,this._simplifyDPStep(t,e,n,r,o),this._simplifyDPStep(t,e,n,o,i))},_reducePoints:function(t,e){for(var n=[t[0]],r=1,i=0,o=t.length;o>r;r++)this._sqDist(t[r],t[i])>e&&(n.push(t[r]),i=r);return o-1>i&&n.push(t[o-1]),n},clipSegment:function(t,e,n,r){var i,o,s,a=r?this._lastCode:this._getBitCode(t,n),l=this._getBitCode(e,n);for(this._lastCode=l;;){if(!(a|l))return[t,e];if(a&l)return!1;i=a||l,o=this._getEdgeIntersection(t,e,i,n),s=this._getBitCode(o,n),i===a?(t=o,a=s):(e=o,l=s)}},_getEdgeIntersection:function(t,e,n,r){var o=e.x-t.x,s=e.y-t.y,a=r.min,l=r.max;return 8&n?new i.Point(t.x+o*(l.y-t.y)/s,l.y):4&n?new i.Point(t.x+o*(a.y-t.y)/s,a.y):2&n?new i.Point(l.x,t.y+s*(l.x-t.x)/o):1&n?new i.Point(a.x,t.y+s*(a.x-t.x)/o):void 0},_getBitCode:function(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n},_sqDist:function(t,e){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r},_sqClosestPointOnSegment:function(t,e,n,r){var o,s=e.x,a=e.y,l=n.x-s,u=n.y-a,c=l*l+u*u;return c>0&&(o=((t.x-s)*l+(t.y-a)*u)/c,o>1?(s=n.x,a=n.y):o>0&&(s+=l*o,a+=u*o)),l=t.x-s,u=t.y-a,r?l*l+u*u:new i.Point(s,a)}},i.Polyline=i.Path.extend({initialize:function(t,e){i.Path.prototype.initialize.call(this,e),this._latlngs=this._convertLatLngs(t)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,e=this._latlngs.length;e>t;t++)this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])},getPathString:function(){for(var t=0,e=this._parts.length,n="";e>t;t++)n+=this._getPathPartStr(this._parts[t]);return n},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._latlngs=this._convertLatLngs(t),this.redraw()},addLatLng:function(t){return this._latlngs.push(i.latLng(t)),this.redraw()},spliceLatLngs:function(){var t=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),t},closestLayerPoint:function(t){for(var e,n,r=1/0,o=this._parts,s=null,a=0,l=o.length;l>a;a++)for(var u=o[a],c=1,h=u.length;h>c;c++){e=u[c-1],n=u[c];var d=i.LineUtil._sqClosestPointOnSegment(t,e,n,!0);r>d&&(r=d,s=i.LineUtil._sqClosestPointOnSegment(t,e,n))}return s&&(s.distance=Math.sqrt(r)),s},getBounds:function(){return new i.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(t,e){var n,r,o=e?t:[];for(n=0,r=t.length;r>n;n++){if(i.Util.isArray(t[n])&&"number"!=typeof t[n][0])return;o[n]=i.latLng(t[n])}return o},_initEvents:function(){i.Path.prototype._initEvents.call(this)},_getPathPartStr:function(t){for(var e,n=i.Path.VML,r=0,o=t.length,s="";o>r;r++)e=t[r],n&&e._round(),s+=(r?"L":"M")+e.x+" "+e.y;return s},_clipPoints:function(){var t,e,n,r=this._originalPoints,o=r.length;if(this.options.noClip)return void(this._parts=[r]);this._parts=[];var s=this._parts,a=this._map._pathViewport,l=i.LineUtil;for(t=0,e=0;o-1>t;t++)n=l.clipSegment(r[t],r[t+1],a,t),n&&(s[e]=s[e]||[],s[e].push(n[0]),(n[1]!==r[t+1]||t===o-2)&&(s[e].push(n[1]),e++))},_simplifyPoints:function(){for(var t=this._parts,e=i.LineUtil,n=0,r=t.length;r>n;n++)t[n]=e.simplify(t[n],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),i.Path.prototype._updatePath.call(this))}}),i.polyline=function(t,e){return new i.Polyline(t,e)},i.PolyUtil={},i.PolyUtil.clipPolygon=function(t,e){var n,r,o,s,a,l,u,c,h,d=[1,4,2,8],p=i.LineUtil;for(r=0,u=t.length;u>r;r++)t[r]._code=p._getBitCode(t[r],e);for(s=0;4>s;s++){for(c=d[s],n=[],r=0,u=t.length,o=u-1;u>r;o=r++)a=t[r],l=t[o],a._code&c?l._code&c||(h=p._getEdgeIntersection(l,a,c,e),h._code=p._getBitCode(h,e),n.push(h)):(l._code&c&&(h=p._getEdgeIntersection(l,a,c,e),h._code=p._getBitCode(h,e),n.push(h)),n.push(a));t=n}return t},i.Polygon=i.Polyline.extend({options:{fill:!0},initialize:function(t,e){i.Polyline.prototype.initialize.call(this,t,e),this._initWithHoles(t)},_initWithHoles:function(t){var e,n,r;if(t&&i.Util.isArray(t[0])&&"number"!=typeof t[0][0])for(this._latlngs=this._convertLatLngs(t[0]),this._holes=t.slice(1),e=0,n=this._holes.length;n>e;e++)r=this._holes[e]=this._convertLatLngs(this._holes[e]),r[0].equals(r[r.length-1])&&r.pop();t=this._latlngs,t.length>=2&&t[0].equals(t[t.length-1])&&t.pop()},projectLatlngs:function(){if(i.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var t,e,n,r;for(t=0,n=this._holes.length;n>t;t++)for(this._holePoints[t]=[],e=0,r=this._holes[t].length;r>e;e++)this._holePoints[t][e]=this._map.latLngToLayerPoint(this._holes[t][e])}},setLatLngs:function(t){return t&&i.Util.isArray(t[0])&&"number"!=typeof t[0][0]?(this._initWithHoles(t),this.redraw()):i.Polyline.prototype.setLatLngs.call(this,t)},_clipPoints:function(){var t=this._originalPoints,e=[];if(this._parts=[t].concat(this._holePoints),!this.options.noClip){for(var n=0,r=this._parts.length;r>n;n++){var o=i.PolyUtil.clipPolygon(this._parts[n],this._map._pathViewport);o.length&&e.push(o)}this._parts=e}},_getPathPartStr:function(t){var e=i.Polyline.prototype._getPathPartStr.call(this,t);return e+(i.Browser.svg?"z":"x")}}),i.polygon=function(t,e){return new i.Polygon(t,e)},function(){function t(t){return i.FeatureGroup.extend({initialize:function(t,e){this._layers={},this._options=e,this.setLatLngs(t)},setLatLngs:function(e){var n=0,r=e.length;for(this.eachLayer(function(t){r>n?t.setLatLngs(e[n++]):this.removeLayer(t)},this);r>n;)this.addLayer(new t(e[n++],this._options));return this},getLatLngs:function(){var t=[];return this.eachLayer(function(e){t.push(e.getLatLngs())}),t}})}i.MultiPolyline=t(i.Polyline),i.MultiPolygon=t(i.Polygon),i.multiPolyline=function(t,e){return new i.MultiPolyline(t,e)},i.multiPolygon=function(t,e){return new i.MultiPolygon(t,e)}}(),i.Rectangle=i.Polygon.extend({initialize:function(t,e){i.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=i.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),i.rectangle=function(t,e){return new i.Rectangle(t,e)},i.Circle=i.Path.extend({initialize:function(t,e,n){i.Path.prototype.initialize.call(this,n),this._latlng=i.latLng(t),this._mRadius=e},options:{fill:!0},setLatLng:function(t){return this._latlng=i.latLng(t),this.redraw()},setRadius:function(t){return this._mRadius=t,this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),e=this._latlng,n=this._map.latLngToLayerPoint([e.lat,e.lng-t]);this._point=this._map.latLngToLayerPoint(e),this._radius=Math.max(this._point.x-n.x,1)},getBounds:function(){var t=this._getLngRadius(),e=this._mRadius/40075017*360,n=this._latlng;return new i.LatLngBounds([n.lat-e,n.lng-t],[n.lat+e,n.lng+t])},getLatLng:function(){return this._latlng},getPathString:function(){var t=this._point,e=this._radius;return this._checkIfEmpty()?"":i.Browser.svg?"M"+t.x+","+(t.y-e)+"A"+e+","+e+",0,1,1,"+(t.x-.1)+","+(t.y-e)+" z":(t._round(),e=Math.round(e),"AL "+t.x+","+t.y+" "+e+","+e+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(i.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,e=this._radius,n=this._point;return n.x-e>t.max.x||n.y-e>t.max.y||n.x+e<t.min.x||n.y+e<t.min.y}}),i.circle=function(t,e,n){return new i.Circle(t,e,n)},i.CircleMarker=i.Circle.extend({options:{radius:10,weight:2},initialize:function(t,e){i.Circle.prototype.initialize.call(this,t,null,e),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){i.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(t){return i.Circle.prototype.setLatLng.call(this,t),this._popup&&this._popup._isOpen&&this._popup.setLatLng(t),this},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius}}),i.circleMarker=function(t,e){return new i.CircleMarker(t,e)},i.Polyline.include(i.Path.CANVAS?{_containsPoint:function(t,e){var n,r,o,s,a,l,u,c=this.options.weight/2;for(i.Browser.touch&&(c+=10),n=0,s=this._parts.length;s>n;n++)for(u=this._parts[n],r=0,a=u.length,o=a-1;a>r;o=r++)if((e||0!==r)&&(l=i.LineUtil.pointToSegmentDistance(t,u[o],u[r]),c>=l))return!0;return!1}}:{}),i.Polygon.include(i.Path.CANVAS?{_containsPoint:function(t){var e,n,r,o,s,a,l,u,c=!1;if(i.Polyline.prototype._containsPoint.call(this,t,!0))return!0;for(o=0,l=this._parts.length;l>o;o++)for(e=this._parts[o],s=0,u=e.length,a=u-1;u>s;a=s++)n=e[s],r=e[a],n.y>t.y!=r.y>t.y&&t.x<(r.x-n.x)*(t.y-n.y)/(r.y-n.y)+n.x&&(c=!c);return c}}:{}),i.Circle.include(i.Path.CANVAS?{_drawPath:function(){var t=this._point;this._ctx.beginPath(),this._ctx.arc(t.x,t.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(t){var e=this._point,n=this.options.stroke?this.options.weight/2:0;return t.distanceTo(e)<=this._radius+n}}:{}),i.CircleMarker.include(i.Path.CANVAS?{_updateStyle:function(){i.Path.prototype._updateStyle.call(this)}}:{}),i.GeoJSON=i.FeatureGroup.extend({initialize:function(t,e){i.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,r,o=i.Util.isArray(t)?t:t.features;if(o){for(e=0,n=o.length;n>e;e++)r=o[e],(r.geometries||r.geometry||r.features||r.coordinates)&&this.addData(o[e]);return this}var s=this.options;if(!s.filter||s.filter(t)){var a=i.GeoJSON.geometryToLayer(t,s.pointToLayer,s.coordsToLatLng,s);return a.feature=i.GeoJSON.asFeature(t),a.defaultOptions=a.options,this.resetStyle(a),s.onEachFeature&&s.onEachFeature(t,a),this.addLayer(a)}},resetStyle:function(t){var e=this.options.style;e&&(i.Util.extend(t.options,t.defaultOptions),this._setLayerStyle(t,e))},setStyle:function(t){this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),i.extend(i.GeoJSON,{geometryToLayer:function(t,e,n,r){var o,s,a,l,u="Feature"===t.type?t.geometry:t,c=u.coordinates,h=[];switch(n=n||this.coordsToLatLng,u.type){case"Point":return o=n(c),e?e(t,o):new i.Marker(o);case"MultiPoint":for(a=0,l=c.length;l>a;a++)o=n(c[a]),h.push(e?e(t,o):new i.Marker(o));return new i.FeatureGroup(h);case"LineString":return s=this.coordsToLatLngs(c,0,n),new i.Polyline(s,r);case"Polygon":if(2===c.length&&!c[1].length)throw new Error("Invalid GeoJSON object.");return s=this.coordsToLatLngs(c,1,n),new i.Polygon(s,r);case"MultiLineString":return s=this.coordsToLatLngs(c,1,n),new i.MultiPolyline(s,r);case"MultiPolygon":return s=this.coordsToLatLngs(c,2,n),new i.MultiPolygon(s,r);case"GeometryCollection":for(a=0,l=u.geometries.length;l>a;a++)h.push(this.geometryToLayer({geometry:u.geometries[a],type:"Feature",properties:t.properties},e,n,r));return new i.FeatureGroup(h);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new i.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,n){var r,i,o,s=[];for(i=0,o=t.length;o>i;i++)r=e?this.coordsToLatLngs(t[i],e-1,n):(n||this.coordsToLatLng)(t[i]),s.push(r);return s},latLngToCoords:function(t){var e=[t.lng,t.lat];return t.alt!==n&&e.push(t.alt),e},latLngsToCoords:function(t){for(var e=[],n=0,r=t.length;r>n;n++)e.push(i.GeoJSON.latLngToCoords(t[n]));return e},getFeature:function(t,e){return t.feature?i.extend({},t.feature,{geometry:e}):i.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var s={toGeoJSON:function(){return i.GeoJSON.getFeature(this,{type:"Point",coordinates:i.GeoJSON.latLngToCoords(this.getLatLng())})}};i.Marker.include(s),i.Circle.include(s),i.CircleMarker.include(s),i.Polyline.include({toGeoJSON:function(){return i.GeoJSON.getFeature(this,{type:"LineString",coordinates:i.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),i.Polygon.include({toGeoJSON:function(){var t,e,n,r=[i.GeoJSON.latLngsToCoords(this.getLatLngs())];if(r[0].push(r[0][0]),this._holes)for(t=0,e=this._holes.length;e>t;t++)n=i.GeoJSON.latLngsToCoords(this._holes[t]),n.push(n[0]),r.push(n);return i.GeoJSON.getFeature(this,{type:"Polygon",coordinates:r})}}),function(){function t(t){return function(){var e=[];return this.eachLayer(function(t){e.push(t.toGeoJSON().geometry.coordinates)}),i.GeoJSON.getFeature(this,{type:t,coordinates:e})}}i.MultiPolyline.include({toGeoJSON:t("MultiLineString")}),i.MultiPolygon.include({toGeoJSON:t("MultiPolygon")}),i.LayerGroup.include({toGeoJSON:function(){var e,n=this.feature&&this.feature.geometry,r=[];if(n&&"MultiPoint"===n.type)return t("MultiPoint").call(this);var o=n&&"GeometryCollection"===n.type;return this.eachLayer(function(t){t.toGeoJSON&&(e=t.toGeoJSON(),r.push(o?e.geometry:i.GeoJSON.asFeature(e)))}),o?i.GeoJSON.getFeature(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}})}(),i.geoJson=function(t,e){return new i.GeoJSON(t,e)},i.DomEvent={addListener:function(t,e,n,r){var o,s,a,l=i.stamp(n),u="_leaflet_"+e+l;return t[u]?this:(o=function(e){return n.call(r||t,e||i.DomEvent._getEvent())},i.Browser.pointer&&0===e.indexOf("touch")?this.addPointerListener(t,e,o,l):(i.Browser.touch&&"dblclick"===e&&this.addDoubleTapListener&&this.addDoubleTapListener(t,o,l),"addEventListener"in t?"mousewheel"===e?(t.addEventListener("DOMMouseScroll",o,!1),t.addEventListener(e,o,!1)):"mouseenter"===e||"mouseleave"===e?(s=o,a="mouseenter"===e?"mouseover":"mouseout",o=function(e){return i.DomEvent._checkMouse(t,e)?s(e):void 0},t.addEventListener(a,o,!1)):"click"===e&&i.Browser.android?(s=o,o=function(t){return i.DomEvent._filterClick(t,s)},t.addEventListener(e,o,!1)):t.addEventListener(e,o,!1):"attachEvent"in t&&t.attachEvent("on"+e,o),t[u]=o,this))},removeListener:function(t,e,n){var r=i.stamp(n),o="_leaflet_"+e+r,s=t[o];return s?(i.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,r):i.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,r):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",s,!1),t.removeEventListener(e,s,!1)):"mouseenter"===e||"mouseleave"===e?t.removeEventListener("mouseenter"===e?"mouseover":"mouseout",s,!1):t.removeEventListener(e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s),t[o]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,i.DomEvent._skipped(t),this},disableScrollPropagation:function(t){var e=i.DomEvent.stopPropagation;return i.DomEvent.on(t,"mousewheel",e).on(t,"MozMousePixelScroll",e)},disableClickPropagation:function(t){for(var e=i.DomEvent.stopPropagation,n=i.Draggable.START.length-1;n>=0;n--)i.DomEvent.on(t,i.Draggable.START[n],e);return i.DomEvent.on(t,"click",i.DomEvent._fakeStop).on(t,"dblclick",e)},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return i.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new i.Point(t.clientX,t.clientY);var n=e.getBoundingClientRect();return new i.Point(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e},_skipEvents:{},_fakeStop:function(t){i.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_checkMouse:function(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(r){return!1}return n!==t},_getEvent:function(){var e=t.event;if(!e)for(var n=arguments.callee.caller;n&&(e=n.arguments[0],!e||t.Event!==e.constructor);)n=n.caller;return e},_filterClick:function(t,e){var n=t.timeStamp||t.originalEvent.timeStamp,r=i.DomEvent._lastClick&&n-i.DomEvent._lastClick;return r&&r>100&&1e3>r||t.target._simulatedClick&&!t._simulated?void i.DomEvent.stop(t):(i.DomEvent._lastClick=n,e(t))}},i.DomEvent.on=i.DomEvent.addListener,i.DomEvent.off=i.DomEvent.removeListener,i.Draggable=i.Class.extend({includes:i.Mixin.Events,statics:{START:i.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e){this._element=t,this._dragStartTarget=e||t},enable:function(){if(!this._enabled){for(var t=i.Draggable.START.length-1;t>=0;t--)i.DomEvent.on(this._dragStartTarget,i.Draggable.START[t],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var t=i.Draggable.START.length-1;t>=0;t--)i.DomEvent.off(this._dragStartTarget,i.Draggable.START[t],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(t){if(this._moved=!1,!t.shiftKey&&(1===t.which||1===t.button||t.touches)&&(i.DomEvent.stopPropagation(t),!i.Draggable._disabled&&(i.DomUtil.disableImageDrag(),i.DomUtil.disableTextSelection(),!this._moving))){var n=t.touches?t.touches[0]:t;this._startPoint=new i.Point(n.clientX,n.clientY),this._startPos=this._newPos=i.DomUtil.getPosition(this._element),i.DomEvent.on(e,i.Draggable.MOVE[t.type],this._onMove,this).on(e,i.Draggable.END[t.type],this._onUp,this)}},_onMove:function(t){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var n=t.touches&&1===t.touches.length?t.touches[0]:t,r=new i.Point(n.clientX,n.clientY),o=r.subtract(this._startPoint);(o.x||o.y)&&(i.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=i.DomUtil.getPosition(this._element).subtract(o),i.DomUtil.addClass(e.body,"leaflet-dragging"),i.DomUtil.addClass(t.target||t.srcElement,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,i.Util.cancelAnimFrame(this._animRequest),this._animRequest=i.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget))},_updatePosition:function(){this.fire("predrag"),i.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(t){i.DomUtil.removeClass(e.body,"leaflet-dragging"),i.DomUtil.removeClass(t.target||t.srcElement,"leaflet-drag-target");for(var n in i.Draggable.MOVE)i.DomEvent.off(e,i.Draggable.MOVE[n],this._onMove).off(e,i.Draggable.END[n],this._onUp);i.DomUtil.enableImageDrag(),i.DomUtil.enableTextSelection(),this._moved&&this._moving&&(i.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),i.Handler=i.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),i.Map.mergeOptions({dragging:!0,inertia:!i.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:i.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),i.Map.Drag=i.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new i.Draggable(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),t.on("viewreset",this._onViewReset,this),t.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;t._panAnim&&t._panAnim.stop(),t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var t=this._lastTime=+new Date,e=this._lastPos=this._draggable._newPos;this._positions.push(e),this._times.push(t),t-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var t=this._map.getSize()._divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-e+n)%t+e-n,o=(r+e+n)%t-e-n,s=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,r=+new Date-this._lastTime,o=!n.inertia||r>n.inertiaThreshold||!this._positions[0];if(e.fire("dragend",t),o)e.fire("moveend");else{var s=this._lastPos.subtract(this._positions[0]),a=(this._lastTime+r-this._times[0])/1e3,l=n.easeLinearity,u=s.multiplyBy(l/a),c=u.distanceTo([0,0]),h=Math.min(n.inertiaMaxSpeed,c),d=u.multiplyBy(h/c),p=h/(n.inertiaDeceleration*l),f=d.multiplyBy(-p/2).round();f.x&&f.y?(f=e._limitOffset(f,e.options.maxBounds),i.Util.requestAnimFrame(function(){e.panBy(f,{duration:p,easeLinearity:l,noMoveStart:!0})})):e.fire("moveend")}}}),i.Map.addInitHook("addHandler","dragging",i.Map.Drag),i.Map.mergeOptions({doubleClickZoom:!0}),i.Map.DoubleClickZoom=i.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom()+(t.originalEvent.shiftKey?-1:1);"center"===e.options.doubleClickZoom?e.setZoom(n):e.setZoomAround(t.containerPoint,n)}}),i.Map.addInitHook("addHandler","doubleClickZoom",i.Map.DoubleClickZoom),i.Map.mergeOptions({scrollWheelZoom:!0}),i.Map.ScrollWheelZoom=i.Handler.extend({addHooks:function(){i.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),i.DomEvent.on(this._map._container,"MozMousePixelScroll",i.DomEvent.preventDefault),this._delta=0},removeHooks:function(){i.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),i.DomEvent.off(this._map._container,"MozMousePixelScroll",i.DomEvent.preventDefault)},_onWheelScroll:function(t){var e=i.DomEvent.getWheelDelta(t);this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i.bind(this._performZoom,this),n),i.DomEvent.preventDefault(t),i.DomEvent.stopPropagation(t)},_performZoom:function(){var t=this._map,e=this._delta,n=t.getZoom();e=e>0?Math.ceil(e):Math.floor(e),e=Math.max(Math.min(e,4),-4),e=t._limitZoom(n+e)-n,this._delta=0,this._startTime=null,e&&("center"===t.options.scrollWheelZoom?t.setZoom(n+e):t.setZoomAround(this._lastMousePos,n+e))}}),i.Map.addInitHook("addHandler","scrollWheelZoom",i.Map.ScrollWheelZoom),i.extend(i.DomEvent,{_touchstart:i.Browser.msPointer?"MSPointerDown":i.Browser.pointer?"pointerdown":"touchstart",_touchend:i.Browser.msPointer?"MSPointerUp":i.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,n,r){function o(t){var e;if(i.Browser.pointer?(f.push(t.pointerId),e=f.length):e=t.touches.length,!(e>1)){var n=Date.now(),r=n-(a||n);l=t.touches?t.touches[0]:t,u=r>0&&c>=r,a=n}}function s(t){if(i.Browser.pointer){var e=f.indexOf(t.pointerId);if(-1===e)return;f.splice(e,1)}if(u){if(i.Browser.pointer){var r,o={};for(var s in l)r=l[s],"function"==typeof r?o[s]=r.bind(l):o[s]=r;l=o}l.type="dblclick",n(l),a=null}}var a,l,u=!1,c=250,h="_leaflet_",d=this._touchstart,p=this._touchend,f=[];t[h+d+r]=o,t[h+p+r]=s;var m=i.Browser.pointer?e.documentElement:t;return t.addEventListener(d,o,!1),m.addEventListener(p,s,!1),i.Browser.pointer&&m.addEventListener(i.DomEvent.POINTER_CANCEL,s,!1),this},removeDoubleTapListener:function(t,n){var r="_leaflet_";return t.removeEventListener(this._touchstart,t[r+this._touchstart+n],!1),(i.Browser.pointer?e.documentElement:t).removeEventListener(this._touchend,t[r+this._touchend+n],!1),i.Browser.pointer&&e.documentElement.removeEventListener(i.DomEvent.POINTER_CANCEL,t[r+this._touchend+n],!1),this}}),i.extend(i.DomEvent,{POINTER_DOWN:i.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:i.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:i.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:i.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(t,e,n,r){switch(e){case"touchstart":return this.addPointerListenerStart(t,e,n,r);case"touchend":return this.addPointerListenerEnd(t,e,n,r);case"touchmove":return this.addPointerListenerMove(t,e,n,r);default:throw"Unknown touch event type"}},addPointerListenerStart:function(t,n,r,o){var s="_leaflet_",a=this._pointers,l=function(t){i.DomEvent.preventDefault(t);for(var e=!1,n=0;n<a.length;n++)if(a[n].pointerId===t.pointerId){e=!0;break}e||a.push(t),t.touches=a.slice(),t.changedTouches=[t],r(t)};if(t[s+"touchstart"+o]=l,t.addEventListener(this.POINTER_DOWN,l,!1),!this._pointerDocumentListener){var u=function(t){for(var e=0;e<a.length;e++)if(a[e].pointerId===t.pointerId){a.splice(e,1);break}};e.documentElement.addEventListener(this.POINTER_UP,u,!1),e.documentElement.addEventListener(this.POINTER_CANCEL,u,!1),this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(t,e,n,r){function i(t){if(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons){for(var e=0;e<s.length;e++)if(s[e].pointerId===t.pointerId){s[e]=t;break}t.touches=s.slice(),t.changedTouches=[t],n(t)}}var o="_leaflet_",s=this._pointers;return t[o+"touchmove"+r]=i,t.addEventListener(this.POINTER_MOVE,i,!1),this},addPointerListenerEnd:function(t,e,n,r){var i="_leaflet_",o=this._pointers,s=function(t){for(var e=0;e<o.length;e++)if(o[e].pointerId===t.pointerId){o.splice(e,1);break}t.touches=o.slice(),t.changedTouches=[t],n(t)};return t[i+"touchend"+r]=s,t.addEventListener(this.POINTER_UP,s,!1),t.addEventListener(this.POINTER_CANCEL,s,!1),this},removePointerListener:function(t,e,n){var r="_leaflet_",i=t[r+e+n];switch(e){case"touchstart":t.removeEventListener(this.POINTER_DOWN,i,!1);break;case"touchmove":t.removeEventListener(this.POINTER_MOVE,i,!1);break;case"touchend":t.removeEventListener(this.POINTER_UP,i,!1),t.removeEventListener(this.POINTER_CANCEL,i,!1)}return this}}),i.Map.mergeOptions({touchZoom:i.Browser.touch&&!i.Browser.android23,bounceAtZoomLimits:!0}),i.Map.TouchZoom=i.Handler.extend({addHooks:function(){i.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){i.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var n=this._map;if(t.touches&&2===t.touches.length&&!n._animatingZoom&&!this._zooming){var r=n.mouseEventToLayerPoint(t.touches[0]),o=n.mouseEventToLayerPoint(t.touches[1]),s=n._getCenterLayerPoint();this._startCenter=r.add(o)._divideBy(2),this._startDist=r.distanceTo(o),this._moved=!1,this._zooming=!0,this._centerOffset=s.subtract(this._startCenter),n._panAnim&&n._panAnim.stop(),i.DomEvent.on(e,"touchmove",this._onTouchMove,this).on(e,"touchend",this._onTouchEnd,this),i.DomEvent.preventDefault(t)}},_onTouchMove:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&this._zooming){var n=e.mouseEventToLayerPoint(t.touches[0]),r=e.mouseEventToLayerPoint(t.touches[1]);this._scale=n.distanceTo(r)/this._startDist,this._delta=n._add(r)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(e.options.bounceAtZoomLimits||!(e.getZoom()===e.getMinZoom()&&this._scale<1||e.getZoom()===e.getMaxZoom()&&this._scale>1))&&(this._moved||(i.DomUtil.addClass(e._mapPane,"leaflet-touching"),e.fire("movestart").fire("zoomstart"),this._moved=!0),i.Util.cancelAnimFrame(this._animRequest),this._animRequest=i.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),i.DomEvent.preventDefault(t))}},_updateOnMove:function(){var t=this._map,e=this._getScaleOrigin(),n=t.layerPointToLatLng(e),r=t.getScaleZoom(this._scale);t._animateZoom(n,r,this._startCenter,this._scale,this._delta)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);var t=this._map;this._zooming=!1,i.DomUtil.removeClass(t._mapPane,"leaflet-touching"),i.Util.cancelAnimFrame(this._animRequest),i.DomEvent.off(e,"touchmove",this._onTouchMove).off(e,"touchend",this._onTouchEnd);var n=this._getScaleOrigin(),r=t.layerPointToLatLng(n),o=t.getZoom(),s=t.getScaleZoom(this._scale)-o,a=s>0?Math.ceil(s):Math.floor(s),l=t._limitZoom(o+a),u=t.getZoomScale(l)/this._scale;t._animateZoom(r,l,n,u)},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}}),i.Map.addInitHook("addHandler","touchZoom",i.Map.TouchZoom),i.Map.mergeOptions({tap:!0,tapTolerance:15}),i.Map.Tap=i.Handler.extend({addHooks:function(){i.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){i.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(i.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var n=t.touches[0],r=n.target;this._startPos=this._newPos=new i.Point(n.clientX,n.clientY),r.tagName&&"a"===r.tagName.toLowerCase()&&i.DomUtil.addClass(r,"leaflet-active"),this._holdTimeout=setTimeout(i.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",n))},this),1e3),i.DomEvent.on(e,"touchmove",this._onMove,this).on(e,"touchend",this._onUp,this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),i.DomEvent.off(e,"touchmove",this._onMove,this).off(e,"touchend",this._onUp,this),this._fireClick&&t&&t.changedTouches){var n=t.changedTouches[0],r=n.target;r&&r.tagName&&"a"===r.tagName.toLowerCase()&&i.DomUtil.removeClass(r,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",n)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new i.Point(e.clientX,e.clientY)},_simulateEvent:function(n,r){var i=e.createEvent("MouseEvents");i._simulated=!0,r.target._simulatedClick=!0,i.initMouseEvent(n,!0,!0,t,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),r.target.dispatchEvent(i)}}),i.Browser.touch&&!i.Browser.pointer&&i.Map.addInitHook("addHandler","tap",i.Map.Tap),i.Map.mergeOptions({boxZoom:!0}),i.Map.BoxZoom=i.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._moved=!1},addHooks:function(){i.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){i.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(t){return this._moved=!1,!t.shiftKey||1!==t.which&&1!==t.button?!1:(i.DomUtil.disableTextSelection(),
i.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(t),void i.DomEvent.on(e,"mousemove",this._onMouseMove,this).on(e,"mouseup",this._onMouseUp,this).on(e,"keydown",this._onKeyDown,this))},_onMouseMove:function(t){this._moved||(this._box=i.DomUtil.create("div","leaflet-zoom-box",this._pane),i.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var e=this._startLayerPoint,n=this._box,r=this._map.mouseEventToLayerPoint(t),o=r.subtract(e),s=new i.Point(Math.min(r.x,e.x),Math.min(r.y,e.y));i.DomUtil.setPosition(n,s),this._moved=!0,n.style.width=Math.max(0,Math.abs(o.x)-4)+"px",n.style.height=Math.max(0,Math.abs(o.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),i.DomUtil.enableTextSelection(),i.DomUtil.enableImageDrag(),i.DomEvent.off(e,"mousemove",this._onMouseMove).off(e,"mouseup",this._onMouseUp).off(e,"keydown",this._onKeyDown)},_onMouseUp:function(t){this._finish();var e=this._map,n=e.mouseEventToLayerPoint(t);if(!this._startLayerPoint.equals(n)){var r=new i.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint),e.layerPointToLatLng(n));e.fitBounds(r),e.fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),i.Map.addInitHook("addHandler","boxZoom",i.Map.BoxZoom),i.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),i.Map.Keyboard=i.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;-1===t.tabIndex&&(t.tabIndex="0"),i.DomEvent.on(t,"focus",this._onFocus,this).on(t,"blur",this._onBlur,this).on(t,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var t=this._map._container;i.DomEvent.off(t,"focus",this._onFocus,this).off(t,"blur",this._onBlur,this).off(t,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var n=e.body,r=e.documentElement,i=n.scrollTop||r.scrollTop,o=n.scrollLeft||r.scrollLeft;this._map._container.focus(),t.scrollTo(o,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(t){var e,n,r=this._panKeys={},i=this.keyCodes;for(e=0,n=i.left.length;n>e;e++)r[i.left[e]]=[-1*t,0];for(e=0,n=i.right.length;n>e;e++)r[i.right[e]]=[t,0];for(e=0,n=i.down.length;n>e;e++)r[i.down[e]]=[0,t];for(e=0,n=i.up.length;n>e;e++)r[i.up[e]]=[0,-1*t]},_setZoomOffset:function(t){var e,n,r=this._zoomKeys={},i=this.keyCodes;for(e=0,n=i.zoomIn.length;n>e;e++)r[i.zoomIn[e]]=t;for(e=0,n=i.zoomOut.length;n>e;e++)r[i.zoomOut[e]]=-t},_addHooks:function(){i.DomEvent.on(e,"keydown",this._onKeyDown,this)},_removeHooks:function(){i.DomEvent.off(e,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){var e=t.keyCode,n=this._map;if(e in this._panKeys){if(n._panAnim&&n._panAnim._inProgress)return;n.panBy(this._panKeys[e]),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds)}else{if(!(e in this._zoomKeys))return;n.setZoom(n.getZoom()+this._zoomKeys[e])}i.DomEvent.stop(t)}}),i.Map.addInitHook("addHandler","keyboard",i.Map.Keyboard),i.Handler.MarkerDrag=i.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new i.Draggable(t,t)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),i.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),i.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var t=this._marker,e=t._shadow,n=i.DomUtil.getPosition(t._icon),r=t._map.layerPointToLatLng(n);e&&i.DomUtil.setPosition(e,n),t._latlng=r,t.fire("move",{latlng:r}).fire("drag")},_onDragEnd:function(t){this._marker.fire("moveend").fire("dragend",t)}}),i.Control=i.Class.extend({options:{position:"topright"},initialize:function(t){i.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),r=t._controlCorners[n];return i.DomUtil.addClass(e,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(e,r.firstChild):r.appendChild(e),this},removeFrom:function(t){var e=this.getPosition(),n=t._controlCorners[e];return n.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(t),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),i.control=function(t){return new i.Control(t)},i.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.removeFrom(this),this},_initControlPos:function(){function t(t,o){var s=n+t+" "+n+o;e[t+o]=i.DomUtil.create("div",s,r)}var e=this._controlCorners={},n="leaflet-",r=this._controlContainer=i.DomUtil.create("div",n+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),i.Control.Zoom=i.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=i.DomUtil.create("div",e+" leaflet-bar");return this._map=t,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,e+"-in",n,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,e+"-out",n,this._zoomOut,this),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,e,n,r,o,s){var a=i.DomUtil.create("a",n,r);a.innerHTML=t,a.href="#",a.title=e;var l=i.DomEvent.stopPropagation;return i.DomEvent.on(a,"click",l).on(a,"mousedown",l).on(a,"dblclick",l).on(a,"click",i.DomEvent.preventDefault).on(a,"click",o,s).on(a,"click",this._refocusOnMap,s),a},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";i.DomUtil.removeClass(this._zoomInButton,e),i.DomUtil.removeClass(this._zoomOutButton,e),t._zoom===t.getMinZoom()&&i.DomUtil.addClass(this._zoomOutButton,e),t._zoom===t.getMaxZoom()&&i.DomUtil.addClass(this._zoomInButton,e)}}),i.Map.mergeOptions({zoomControl:!0}),i.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new i.Control.Zoom,this.addControl(this.zoomControl))}),i.control.zoom=function(t){return new i.Control.Zoom(t)},i.Control.Attribution=i.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){i.setOptions(this,t),this._attributions={}},onAdd:function(t){this._container=i.DomUtil.create("div","leaflet-control-attribution"),i.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return t.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):void 0},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):void 0},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}},_onLayerAdd:function(t){t.layer.getAttribution&&this.addAttribution(t.layer.getAttribution())},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeAttribution(t.layer.getAttribution())}}),i.Map.mergeOptions({attributionControl:!0}),i.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new i.Control.Attribution).addTo(this))}),i.control.attribution=function(t){return new i.Control.Attribution(t)},i.Control.Scale=i.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(t){this._map=t;var e="leaflet-control-scale",n=i.DomUtil.create("div",e),r=this.options;return this._addScales(r,e,n),t.on(r.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=i.DomUtil.create("div",e+"-line",n)),t.imperial&&(this._iScale=i.DomUtil.create("div",e+"-line",n))},_update:function(){var t=this._map.getBounds(),e=t.getCenter().lat,n=6378137*Math.PI*Math.cos(e*Math.PI/180),r=n*(t.getNorthEast().lng-t.getSouthWest().lng)/180,i=this._map.getSize(),o=this.options,s=0;i.x>0&&(s=r*(o.maxWidth/i.x)),this._updateScales(o,s)},_updateScales:function(t,e){t.metric&&e&&this._updateMetric(e),t.imperial&&e&&this._updateImperial(e)},_updateMetric:function(t){var e=this._getRoundNum(t);this._mScale.style.width=this._getScaleWidth(e/t)+"px",this._mScale.innerHTML=1e3>e?e+" m":e/1e3+" km"},_updateImperial:function(t){var e,n,r,i=3.2808399*t,o=this._iScale;i>5280?(e=i/5280,n=this._getRoundNum(e),o.style.width=this._getScaleWidth(n/e)+"px",o.innerHTML=n+" mi"):(r=this._getRoundNum(i),o.style.width=this._getScaleWidth(r/i)+"px",o.innerHTML=r+" ft")},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),i.control.scale=function(t){return new i.Control.Scale(t)},i.Control.Layers=i.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(t,e,n){i.setOptions(this,n),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var r in t)this._addLayer(t[r],r);for(r in e)this._addLayer(e[r],r,!0)},onAdd:function(t){return this._initLayout(),this._update(),t.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(t){t.off("layeradd",this._onLayerChange).off("layerremove",this._onLayerChange)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update(),this},removeLayer:function(t){var e=i.stamp(t);return delete this._layers[e],this._update(),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=i.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),i.Browser.touch?i.DomEvent.on(e,"click",i.DomEvent.stopPropagation):i.DomEvent.disableClickPropagation(e).disableScrollPropagation(e);var n=this._form=i.DomUtil.create("form",t+"-list");if(this.options.collapsed){i.Browser.android||i.DomEvent.on(e,"mouseover",this._expand,this).on(e,"mouseout",this._collapse,this);var r=this._layersLink=i.DomUtil.create("a",t+"-toggle",e);r.href="#",r.title="Layers",i.Browser.touch?i.DomEvent.on(r,"click",i.DomEvent.stop).on(r,"click",this._expand,this):i.DomEvent.on(r,"focus",this._expand,this),i.DomEvent.on(n,"click",function(){setTimeout(i.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=i.DomUtil.create("div",t+"-base",n),this._separator=i.DomUtil.create("div",t+"-separator",n),this._overlaysList=i.DomUtil.create("div",t+"-overlays",n),e.appendChild(n)},_addLayer:function(t,e,n){var r=i.stamp(t);this._layers[r]={layer:t,name:e,overlay:n},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var t,e,n=!1,r=!1;for(t in this._layers)e=this._layers[t],this._addItem(e),r=r||e.overlay,n=n||!e.overlay;this._separator.style.display=r&&n?"":"none"}},_onLayerChange:function(t){var e=this._layers[i.stamp(t.layer)];if(e){this._handlingClick||this._update();var n=e.overlay?"layeradd"===t.type?"overlayadd":"overlayremove":"layeradd"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)}},_createRadioElement:function(t,n){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"';n&&(r+=' checked="checked"'),r+="/>";var i=e.createElement("div");return i.innerHTML=r,i.firstChild},_addItem:function(t){var n,r=e.createElement("label"),o=this._map.hasLayer(t.layer);t.overlay?(n=e.createElement("input"),n.type="checkbox",n.className="leaflet-control-layers-selector",n.defaultChecked=o):n=this._createRadioElement("leaflet-base-layers",o),n.layerId=i.stamp(t.layer),i.DomEvent.on(n,"click",this._onInputClick,this);var s=e.createElement("span");s.innerHTML=" "+t.name,r.appendChild(n),r.appendChild(s);var a=t.overlay?this._overlaysList:this._baseLayersList;return a.appendChild(r),r},_onInputClick:function(){var t,e,n,r=this._form.getElementsByTagName("input"),i=r.length;for(this._handlingClick=!0,t=0;i>t;t++)e=r[t],n=this._layers[e.layerId],e.checked&&!this._map.hasLayer(n.layer)?this._map.addLayer(n.layer):!e.checked&&this._map.hasLayer(n.layer)&&this._map.removeLayer(n.layer);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){i.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),i.control.layers=function(t,e,n){return new i.Control.Layers(t,e,n)},i.PosAnimation=i.Class.extend({includes:i.Mixin.Events,run:function(t,e,n,r){this.stop(),this._el=t,this._inProgress=!0,this._newPos=e,this.fire("start"),t.style[i.DomUtil.TRANSITION]="all "+(n||.25)+"s cubic-bezier(0,0,"+(r||.5)+",1)",i.DomEvent.on(t,i.DomUtil.TRANSITION_END,this._onTransitionEnd,this),i.DomUtil.setPosition(t,e),i.Util.falseFn(t.offsetWidth),this._stepTimer=setInterval(i.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(i.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),i.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var t=this._getPos();return t?(this._el._leaflet_pos=t,void this.fire("step")):void this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var e,n,r,o=this._el,s=t.getComputedStyle(o);if(i.Browser.any3d){if(r=s[i.DomUtil.TRANSFORM].match(this._transformRe),!r)return;e=parseFloat(r[1]),n=parseFloat(r[2])}else e=parseFloat(s.left),n=parseFloat(s.top);return new i.Point(e,n,!0)},_onTransitionEnd:function(){i.DomEvent.off(this._el,i.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[i.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),i.Map.include({setView:function(t,e,r){if(e=e===n?this._zoom:this._limitZoom(e),t=this._limitCenter(i.latLng(t),e,this.options.maxBounds),r=r||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!r.reset&&r!==!0){r.animate!==n&&(r.zoom=i.extend({animate:r.animate},r.zoom),r.pan=i.extend({animate:r.animate},r.pan));var o=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,r.zoom):this._tryAnimatedPan(t,r.pan);if(o)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=i.point(t).round(),e=e||{},!t.x&&!t.y)return this;if(this._panAnim||(this._panAnim=new i.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){i.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t);this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){i.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._floor();return(e&&e.animate)===!0||this.getSize().contains(n)?(this.panBy(n,e),!0):!1}}),i.PosAnimation=i.DomUtil.TRANSITION?i.PosAnimation:i.PosAnimation.extend({run:function(t,e,n,r){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=i.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=i.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var t=+new Date-this._startTime,e=1e3*this._duration;e>t?this._runFrame(this._easeOut(t/e)):(this._runFrame(1),this._complete())},_runFrame:function(t){var e=this._startPos.add(this._offset.multiplyBy(t));i.DomUtil.setPosition(this._el,e),this.fire("step")},_complete:function(){i.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),i.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),i.DomUtil.TRANSITION&&i.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&i.DomUtil.TRANSITION&&i.Browser.any3d&&!i.Browser.android23&&!i.Browser.mobileOpera,this._zoomAnimated&&i.DomEvent.on(this._mapPane,i.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),i.Map.include(i.DomUtil.TRANSITION?{_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(e),i=this._getCenterOffset(t)._divideBy(1-1/r),o=this._getCenterLayerPoint()._add(i);return n.animate===!0||this.getSize().contains(i)?(this.fire("movestart").fire("zoomstart"),this._animateZoom(t,e,o,r,null,!0),!0):!1},_animateZoom:function(t,e,n,r,o,s){this._animatingZoom=!0,i.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=t,this._animateToZoom=e,i.Draggable&&(i.Draggable._disabled=!0),this.fire("zoomanim",{center:t,zoom:e,origin:n,scale:r,delta:o,backwards:s})},_onZoomTransitionEnd:function(){this._animatingZoom=!1,i.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),i.Draggable&&(i.Draggable._disabled=!1)}}:{}),i.TileLayer.include({_animateZoom:function(t){this._animating||(this._animating=!0,this._prepareBgBuffer());var e=this._bgBuffer,n=i.DomUtil.TRANSFORM,r=t.delta?i.DomUtil.getTranslateString(t.delta):e.style[n],o=i.DomUtil.getScaleString(t.scale,t.origin);e.style[n]=t.backwards?o+" "+r:r+" "+o},_endZoomAnim:function(){var t=this._tileContainer,e=this._bgBuffer;t.style.visibility="",t.parentNode.appendChild(t),i.Util.falseFn(e.offsetWidth),this._animating=!1},_clearBgBuffer:function(){var t=this._map;!t||t._animatingZoom||t.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[i.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var t=this._tileContainer,e=this._bgBuffer,n=this._getLoadedTilesPercentage(e),r=this._getLoadedTilesPercentage(t);return e&&n>.5&&.5>r?(t.style.visibility="hidden",void this._stopLoadingImages(t)):(e.style.visibility="hidden",e.style[i.DomUtil.TRANSFORM]="",this._tileContainer=e,e=this._bgBuffer=t,this._stopLoadingImages(e),void clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(t){var e,n,r=t.getElementsByTagName("img"),i=0;for(e=0,n=r.length;n>e;e++)r[e].complete&&i++;return i/n},_stopLoadingImages:function(t){var e,n,r,o=Array.prototype.slice.call(t.getElementsByTagName("img"));for(e=0,n=o.length;n>e;e++)r=o[e],r.complete||(r.onload=i.Util.falseFn,r.onerror=i.Util.falseFn,r.src=i.Util.emptyImageUrl,r.parentNode.removeChild(r))}}),i.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(t){if(t=this._locateOptions=i.extend(this._defaultLocateOptions,t),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=i.bind(this._handleGeolocationResponse,this),n=i.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,r=new i.LatLng(e,n),o=180*t.coords.accuracy/40075017,s=o/Math.cos(i.LatLng.DEG_TO_RAD*e),a=i.latLngBounds([e-o,n-s],[e+o,n+s]),l=this._locateOptions;if(l.setView){var u=Math.min(this.getBoundsZoom(a),l.maxZoom);this.setView(r,u)}var c={latlng:r,bounds:a,timestamp:t.timestamp};for(var h in t.coords)"number"==typeof t.coords[h]&&(c[h]=t.coords[h]);this.fire("locationfound",c)}})}(window,document),function(){EmberLeaflet=Ember.Namespace.create()}(),function(){function t(t){return t?[t.lat,t.lng]:null}function e(t){return t?[t.lng,t.lat]:null}function n(t){return t?t.lat?t:L.latLng(t[0],t[1]):null}function r(t){return t?t.lat?t:L.latLng(t[1],t[0]):null}var i=Ember.get,o=Ember.set;EmberLeaflet.convert={latLngArrayFromLatLng:t,lngLatArrayFromLatLng:e,latLngFromLatLngArray:n,latLngFromLngLatArray:r},EmberLeaflet.computed={},EmberLeaflet.computed.latLngFromLngLatArray=function(t){return Ember.computed(t,function(n,s){return 1===arguments.length?r(i(this,t)):(o(this,t,e(s)),s)})},EmberLeaflet.computed.latLngFromLatLngArray=function(e){return Ember.computed(e,function(r,s){return 1===arguments.length?n(i(this,e)):(o(this,e,s=t(s)),s)})},EmberLeaflet.computed.optionProperty=function(t){return Ember.computed("options",function(e,n){if(e=t||e,arguments.length>1){var r="set"+Ember.String.classify(e);return Ember.assert(this.constructor+" must have a "+r+" function.",!!this._layer[r]),this._layer[r].call(this._layer,n),n}return this._layer.options[e]})}}(),function(){var t=(Ember.String.fmt,Ember.EnumerableUtils.forEach),e=Ember.get;EmberLeaflet.LayerMixin=Ember.Mixin.create({_layer:null,_parentLayer:null,isVirtual:!1,_childLayers:[],concatenatedProperties:["events"],parentLayer:Ember.computed.alias("_parentLayer").readOnly(),layer:Ember.computed(function(){return this._layer}).property(),_newLayer:Ember.required(Function),willCreateLayer:Ember.K,didCreateLayer:Ember.K,willDestroyLayer:Ember.K,didDestroyLayer:Ember.K,events:[],_createLayer:function(){Ember.assert("Layer must not already be created.",!this._layer),Ember.assert("Layer must have a parent",!!this._parentLayer),Ember.assert("Parent layer must be in leaflet.",!!this._parentLayer._layer),this.willCreateLayer(),this.isVirtual||(this.propertyWillChange("layer"),this._layer=this._newLayer(),this._addEventListeners(),this._addToParent(),this.propertyDidChange("layer")),this.didCreateLayer()},_destroyLayer:function(){this.willDestroyLayer(),this.isVirtual||(Ember.assert("Layer must exist.",!!this._layer),this.propertyWillChange("layer"),this._removeEventListeners(),this._removeFromParent(),this._layer=null,this.propertyDidChange("layer")),this.didDestroyLayer()},_addToParent:function(){this._parentLayer._addChild(this._layer)},_removeFromParent:function(){this._parentLayer._removeChild(this._layer)},_addChild:function(t){this._layer.addLayer(t)},_removeChild:function(t){this._layer.removeLayer(t)},_addEventListeners:function(){this._eventHandlers={},t(e(this,"events"),function(t){"function"==typeof this[t]&&(this._eventHandlers[t]=function(e){Ember.run(this,this[t],e)},this._layer.addEventListener(t,this._eventHandlers[t],this))},this)},_removeEventListeners:function(){t(e(this,"events"),function(t){"function"==typeof this[t]&&(this._layer.removeEventListener(t,this._eventHandlers[t],this),delete this._eventHandlers[t])},this)}}),EmberLeaflet.Layer=Ember.Object.extend(EmberLeaflet.LayerMixin,{}),EmberLeaflet.EmptyLayer=EmberLeaflet.Layer.extend({_newLayer:function(){return L.layerGroup([])}})}(),function(){var t=Ember.get,e=(Ember.set,Ember.String.fmt),n=Ember.EnumerableUtils.forEach,r=Ember.EnumerableUtils.map;EmberLeaflet.ContainerLayerMixin=Ember.Mixin.create(EmberLeaflet.LayerMixin,Ember.MutableArray,{_childLayers:null,didCreateLayer:function(){this._super(),this.createAndAddChildLayers()},willDestroyLayer:function(){this.removeAndDestroyChildLayers(),this._super()},createAndAddChildLayers:function(){var e,r=this._childLayers=Ember.A(),i=this;void 0===this._childLayerClasses&&(this._childLayerClasses=t(this,"childLayers")||[]),Ember.defineProperty(this,"childLayers",Ember.computed(function(){return this._childLayers})),n(this._childLayerClasses,function(t,n){e=i.createChildLayer(t),i.addChildLayer(e),r[n]=e},this)},replace:function(e,n,i){var o=i?t(i,"length"):0,s=this;if(this.arrayContentWillChange(e,n,o),this.childLayersWillChange(this._childLayers,e,n),0===o)this._childLayers.splice(e,n);else{i=r(i,function(t){return s.createChildLayer(t)});var a=[e,n].concat(i);i.length&&!this._childLayers.length&&(this._childLayers=this._childLayers.slice()),this._childLayers.splice.apply(this._childLayers,a)}return this.arrayContentDidChange(e,n,o),this.childLayersDidChange(this._childLayers,e,n,o),this},objectAt:function(t){return this._childLayers[t]},length:Ember.computed(function(){return this._childLayers.length}),childLayersWillChange:function(t,e,r){var i=this;if(this.propertyWillChange("childLayers"),r>0){var o=t.slice(e,e+r);n(o,function(t){i.removeChildLayer(t)})}},childLayersDidChange:function(t,e,r,i){var o=this;if(i>0){var s=t.slice(e,e+i);n(s,function(t){o.addChildLayer(t)})}this.propertyDidChange("childLayers")},addChildLayer:function(t){t._createLayer()},removeChildLayer:function(t){t._destroyLayer()},createChildLayer:function(t,n){n=n||{},n.container=this.get("container"),n.controller=this.get("controller"),n._parentLayer=this.isVirtual?this._parentLayer:this;var r,i=Ember.typeOf(t);return Ember.assert(e("layerClass %@ must be an Ember instance or class.",t?t.toString():"<undefined>"),"instance"===i||"class"===i),"instance"===i?(r=t,r.setProperties(n)):"class"===i&&(r=t.create(n)),r},removeAndDestroyChildLayers:function(){var t=this;this._childLayers&&n(this._childLayers,function(e){t.removeChildLayer(e),e.destroy()}),this._childLayers=[]}}),EmberLeaflet.ContainerLayer=Ember.Object.extend(EmberLeaflet.ContainerLayerMixin,{_newLayer:function(){return L.layerGroup()}})}(),function(){var t=L.latLng(40.713282,-74.006978);EmberLeaflet.MapView=Ember.View.extend(EmberLeaflet.ContainerLayerMixin,{options:{},center:t,zoom:16,isMoving:!1,isZooming:!1,events:["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","contextmenu","focus","blur","preclick","load","unload","viewreset","movestart","move","moveend","dragstart","drag","dragend","zoomstart","zoomend","zoomlevelschange","resize","autopanstart","layeradd","layerremove","baselayerchange","overlayadd","overlayremove","locationfound","locationerror","popupopen","popupclose"],init:function(){this._super(),void 0===this.get("childLayers")&&this.set("childLayers",[EmberLeaflet.DefaultTileLayer])},didInsertElement:function(){this._super(),this._createLayer()},willDestroyElement:function(){this._destroyLayer()},_createLayer:function(){this._layer||(Ember.assert("Center must be set before creating map, was "+this.get("center"),!!this.get("center")),Ember.assert("Zoom must be set before creating map, was "+this.get("zoom"),!isNaN(parseInt(this.get("zoom"),10))),this.willCreateLayer(),this.propertyWillChange("layer"),this._layer=L.map(this.get("elementId"),this.get("options")),this._layer.setView(this.get("center"),this.get("zoom")),this._addEventListeners(),this.propertyDidChange("layer"),this.didCreateLayer())},_destroyLayer:function(){this.willDestroyLayer(),this.propertyWillChange("layer"),this._layer&&(this._defaultChildLayer&&(this._layer.removeLayer(this._defaultChildLayer),this._defaultChildLayer=null),this._removeEventListeners(),this._layer.remove(),this._layer=null,this.propertyDidChange("layer"),this.didDestroyLayer())},zoomstart:function(t){this.set("isZooming",!0)},zoomend:function(t){this.setProperties({isZooming:!1,zoom:this._layer.getZoom()}),this._queuedZoom&&(this._queuedZoom!==this._layer.getZoom()&&this._layer.setZoom(this._queuedZoom),this._queuedZoom=null)},movestart:function(t){this.set("isMoving",!0)},moveend:function(t){this.set("isMoving",!1)},move:function(t){this.set("center",this._layer.getCenter())},zoomDidChange:Ember.observer(function(){this._layer&&!Ember.isNone(this.get("zoom"))&&(this._layer._animatingZoom?this._queuedZoom=this.get("zoom"):this._layer.setZoom(this.get("zoom")))},"zoom"),centerDidChange:Ember.observer(function(){this._layer&&!this.get("isMoving")&&this.get("center")&&(this._layer.getCenter().equals(this.get("center"))||this._layer.panTo(this.get("center")))},"center")})}(),function(){var t=Ember.get;EmberLeaflet.TileLayer=EmberLeaflet.Layer.extend({tileUrl:null,options:{},_newLayer:function(){return L.tileLayer(t(this,"tileUrl"),t(this,"options"))},tileUrlDidChange:Ember.observer(function(){this._layer&&this._layer.setUrl(this.get("tileUrl"))},"tileUrl"),zIndex:EmberLeaflet.computed.optionProperty(),opacity:EmberLeaflet.computed.optionProperty()}),EmberLeaflet.DefaultTileLayer=EmberLeaflet.TileLayer.extend({tileUrl:"//a.tiles.mapbox.com/v3/examples.map-zr0njcqy/{z}/{x}/{y}.png"})}(),function(){var t=Ember.get;Ember.set,Ember.setProperties;EmberLeaflet.PopupMixin=Ember.Mixin.create({popupContent:"",popupViewClass:null,popupOptions:{offset:L.point(0,-36)},click:function(t){this._super&&this._super(t),this.openPopup(t)},dragstart:function(t){this._super&&this._super(t),this.closePopup()},openPopup:function(t){this.willOpenPopup();var e;e=this._layer.getLatLng?this._layer.getLatLng():L.latLngBounds(this._layer.getLatLngs()).getCenter(),this._popup.setLatLng(t&&t.latlng||e).openOn(this._layer._map),this._createPopupContent(),this.didOpenPopup()},closePopup:function(){this.willClosePopup(),this._layer._map.closePopup(),this.didClosePopup()},willOpenPopup:Ember.K,didOpenPopup:Ember.K,willClosePopup:Ember.K,didClosePopup:Ember.K,willCreatePopup:Ember.K,didCreatePopup:Ember.K,willDestroyPopup:Ember.K,didDestroyPopup:Ember.K,
_createPopupContent:function(){if(!t(this,"popupViewClass"))return void this._popup.setContent(t(this,"popupContent"));this._popupView&&this._destroyPopupContent();var e=t(this,"popupViewClass");"string"===Ember.typeOf(e)&&(e=t(this,"container").lookupFactory("view:"+e)),this._popupView=e.create({container:t(this,"container"),controller:t(this,"controller"),context:t(this,"controller"),content:t(this,"content")});var n=this;this._popupView._insertElementLater(function(){n._popupView.$().appendTo(n._popup._contentNode),n._popup.update()}),Ember.run.schedule("afterRender",this,function(){n._popup.update()})},_destroyPopupContent:function(){t(this,"popupViewClass")&&this._popupView&&(this._popupView.destroy(),this._popupView=null)},_createPopup:function(){this.willCreatePopup(),this._popup=L.popup(t(this,"popupOptions"),this._layer);var e=this._popup.onRemove,n=this;this._popup.onRemove=function(t){n._destroyPopupContent(),e.call(n._popup,t)},this.didCreatePopup()},_destroyPopup:function(){this._popup&&(this.willDestroyPopup(),this._popup._map&&this._layer&&this._layer._map&&this._layer._map.closePopup(),this._popup=null,this.didDestroyPopup())},_updatePopup:Ember.observer(function(){this._popup&&this._popup.setContent(t(this,"popupContent"))},"popupContent"),_removePopupObservers:Ember.beforeObserver(function(){this._layer&&this._destroyPopup()},"layer"),_addPopupObservers:Ember.observer(function(){this._layer&&this._createPopup()},"layer")})}(),function(){var t=Ember.get;EmberLeaflet.BoundsMixin=Ember.Mixin.create({bounds:Ember.computed(function(){var e=t(this,"locations");return e instanceof L.LatLngBounds?e:e&&t(e,"length")?L.latLngBounds(e):null}).property("locations")["volatile"]()})}(),function(){var t=Ember.get;Ember.EnumerableUtils.forEach;EmberLeaflet.CollectionLayer=EmberLeaflet.ContainerLayer.extend({content:[],isVirtual:!0,itemLayerClass:Ember.computed(function(){throw new Error("itemLayerClass must be defined.")}).property(),didCreateLayer:function(){this._super(),this._contentDidChange()},willDestroyLayer:function(){this._contentWillChange(),this._super()},_contentWillChange:Ember.beforeObserver(function(){var e=t(this,"content");e&&e.removeArrayObserver(this);var n=e?t(e,"length"):0;this.arrayWillChange(e,0,n)},"content"),_contentDidChange:Ember.observer(function(){var e=t(this,"content");e&&e.addArrayObserver(this);var n=e?t(e,"length"):0;this.arrayDidChange(e,0,null,n)},"content"),arrayWillChange:function(t,e,n,r){for(var i=e;e+n>i;i++)this.objectWasRemoved(t.objectAt(i))},arrayDidChange:function(t,e,n,r){for(var i=e;e+r>i;i++)this.objectWasAdded(t.objectAt(i),i)},objectWasAdded:function(e,n){void 0===n&&(n=this._childLayers.length);var r=this.createChildLayer(t(this,"itemLayerClass"),{content:e});this.replace(n,0,[r])},objectWasRemoved:function(t){for(var e,n=0,r=this._childLayers.length;r>n;n++)if(e=this._childLayers[n],e.get("content")===t)return this.replace(n,1,[]),void e.destroy()}})}(),function(){EmberLeaflet.CollectionBoundsMixin=Ember.Mixin.create(EmberLeaflet.BoundsMixin,{locations:Ember.computed("@each.location",function(){return this.filterProperty("location").mapProperty("location")})})}(),function(){var t=Ember.get,e=Ember.set,n=Ember.setProperties;EmberLeaflet.DraggableMixin=Ember.Mixin.create({isDragging:!1,isDraggable:!0,dragstart:function(){e(this,"isDragging",!0)},dragend:function(){n(this,{location:this._layer.getLatLng(),isDragging:!1})},_updateDraggability:Ember.observer(function(){this._layer&&this._layer._map&&(t(this,"isDraggable")?this._layer.dragging.enable():this._layer.dragging.disable())},"isDraggable","layer")})}(),function(){var t=Ember.get;EmberLeaflet.MarkerLayer=EmberLeaflet.Layer.extend({content:null,options:null,location:Ember.computed.alias("content.location"),zIndexOffset:EmberLeaflet.computed.optionProperty(),opacity:EmberLeaflet.computed.optionProperty(),events:["click","dblclick","mousedown","mouseover","mouseout","contextmenu","dragstart","drag","dragend","move","remove","popupopen","popupclose"],_detectClustering:function(){for(var t=this;t._parentLayer;)if(t=t._parentLayer,t._isCluster)return!0;return!1},_updateLayerOnLocationChange:Ember.observer(function(){var e=t(this,"location");if(e&&!this._layer)this._createLayer();else if(this._layer&&!e)this._destroyLayer();else{var n=this._layer&&this._layer.getLatLng();n&&e&&!n.equals(e)&&(this._detectClustering()?(this._destroyLayer(),this._createLayer()):this._layer.setLatLng(e))}},"location"),_newLayer:function(){return L.marker(t(this,"location"),t(this,"options"))},_createLayer:function(){if(!this._layer&&t(this,"location")){this._super(),this._layer.content=t(this,"content");var e=this._layer.onAdd,n=this;this._layer.onAdd=function(){n.propertyWillChange("layer"),e.apply(this,arguments),n.propertyDidChange("layer")},this.notifyPropertyChange("layer")}},_destroyLayer:function(){this._layer&&this._super()}})}(),function(){EmberLeaflet.MarkerCollectionLayer=EmberLeaflet.CollectionLayer.extend({itemLayerClass:EmberLeaflet.MarkerLayer})}(),function(){EmberLeaflet.MarkerClusterLayer=EmberLeaflet.ContainerLayer.extend({options:{},_isCluster:!0,_newLayer:function(){return Ember.assert("Leaflet.cluster must be loaded.",!!L.MarkerClusterGroup),new L.MarkerClusterGroup(this.get("options"))},_removeChild:function(t){this._layer.removeLayer(t),t._map&&t._map.removeLayer(t)}})}(),function(){function t(t){return Ember.computed("options",function(r,i){if(r=t||r,arguments.length>1){if(this._layer){var o={};o[r]=i,this._layer.setStyle(o)}return n(this,"options")||e(this,"options",{}),this.get("options")[r]=i,i}return this._layer.options[r]})}var e=Ember.set,n=Ember.get;EmberLeaflet.PathLayer=EmberLeaflet.Layer.extend({stroke:t(),color:t(),weight:t(),opacity:t(),fill:t(),fillColor:t(),fillOpacity:t(),dashArray:t()})}(),function(){var t=Ember.get,e=EmberLeaflet.convert.latLngFromLatLngArray;EmberLeaflet.PointPathLayer=EmberLeaflet.PathLayer.extend({location:Ember.computed.alias("content.location"),_createLayer:function(){!this._layer&&t(this,"location")&&this._super()},_updateLayerOnLocationChange:Ember.observer(function(){var n=e(t(this,"location"));if(n&&!this._layer)this._createLayer();else if(this._layer&&!n)this._destroyLayer();else if(this._layer){var r=this._layer.getLatLng();r&&n&&!r.equals(n)&&this._layer.setLatLng(n)}},"location")})}(),function(){var t=Ember.get,e=EmberLeaflet.convert.latLngFromLatLngArray;EmberLeaflet.CircleLayer=EmberLeaflet.PointPathLayer.extend({radius:Ember.computed.alias("content.radius"),_updateLayerOnRadiusChange:Ember.observer(function(){var e=t(this,"radius");if(e&&!this._layer)this._createLayer();else if(this._layer&&!e)this._destroyLayer();else{var n=this._layer&&this._layer.getRadius();n&&e&&n!==e&&this._layer.setRadius(e)}},"radius"),_newLayer:function(){return L.circle(e(t(this,"location")),t(this,"radius"),t(this,"options"))},_destroyLayer:function(){this._layer&&this._super()}})}(),function(){var t=Ember.get,e=EmberLeaflet.convert.latLngFromLatLngArray;EmberLeaflet.ArrayPathLayer=EmberLeaflet.PathLayer.extend({init:function(){this._super(),this._setupLocationObservers()},destroy:function(){return this._teardownLocationObservers(),this._super()},locationsProperty:null,locationProperty:null,locations:Ember.computed(function(){var n=t(this,"locationProperty"),r=t(this,"locationsProperty"),i="content"+(r?"."+r:""),o=t(this,i)||Ember.A();return n&&(o=o.mapProperty(n)),o=o.filter(function(t){return!!t}),o=o.map(e)}).property("content","locationProperty","locationsProperty")["volatile"](),_contentWillChange:Ember.beforeObserver(function(){this._contentLocationsWillChange(),this._teardownLocationObservers()},"content","locationsProperty","locationProperty"),_contentDidChange:Ember.observer(function(){this._setupLocationObservers(),this._contentLocationsDidChange()},"content","locationsProperty","locationProperty"),_setupLocationObservers:function(){var e=t(this,"content"),n=t(this,"locationProperty"),r=t(this,"locationsProperty");if(e){var i=r?"content."+r:"content";r&&(Ember.addBeforeObserver(this,i,this,"_contentLocationsWillChange"),Ember.addObserver(this,i,this,"_contentLocationsDidChange"));var o=r?t(e,r):e;if(Ember.assert("Content object or locations property must be array-like",!o||!!o.addArrayObserver),o&&o.addArrayObserver(this),n){var s=i+".@each."+n;Ember.addBeforeObserver(this,s,this,"_contentLocationsWillChange"),Ember.addObserver(this,s,this,"_contentLocationsDidChange")}}},_teardownLocationObservers:function(){var e=t(this,"content"),n=t(this,"locationProperty"),r=t(this,"locationsProperty");if(e){var i=r?"content."+r:"content";r&&(Ember.addBeforeObserver(this,i,this,"_contentLocationsWillChange"),Ember.addObserver(this,i,this,"_contentLocationsDidChange"));var o=r?t(e,r):e;if(o&&o.removeArrayObserver(this),n){var s=i+".@each."+n;Ember.removeBeforeObserver(this,s,this,"_contentLocationsWillChange"),Ember.removeObserver(this,s,this,"_contentLocationsDidChange")}}},_contentLocationsWillChange:function(){this.propertyWillChange("locations")},_contentLocationsDidChange:function(){this.propertyDidChange("locations")},arrayWillChange:function(t,e,n,r){this.propertyWillChange("locations")},arrayDidChange:function(t,e,n,r){this.propertyDidChange("locations")}})}(),function(){var t=Ember.get;EmberLeaflet.PolylineLayer=EmberLeaflet.ArrayPathLayer.extend({options:{},events:["click","dblclick","mousedown","mouseover","mouseout","contextmenu","add","remove","popupopen","popupclose"],_newLayer:function(){return L.polyline(t(this,"locations"),t(this,"options"))},locationsDidChange:Ember.observer(function(){this._layer&&this._layer.setLatLngs(t(this,"locations"))},"locations")}),EmberLeaflet.PolygonLayer=EmberLeaflet.PolylineLayer.extend({_newLayer:function(){return L.polygon(t(this,"locations"),t(this,"options"))}})}(),function(){Ember.get;EmberLeaflet.PathBoundsLayer=EmberLeaflet.ArrayPathLayer.extend(EmberLeaflet.BoundsMixin,{})}(),function(){var t=Ember.get;EmberLeaflet.RectangleLayer=EmberLeaflet.PathBoundsLayer.extend({events:["click","dblclick","mousedown","mouseover","mouseout","contextmenu","add","remove","popupopen","popupclose"],_newLayer:function(){return L.rectangle(t(this,"bounds"),t(this,"options"))},_createLayer:function(){t(this,"bounds")&&this._super()},boundsDidChange:Ember.observer(function(){var e=t(this,"bounds");this._layer&&!e?this._destroyLayer():e&&!this._layer?this._createLayer():e&&this._layer&&this._layer.setBounds(e)},"locations")})}(),function(t,e,n){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[]},addLayer:function(t){if(t instanceof L.LayerGroup){var e=[];for(var n in t._layers)e.push(t._layers[n]);return this.addLayers(e)}if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this;if(!this._map)return this._needsClustering.push(t),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom);var r=t,i=this._map.getZoom();if(t.__parent)for(;r.__parent._zoom>=i;)r=r.__parent;return this._currentShownBounds.contains(r.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,r):this._animationAddLayerNonAnimated(t,r)),this},removeLayer:function(t){if(t instanceof L.LayerGroup){var e=[];for(var n in t._layers)e.push(t._layers[n]);return this.removeLayers(e)}return t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.setOpacity&&t.setOpacity(1)),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push(t),this):(this._nonPointGroup.removeLayer(t),this)},addLayers:function(t){var e,n,r,i=this._map,o=this._featureGroup,s=this._nonPointGroup;for(e=0,n=t.length;n>e;e++)if(r=t[e],r.getLatLng){if(!this.hasLayer(r))if(i){if(this._addLayer(r,this._maxZoom),r.__parent&&2===r.__parent.getChildCount()){var a=r.__parent.getAllChildMarkers(),l=a[0]===r?a[1]:a[0];o.removeLayer(l)}}else this._needsClustering.push(r)}else s.addLayer(r);return i&&(o.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()}),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)),this},removeLayers:function(t){var e,n,r,i=this._featureGroup,o=this._nonPointGroup;if(!this._map){for(e=0,n=t.length;n>e;e++)r=t[e],this._arraySplice(this._needsClustering,r),o.removeLayer(r);return this}for(e=0,n=t.length;n>e;e++)r=t[e],r.__parent?(this._removeLayer(r,!0,!0),i.hasLayer(r)&&(i.removeLayer(r),r.setOpacity&&r.setOpacity(1))):o.removeLayer(r);return this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),i.eachLayer(function(t){t instanceof L.MarkerCluster&&t._updateIcon()}),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){delete t.__parent}),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;if(this._topClusterLevel)t.extend(this._topClusterLevel._bounds);else for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var n,r=this._needsClustering.slice();for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(r),n=r.length-1;n>=0;n--)t.call(e,r[n]);this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer(function(e){t.push(e)}),t},getLayer:function(t){var e=null;return this.eachLayer(function(n){L.stamp(n)===t&&(e=n)}),e},hasLayer:function(t){if(!t)return!1;var e,n=this._needsClustering;for(e=n.length-1;e>=0;e--)if(n[e]===t)return!0;for(n=this._needsRemoving,e=n.length-1;e>=0;e--)if(n[e]===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){var n=function(){if((t._icon||t.__parent._icon)&&!this._inZoomAnimation)if(this._map.off("moveend",n,this),this.off("animationend",n,this),t._icon)e();else if(t.__parent._icon){var r=function(){this.off("spiderfied",r,this),e()};this.on("spiderfied",r,this),t.__parent.spiderfy()}};t._icon&&this._map.getBounds().contains(t.getLatLng())?e():t.__parent._zoom<this._map.getZoom()?(this._map.on("moveend",n,this),this._map.panTo(t.getLatLng())):(this._map.on("moveend",n,this),this.on("animationend",n,this),this._map.setView(t.getLatLng(),t.__parent._zoom+1),t.__parent.zoomToBounds())},onAdd:function(t){this._map=t;var e,n,r;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.onAdd(t),this._nonPointGroup.onAdd(t),this._gridClusters||this._generateInitialClusters(),e=0,n=this._needsRemoving.length;n>e;e++)r=this._needsRemoving[e],this._removeLayer(r,!0);for(this._needsRemoving=[],e=0,n=this._needsClustering.length;n>e;e++)r=this._needsClustering[e],r.getLatLng?r.__parent||this._addLayer(r,this._maxZoom):this._featureGroup.addLayer(r);this._needsClustering=[],this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),this._zoom=this._map.getZoom(),this._currentShownBounds=this._getExpandedVisibleBounds(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),this._hideCoverage(),this._featureGroup.onRemove(t),this._nonPointGroup.onRemove(t),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var n=t.length-1;n>=0;n--)if(t[n]===e)return t.splice(n,1),!0},_removeLayer:function(t,e,n){var r=this._gridClusters,i=this._gridUnclustered,o=this._featureGroup,s=this._map;if(e)for(var a=this._maxZoom;a>=0&&i[a].removeObject(t,s.project(t.getLatLng(),a));a--);var l,u=t.__parent,c=u._markers;for(this._arraySplice(c,t);u&&(u._childCount--,!(u._zoom<0));)e&&u._childCount<=1?(l=u._markers[0]===t?u._markers[1]:u._markers[0],r[u._zoom].removeObject(u,s.project(u._cLatLng,u._zoom)),i[u._zoom].addObject(l,s.project(l.getLatLng(),u._zoom)),this._arraySplice(u.__parent._childClusters,u),u.__parent._markers.push(l),l.__parent=u.__parent,u._icon&&(o.removeLayer(u),n||o.addLayer(l))):(u._recalculateBounds(),n&&u._icon||u._updateIcon()),u=u.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},_propagateEvent:function(t){if(t.layer instanceof L.MarkerCluster){if(t.originalEvent&&this._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))return;t.type="cluster"+t.type}this.fire(t.type,t)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),n=" marker-cluster-";return n+=10>e?"small":100>e?"medium":"large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+n,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,n=this.options.showCoverageOnHover,r=this.options.zoomToBoundsOnClick;(e||r)&&this.on("clusterclick",this._zoomOrSpiderfy,this),n&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){var e=this._map;e.getMaxZoom()===e.getZoom()?this.options.spiderfyOnMaxZoom&&t.layer.spiderfy():this.options.zoomToBoundsOnClick&&t.layer.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&e._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick,r=this._map;(t||n)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),r.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=this._map._zoom,this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._map._zoom,t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=this._map.getMaxZoom(),e=this.options.maxClusterRadius;this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var n=t;n>=0;n--)this._gridClusters[n]=new L.DistanceGrid(e),this._gridUnclustered[n]=new L.DistanceGrid(e);this._topClusterLevel=new L.MarkerCluster(this,-1)},_addLayer:function(t,e){var n,r,i=this._gridClusters,o=this._gridUnclustered;for(this.options.singleMarkerMode&&(t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}}));e>=0;e--){n=this._map.project(t.getLatLng(),e);var s=i[e].getNearObject(n);if(s)return s._addChild(t),void(t.__parent=s);if(s=o[e].getNearObject(n)){var a=s.__parent;a&&this._removeLayer(s,!1);var l=new L.MarkerCluster(this,e,s,t);i[e].addObject(l,this._map.project(l._cLatLng,e)),s.__parent=l,t.__parent=l;var u=l;for(r=e-1;r>a._zoom;r--)u=new L.MarkerCluster(this,r,u),i[r].addObject(u,this._map.project(s.getLatLng(),r));for(a._addChild(u),r=e;r>=0&&o[r].removeObject(s,this._map.project(s.getLatLng(),r));r--);return}o[e].addObject(t,n)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){this._processQueue(),this._zoom<this._map._zoom&&this._currentShownBounds.contains(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,this._map._zoom)):this._zoom>this._map._zoom?(this._animationStart(),this._animationZoomOut(this._zoom,this._map._zoom)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(!this.options.removeOutsideVisibleBounds)return this.getBounds();var t=this._map,e=t.getBounds(),n=e._southWest,r=e._northEast,i=L.Browser.mobile?0:Math.abs(n.lat-r.lat),o=L.Browser.mobile?0:Math.abs(n.lng-r.lng);return new L.LatLngBounds(new L.LatLng(n.lat-i,n.lng-o,!0),new L.LatLng(r.lat+i,r.lng+o,!0))},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var n=e.getAllChildMarkers();this._featureGroup.removeLayer(n[0]),this._featureGroup.removeLayer(n[1])}else e._updateIcon()}}),L.MarkerClusterGroup.include(L.DomUtil.TRANSITION?{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_animationZoomIn:function(t,e){var n,r=this._getExpandedVisibleBounds(),i=this._featureGroup;this._topClusterLevel._recursively(r,t,0,function(o){var s,a=o._latlng,l=o._markers;for(r.contains(a)||(a=null),o._isSingleParent()&&t+1===e?(i.removeLayer(o),o._recursivelyAddChildrenToMap(null,e,r)):(o.setOpacity(0),o._recursivelyAddChildrenToMap(a,e,r)),n=l.length-1;n>=0;n--)s=l[n],r.contains(s._latlng)||i.removeLayer(s)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(r,e),i.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.setOpacity(1)}),this._topClusterLevel._recursively(r,t,e,function(t){t._recursivelyRestoreChildPositions(e)}),this._enqueue(function(){this._topClusterLevel._recursively(r,t,0,function(t){i.removeLayer(t),t.setOpacity(1)}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t,this._getExpandedVisibleBounds())},_animationZoomOutSingle:function(t,e,n){var r=this._getExpandedVisibleBounds();t._recursivelyAnimateChildrenInAndAddSelfToMap(r,e+1,n);var i=this;this._forceLayout(),t._recursivelyBecomeVisible(r,n),this._enqueue(function(){if(1===t._childCount){var o=t._markers[0];o.setLatLng(o.getLatLng()),o.setOpacity(1)}else t._recursively(r,n,0,function(t){t._recursivelyRemoveChildrenFromMap(r,e+1)});i._animationEnd()})},_animationAddLayer:function(t,e){var n=this,r=this._featureGroup;r.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.setOpacity(0),this._enqueue(function(){r.removeLayer(t),t.setOpacity(1),n._animationEnd()})):(this._forceLayout(),n._animationStart(),n._animationZoomOutSingle(e,this._map.getMaxZoom(),this._map.getZoom())))},_forceLayout:function(){L.Util.falseFn(e.body.offsetWidth)}}:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds())},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)},L.MarkerCluster=L.Marker.extend({initialize:function(t,e,n,r){L.Marker.prototype.initialize.call(this,n?n._cLatLng||n.getLatLng():new L.LatLng(0,0),{icon:this}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._bounds=new L.LatLngBounds,n&&this._addChild(n),r&&this._addChild(r)},getAllChildMarkers:function(t){t=t||[];for(var e=this._childClusters.length-1;e>=0;e--)this._childClusters[e].getAllChildMarkers(t);for(var n=this._markers.length-1;n>=0;n--)t.push(this._markers[n]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var t,e=this._childClusters.slice(),n=this._group._map,r=n.getBoundsZoom(this._bounds),i=this._zoom+1,o=n.getZoom();e.length>0&&r>i;){i++;var s=[];for(t=0;t<e.length;t++)s=s.concat(e[t]._childClusters);e=s}r>i?this._group._map.setView(this._latlng,i):o>=r?this._group._map.setView(this._latlng,o+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._expandBounds(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_expandBounds:function(t){var e,n=t._wLatLng||t._latlng;t instanceof L.MarkerCluster?(this._bounds.extend(t._bounds),e=t._childCount):(this._bounds.extend(n),e=1),this._cLatLng||(this._cLatLng=t._cLatLng||n);var r=this._childCount+e;this._wLatLng?(this._wLatLng.lat=(n.lat*e+this._wLatLng.lat*this._childCount)/r,this._wLatLng.lng=(n.lng*e+this._wLatLng.lng*this._childCount)/r):this._latlng=this._wLatLng=new L.LatLng(n.lat,n.lng)},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,n){this._recursively(t,0,n-1,function(t){var n,r,i=t._markers;for(n=i.length-1;n>=0;n--)r=i[n],r._icon&&(r._setPos(e),r.setOpacity(0))},function(t){var n,r,i=t._childClusters;for(n=i.length-1;n>=0;n--)r=i[n],r._icon&&(r._setPos(e),r.setOpacity(0))})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,n){this._recursively(t,n,0,function(r){r._recursivelyAnimateChildrenIn(t,r._group._map.latLngToLayerPoint(r.getLatLng()).round(),e),r._isSingleParent()&&e-1===n?(r.setOpacity(1),r._recursivelyRemoveChildrenFromMap(t,e)):r.setOpacity(0),r._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,0,e,null,function(t){t.setOpacity(1)})},_recursivelyAddChildrenToMap:function(t,e,n){this._recursively(n,-1,e,function(r){if(e!==r._zoom)for(var i=r._markers.length-1;i>=0;i--){var o=r._markers[i];n.contains(o._latlng)&&(t&&(o._backupLatlng=o.getLatLng(),o.setLatLng(t),o.setOpacity&&o.setOpacity(0)),r._group._featureGroup.addLayer(o))}},function(e){e._addToMap(t)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var n=this._markers[e];n._backupLatlng&&(n.setLatLng(n._backupLatlng),delete n._backupLatlng)}if(t-1===this._zoom)for(var r=this._childClusters.length-1;r>=0;r--)this._childClusters[r]._restorePosition();else for(var i=this._childClusters.length-1;i>=0;i--)this._childClusters[i]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,n){var r,i;this._recursively(t,-1,e-1,function(t){for(i=t._markers.length-1;i>=0;i--)r=t._markers[i],n&&n.contains(r._latlng)||(t._group._featureGroup.removeLayer(r),r.setOpacity&&r.setOpacity(1))},function(t){for(i=t._childClusters.length-1;i>=0;i--)r=t._childClusters[i],n&&n.contains(r._latlng)||(t._group._featureGroup.removeLayer(r),r.setOpacity&&r.setOpacity(1))})},_recursively:function(t,e,n,r,i){var o,s,a=this._childClusters,l=this._zoom;if(e>l)for(o=a.length-1;o>=0;o--)s=a[o],t.intersects(s._bounds)&&s._recursively(t,e,n,r,i);else if(r&&r(this),i&&this._zoom===n&&i(this),n>l)for(o=a.length-1;o>=0;o--)s=a[o],t.intersects(s._bounds)&&s._recursively(t,e,n,r,i)},_recalculateBounds:function(){var t,e=this._markers,n=this._childClusters;for(this._bounds=new L.LatLngBounds,delete this._wLatLng,t=e.length-1;t>=0;t--)this._expandBounds(e[t]);for(t=n.length-1;t>=0;t--)this._expandBounds(n[t])},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var n=this._getCoord(e.x),r=this._getCoord(e.y),i=this._grid,o=i[r]=i[r]||{},s=o[n]=o[n]||[],a=L.Util.stamp(t);this._objectPoint[a]=e,s.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var n,r,i=this._getCoord(e.x),o=this._getCoord(e.y),s=this._grid,a=s[o]=s[o]||{},l=a[i]=a[i]||[];for(delete this._objectPoint[L.Util.stamp(t)],n=0,r=l.length;r>n;n++)if(l[n]===t)return l.splice(n,1),1===r&&delete a[i],!0},eachObject:function(t,e){var n,r,i,o,s,a,l,u=this._grid;for(n in u){s=u[n];for(r in s)for(a=s[r],i=0,o=a.length;o>i;i++)l=t.call(e,a[i]),l&&(i--,o--)}},getNearObject:function(t){var e,n,r,i,o,s,a,l,u=this._getCoord(t.x),c=this._getCoord(t.y),h=this._objectPoint,d=this._sqCellSize,p=null;for(e=c-1;c+1>=e;e++)if(i=this._grid[e])for(n=u-1;u+1>=n;n++)if(o=i[n])for(r=0,s=o.length;s>r;r++)a=o[r],l=this._sqDist(h[L.Util.stamp(a)],t),d>l&&(d=l,p=a);return p},_getCoord:function(t){return Math.floor(t/this._cellSize)},_sqDist:function(t,e){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r}},function(){L.QuickHull={getDistant:function(t,e){var n=e[1].lat-e[0].lat,r=e[0].lng-e[1].lng;return r*(t.lat-e[0].lat)+n*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var n,r,i,o=0,s=null,a=[];for(n=e.length-1;n>=0;n--)r=e[n],i=this.getDistant(r,t),i>0&&(a.push(r),i>o&&(o=i,s=r));return{maxPoint:s,newPoints:a}},buildConvexHull:function(t,e){var n=[],r=this.findMostDistantPointFromBaseLine(t,e);return r.maxPoint?(n=n.concat(this.buildConvexHull([t[0],r.maxPoint],r.newPoints)),n=n.concat(this.buildConvexHull([r.maxPoint,t[1]],r.newPoints))):[t[0]]},getConvexHull:function(t){
var e,n=!1,r=!1,i=null,o=null;for(e=t.length-1;e>=0;e--){var s=t[e];(n===!1||s.lat>n)&&(i=s,n=s.lat),(r===!1||s.lat<r)&&(o=s,r=s.lat)}var a=[].concat(this.buildConvexHull([o,i],t),this.buildConvexHull([i,o],t));return a}}}(),L.MarkerCluster.include({getConvexHull:function(){var t,e,n=this.getAllChildMarkers(),r=[];for(e=n.length-1;e>=0;e--)t=n[e].getLatLng(),r.push(t);return L.QuickHull.getConvexHull(r)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(),n=this._group,r=n._map,i=r.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,i):(i.y+=10,t=this._generatePointsCircle(e.length,i)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var n,r,i=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t),o=i/this._2PI,s=this._2PI/t,a=[];for(a.length=t,n=t-1;n>=0;n--)r=this._circleStartAngle+n*s,a[n]=new L.Point(e.x+o*Math.cos(r),e.y+o*Math.sin(r))._round();return a},_generatePointsSpiral:function(t,e){var n,r=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthStart,i=this._group.options.spiderfyDistanceMultiplier*this._spiralFootSeparation,o=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthFactor,s=0,a=[];for(a.length=t,n=t-1;n>=0;n--)s+=i/r+5e-4*n,a[n]=new L.Point(e.x+r*Math.cos(s),e.y+r*Math.sin(s))._round(),r+=this._2PI*o/s;return a},_noanimationUnspiderfy:function(){var t,e,n=this._group,r=n._map,i=n._featureGroup,o=this.getAllChildMarkers();for(this.setOpacity(1),e=o.length-1;e>=0;e--)t=o[e],i.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(r.removeLayer(t._spiderLeg),delete t._spiderLeg);n._spiderfied=null}}),L.MarkerCluster.include(L.DomUtil.TRANSITION?{SVG_ANIMATION:function(){return e.createElementNS("http://www.w3.org/2000/svg","animate").toString().indexOf("SVGAnimate")>-1}(),_animationSpiderfy:function(t,n){var r,i,o,s,a=this,l=this._group,u=l._map,c=l._featureGroup,h=u.latLngToLayerPoint(this._latlng);for(r=t.length-1;r>=0;r--)i=t[r],i.setOpacity?(i.setZIndexOffset(1e6),i.setOpacity(0),c.addLayer(i),i._setPos(h)):c.addLayer(i);l._forceLayout(),l._animationStart();var d=L.Path.SVG?0:.3,p=L.Path.SVG_NS;for(r=t.length-1;r>=0;r--)if(s=u.layerPointToLatLng(n[r]),i=t[r],i._preSpiderfyLatlng=i._latlng,i.setLatLng(s),i.setOpacity&&i.setOpacity(1),o=new L.Polyline([a._latlng,s],{weight:1.5,color:"#222",opacity:d}),u.addLayer(o),i._spiderLeg=o,L.Path.SVG&&this.SVG_ANIMATION){var f=o._path.getTotalLength();o._path.setAttribute("stroke-dasharray",f+","+f);var m=e.createElementNS(p,"animate");m.setAttribute("attributeName","stroke-dashoffset"),m.setAttribute("begin","indefinite"),m.setAttribute("from",f),m.setAttribute("to",0),m.setAttribute("dur",.25),o._path.appendChild(m),m.beginElement(),m=e.createElementNS(p,"animate"),m.setAttribute("attributeName","stroke-opacity"),m.setAttribute("attributeName","stroke-opacity"),m.setAttribute("begin","indefinite"),m.setAttribute("from",0),m.setAttribute("to",.5),m.setAttribute("dur",.25),o._path.appendChild(m),m.beginElement()}if(a.setOpacity(.3),L.Path.SVG)for(this._group._forceLayout(),r=t.length-1;r>=0;r--)i=t[r]._spiderLeg,i.options.opacity=.5,i._path.setAttribute("stroke-opacity",.5);setTimeout(function(){l._animationEnd(),l.fire("spiderfied")},200)},_animationUnspiderfy:function(t){var e,n,r,i=this._group,o=i._map,s=i._featureGroup,a=t?o._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):o.latLngToLayerPoint(this._latlng),l=this.getAllChildMarkers(),u=L.Path.SVG&&this.SVG_ANIMATION;for(i._animationStart(),this.setOpacity(1),n=l.length-1;n>=0;n--)e=l[n],e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,e.setOpacity?(e._setPos(a),e.setOpacity(0)):s.removeLayer(e),u&&(r=e._spiderLeg._path.childNodes[0],r.setAttribute("to",r.getAttribute("from")),r.setAttribute("from",0),r.beginElement(),r=e._spiderLeg._path.childNodes[1],r.setAttribute("from",.5),r.setAttribute("to",0),r.setAttribute("stroke-opacity",0),r.beginElement(),e._spiderLeg._path.setAttribute("stroke-opacity",0)));setTimeout(function(){var t=0;for(n=l.length-1;n>=0;n--)e=l[n],e._spiderLeg&&t++;for(n=l.length-1;n>=0;n--)e=l[n],e._spiderLeg&&(e.setOpacity&&(e.setOpacity(1),e.setZIndexOffset(0)),t>1&&s.removeLayer(e),o.removeLayer(e._spiderLeg),delete e._spiderLeg);i._animationEnd()},200)}}:{_animationSpiderfy:function(t,e){var n,r,i,o,s=this._group,a=s._map,l=s._featureGroup;for(n=t.length-1;n>=0;n--)o=a.layerPointToLatLng(e[n]),r=t[n],r._preSpiderfyLatlng=r._latlng,r.setLatLng(o),r.setZIndexOffset&&r.setZIndexOffset(1e6),l.addLayer(r),i=new L.Polyline([this._latlng,o],{weight:1.5,color:"#222"}),a.addLayer(i),r._spiderLeg=i;this.setOpacity(.3),s.fire("spiderfied")},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerClusterGroup.include({_spiderfied:null,_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Path.SVG&&!L.Browser.touch&&this._map._initPathRoot()},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.setOpacity(1),t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}})}(window,document),function(){function t(t){this._value=t}function e(t,e,n,r){var i,o,s=Math.pow(10,e);return o=(n(t*s)/s).toFixed(e),r&&(i=new RegExp("0{1,"+r+"}$"),o=o.replace(i,"")),o}function n(t,e,n){var r;return r=e.indexOf("$")>-1?i(t,e,n):e.indexOf("%")>-1?o(t,e,n):e.indexOf(":")>-1?s(t,e):l(t._value,e,n)}function r(t,e){var n,r,i,o,s,l=e,u=["KB","MB","GB","TB","PB","EB","ZB","YB"],c=!1;if(e.indexOf(":")>-1)t._value=a(e);else if(e===g)t._value=0;else{for("."!==f[m].delimiters.decimal&&(e=e.replace(/\./g,"").replace(f[m].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+f[m].abbreviations.thousand+"(?:\\)|(\\"+f[m].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+f[m].abbreviations.million+"(?:\\)|(\\"+f[m].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+f[m].abbreviations.billion+"(?:\\)|(\\"+f[m].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+f[m].abbreviations.trillion+"(?:\\)|(\\"+f[m].currency.symbol+")?(?:\\))?)?$"),s=0;s<=u.length&&!(c=e.indexOf(u[s])>-1?Math.pow(1024,s+1):!1);s++);t._value=(c?c:1)*(l.match(n)?Math.pow(10,3):1)*(l.match(r)?Math.pow(10,6):1)*(l.match(i)?Math.pow(10,9):1)*(l.match(o)?Math.pow(10,12):1)*(e.indexOf("%")>-1?.01:1)*((e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1)*Number(e.replace(/[^0-9\.]+/g,"")),t._value=c?Math.ceil(t._value):t._value}return t._value}function i(t,e,n){var r,i,o=e.indexOf("$"),s=e.indexOf("("),a=e.indexOf("-"),u="";return e.indexOf(" $")>-1?(u=" ",e=e.replace(" $","")):e.indexOf("$ ")>-1?(u=" ",e=e.replace("$ ","")):e=e.replace("$",""),i=l(t._value,e,n),1>=o?i.indexOf("(")>-1||i.indexOf("-")>-1?(i=i.split(""),r=1,(s>o||a>o)&&(r=0),i.splice(r,0,f[m].currency.symbol+u),i=i.join("")):i=f[m].currency.symbol+u+i:i.indexOf(")")>-1?(i=i.split(""),i.splice(-1,0,u+f[m].currency.symbol),i=i.join("")):i=i+u+f[m].currency.symbol,i}function o(t,e,n){var r,i="",o=100*t._value;return e.indexOf(" %")>-1?(i=" ",e=e.replace(" %","")):e=e.replace("%",""),r=l(o,e,n),r.indexOf(")")>-1?(r=r.split(""),r.splice(-1,0,i+"%"),r=r.join("")):r=r+i+"%",r}function s(t){var e=Math.floor(t._value/60/60),n=Math.floor((t._value-60*e*60)/60),r=Math.round(t._value-60*e*60-60*n);return e+":"+(10>n?"0"+n:n)+":"+(10>r?"0"+r:r)}function a(t){var e=t.split(":"),n=0;return 3===e.length?(n+=60*Number(e[0])*60,n+=60*Number(e[1]),n+=Number(e[2])):2===e.length&&(n+=60*Number(e[0]),n+=Number(e[1])),Number(n)}function l(t,n,r){var i,o,s,a,l,u,c=!1,h=!1,d=!1,p="",v=!1,y=!1,b=!1,_=!1,w=!1,x="",C="",T=Math.abs(t),E=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],k="",S=!1;if(0===t&&null!==g)return g;if(n.indexOf("(")>-1?(c=!0,n=n.slice(1,-1)):n.indexOf("+")>-1&&(h=!0,n=n.replace(/\+/g,"")),n.indexOf("a")>-1&&(v=n.indexOf("aK")>=0,y=n.indexOf("aM")>=0,b=n.indexOf("aB")>=0,_=n.indexOf("aT")>=0,w=v||y||b||_,n.indexOf(" a")>-1?(p=" ",n=n.replace(" a","")):n=n.replace("a",""),T>=Math.pow(10,12)&&!w||_?(p+=f[m].abbreviations.trillion,t/=Math.pow(10,12)):T<Math.pow(10,12)&&T>=Math.pow(10,9)&&!w||b?(p+=f[m].abbreviations.billion,t/=Math.pow(10,9)):T<Math.pow(10,9)&&T>=Math.pow(10,6)&&!w||y?(p+=f[m].abbreviations.million,t/=Math.pow(10,6)):(T<Math.pow(10,6)&&T>=Math.pow(10,3)&&!w||v)&&(p+=f[m].abbreviations.thousand,t/=Math.pow(10,3))),n.indexOf("b")>-1)for(n.indexOf(" b")>-1?(x=" ",n=n.replace(" b","")):n=n.replace("b",""),s=0;s<=E.length;s++)if(i=Math.pow(1024,s),o=Math.pow(1024,s+1),t>=i&&o>t){x+=E[s],i>0&&(t/=i);break}return n.indexOf("o")>-1&&(n.indexOf(" o")>-1?(C=" ",n=n.replace(" o","")):n=n.replace("o",""),C+=f[m].ordinal(t)),n.indexOf("[.]")>-1&&(d=!0,n=n.replace("[.]",".")),a=t.toString().split(".")[0],l=n.split(".")[1],u=n.indexOf(","),l?(l.indexOf("[")>-1?(l=l.replace("]",""),l=l.split("["),k=e(t,l[0].length+l[1].length,r,l[1].length)):k=e(t,l.length,r),a=k.split(".")[0],k=k.split(".")[1].length?f[m].delimiters.decimal+k.split(".")[1]:"",d&&0===Number(k.slice(1))&&(k="")):a=e(t,null,r),a.indexOf("-")>-1&&(a=a.slice(1),S=!0),u>-1&&(a=a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+f[m].delimiters.thousands)),0===n.indexOf(".")&&(a=""),(c&&S?"(":"")+(!c&&S?"-":"")+(!S&&h?"+":"")+a+k+(C?C:"")+(p?p:"")+(x?x:"")+(c&&S?")":"")}function u(t,e){f[t]=e}function c(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)}function h(){var t=Array.prototype.slice.call(arguments);return t.reduce(function(t,e){var n=c(t),r=c(e);return n>r?n:r},-(1/0))}var d,p="1.5.3",f={},m="en",g=null,v="0,0",y="undefined"!=typeof module&&module.exports;d=function(e){return d.isNumeral(e)?e=e.value():0===e||"undefined"==typeof e?e=0:Number(e)||(e=d.fn.unformat(e)),new t(Number(e))},d.version=p,d.isNumeral=function(e){return e instanceof t},d.language=function(t,e){if(!t)return m;if(t&&!e){if(!f[t])throw new Error("Unknown language : "+t);m=t}return(e||!f[t])&&u(t,e),d},d.languageData=function(t){if(!t)return f[m];if(!f[t])throw new Error("Unknown language : "+t);return f[t]},d.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),d.zeroFormat=function(t){g="string"==typeof t?t:null},d.defaultFormat=function(t){v="string"==typeof t?t:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var n,r,i=this.length>>>0,o=!1;for(1<arguments.length&&(r=e,o=!0),n=0;i>n;++n)this.hasOwnProperty(n)&&(o?r=t(r,this[n],n,this):(r=this[n],o=!0));if(!o)throw new TypeError("Reduce of empty array with no initial value");return r}),d.fn=t.prototype={clone:function(){return d(this)},format:function(t,e){return n(this,t?t:v,void 0!==e?e:Math.round)},unformat:function(t){return"[object Number]"===Object.prototype.toString.call(t)?t:r(this,t?t:v)},value:function(){return this._value},valueOf:function(){return this._value},set:function(t){return this._value=Number(t),this},add:function(t){function e(t,e,r,i){return t+n*e}var n=h.call(null,this._value,t);return this._value=[this._value,t].reduce(e,0)/n,this},subtract:function(t){function e(t,e,r,i){return t-n*e}var n=h.call(null,this._value,t);return this._value=[t].reduce(e,this._value*n)/n,this},multiply:function(t){function e(t,e,n,r){var i=h(t,e);return t*i*(e*i)/(i*i)}return this._value=[this._value,t].reduce(e,1),this},divide:function(t){function e(t,e,n,r){var i=h(t,e);return t*i/(e*i)}return this._value=[this._value,t].reduce(e),this},difference:function(t){return Math.abs(d(this._value).subtract(t).value())}},y&&(module.exports=d),"undefined"==typeof ender&&(this.numeral=d),"function"==typeof define&&define.amd&&define([],function(){return d})}.call(this),function(){var t={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:" mln",billion:" mld",trillion:" bln"},ordinal:function(t){var e=t%100;return 0!==t&&1>=e||8===e||e>=20?"ste":"de"},currency:{symbol:"€ "}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("be-nl",t)}(),function(){var t={delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"千",million:"百万",billion:"十亿",trillion:"兆"},ordinal:function(t){return"."},currency:{symbol:"¥"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("chs",t)}(),function(){var t={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"Kč"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("cs",t)}(),function(){var t={delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mio",billion:"mia",trillion:"b"},ordinal:function(t){return"."},currency:{symbol:"DKK"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("da-dk",t)}(),function(){var t={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){return"."},currency:{symbol:"CHF"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("de-ch",t)}(),function(){var t={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){return"."},currency:{symbol:"€"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("de",t)}(),function(){var t={delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"£"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("en-gb",t)}(),function(){var t={delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1===e||3===e?"er":2===e?"do":7===e||0===e?"mo":8===e?"vo":9===e?"no":"to"},currency:{symbol:"€"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("es",t)}(),function(){var t={delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1===e||3===e?"er":2===e?"do":7===e||0===e?"mo":8===e?"vo":9===e?"no":"to"},currency:{symbol:"$"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("es",t)}(),function(){var t={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:" tuh",million:" mln",billion:" mld",trillion:" trl"},ordinal:function(t){return"."},currency:{symbol:"€"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("et",t)}(),function(){var t={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"M",billion:"G",trillion:"T"},ordinal:function(t){return"."},currency:{symbol:"€"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("fi",t)}(),function(){var t={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"M",billion:"G",trillion:"T"},ordinal:function(t){return 1===t?"er":"e"},currency:{symbol:"$"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("fr-CA",t)}(),function(){var t={delimiters:{thousands:"'",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){return 1===t?"er":"e"},currency:{symbol:"CHF"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("fr-ch",t)}(),function(){var t={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){return 1===t?"er":"e"},currency:{symbol:"€"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("fr",t)}(),function(){var t={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"E",million:"M",billion:"Mrd",trillion:"T"},ordinal:function(t){return"."},currency:{symbol:" Ft"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("hu",t)}(),function(){var t={delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mila",million:"mil",billion:"b",trillion:"t"},ordinal:function(t){return"º"},currency:{symbol:"€"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("it",t)}(),function(){var t={delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"千",million:"百万",billion:"十億",trillion:"兆"},ordinal:function(t){return"."},currency:{symbol:"¥"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("ja",t)}(),function(){var t={delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mln",billion:"mrd",trillion:"bln"},ordinal:function(t){var e=t%100;return 0!==t&&1>=e||8===e||e>=20?"ste":"de"},currency:{symbol:"€ "}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("nl-nl",t)}(),function(){var t={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tys.",million:"mln",billion:"mld",trillion:"bln"},ordinal:function(t){return"."},currency:{symbol:"PLN"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("pl",t)}(),function(){var t={delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mil",million:"milhões",billion:"b",trillion:"t"},ordinal:function(t){return"º"},currency:{symbol:"R$"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("pt-br",t)}(),function(){var t={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){return"º"},currency:{symbol:"€"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("pt-pt",t)}(),function(){var t={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"тыс.",million:"млн",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"₴"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("ru-UA",t)}(),function(){var t={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"тыс.",million:"млн",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"руб."}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("ru",t)}(),function(){var t={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"€"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("sk",t)}(),function(){var t={delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"พัน",million:"ล้าน",billion:"พันล้าน",trillion:"ล้านล้าน"},ordinal:function(t){return"."},currency:{symbol:"฿"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("th",t)}(),function(){var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"},e={delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"bin",million:"milyon",billion:"milyar",trillion:"trilyon"},ordinal:function(e){if(0===e)return"'ıncı";var n=e%10,r=e%100-n,i=e>=100?100:null;return t[n]||t[r]||t[i]},currency:{symbol:"₺"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("tr",e)}(),function(){var t={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"тис.",million:"млн",billion:"млрд",trillion:"блн"},ordinal:function(){return""},currency:{symbol:"₴"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("uk-UA",t)}(),define("numeral",[],function(){return{"default":numeral}}),define("ic-ajax",["ember","exports"],function(t,e){"use strict";function n(){return r.apply(null,arguments).then(function(t){return t.response},null,"ic-ajax: unwrap raw ajax response")}function r(){return s(a.apply(null,arguments))}function i(t,e){e.response&&(e.response=JSON.parse(JSON.stringify(e.response))),h[t]=e}function o(t){return h&&h[t]}function s(t){return new c.RSVP.Promise(function(e,n){var r=o(t.url);return r?"success"===r.textStatus||null==r.textStatus?c.run.later(null,e,r):c.run.later(null,n,r):(t.success=l(e),t.error=u(n),void c.$.ajax(t))},"ic-ajax: "+(t.type||"GET")+" to "+t.url)}function a(){var t={};if(1===arguments.length?"string"==typeof arguments[0]?t.url=arguments[0]:t=arguments[0]:2===arguments.length&&(t=arguments[1],t.url=arguments[0]),t.success||t.error)throw new c.Error("ajax should use promises, received 'success' or 'error' callback");return t}function l(t){return function(e,n,r){c.run(null,t,{response:e,textStatus:n,jqXHR:r})}}function u(t){return function(e,n,r){c.run(null,t,{jqXHR:e,textStatus:n,errorThrown:r})}}var c=t["default"]||t;e.request=n,e["default"]=n,e.raw=r;var h={};e.__fixtures__=h,e.defineFixture=i,e.lookupFixture=o}),!function(t){"use strict";function e(t,e){w.debug&&window.console&&console[e?"error":"log"](t)}function n(){var t,e,n,r=navigator.userAgent,i=navigator.appName,o=""+parseFloat(navigator.appVersion),s=parseInt(navigator.appVersion,10);return-1!==navigator.appVersion.indexOf("Windows NT")&&-1!==navigator.appVersion.indexOf("rv:11")?(i="IE",o="11;"):-1!==(e=r.indexOf("MSIE"))?(i="IE",o=r.substring(e+5)):-1!==(e=r.indexOf("Chrome"))?(i="Chrome",o=r.substring(e+7)):-1!==(e=r.indexOf("Safari"))?(i="Safari",o=r.substring(e+7),-1!==(e=r.indexOf("Version"))&&(o=r.substring(e+8))):-1!==(e=r.indexOf("Firefox"))?(i="Firefox",o=r.substring(e+8)):(t=r.lastIndexOf(" ")+1)<(e=r.lastIndexOf("/"))&&(i=r.substring(t,e),o=r.substring(e+1),i.toLowerCase()==i.toUpperCase()&&(i=navigator.appName)),-1!==(n=o.indexOf(";"))&&(o=o.substring(0,n)),-1!==(n=o.indexOf(" "))&&(o=o.substring(0,n)),s=parseInt(""+o,10),isNaN(s)&&(o=""+parseFloat(navigator.appVersion),s=parseInt(navigator.appVersion,10)),{name:i,version:s,ios:/(iPad|iPhone|iPod)/g.test(navigator.platform)}}function r(t,e){var n=t.media;if("video"==t.type)switch(e){case"video/webm":return!(!n.canPlayType||!n.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/no/,""));case"video/mp4":return!(!n.canPlayType||!n.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""));case"video/ogg":return!(!n.canPlayType||!n.canPlayType('video/ogg; codecs="theora"').replace(/no/,""))}else if("audio"==t.type)switch(e){case"audio/mpeg":return!(!n.canPlayType||!n.canPlayType("audio/mpeg;").replace(/no/,""));case"audio/ogg":return!(!n.canPlayType||!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,""));case"audio/wav":return!(!n.canPlayType||!n.canPlayType('audio/wav; codecs="1"').replace(/no/,""))}return!1}function i(t,e,n){return t.replace(new RegExp(e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"),"g"),n)}function o(t,e){t.length||(t=[t]);for(var n=t.length-1;n>=0;n--){var r=n>0?e.cloneNode(!0):e,i=t[n],o=i.parentNode,s=i.nextSibling;r.appendChild(i),s?o.insertBefore(r,s):o.appendChild(r)}}function s(t){t.parentNode.removeChild(t)}function a(t,e){t.insertBefore(e,t.firstChild)}function l(t,e){for(var n in e)t.setAttribute(n,e[n])}function u(t,e,n){if(t)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(/\s+/g," ").replace(" "+e+" ","");t.className=r+(n?" "+e:"")}}function c(t,e,n,r){if(e=e.split(" "),t instanceof NodeList)for(var i=0;i<t.length;i++)t[i]instanceof Node&&c(t[i],arguments[1],arguments[2],arguments[3]);else for(var o=0;o<e.length;o++)t[r?"addEventListener":"removeEventListener"](e[o],n,!1)}function h(t,e,n){c(t,e,n,!0)}function d(t,e,n){c(t,e,n,!1)}function p(t,e){var n=document.createEvent("MouseEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function f(t){return t.keyCode&&13!=t.keyCode?!0:(t.target.checked=!t.target.checked,void p(t.target,"change"))}function m(t,e){return 0===t||0===e||isNaN(t)||isNaN(e)?0:(t/e*100).toFixed(2)}function g(t,e){for(var n in e)e[n]&&e[n].constructor&&e[n].constructor===Object?(t[n]=t[n]||{},g(t[n],e[n])):t[n]=e[n];return t}function v(){var t={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",element:null,prefix:""},e="webkit moz o ms khtml".split(" ");if("undefined"!=typeof document.cancelFullScreen)t.supportsFullScreen=!0;else for(var n=0,r=e.length;r>n;n++){if(t.prefix=e[n],"undefined"!=typeof document[t.prefix+"CancelFullScreen"]){t.supportsFullScreen=!0;break}if("undefined"!=typeof document.msExitFullscreen&&document.msFullscreenEnabled){t.prefix="ms",t.supportsFullScreen=!0;break}}return"webkit"===t.prefix&&navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)&&(t.supportsFullScreen=!1),t.supportsFullScreen&&(t.fullScreenEventName="ms"==t.prefix?"MSFullscreenChange":t.prefix+"fullscreenchange",t.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;case"ms":return null!==document.msFullscreenElement;default:return document[this.prefix+"FullScreen"]}},t.requestFullScreen=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+("ms"==this.prefix?"RequestFullscreen":"RequestFullScreen")]("webkit"===this.prefix?t.ALLOW_KEYBOARD_INPUT:null)},t.cancelFullScreen=function(){return""===this.prefix?document.cancelFullScreen():document[this.prefix+("ms"==this.prefix?"ExitFullscreen":"CancelFullScreen")]()},t.element=function(){return""===this.prefix?document.fullscreenElement:document[this.prefix+"FullscreenElement"]}),t}function y(){var t={supported:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}}()};return t}function b(c){function p(t){if(!nt.usingTextTracks&&"video"===nt.type&&nt.supported.full){for(nt.subcount=0,t="number"==typeof t?t:nt.media.currentTime;x(nt.captions[nt.subcount][0])<t.toFixed(1);)if(nt.subcount++,nt.subcount>nt.captions.length-1){nt.subcount=nt.captions.length-1;break}nt.media.currentTime.toFixed(1)>=b(nt.captions[nt.subcount][0])&&nt.media.currentTime.toFixed(1)<=x(nt.captions[nt.subcount][0])?(nt.currentCaption=nt.captions[nt.subcount][1],nt.captionsContainer.innerHTML=nt.currentCaption):nt.captionsContainer.innerHTML=""}}function g(){u(nt.container,w.classes.captions.enabled,!0),w.captions.defaultActive&&(u(nt.container,w.classes.captions.active,!0),nt.buttons.captions.checked=!0)}function b(t){var e=[];return e=t.split(" --> "),C(e[0])}function x(t){var e=[];return e=t.split(" --> "),C(e[1])}function C(t){if(null===t||void 0===t)return 0;var e,n=[],r=[];return n=t.split(","),r=n[0].split(":"),e=Math.floor(60*r[0]*60)+Math.floor(60*r[1])+Math.floor(r[2])}function T(t){return nt.container.querySelectorAll(t)}function E(t){return T(t)[0]}function k(){try{return window.self!==window.top}catch(t){return!0}}function S(){e("Injecting custom controls.");var t=w.html;if(t=i(t,"{seektime}",w.seekTime),t=i(t,"{id}",nt.random),nt.container.insertAdjacentHTML("beforeend",t),w.tooltips)for(var n=T(w.selectors.labels),r=n.length-1;r>=0;r--){var o=n[r];u(o,w.classes.hidden,!1),u(o,w.classes.tooltip,!0)}}function P(){try{return nt.controls=E(w.selectors.controls),nt.buttons={},nt.buttons.seek=E(w.selectors.buttons.seek),nt.buttons.play=E(w.selectors.buttons.play),nt.buttons.pause=E(w.selectors.buttons.pause),nt.buttons.restart=E(w.selectors.buttons.restart),nt.buttons.rewind=E(w.selectors.buttons.rewind),nt.buttons.forward=E(w.selectors.buttons.forward),nt.buttons.fullscreen=E(w.selectors.buttons.fullscreen),nt.buttons.mute=E(w.selectors.buttons.mute),nt.buttons.captions=E(w.selectors.buttons.captions),nt.checkboxes=T("[type='checkbox']"),nt.progress={},nt.progress.container=E(w.selectors.progress.container),nt.progress.buffer={},nt.progress.buffer.bar=E(w.selectors.progress.buffer),nt.progress.buffer.text=nt.progress.buffer.bar.getElementsByTagName("span")[0],nt.progress.played={},nt.progress.played.bar=E(w.selectors.progress.played),nt.progress.played.text=nt.progress.played.bar.getElementsByTagName("span")[0],nt.volume=E(w.selectors.buttons.volume),nt.duration=E(w.selectors.duration),nt.seekTime=T(w.selectors.seekTime),!0}catch(t){return e("It looks like there's a problem with your controls html. Bailing.",!0),!1}}function A(){var t=nt.buttons.play.innerText||"Play";"undefined"!=typeof w.title&&w.title.length&&(t+=", "+w.title),
nt.buttons.play.setAttribute("aria-label",t)}function L(){if(!nt.media)return e("No audio or video element found!",!0),!1;if(nt.supported.full&&(nt.media.removeAttribute("controls"),u(nt.container,w.classes[nt.type],!0),u(nt.container,w.classes.stopped,null===nt.media.getAttribute("autoplay")),nt.browser.ios&&u(nt.container,"ios",!0),"video"===nt.type)){var t=document.createElement("div");t.setAttribute("class",w.classes.videoWrapper),o(nt.media,t),nt.videoContainer=t}null!==nt.media.getAttribute("autoplay")&&M()}function O(){if("video"===nt.type){nt.videoContainer.insertAdjacentHTML("afterbegin","<div class='"+w.selectors.captions.replace(".","")+"'></div>"),nt.captionsContainer=E(w.selectors.captions),nt.usingTextTracks=!1,nt.media.textTracks&&(nt.usingTextTracks=!0);for(var t,n="",r=nt.media.childNodes,i=0;i<r.length;i++)"track"===r[i].nodeName.toLowerCase()&&(t=r[i].getAttribute("kind"),"captions"===t&&(n=r[i].getAttribute("src")));if(nt.captionExists=!0,""===n?(nt.captionExists=!1,e("No caption track found.")):e("Caption track found; URI: "+n),nt.captionExists){for(var o=nt.media.textTracks,s=0;s<o.length;s++)o[s].mode="hidden";if(g(nt),("IE"===nt.browser.name&&10===nt.browser.version||"IE"===nt.browser.name&&11===nt.browser.version||"Firefox"===nt.browser.name&&nt.browser.version>=31||"Safari"===nt.browser.name&&nt.browser.version>=7)&&(e("Detected IE 10/11 or Firefox 31+ or Safari 7+."),nt.usingTextTracks=!1),nt.usingTextTracks){e("TextTracks supported.");for(var a=0;a<o.length;a++){var l=o[a];"captions"===l.kind&&h(l,"cuechange",function(){nt.captionsContainer.innerHTML="",this.activeCues[0]&&this.activeCues[0].hasOwnProperty("text")&&nt.captionsContainer.appendChild(this.activeCues[0].getCueAsHTML())})}}else if(e("TextTracks not supported so rendering captions manually."),nt.currentCaption="",nt.captions=[],""!==n){var c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState)if(200===c.status){var t,n=[],r=c.responseText;n=r.split("\n\n");for(var i=0;i<n.length;i++)t=n[i],nt.captions[i]=[],nt.captions[i]=t.split("\n");nt.captions.shift(),e("Successfully loaded the caption file via AJAX.")}else e("There was a problem loading the caption file via AJAX.",!0)},c.open("get",n,!0),c.send()}if("Safari"===nt.browser.name&&nt.browser.version>=7){e("Safari 7+ detected; removing track from DOM."),o=nt.media.getElementsByTagName("track");for(var d=0;d<o.length;d++)nt.media.removeChild(o[d])}}else u(nt.container,w.classes.captions.enabled)}}function D(){if("video"===nt.type&&w.fullscreen.enabled){var t=_.supportsFullScreen;t||w.fullscreen.fallback&&!k()?(e((t?"Native":"Fallback")+" fullscreen enabled."),u(nt.container,w.classes.fullscreen.enabled,!0)):e("Fullscreen not supported and fallback disabled."),w.fullscreen.hideControls&&u(nt.container,w.classes.fullscreen.hideControls,!0)}}function M(){nt.media.play()}function R(){nt.media.pause()}function N(t){"number"!=typeof t&&(t=w.seekTime),I(nt.media.currentTime-t)}function F(t){"number"!=typeof t&&(t=w.seekTime),I(nt.media.currentTime+t)}function I(t){var n=0;"number"==typeof t?n=t:"object"!=typeof t||"change"!==t.type&&"input"!==t.type||(n=t.target.value/t.target.max*nt.media.duration),0>n?n=0:n>nt.media.duration&&(n=nt.media.duration);try{nt.media.currentTime=n.toFixed(1)}catch(r){}e("Seeking to "+nt.media.currentTime+" seconds"),p(n)}function B(){u(nt.container,w.classes.playing,!nt.media.paused),u(nt.container,w.classes.stopped,nt.media.paused)}function j(t){var e=_.supportsFullScreen;t&&t.type===_.fullScreenEventName?w.fullscreen.active=_.isFullScreen():e?(_.isFullScreen()?_.cancelFullScreen():_.requestFullScreen(nt.container),w.fullscreen.active=_.isFullScreen()):(w.fullscreen.active=!w.fullscreen.active,w.fullscreen.active?(h(document,"keyup",z),document.body.style.overflow="hidden"):(d(document,"keyup",z),document.body.style.overflow="")),u(nt.container,w.classes.fullscreen.active,w.fullscreen.active)}function z(t){27===(t.which||t.charCode||t.keyCode)&&w.fullscreen.active&&j()}function V(t){"undefined"==typeof t&&(t=w.storage.enabled&&y().supported?window.localStorage[w.storage.key]||w.volume:w.volume),t>10&&(t=10),nt.supported.full&&(nt.volume.value=t),nt.media.volume=parseFloat(t/10),W(),w.storage.enabled&&y().supported&&(window.localStorage.plyr_volume=t)}function H(t){"undefined"==typeof t&&(t=!nt.media.muted),nt.supported.full&&(nt.buttons.mute.checked=t),nt.media.muted=t,W()}function U(t){nt.supported.full&&("undefined"==typeof t&&(t=-1===nt.container.className.indexOf(w.classes.captions.active),nt.buttons.captions.checked=t),u(nt.container,w.classes.captions.active,t))}function W(){u(nt.container,w.classes.muted,0===nt.media.volume||nt.media.muted)}function q(t){var e="waiting"===t.type;clearTimeout(nt.loadingTimer),nt.loadingTimer=setTimeout(function(){u(nt.container,w.classes.loading,e)},e?250:0)}function $(t){var e=nt.progress.played.bar,n=nt.progress.played.text,r=0;if(t)switch(t.type){case"timeupdate":case"seeking":r=m(nt.media.currentTime,nt.media.duration),"timeupdate"==t.type&&(nt.buttons.seek.value=r);break;case"change":case"input":r=t.target.value;break;case"playing":case"progress":e=nt.progress.buffer.bar,n=nt.progress.buffer.text,r=function(){var t=nt.media.buffered;return t.length?m(t.end(0),nt.media.duration):0}()}e.value=r,n.innerHTML=r}function G(t){nt.secs=parseInt(t%60),nt.mins=parseInt(t/60%60),nt.hours=parseInt(t/60/60%60);var e=parseInt(nt.media.duration/60/60%60)>0;nt.secs=("0"+nt.secs).slice(-2),nt.mins=("0"+nt.mins).slice(-2),nt.duration.innerHTML=(e?nt.hours+":":"")+nt.mins+":"+nt.secs}function K(){nt.media.paused&&G(nt.media.duration||0)}function Y(t){G(nt.media.currentTime),$(t)}function Z(){for(var t=nt.media.querySelectorAll("source"),e=t.length-1;e>=0;e--)s(t[e]);nt.media.removeAttribute("src")}function J(t){if(t.src){var e=document.createElement("source");l(e,t),a(nt.media,e)}}function X(t){if(R(),I(),Z(),"string"==typeof t)nt.media.setAttribute("src",t);else if(t.constructor===Array)for(var e in t)J(t[e]);nt.supported.full&&(Y(),B()),nt.media.load(),null!==nt.media.getAttribute("autoplay")&&M()}function Q(t){"video"===nt.type&&nt.media.setAttribute("poster",t)}function tt(){h(nt.buttons.play,"click",function(){M(),setTimeout(function(){nt.buttons.pause.focus()},100)}),h(nt.buttons.pause,"click",function(){R(),setTimeout(function(){nt.buttons.play.focus()},100)}),h(nt.buttons.restart,"click",I),h(nt.buttons.rewind,"click",N),h(nt.buttons.forward,"click",F),h(nt.volume,"change input",function(){V(this.value)}),h(nt.buttons.mute,"change",function(){H(this.checked)}),h(nt.buttons.fullscreen,"click",j),_.supportsFullScreen&&h(document,_.fullScreenEventName,j),h(nt.media,"timeupdate seeking",Y),h(nt.media,"timeupdate",p),w.displayDuration&&h(nt.media,"loadedmetadata",K),h(nt.buttons.seek,"change input",I),h(nt.buttons.captions,"change",function(){U(this.checked)}),h(nt.media,"ended",function(){"video"===nt.type&&(nt.captionsContainer.innerHTML=""),B()}),h(nt.media,"progress",$),h(nt.media,"playing",$),h(nt.media,"volumechange",W),h(nt.media,"play pause",B),h(nt.media,"waiting canplay seeked",q),h(nt.checkboxes,"keyup",f),"video"===nt.type&&w.click&&h(nt.videoContainer,"click",function(){nt.media.paused?M():nt.media.ended?(I(),M()):R()}),w.fullscreen.hideControls&&h(nt.controls,"mouseenter mouseleave",function(t){u(nt.controls,w.classes.hover,"mouseenter"===t.type)})}function et(){if(_=v(),nt.browser=n(),nt.media=nt.container.querySelectorAll("audio, video")[0],nt.type=nt.media.tagName.toLowerCase(),nt.supported=t.supported(nt.type),!nt.supported.basic)return!1;if(e(nt.browser.name+" "+nt.browser.version),L(),nt.random=Math.floor(1e4*Math.random()),nt.supported.full){if(S(),!P())return!1;w.displayDuration&&K(),A(),O(),V(),D(),tt()}return!0}var nt=this;return nt.container=c,et()?{media:nt.media,play:M,pause:R,restart:I,rewind:N,forward:F,seek:I,setVolume:V,toggleMute:H,toggleCaptions:U,source:X,poster:Q,support:function(t){return r(nt,t)}}:{}}var _,w,x={enabled:!0,debug:!1,seekTime:10,volume:5,click:!0,tooltips:!1,displayDuration:!0,selectors:{container:".player",controls:".player-controls",labels:"[data-player] .sr-only, label .sr-only",buttons:{seek:"[data-player='seek']",play:"[data-player='play']",pause:"[data-player='pause']",restart:"[data-player='restart']",rewind:"[data-player='rewind']",forward:"[data-player='fast-forward']",mute:"[data-player='mute']",volume:"[data-player='volume']",captions:"[data-player='captions']",fullscreen:"[data-player='fullscreen']"},progress:{container:".player-progress",buffer:".player-progress-buffer",played:".player-progress-played"},captions:".player-captions",duration:".player-duration"},classes:{video:"player-video",videoWrapper:"player-video-wrapper",audio:"player-audio",stopped:"stopped",playing:"playing",muted:"muted",loading:"loading",tooltip:"player-tooltip",hidden:"sr-only",hover:"hover",captions:{enabled:"captions-enabled",active:"captions-active"},fullscreen:{enabled:"fullscreen-enabled",active:"fullscreen-active",hideControls:"fullscreen-hide-controls"}},captions:{defaultActive:!1},fullscreen:{enabled:!0,fallback:!0,hideControls:!0},storage:{enabled:!0,key:"plyr_volume"},html:function(){return["<div class='player-controls'>","<div class='player-progress'>","<label for='seek{id}' class='sr-only'>Seek</label>","<input id='seek{id}' class='player-progress-seek' type='range' min='0' max='100' step='0.5' value='0' data-player='seek'>","<progress class='player-progress-played' max='100' value='0'>","<span>0</span>% played","</progress>","<progress class='player-progress-buffer' max='100' value='0'>","<span>0</span>% buffered","</progress>","</div>","<span class='player-controls-left'>","<button type='button' data-player='restart'>","<svg><use xlink:href='#icon-restart'></use></svg>","<span class='sr-only'>Restart</span>","</button>","<button type='button' data-player='rewind'>","<svg><use xlink:href='#icon-rewind'></use></svg>","<span class='sr-only'>Rewind {seektime} secs</span>","</button>","<button type='button' data-player='play'>","<svg><use xlink:href='#icon-play'></use></svg>","<span class='sr-only'>Play</span>","</button>","<button type='button' data-player='pause'>","<svg><use xlink:href='#icon-pause'></use></svg>","<span class='sr-only'>Pause</span>","</button>","<button type='button' data-player='fast-forward'>","<svg><use xlink:href='#icon-fast-forward'></use></svg>","<span class='sr-only'>Forward {seektime} secs</span>","</button>","<span class='player-time'>","<span class='sr-only'>Time</span>","<span class='player-duration'>00:00</span>","</span>","</span>","<span class='player-controls-right'>","<input class='inverted sr-only' id='mute{id}' type='checkbox' data-player='mute'>","<label id='mute{id}' for='mute{id}'>","<svg class='icon-muted'><use xlink:href='#icon-muted'></use></svg>","<svg><use xlink:href='#icon-volume'></use></svg>","<span class='sr-only'>Toggle Mute</span>","</label>","<label for='volume{id}' class='sr-only'>Volume</label>","<input id='volume{id}' class='player-volume' type='range' min='0' max='10' value='5' data-player='volume'>","<input class='sr-only' id='captions{id}' type='checkbox' data-player='captions'>","<label for='captions{id}'>","<svg class='icon-captions-on'><use xlink:href='#icon-captions-on'></use></svg>","<svg><use xlink:href='#icon-captions-off'></use></svg>","<span class='sr-only'>Toggle Captions</span>","</label>","<button type='button' data-player='fullscreen'>","<svg class='icon-exit-fullscreen'><use xlink:href='#icon-exit-fullscreen'></use></svg>","<svg><use xlink:href='#icon-enter-fullscreen'></use></svg>","<span class='sr-only'>Toggle Fullscreen</span>","</button>","</span>","</div>"].join("\n")}()};t.supported=function(t){var e,r,i=n(),o="IE"===i.name&&i.version<=9,s=/iPhone|iPod/i.test(navigator.userAgent),a=!!document.createElement("audio").canPlayType,l=!!document.createElement("video").canPlayType;switch(t){case"video":e=l,r=e&&!o&&!s;break;case"audio":e=a,r=e&&!o;break;default:e=a&&l,r=e&&!o}return{basic:e,full:r}},t.setup=function(e){if(w=g(x,e),!w.enabled||!t.supported().basic)return!1;for(var n=document.querySelectorAll(w.selectors.container),r=[],i=n.length-1;i>=0;i--){var o=n[i];if("undefined"==typeof o.plyr){var s=new b(o);o.plyr=Object.keys(s).length?s:!1}r.push(o.plyr)}return r}}(this.plyr=this.plyr||{}),function(t,e){"function"==typeof define&&define.amd?define("simple-module",["jquery"],function(n){return t.Module=e(n)}):"object"==typeof exports?module.exports=e(require("jquery")):t.SimpleModule=e(jQuery)}(this,function(t){var e,n=[].slice;return e=function(){function e(e){var n,r,i,o,s,a,l;if(this.opts=t.extend({},this.opts,e),(n=this.constructor)._connectedClasses||(n._connectedClasses=[]),s=function(){var t,e,n,i;for(n=this.constructor._connectedClasses,i=[],t=0,e=n.length;e>t;t++)r=n[t],l=r.pluginName.charAt(0).toLowerCase()+r.pluginName.slice(1),r.prototype._connected&&(r.prototype._module=this),i.push(this[l]=new r);return i}.call(this),this._connected)this.opts=t.extend({},this.opts,this._module.opts);else for(this._init(),i=0,a=s.length;a>i;i++)o=s[i],"function"==typeof o._init&&o._init();this.trigger("initialized")}return e.extend=function(t){var e,n,r;if(null!=t&&"object"==typeof t){for(e in t)r=t[e],"included"!==e&&"extended"!==e&&(this[e]=r);return null!=(n=t.extended)?n.call(this):void 0}},e.include=function(t){var e,n,r;if(null!=t&&"object"==typeof t){for(e in t)r=t[e],"included"!==e&&"extended"!==e&&(this.prototype[e]=r);return null!=(n=t.included)?n.call(this):void 0}},e.connect=function(t){if("function"==typeof t){if(!t.pluginName)throw new Error("Module.connect: cannot connect plugin without pluginName");return t.prototype._connected=!0,this._connectedClasses||(this._connectedClasses=[]),this._connectedClasses.push(t),t.pluginName?this[t.pluginName]=t:void 0}},e.prototype.opts={},e.prototype._init=function(){},e.prototype.on=function(){var e,r;return e=1<=arguments.length?n.call(arguments,0):[],(r=t(this)).on.apply(r,e),this},e.prototype.one=function(){var e,r;return e=1<=arguments.length?n.call(arguments,0):[],(r=t(this)).one.apply(r,e),this},e.prototype.off=function(){var e,r;return e=1<=arguments.length?n.call(arguments,0):[],(r=t(this)).off.apply(r,e),this},e.prototype.trigger=function(){var e,r;return e=1<=arguments.length?n.call(arguments,0):[],(r=t(this)).trigger.apply(r,e),this},e.prototype.triggerHandler=function(){var e,r;return e=1<=arguments.length?n.call(arguments,0):[],(r=t(this)).triggerHandler.apply(r,e)},e.prototype._t=function(){var t,e;return t=1<=arguments.length?n.call(arguments,0):[],(e=this.constructor)._t.apply(e,t)},e._t=function(){var t,e,r,i;return e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],i=(null!=(r=this.i18n[this.locale])?r[e]:void 0)||"",t.length>0?(i=i.replace(/([^%]|^)%(?:(\d+)\$)?s/g,function(e,n,r){return r?n+t[parseInt(r)-1]:n+t.shift()}),i.replace(/%%s/g,"%s")):i},e.i18n={"zh-CN":{}},e.locale="zh-CN",e}()}),function(t,e){"function"==typeof define&&define.amd?define("simple-hotkeys",["jquery","simple-module"],function(n,r){return t.hotkeys=e(n,r)}):"object"==typeof exports?module.exports=e(require("jquery"),require("simple-module")):(t.simple=t.simple||{},t.simple.hotkeys=e(jQuery,SimpleModule))}(this,function(t,e){var n,r,i=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,e),n.count=0,n.keyNameMap={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",91:"Meta",93:"Meta",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"Multiply",107:"Add",109:"Subtract",110:"Decimal",111:"Divide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",59:";",61:"=",186:";",187:"=",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},n.aliases={escape:"esc","delete":"del","return":"enter",ctrl:"control",space:"spacebar",ins:"insert",cmd:"meta",command:"meta",wins:"meta",windows:"meta"},n.normalize=function(t){var e,n,r,i,o,s;for(o=t.toLowerCase().replace(/\s+/gi,"").split("+"),e=n=0,s=o.length;s>n;e=++n)r=o[e],o[e]=this.aliases[r]||r;return i=o.pop(),o.sort().push(i),o.join("_")},n.prototype.opts={el:document},n.prototype._init=function(){return this.id=++this.constructor.count,this._map={},this._delegate="string"==typeof this.opts.el?document:this.opts.el,t(this._delegate).on("keydown.simple-hotkeys-"+this.id,this.opts.el,function(t){return function(e){var n;return null!=(n=t._getHander(e))?n.call(t,e):void 0}}(this))},n.prototype._getHander=function(t){var e,n;if(e=this.constructor.keyNameMap[t.which])return n="",t.altKey&&(n+="alt_"),t.ctrlKey&&(n+="control_"),t.metaKey&&(n+="meta_"),t.shiftKey&&(n+="shift_"),n+=e.toLowerCase(),this._map[n]},n.prototype.respondTo=function(t){return"string"==typeof t?null!=this._map[this.constructor.normalize(t)]:null!=this._getHander(t)},n.prototype.add=function(t,e){return this._map[this.constructor.normalize(t)]=e,this},n.prototype.remove=function(t){return delete this._map[this.constructor.normalize(t)],this},n.prototype.destroy=function(){return t(this._delegate).off(".simple-hotkeys-"+this.id),this._map={},this},n}(e),r=function(t){return new n(t)}}),function(t,e){"function"==typeof define&&define.amd?define("simple-uploader",["jquery","simple-module"],function(n,r){return t.uploader=e(n,r)}):"object"==typeof exports?module.exports=e(require("jquery"),require("simple-module")):(t.simple=t.simple||{},t.simple.uploader=e(jQuery,SimpleModule))}(this,function(t,e){var n,r,i=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,e),n.count=0,n.prototype.opts={url:"",params:null,fileKey:"upload_file",connectionCount:3},n.prototype._init=function(){return this.files=[],this.queue=[],this.id=++n.count,this.on("uploadcomplete",function(e){return function(n,r){return e.files.splice(t.inArray(r,e.files),1),e.queue.length>0&&e.files.length<e.opts.connectionCount?e.upload(e.queue.shift()):0===e.files.length?e.uploading=!1:void 0}}(this)),t(window).on("beforeunload.uploader-"+this.id,function(t){return function(e){return t.uploading?(e.originalEvent.returnValue=t._t("leaveConfirm"),t._t("leaveConfirm")):void 0}}(this))},n.prototype.generateId=function(){var t;return t=0,function(){return t+=1}}(),n.prototype.upload=function(e,n){var r,i,o,s;if(null==n&&(n={}),null!=e){if(t.isArray(e)||e instanceof FileList)for(i=0,s=e.length;s>i;i++)r=e[i],this.upload(r,n);else t(e).is("input:file")?(o=t(e).attr("name"),o&&(n.fileKey=o),this.upload(t.makeArray(t(e)[0].files),n)):e.id&&e.obj||(e=this.getFile(e));if(e&&e.obj){if(t.extend(e,n),this.files.length>=this.opts.connectionCount)return void this.queue.push(e);if(this.triggerHandler("beforeupload",[e])!==!1)return this.files.push(e),this._xhrUpload(e),this.uploading=!0}}},n.prototype.getFile=function(t){var e,n,r;return t instanceof window.File||t instanceof window.Blob?(e=null!=(n=t.fileName)?n:t.name,{id:this.generateId(),url:this.opts.url,params:this.opts.params,fileKey:this.opts.fileKey,name:e,size:null!=(r=t.fileSize)?r:t.size,ext:e?e.split(".").pop().toLowerCase():"",obj:t}):null},n.prototype._xhrUpload=function(e){var n,r,i,o;if(n=new FormData,n.append(e.fileKey,e.obj),n.append("original_filename",e.name),e.params){i=e.params;for(r in i)o=i[r],n.append(r,o)}return e.xhr=t.ajax({url:e.url,data:n,processData:!1,contentType:!1,type:"POST",headers:{"X-File-Name":encodeURIComponent(e.name)},xhr:function(){var e;return e=t.ajaxSettings.xhr(),e&&(e.upload.onprogress=function(t){return function(e){return t.progress(e)}}(this)),e},progress:function(t){return function(n){return n.lengthComputable?t.trigger("uploadprogress",[e,n.loaded,n.total]):void 0}}(this),error:function(t){return function(n,r,i){return t.trigger("uploaderror",[e,n,r])}}(this),success:function(n){return function(r){return n.trigger("uploadprogress",[e,e.size,e.size]),n.trigger("uploadsuccess",[e,r]),t(document).trigger("uploadsuccess",[e,r,n])}}(this),complete:function(t){return function(n,r){return t.trigger("uploadcomplete",[e,n.responseText])}}(this)})},n.prototype.cancel=function(t){var e,n,r,i;if(!t.id)for(i=this.files,n=0,r=i.length;r>n;n++)if(e=i[n],e.id===1*t){t=e;break}return this.trigger("uploadcancel",[t]),t.xhr&&t.xhr.abort(),t.xhr=null},n.prototype.readImageFile=function(e,n){var r,i;if(t.isFunction(n))return i=new Image,i.onload=function(){return n(i)},i.onerror=function(){return n()},window.FileReader&&FileReader.prototype.readAsDataURL&&/^image/.test(e.type)?(r=new FileReader,r.onload=function(t){return i.src=t.target.result},r.readAsDataURL(e)):n()},n.prototype.destroy=function(){var e,n,r,i;for(this.queue.length=0,i=this.files,n=0,r=i.length;r>n;n++)e=i[n],this.cancel(e);return t(window).off(".uploader-"+this.id),t(document).off(".uploader-"+this.id)},n.i18n={"zh-CN":{leaveConfirm:"正在上传文件，如果离开上传会自动取消"}},n.locale="zh-CN",n}(e),r=function(t){return new n(t)}}),function(t,e){"function"==typeof define&&define.amd?define("simditor",["jquery","simple-module","simple-hotkeys","simple-uploader"],function(n,r,i,o){return t.Simditor=e(n,r,i,o)}):"object"==typeof exports?module.exports=e(require("jquery"),require("simple-module"),require("simple-hotkeys"),require("simple-uploader")):t.Simditor=e(jQuery,SimpleModule,simple.hotkeys,simple.uploader)}(this,function(t,e,n,r){var i,o,s,a,l,u,c,h,d,p,f,m,g,v,y,b,_,w,x,C,T,E,k,S,P,A,L,O,D,M,R,N,F,I,B=function(t,e){function n(){this.constructor=t}for(var r in e)j.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},j={}.hasOwnProperty,z=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},V=[].slice;return P=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="Selection",n.prototype._range=null,n.prototype._startNodes=null,n.prototype._endNodes=null,n.prototype._containerNode=null,n.prototype._nodes=null,n.prototype._blockNodes=null,n.prototype._rootNodes=null,n.prototype._init=function(){return this.editor=this._module,this._selection=document.getSelection(),this.editor.on("selectionchanged",function(t){return function(e){return t.reset(),t._range=t._selection.getRangeAt(0)}}(this)),this.editor.on("blur",function(t){return function(e){return t.reset()}}(this))},n.prototype.reset=function(){return this._range=null,this._startNodes=null,this._endNodes=null,this._containerNode=null,this._nodes=null,this._blockNodes=null,this._rootNodes=null},n.prototype.clear=function(){var t;try{this._selection.removeAllRanges()}catch(e){t=e}return this.reset()},n.prototype.range=function(t){var e;return t?(this.clear(),this._selection.addRange(t),this._range=t,e=this.editor.util.browser.firefox||this.editor.util.browser.msie,!this.editor.inputManager.focused&&e&&this.editor.body.focus()):!this._range&&this.editor.inputManager.focused&&this._selection.rangeCount&&(this._range=this._selection.getRangeAt(0)),this._range},n.prototype.startNodes=function(){return this._range&&(this._startNodes||(this._startNodes=function(e){return function(){var n;return n=t(e._range.startContainer).parentsUntil(e.editor.body).get(),n.unshift(e._range.startContainer),t(n)}}(this)())),this._startNodes},n.prototype.endNodes=function(){var e;return this._range&&(this._endNodes||(this._endNodes=this._range.collapsed?this.startNodes():(e=t(this._range.endContainer).parentsUntil(this.editor.body).get(),e.unshift(this._range.endContainer),t(e)))),this._endNodes},n.prototype.containerNode=function(){return this._range&&(this._containerNode||(this._containerNode=t(this._range.commonAncestorContainer))),this._containerNode},n.prototype.nodes=function(){return this._range&&(this._nodes||(this._nodes=function(e){return function(){var n;return n=[],e.startNodes().first().is(e.endNodes().first())?n=e.startNodes().get():(e.startNodes().each(function(r,i){var o,s,a,l,u,c,h;return s=t(i),e.endNodes().index(s)>-1?n.push(i):s.parent().is(e.editor.body)||(c=e.endNodes().index(s.parent()))>-1?(o=c&&c>-1?e.endNodes().eq(c-1):e.endNodes().last(),a=s.parent().contents(),h=a.index(s),l=a.index(o),t.merge(n,a.slice(h,l).get())):(a=s.parent().contents(),u=a.index(s),t.merge(n,a.slice(u).get()))}),e.endNodes().each(function(r,i){var o,s,a;return o=t(i),o.parent().is(e.editor.body)||e.startNodes().index(o.parent())>-1?(n.push(i),!1):(s=o.parent().contents(),a=s.index(o),t.merge(n,s.slice(0,a+1)))})),t(t.unique(n))}}(this)())),this._nodes},n.prototype.blockNodes=function(){return this._range?(this._blockNodes||(this._blockNodes=function(t){return function(){return t.nodes().filter(function(e,n){return t.editor.util.isBlockNode(n)})}}(this)()),this._blockNodes):void 0},n.prototype.rootNodes=function(){return this._range?(this._rootNodes||(this._rootNodes=function(e){return function(){return e.nodes().filter(function(n,r){var i;return i=t(r).parent(),i.is(e.editor.body)||i.is("blockquote")})}}(this)()),this._rootNodes):void 0},n.prototype.rangeAtEndOf=function(e,n){var r,i,o,s,a,l;return null==n&&(n=this.range()),n&&n.collapsed?(e=t(e)[0],o=n.endContainer,s=this.editor.util.getNodeLength(o),i=n.endOffset===s-1,a=t(o).contents().last().is("br"),r=n.endOffset===s,i&&a||r?e===o?!0:t.contains(e,o)?(l=!0,t(o).parentsUntil(e).addBack().each(function(e,n){var r,i,o,s;return s=t(n).parent().contents().filter(function(){return!(this!==n&&3===this.nodeType&&!this.nodeValue)}),r=s.last(),o=r.get(0)===n,i=r.is("br")&&r.prev().get(0)===n,o||i?void 0:(l=!1,!1)}),l):!1:!1):void 0},n.prototype.rangeAtStartOf=function(e,n){var r,i;return null==n&&(n=this.range()),n&&n.collapsed?(e=t(e)[0],i=n.startContainer,0!==n.startOffset?!1:e===i?!0:t.contains(e,i)?(r=!0,t(i).parentsUntil(e).addBack().each(function(e,n){var i;return i=t(n).parent().contents().filter(function(){return!(this!==n&&3===this.nodeType&&!this.nodeValue)}),i.first().get(0)!==n?r=!1:void 0}),r):!1):void 0},n.prototype.insertNode=function(e,n){return null==n&&(n=this.range()),n?(e=t(e)[0],n.insertNode(e),this.setRangeAfter(e,n)):void 0},n.prototype.setRangeAfter=function(e,n){return null==n&&(n=this.range()),null!=n?(e=t(e)[0],n.setEndAfter(e),n.collapse(!1),this.range(n)):void 0},n.prototype.setRangeBefore=function(e,n){return null==n&&(n=this.range()),null!=n?(e=t(e)[0],n.setEndBefore(e),n.collapse(!1),this.range(n)):void 0},n.prototype.setRangeAtStartOf=function(e,n){return null==n&&(n=this.range()),e=t(e).get(0),n.setEnd(e,0),n.collapse(!1),this.range(n)},n.prototype.setRangeAtEndOf=function(e,n){var r,i,o,s,a,l,u;return null==n&&(n=this.range()),i=t(e),e=i[0],i.is("pre")?(o=i.contents(),o.length>0?(s=o.last(),l=s.text(),a=this.editor.util.getNodeLength(s[0]),"\n"===l.charAt(l.length-1)?n.setEnd(s[0],a-1):n.setEnd(s[0],a)):n.setEnd(e,0)):(u=this.editor.util.getNodeLength(e),3!==e.nodeType&&u>0&&(r=t(e).contents().last(),r.is("br")?u-=1:3!==r[0].nodeType&&this.editor.util.isEmptyNode(r)&&(r.append(this.editor.util.phBr),e=r[0],u=0)),n.setEnd(e,u)),n.collapse(!1),this.range(n)},n.prototype.deleteRangeContents=function(t){var e,n,r,i;return null==t&&(t=this.range()),i=t.cloneRange(),r=t.cloneRange(),i.collapse(!0),r.collapse(!1),n=this.rangeAtStartOf(this.editor.body,i),e=this.rangeAtEndOf(this.editor.body,r),!t.collapsed&&n&&e?(this.editor.body.empty(),t.setStart(this.editor.body[0],0),t.collapse(!0),this.range(t)):t.deleteContents(),t},n.prototype.breakBlockEl=function(e,n){var r;return null==n&&(n=this.range()),r=t(e),n.collapsed?(n.setStartBefore(r.get(0)),n.collapsed?r:r.before(n.extractContents())):r},n.prototype.save=function(e){var n,r,i;return null==e&&(e=this.range()),this._selectionSaved?void 0:(r=e.cloneRange(),r.collapse(!1),i=t("<span/>").addClass("simditor-caret-start"),n=t("<span/>").addClass("simditor-caret-end"),r.insertNode(n[0]),e.insertNode(i[0]),this.clear(),this._selectionSaved=!0)},n.prototype.restore=function(){var t,e,n,r,i,o,s;return this._selectionSaved?(i=this.editor.body.find(".simditor-caret-start"),t=this.editor.body.find(".simditor-caret-end"),i.length&&t.length?(o=i.parent(),s=o.contents().index(i),e=t.parent(),n=e.contents().index(t),o[0]===e[0]&&(n-=1),r=document.createRange(),r.setStart(o.get(0),s),r.setEnd(e.get(0),n),i.remove(),t.remove(),this.range(r)):(i.remove(),t.remove()),this._selectionSaved=!1,r):!1},n}(e),p=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="Formatter",n.prototype.opts={allowedTags:[],allowedAttributes:{},allowedStyles:{}},n.prototype._init=function(){return this.editor=this._module,this._allowedTags=t.merge(["br","span","a","img","b","strong","i","strike","u","font","p","ul","ol","li","blockquote","pre","code","h1","h2","h3","h4","hr"],this.opts.allowedTags),this._allowedAttributes=t.extend({img:["src","alt","width","height","data-non-image"],a:["href","target"],font:["color"],code:["class"]},this.opts.allowedAttributes),this._allowedStyles=t.extend({span:["color","font-size"],b:["color"],i:["color"],strong:["color"],strike:["color"],u:["color"],p:["margin-left","text-align"],h1:["margin-left","text-align"],h2:["margin-left","text-align"],h3:["margin-left","text-align"],h4:["margin-left","text-align"]},this.opts.allowedStyles),this.editor.body.on("click","a",function(t){return!1})},n.prototype.decorate=function(t){return null==t&&(t=this.editor.body),this.editor.trigger("decorate",[t]),t},n.prototype.undecorate=function(t){return null==t&&(t=this.editor.body.clone()),this.editor.trigger("undecorate",[t]),t},n.prototype.autolink=function(e){var n,r,i,o,s,a,l,u,c,h,d,p,f;for(null==e&&(e=this.editor.body),l=[],i=function(n){return n.contents().each(function(n,r){var o,s;return o=t(r),o.is("a")||o.closest("a, pre",e).length?void 0:!o.is("iframe")&&o.contents().length?i(o):(s=o.text())&&/https?:\/\/|www\./gi.test(s)?l.push(o):void 0})},i(e),c=/(https?:\/\/|www\.)[\w\-\.\?&=\/#%:,@\!\+]+/gi,o=0,a=l.length;a>o;o++){for(r=l[o],p=r.text(),h=[],u=null,s=0;null!==(u=c.exec(p));)d=p.substring(s,u.index),h.push(document.createTextNode(d)),s=c.lastIndex,f=/^(http(s)?:\/\/|\/)/.test(u[0])?u[0]:"http://"+u[0],n=t('<a href="'+f+'" rel="nofollow"></a>').text(u[0]),h.push(n[0]);h.push(document.createTextNode(p.substring(s))),r.replaceWith(t(h))}return e},n.prototype.format=function(e){var n,r,i,o,s,a,l,u,c,h;if(null==e&&(e=this.editor.body),e.is(":empty"))return e.append("<p>"+this.editor.util.phBr+"</p>"),e;for(c=e.contents(),i=0,s=c.length;s>i;i++)l=c[i],this.cleanNode(l,!0);for(h=e.contents(),o=0,a=h.length;a>o;o++)u=h[o],n=t(u),n.is("br")?("undefined"!=typeof r&&null!==r&&(r=null),n.remove()):this.editor.util.isBlockNode(u)?n.is("li")?r&&r.is("ul, ol")?r.append(u):(r=t("<ul/>").insertBefore(u),r.append(u)):r=null:((!r||r.is("ul, ol"))&&(r=t("<p/>").insertBefore(u)),r.append(u),this.editor.util.isEmptyNode(r)&&r.append(this.editor.util.phBr));return e},n.prototype.cleanNode=function(e,n){var r,i,o,s,a,l,u,c,h,d,p,f,m,g,v,y,b,_;if(o=t(e),o.length>0){if(3===o[0].nodeType)return b=o.text().replace(/(\r\n|\n|\r)/gm,""),void(b?(_=document.createTextNode(b),
o.replaceWith(_)):o.remove());if(c=o.is("iframe")?null:o.contents(),h=this.editor.util.isDecoratedNode(o),o.is(this._allowedTags.join(","))||h){if(o.is("a")&&(i=o.find("img")).length>0&&(o.replaceWith(i),o=i,c=null),o.is("td")&&(r=o.find(this.editor.util.blockNodes.join(","))).length>0&&(r.each(function(e){return function(e,n){return t(n).contents().unwrap()}}(this)),c=o.contents()),o.is("img")&&o.hasClass("uploading")&&o.remove(),!h){for(l=this._allowedAttributes[o[0].tagName.toLowerCase()],v=t.makeArray(o[0].attributes),d=0,f=v.length;f>d;d++)u=v[d],"style"!==u.name&&(null!=l&&(y=u.name,z.call(l,y)>=0)||o.removeAttr(u.name));this._cleanNodeStyles(o),o.is("span")&&0===o[0].attributes.length&&o.contents().first().unwrap()}}else 1!==o[0].nodeType||o.is(":empty")?(o.remove(),c=null):o.is("div, article, dl, header, footer, tr")?(o.append("<br/>"),c.first().unwrap()):o.is("table")?(s=t("<p/>"),o.find("tr").each(function(e,n){return s.append(t(n).text()+"<br/>")}),o.replaceWith(s),c=null):o.is("thead, tfoot")?(o.remove(),c=null):o.is("th")?(a=t("<td/>").append(o.contents()),o.replaceWith(a)):c.first().unwrap();if(n&&null!=c&&!o.is("pre"))for(p=0,m=c.length;m>p;p++)g=c[p],this.cleanNode(g,!0);return null}},n.prototype._cleanNodeStyles=function(e){var n,r,i,o,s,a,l,u,c;if(u=e.attr("style")){if(e.removeAttr("style"),n=this._allowedStyles[e[0].tagName.toLowerCase()],!(n&&n.length>0))return e;for(c={},s=u.split(";"),r=0,i=s.length;i>r;r++)l=s[r],l=t.trim(l),o=l.split(":"),(o.length=2)&&(a=o[0],z.call(n,a)>=0&&(c[t.trim(o[0])]=t.trim(o[1])));return Object.keys(c).length>0&&e.css(c),e}},n.prototype.clearHtml=function(e,n){var r,i,o;return null==n&&(n=!0),r=t("<div/>").append(e),i=r.contents(),o="",i.each(function(e){return function(r,s){var a,l;return 3===s.nodeType?o+=s.nodeValue:1===s.nodeType&&(a=t(s),l=a.is("iframe")?null:a.contents(),l&&l.length>0&&(o+=e.clearHtml(l)),n&&r<i.length-1&&a.is("br, p, div, li,tr, pre, address, artticle, aside, dl, figcaption, footer, h1, h2,h3, h4, header"))?o+="\n":void 0}}(this)),o},n.prototype.beautify=function(e){var n;return n=function(t){return!!(t.is("p")&&!t.text()&&t.children(":not(br)").length<1)},e.each(function(e,r){var i,o;return i=t(r),o=i.is(':not(img, br, col, td, hr, [class^="simditor-"]):empty'),(o||n(i))&&i.remove(),i.find(':not(img, br, col, td, hr, [class^="simditor-"]):empty').remove()})},n}(e),b=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="InputManager",n.prototype._modifierKeys=[16,17,18,91,93,224],n.prototype._arrowKeys=[37,38,39,40],n.prototype._init=function(){var e,n;return this.editor=this._module,this.throttledValueChanged=this.editor.util.throttle(function(t){return function(e){return setTimeout(function(){return t.editor.trigger("valuechanged",e)},10)}}(this),300),this.throttledSelectionChanged=this.editor.util.throttle(function(t){return function(){return t.editor.trigger("selectionchanged")}}(this),50),t(document).on("selectionchange.simditor"+this.editor.id,function(t){return function(e){var n;if(t.focused&&!t.editor.clipboard.pasting)return(n=function(){return t._selectionTimer&&(clearTimeout(t._selectionTimer),t._selectionTimer=null),t.editor.selection._selection.rangeCount>0?t.throttledSelectionChanged():t._selectionTimer=setTimeout(function(){return t._selectionTimer=null,t.focused?n():void 0},10)})()}}(this)),this.editor.on("valuechanged",function(e){return function(){var n;return e.lastCaretPosition=null,n=e.editor.body.children().filter(function(t,n){return e.editor.util.isBlockNode(n)}),e.focused&&0===n.length&&(e.editor.selection.save(),e.editor.formatter.format(),e.editor.selection.restore()),e.editor.body.find("hr, pre, .simditor-table").each(function(n,r){var i,o;return i=t(r),(i.parent().is("blockquote")||i.parent()[0]===e.editor.body[0])&&(o=!1,0===i.next().length&&(t("<p/>").append(e.editor.util.phBr).insertAfter(i),o=!0),0===i.prev().length&&(t("<p/>").append(e.editor.util.phBr).insertBefore(i),o=!0),o)?e.throttledValueChanged():void 0}),e.editor.body.find("pre:empty").append(e.editor.util.phBr),!e.editor.util.support.onselectionchange&&e.focused?e.throttledSelectionChanged():void 0}}(this)),this.editor.body.on("keydown",t.proxy(this._onKeyDown,this)).on("keypress",t.proxy(this._onKeyPress,this)).on("keyup",t.proxy(this._onKeyUp,this)).on("mouseup",t.proxy(this._onMouseUp,this)).on("focus",t.proxy(this._onFocus,this)).on("blur",t.proxy(this._onBlur,this)).on("drop",t.proxy(this._onDrop,this)).on("input",t.proxy(this._onInput,this)),this.editor.util.browser.firefox&&(this.editor.hotkeys.add("cmd+left",function(t){return function(e){return e.preventDefault(),t.editor.selection._selection.modify("move","backward","lineboundary"),!1}}(this)),this.editor.hotkeys.add("cmd+right",function(t){return function(e){return e.preventDefault(),t.editor.selection._selection.modify("move","forward","lineboundary"),!1}}(this)),e=this.editor.util.os.mac?"cmd+a":"ctrl+a",this.editor.hotkeys.add(e,function(t){return function(e){var n,r,i,o;return n=t.editor.body.children(),n.length>0?(r=n.first().get(0),i=n.last().get(0),o=document.createRange(),o.setStart(r,0),o.setEnd(i,t.editor.util.getNodeLength(i)),t.editor.selection.range(o),!1):void 0}}(this))),n=this.editor.util.os.mac?"cmd+enter":"ctrl+enter",this.editor.hotkeys.add(n,function(t){return function(e){return t.editor.el.closest("form").find("button:submit").click(),!1}}(this))},n.prototype._onFocus=function(t){return this.editor.clipboard.pasting?void 0:(this.editor.el.addClass("focus").removeClass("error"),this.focused=!0,setTimeout(function(t){return function(){var e,n;return n=t.editor.selection._selection.getRangeAt(0),n.startContainer===t.editor.body[0]&&(t.lastCaretPosition?t.editor.undoManager.caretPosition(t.lastCaretPosition):(e=t.editor.body.children().first(),n=document.createRange(),t.editor.selection.setRangeAtStartOf(e,n))),t.lastCaretPosition=null,t.editor.triggerHandler("focus"),t.editor.util.support.onselectionchange?void 0:t.throttledSelectionChanged()}}(this),0))},n.prototype._onBlur=function(t){var e;if(!this.editor.clipboard.pasting)return this.editor.el.removeClass("focus"),this.editor.sync(),this.focused=!1,this.lastCaretPosition=null!=(e=this.editor.undoManager.currentState())?e.caret:void 0,this.editor.triggerHandler("blur")},n.prototype._onMouseUp=function(t){return this.editor.util.support.onselectionchange?void 0:this.throttledSelectionChanged()},n.prototype._onKeyDown=function(t){var e,n;if(this.editor.triggerHandler(t)===!1)return!1;if(!this.editor.hotkeys.respondTo(t)){if(this.editor.keystroke.respondTo(t))return this.throttledValueChanged(),!1;if(e=t.which,!(z.call(this._modifierKeys,e)>=0||(n=t.which,z.call(this._arrowKeys,n)>=0)||this.editor.util.metaKey(t)&&86===t.which))return this.editor.util.support.oninput||this.throttledValueChanged(["typing"]),null}},n.prototype._onKeyPress=function(t){return this.editor.triggerHandler(t)===!1?!1:void 0},n.prototype._onKeyUp=function(e){var n,r;return this.editor.triggerHandler(e)===!1?!1:!this.editor.util.support.onselectionchange&&(r=e.which,z.call(this._arrowKeys,r)>=0)?void this.throttledValueChanged():void(8!==e.which&&46!==e.which||!this.editor.util.isEmptyNode(this.editor.body)||(this.editor.body.empty(),n=t("<p/>").append(this.editor.util.phBr).appendTo(this.editor.body),this.editor.selection.setRangeAtStartOf(n)))},n.prototype._onDrop=function(t){return this.editor.triggerHandler(t)===!1?!1:this.throttledValueChanged()},n.prototype._onInput=function(t){return this.throttledValueChanged(["oninput"])},n}(e),w=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="Keystroke",n.prototype._init=function(){return this.editor=this._module,this._keystrokeHandlers={},this._initKeystrokeHandlers()},n.prototype.add=function(t,e,n){return t=t.toLowerCase(),t=this.editor.hotkeys.constructor.aliases[t]||t,this._keystrokeHandlers[t]||(this._keystrokeHandlers[t]={}),this._keystrokeHandlers[t][e]=n},n.prototype.respondTo=function(e){var n,r,i,o;return(r=null!=(i=this.editor.hotkeys.constructor.keyNameMap[e.which])?i.toLowerCase():void 0)&&r in this._keystrokeHandlers&&(o="function"==typeof(n=this._keystrokeHandlers[r])["*"]?n["*"](e):void 0,o||this.editor.selection.startNodes().each(function(n){return function(i,s){var a,l;if(s.nodeType===Node.ELEMENT_NODE)return a=null!=(l=n._keystrokeHandlers[r])?l[s.tagName.toLowerCase()]:void 0,o="function"==typeof a?a(e,t(s)):void 0,o===!0||o===!1?!1:void 0}}(this)),o)?!0:void 0},n.prototype._initKeystrokeHandlers=function(){var e;return this.editor.util.browser.safari&&this.add("enter","*",function(e){return function(n){var r,i;if(n.shiftKey&&(r=e.editor.selection.blockNodes().last(),!r.is("pre")))return i=t("<br/>"),e.editor.selection.rangeAtEndOf(r)?(e.editor.selection.insertNode(i),e.editor.selection.insertNode(t("<br/>")),e.editor.selection.setRangeBefore(i)):e.editor.selection.insertNode(i),!0}}(this)),(this.editor.util.browser.webkit||this.editor.util.browser.msie)&&(e=function(e){return function(n,r){var i;if(e.editor.selection.rangeAtEndOf(r))return i=t("<p/>").append(e.editor.util.phBr).insertAfter(r),e.editor.selection.setRangeAtStartOf(i),!0}}(this),this.add("enter","h1",e),this.add("enter","h2",e),this.add("enter","h3",e),this.add("enter","h4",e),this.add("enter","h5",e),this.add("enter","h6",e)),this.add("backspace","*",function(t){return function(e){var n,r,i,o;return i=t.editor.selection.rootNodes().first(),r=i.prev(),r.is("hr")&&t.editor.selection.rangeAtStartOf(i)?(t.editor.selection.save(),r.remove(),t.editor.selection.restore(),!0):(n=t.editor.selection.blockNodes().last(),o=t.editor.util.browser.webkit,o&&t.editor.selection.rangeAtStartOf(n)?(t.editor.selection.save(),t.editor.formatter.cleanNode(n,!0),t.editor.selection.restore(),null):void 0)}}(this)),this.add("enter","li",function(e){return function(n,r){var i,o,s,a;if(i=r.clone(),i.find("ul, ol").remove(),e.editor.util.isEmptyNode(i)&&r.is(e.editor.selection.blockNodes().last())){if(o=r.parent(),r.next("li").length>0){if(!e.editor.util.isEmptyNode(r))return;o.parent("li").length>0?(s=t("<li/>").append(e.editor.util.phBr).insertAfter(o.parent("li")),a=t("<"+o[0].tagName+"/>").append(r.nextAll("li")),s.append(a)):(s=t("<p/>").append(e.editor.util.phBr).insertAfter(o),a=t("<"+o[0].tagName+"/>").append(r.nextAll("li")),s.after(a))}else o.parent("li").length>0?(s=t("<li/>").insertAfter(o.parent("li")),r.contents().length>0?s.append(r.contents()):s.append(e.editor.util.phBr)):(s=t("<p/>").append(e.editor.util.phBr).insertAfter(o),r.children("ul, ol").length>0&&s.after(r.children("ul, ol")));return r.prev("li").length?r.remove():o.remove(),e.editor.selection.setRangeAtStartOf(s),!0}}}(this)),this.add("enter","pre",function(e){return function(n,r){var i,o,s;return n.preventDefault(),n.shiftKey?(i=t("<p/>").append(e.editor.util.phBr).insertAfter(r),e.editor.selection.setRangeAtStartOf(i),!0):(s=e.editor.selection.range(),o=null,s.deleteContents(),!e.editor.util.browser.msie&&e.editor.selection.rangeAtEndOf(r)?(o=document.createTextNode("\n\n"),s.insertNode(o),s.setEnd(o,1)):(o=document.createTextNode("\n"),s.insertNode(o),s.setStartAfter(o)),s.collapse(!1),e.editor.selection.range(s),!0)}}(this)),this.add("enter","blockquote",function(t){return function(e,n){var r,i;return r=t.editor.selection.blockNodes().last(),r.is("p")&&!r.next().length&&t.editor.util.isEmptyNode(r)?(n.after(r),i=document.createRange(),t.editor.selection.setRangeAtStartOf(r,i),!0):void 0}}(this)),this.add("backspace","li",function(e){return function(n,r){var i,o,s,a,l,u,c,h,d;return o=r.children("ul, ol"),l=r.prev("li"),o.length>0&&l.length>0?(d="",u=null,r.contents().each(function(e,n){if(1===n.nodeType&&/UL|OL/.test(n.nodeName))return!1;if(1!==n.nodeType||!/BR/.test(n.nodeName))return 3===n.nodeType&&n.nodeValue?d+=n.nodeValue:1===n.nodeType&&(d+=t(n).text()),u=t(n)}),c=e.editor.util.browser.firefox&&!u.next("br").length,u&&1===d.length&&c?(i=t(e.editor.util.phBr).insertAfter(u),u.remove(),e.editor.selection.setRangeBefore(i),!0):d.length>0?!1:(h=document.createRange(),a=l.children("ul, ol"),a.length>0?(s=t("<li/>").append(e.editor.util.phBr).appendTo(a),a.append(o.children("li")),r.remove(),e.editor.selection.setRangeAtEndOf(s,h)):(e.editor.selection.setRangeAtEndOf(l,h),l.append(o),r.remove(),e.editor.selection.range(h)),!0)):!1}}(this)),this.add("backspace","pre",function(e){return function(n,r){var i,o,s;if(e.editor.selection.rangeAtStartOf(r))return o=r.html().replace("\n","<br/>")||e.editor.util.phBr,i=t("<p/>").append(o).insertAfter(r),r.remove(),s=document.createRange(),e.editor.selection.setRangeAtStartOf(i,s),!0}}(this)),this.add("backspace","blockquote",function(t){return function(e,n){var r,i;if(t.editor.selection.rangeAtStartOf(n))return r=n.children().first().unwrap(),i=document.createRange(),t.editor.selection.setRangeAtStartOf(r,i),!0}}(this))},n}(e),N=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="UndoManager",n.prototype._index=-1,n.prototype._capacity=20,n.prototype._startPosition=null,n.prototype._endPosition=null,n.prototype._init=function(){var t,e;return this.editor=this._module,this._stack=[],this.editor.util.os.mac?(e="cmd+z",t="shift+cmd+z"):this.editor.util.os.win?(e="ctrl+z",t="ctrl+y"):(e="ctrl+z",t="shift+ctrl+z"),this.editor.hotkeys.add(e,function(t){return function(e){return e.preventDefault(),t.undo(),!1}}(this)),this.editor.hotkeys.add(t,function(t){return function(e){return e.preventDefault(),t.redo(),!1}}(this)),this.throttledPushState=this.editor.util.throttle(function(t){return function(){return t._pushUndoState()}}(this),2e3),this.editor.on("valuechanged",function(t){return function(e,n){return"undo"!==n&&"redo"!==n?t.throttledPushState():void 0}}(this)),this.editor.on("selectionchanged",function(t){return function(e){return t.resetCaretPosition(),t.update()}}(this)),this.editor.on("focus",function(t){return function(e){return 0===t._stack.length?t._pushUndoState():void 0}}(this)),this.editor.on("blur",function(t){return function(e){return t.resetCaretPosition()}}(this))},n.prototype.resetCaretPosition=function(){return this._startPosition=null,this._endPosition=null},n.prototype.startPosition=function(){return this.editor.selection._range&&(this._startPosition||(this._startPosition=this._getPosition("start"))),this._startPosition},n.prototype.endPosition=function(){return this.editor.selection._range&&(this._endPosition||(this._endPosition=function(t){return function(){var e;return e=t.editor.selection.range(),e.collapsed?t._startPosition:t._getPosition("end")}}(this)())),this._endPosition},n.prototype._pushUndoState=function(){var t;if(this.editor.triggerHandler("pushundostate")!==!1&&(t=this.caretPosition(),t.start))return this._index+=1,this._stack.length=this._index,this._stack.push({html:this.editor.body.html(),caret:this.caretPosition()}),this._stack.length>this._capacity?(this._stack.shift(),this._index-=1):void 0},n.prototype.currentState=function(){return this._stack.length&&this._index>-1?this._stack[this._index]:null},n.prototype.undo=function(){var t;if(!(this._index<1||this._stack.length<2))return this.editor.hidePopover(),this._index-=1,t=this._stack[this._index],this.editor.body.get(0).innerHTML=t.html,this.caretPosition(t.caret),this.editor.body.find(".selected").removeClass("selected"),this.editor.sync(),this.editor.trigger("valuechanged",["undo"])},n.prototype.redo=function(){var t;if(!(this._index<0||this._stack.length<this._index+2))return this.editor.hidePopover(),this._index+=1,t=this._stack[this._index],this.editor.body.get(0).innerHTML=t.html,this.caretPosition(t.caret),this.editor.body.find(".selected").removeClass("selected"),this.editor.sync(),this.editor.trigger("valuechanged",["redo"])},n.prototype.update=function(){var t;return(t=this.currentState())?(t.html=this.editor.body.html(),t.caret=this.caretPosition()):void 0},n.prototype._getNodeOffset=function(e,n){var r,i,o;return r=t.isNumeric(n)?t(e):t(e).parent(),o=0,i=!1,r.contents().each(function(t,r){return e===r||n===t&&0===t?!1:(r.nodeType===Node.TEXT_NODE?!i&&r.nodeValue.length>0&&(o+=1,i=!0):(o+=1,i=!1),n-1===t?!1:null)}),o},n.prototype._getPosition=function(e){var n,r,i,o,s,a,l;if(null==e&&(e="start"),l=this.editor.selection.range(),o=l[e+"Offset"],n=this.editor.selection[e+"Nodes"](),r=n.first()[0],r.nodeType===Node.TEXT_NODE){for(a=r.previousSibling;a&&a.nodeType===Node.TEXT_NODE;)r=a,o+=this.editor.util.getNodeLength(a),a=a.previousSibling;i=n.get(),i[0]=r,n=t(i)}else o=this._getNodeOffset(r,o);return s=[o],n.each(function(t){return function(e,n){return s.unshift(t._getNodeOffset(n))}}(this)),s},n.prototype._getNodeByPosition=function(e){var n,r,i,o,s,a,l,u;for(a=this.editor.body[0],u=e.slice(0,e.length-1),i=o=0,s=u.length;s>o;i=++o){if(l=u[i],r=a.childNodes,l>r.length-1){if(i!==e.length-2||!t(a).is("pre:empty")){a=null;break}n=document.createTextNode(""),a.appendChild(n),r=a.childNodes}a=r[l]}return a},n.prototype.caretPosition=function(t){var e,n,r,i,o;if(t){if(!t.start)return;return i=this._getNodeByPosition(t.start),o=t.start[t.start.length-1],t.collapsed?(e=i,n=o):(e=this._getNodeByPosition(t.end),n=t.start[t.start.length-1]),i&&e?(r=document.createRange(),r.setStart(i,o),r.setEnd(e,n),this.editor.selection.range(r)):void("undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("simditor: invalid caret state"))}return r=this.editor.selection.range(),t=this.editor.inputManager.focused&&null!=r?{start:this.startPosition(),end:this.endPosition(),collapsed:r.collapsed}:{}},n}(e),I=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="Util",n.prototype._init=function(){return this.editor=this._module,this.browser.msie&&this.browser.version<11?this.phBr="":void 0},n.prototype.phBr="<br/>",n.prototype.os=function(){var t;return t={},/Mac/.test(navigator.appVersion)?t.mac=!0:/Linux/.test(navigator.appVersion)?t.linux=!0:/Win/.test(navigator.appVersion)?t.win=!0:/X11/.test(navigator.appVersion)&&(t.unix=!0),/Mobi/.test(navigator.appVersion)&&(t.mobile=!0),t}(),n.prototype.browser=function(){var t,e,n,r,i,o,s,a,l,u,c;return c=navigator.userAgent,r=/(msie|trident)/i.test(c),t=/chrome|crios/i.test(c),u=/safari/i.test(c)&&!t,n=/firefox/i.test(c),e=/edge/i.test(c),r?{msie:!0,version:1*(null!=(i=c.match(/(msie |rv:)(\d+(\.\d+)?)/i))?i[2]:void 0)}:e?{edge:!0,webkit:!0,version:1*(null!=(o=c.match(/edge\/(\d+(\.\d+)?)/i))?o[1]:void 0)}:t?{webkit:!0,chrome:!0,version:1*(null!=(s=c.match(/(?:chrome|crios)\/(\d+(\.\d+)?)/i))?s[1]:void 0)}:u?{webkit:!0,safari:!0,version:1*(null!=(a=c.match(/version\/(\d+(\.\d+)?)/i))?a[1]:void 0)}:n?{mozilla:!0,firefox:!0,version:1*(null!=(l=c.match(/firefox\/(\d+(\.\d+)?)/i))?l[1]:void 0)}:{}}(),n.prototype.support=function(){return{onselectionchange:function(){var t,e;if(e=document.onselectionchange,void 0!==e)try{return document.onselectionchange=0,null===document.onselectionchange}catch(n){t=n}finally{document.onselectionchange=e}return!1}(),oninput:function(){return!/(msie|trident)/i.test(navigator.userAgent)}()}}(),n.prototype.reflow=function(e){return null==e&&(e=document),t(e)[0].offsetHeight},n.prototype.metaKey=function(t){var e;return e=/Mac/.test(navigator.userAgent),e?t.metaKey:t.ctrlKey},n.prototype.isEmptyNode=function(e){var n;return n=t(e),n.is(":empty")||!n.text()&&!n.find(":not(br, span, div)").length},n.prototype.isDecoratedNode=function(e){return t(e).is('[class^="simditor-"]')},n.prototype.blockNodes=["div","p","ul","ol","li","blockquote","hr","pre","h1","h2","h3","h4","h5","table"],n.prototype.isBlockNode=function(e){return e=t(e)[0],e&&3!==e.nodeType?new RegExp("^("+this.blockNodes.join("|")+")$").test(e.nodeName.toLowerCase()):!1},n.prototype.getNodeLength=function(e){switch(e=t(e)[0],e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}},n.prototype.dataURLtoBlob=function(t){var e,n,r,i,o,s,a,l,u,c,h,d,p;if(a=window.Blob&&function(){var t;try{return Boolean(new Blob)}catch(e){return t=e,!1}}(),s=a&&window.Uint8Array&&function(){var t;try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return t=e,!1}}(),e=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,p=a||e,!(p&&window.atob&&window.ArrayBuffer&&window.Uint8Array))return!1;for(o=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):decodeURIComponent(t.split(",")[1]),n=new ArrayBuffer(o.length),u=new Uint8Array(n),l=c=0,d=o.length;d>=0?d>=c:c>=d;l=d>=0?++c:--c)u[l]=o.charCodeAt(l);return h=t.split(",")[0].split(":")[1].split(";")[0],a?(i=s?u:n,new Blob([i],{type:h})):(r=new e,r.append(n),r.getBlob(h))},n.prototype.throttle=function(t,e){var n,r,i,o,s,a,l;return o=0,l=0,i=n=s=null,r=function(){return l=0,o=+new Date,s=t.apply(i,n),i=null,n=null},a=function(){var t;return i=this,n=arguments,t=new Date-o,l||(t>=e?r():l=setTimeout(r,e-t)),s},a.clear=function(){return l?(clearTimeout(l),r()):void 0},a},n.prototype.formatHTML=function(e){var n,r,i,o,s,a,l,u,c;for(a=/<(\/?)(.+?)(\/?)>/g,u="",o=0,i=null,r="  ",l=function(t,e){return new Array(e+1).join(t)};null!==(s=a.exec(e));)s.isBlockNode=t.inArray(s[2],this.blockNodes)>-1,s.isStartTag="/"!==s[1]&&"/"!==s[3],s.isEndTag="/"===s[1]||"/"===s[3],n=i?i.index+i[0].length:0,(c=e.substring(n,s.index)).length>0&&t.trim(c)&&(u+=c),s.isBlockNode&&s.isEndTag&&!s.isStartTag&&(o-=1),s.isBlockNode&&s.isStartTag&&(i&&i.isBlockNode&&i.isEndTag||(u+="\n"),u+=l(r,o)),u+=s[0],s.isBlockNode&&s.isEndTag&&(u+="\n"),s.isBlockNode&&s.isStartTag&&(o+=1),i=s;return t.trim(u)},n}(e),M=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="Toolbar",n.prototype.opts={toolbar:!0,toolbarFloat:!0,toolbarHidden:!1,toolbarFloatOffset:0},n.prototype._tpl={wrapper:'<div class="simditor-toolbar"><ul></ul></div>',separator:'<li><span class="separator"></span></li>'},n.prototype._init=function(){var e,n,r;return this.editor=this._module,this.opts.toolbar?(t.isArray(this.opts.toolbar)||(this.opts.toolbar=["bold","italic","underline","strikethrough","|","ol","ul","blockquote","code","|","link","image","|","indent","outdent"]),this._render(),this.list.on("click",function(t){return!1}),this.wrapper.on("mousedown",function(t){return function(e){return t.list.find(".menu-on").removeClass(".menu-on")}}(this)),t(document).on("mousedown.simditor"+this.editor.id,function(t){return function(e){return t.list.find(".menu-on").removeClass(".menu-on")}}(this)),!this.opts.toolbarHidden&&this.opts.toolbarFloat&&(this.wrapper.css("top",this.opts.toolbarFloatOffset),r=0,n=function(t){return function(){return t.wrapper.css("position","static"),t.wrapper.width("auto"),t.editor.util.reflow(t.wrapper),t.wrapper.width(t.wrapper.outerWidth()),t.wrapper.css("left",t.editor.util.os.mobile?t.wrapper.position().left:t.wrapper.offset().left),t.wrapper.css("position",""),r=t.wrapper.outerHeight(),t.editor.placeholderEl.css("top",r),!0}}(this),e=null,t(window).on("resize.simditor-"+this.editor.id,function(t){return e=n()}),t(window).on("scroll.simditor-"+this.editor.id,function(i){return function(o){var s,a,l;if(i.wrapper.is(":visible"))if(l=i.editor.wrapper.offset().top,s=l+i.editor.wrapper.outerHeight()-80,a=t(document).scrollTop()+i.opts.toolbarFloatOffset,l>=a||a>=s){if(i.editor.wrapper.removeClass("toolbar-floating").css("padding-top",""),i.editor.util.os.mobile)return i.wrapper.css("top",i.opts.toolbarFloatOffset)}else if(e||(e=n()),i.editor.wrapper.addClass("toolbar-floating").css("padding-top",r),i.editor.util.os.mobile)return i.wrapper.css("top",a-l+i.opts.toolbarFloatOffset)}}(this))),this.editor.on("destroy",function(t){return function(){return t.buttons.length=0}}(this)),t(document).on("mousedown.simditor-"+this.editor.id,function(t){return function(e){return t.list.find("li.menu-on").removeClass("menu-on")}}(this))):void 0},n.prototype._render=function(){var e,n,r,i;for(this.buttons=[],this.wrapper=t(this._tpl.wrapper).prependTo(this.editor.wrapper),this.list=this.wrapper.find("ul"),i=this.opts.toolbar,e=0,n=i.length;n>e;e++)if(r=i[e],"|"!==r){if(!this.constructor.buttons[r])throw new Error("simditor: invalid toolbar button "+r);this.buttons.push(new this.constructor.buttons[r]({editor:this.editor}))}else t(this._tpl.separator).appendTo(this.list);return this.opts.toolbarHidden?this.wrapper.hide():void 0},n.prototype.findButton=function(t){var e;return e=this.list.find(".toolbar-item-"+t).data("button"),null!=e?e:null},n.addButton=function(t){return this.buttons[t.prototype.name]=t},n.buttons={},n}(e),y=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="Indentation",n.prototype.opts={tabIndent:!0},n.prototype._init=function(){return this.editor=this._module,this.editor.keystroke.add("tab","*",function(t){return function(e){var n;return n=t.editor.toolbar.findButton("code"),t.opts.tabIndent||n&&n.active?t.indent(e.shiftKey):void 0}}(this))},n.prototype.indent=function(e){var n,r,i,o,s;return i=this.editor.selection.startNodes(),r=this.editor.selection.endNodes(),n=this.editor.selection.blockNodes(),o=[],n=n.each(function(e,n){var r,i,s,a,l;for(r=!0,i=s=0,a=o.length;a>s;i=++s){if(l=o[i],t.contains(n,l)){r=!1;break}if(t.contains(l,n)){o.splice(i,1,n),r=!1;break}}return r?o.push(n):void 0}),n=t(o),s=!1,n.each(function(t){return function(n,r){var i;return i=e?t.outdentBlock(r):t.indentBlock(r),i?s=i:void 0}}(this)),s},n.prototype.indentBlock=function(e){var n,r,i,o,s,a,l,u,c,h;if(n=t(e),n.length){if(n.is("pre")){if(a=this.editor.selection.containerNode(),!a.is(n)&&!a.closest("pre").is(n))return;this.indentText(this.editor.selection.range())}else if(n.is("li")){if(s=n.prev("li"),s.length<1)return;this.editor.selection.save(),h=n.parent()[0].tagName,r=s.children("ul, ol"),r.length>0?r.append(n):t("<"+h+"/>").append(n).appendTo(s),this.editor.selection.restore()}else if(n.is("p, h1, h2, h3, h4"))c=parseInt(n.css("margin-left"))||0,c=(Math.round(c/this.opts.indentWidth)+1)*this.opts.indentWidth,n.css("margin-left",c);else{if(!n.is("table")&&!n.is(".simditor-table"))return!1;if(l=this.editor.selection.containerNode().closest("td, th"),i=l.next("td, th"),i.length>0||(u=l.parent("tr"),o=u.next("tr"),o.length<1&&u.parent().is("thead")&&(o=u.parent("thead").next("tbody").find("tr:first")),i=o.find("td:first, th:first")),!(l.length>0&&i.length>0))return;this.editor.selection.setRangeAtEndOf(i)}return!0}},n.prototype.indentText=function(t){var e,n;return e=t.toString().replace(/^(?=.+)/gm,"  "),n=document.createTextNode(e||"  "),t.deleteContents(),t.insertNode(n),e?(t.selectNode(n),this.editor.selection.range(t)):this.editor.selection.setRangeAfter(n)},n.prototype.outdentBlock=function(e){var n,r,i,o,s,a,l,u,c,h;if(n=t(e),n&&n.length>0){if(n.is("pre")){if(o=this.editor.selection.containerNode(),!o.is(n)&&!o.closest("pre").is(n))return;this.outdentText(h)}else if(n.is("li"))r=n.parent(),i=r.parent("li"),this.editor.selection.save(),i.length<1?(h=document.createRange(),h.setStartBefore(r[0]),h.setEndBefore(n[0]),r.before(h.extractContents()),t("<p/>").insertBefore(r).after(n.children("ul, ol")).append(n.contents()),n.remove()):(n.next("li").length>0&&t("<"+r[0].tagName+"/>").append(n.nextAll("li")).appendTo(n),n.insertAfter(i),r.children("li").length<1&&r.remove()),this.editor.selection.restore();else if(n.is("p, h1, h2, h3, h4"))c=parseInt(n.css("margin-left"))||0,c=Math.max(Math.round(c/this.opts.indentWidth)-1,0)*this.opts.indentWidth,n.css("margin-left",0===c?"":c);else{if(!n.is("table")&&!n.is(".simditor-table"))return!1;if(l=this.editor.selection.containerNode().closest("td, th"),s=l.prev("td, th"),s.length>0||(u=l.parent("tr"),a=u.prev("tr"),a.length<1&&u.parent().is("tbody")&&(a=u.parent("tbody").prev("thead").find("tr:first")),s=a.find("td:last, th:last")),!(l.length>0&&s.length>0))return;this.editor.selection.setRangeAtEndOf(s)}return!0}},n.prototype.outdentText=function(t){},n}(e),l=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="Clipboard",n.prototype.opts={pasteImage:!1,cleanPaste:!1},n.prototype._init=function(){return this.editor=this._module,this.opts.pasteImage&&"string"!=typeof this.opts.pasteImage&&(this.opts.pasteImage="inline"),this.editor.body.on("paste",function(t){return function(e){var n;if(!t.pasting&&!t._pasteBin)return t.editor.triggerHandler(e)===!1?!1:(n=t.editor.selection.deleteRangeContents(),t.editor.body.html()?n.collapsed||n.collapse(!0):(t.editor.formatter.format(),t.editor.selection.setRangeAtStartOf(t.editor.body.find("p:first"))),t._processPasteByClipboardApi(e)?!1:(t.editor.inputManager.throttledValueChanged.clear(),t.editor.inputManager.throttledSelectionChanged.clear(),t.editor.undoManager.throttledPushState.clear(),t.editor.selection.reset(),t.editor.undoManager.resetCaretPosition(),t.pasting=!0,t._getPasteContent(function(e){return t._processPasteContent(e),t._pasteInBlockEl=null,t._pastePlainText=null,t.pasting=!1})))}}(this))},n.prototype._processPasteByClipboardApi=function(t){var e,n,r,i;if(!this.editor.util.browser.edge&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items&&t.originalEvent.clipboardData.items.length>0&&(n=t.originalEvent.clipboardData.items[0],/^image\//.test(n.type))){if(e=n.getAsFile(),null==e||!this.opts.pasteImage)return;if(e.name||(e.name="Clipboard Image.png"),this.editor.triggerHandler("pasting",[e])===!1)return;return i={},i[this.opts.pasteImage]=!0,null!=(r=this.editor.uploader)&&r.upload(e,i),!0}},n.prototype._getPasteContent=function(e){var n;return this._pasteBin=t('<div contenteditable="true" />').addClass("simditor-paste-bin").attr("tabIndex","-1").appendTo(this.editor.el),n={html:this.editor.body.html(),caret:this.editor.undoManager.caretPosition()},this._pasteBin.focus(),setTimeout(function(r){return function(){var i;return r.editor.hidePopover(),r.editor.body.get(0).innerHTML=n.html,r.editor.undoManager.caretPosition(n.caret),r.editor.body.focus(),r.editor.selection.reset(),r.editor.selection.range(),r._pasteInBlockEl=r.editor.selection.blockNodes().last(),r._pastePlainText=r.opts.cleanPaste||r._pasteInBlockEl.is("pre, table"),r._pastePlainText?i=r.editor.formatter.clearHtml(r._pasteBin.html(),!0):(i=t("<div/>").append(r._pasteBin.contents()),i.find("table colgroup").remove(),r.editor.formatter.format(i),r.editor.formatter.decorate(i),r.editor.formatter.beautify(i.children()),i=i.contents()),r._pasteBin.remove(),r._pasteBin=null,e(i)}}(this),0)},n.prototype._processPasteContent=function(e){var n,r,i,o,s,a,l,u,c,h,d,p,f,m,g,v,y,b,_,w,x,C,T;if(this.editor.triggerHandler("pasting",[e])!==!1&&(n=this._pasteInBlockEl,e)){if(this._pastePlainText)if(n.is("table")){for(g=e.split("\n"),u=g.pop(),a=0,c=g.length;c>a;a++)m=g[a],this.editor.selection.insertNode(document.createTextNode(m)),this.editor.selection.insertNode(t("<br/>"));this.editor.selection.insertNode(document.createTextNode(u))}else for(e=t("<div/>").text(e),w=e.contents(),l=0,h=w.length;h>l;l++)y=w[l],this.editor.selection.insertNode(t(y)[0]);else if(n.is(this.editor.body))for(v=0,d=e.length;d>v;v++)y=e[v],this.editor.selection.insertNode(y);else{if(e.length<1)return;if(1===e.length)if(e.is("p")){if(o=e.contents(),1===o.length&&o.is("img")){if(r=o,/^data:image/.test(r.attr("src"))){if(!this.opts.pasteImage)return;return i=this.editor.util.dataURLtoBlob(r.attr("src")),i.name="Clipboard Image.png",T={},T[this.opts.pasteImage]=!0,void(null!=(x=this.editor.uploader)&&x.upload(i,T))}if(r.is('img[src^="webkit-fake-url://"]'))return}for(b=0,p=o.length;p>b;b++)y=o[b],this.editor.selection.insertNode(y)}else if(n.is("p")&&this.editor.util.isEmptyNode(n))n.replaceWith(e),this.editor.selection.setRangeAtEndOf(e);else if(e.is("ul, ol"))if(1===e.find("li").length)for(e=t("<div/>").text(e.text()),
C=e.contents(),_=0,f=C.length;f>_;_++)y=C[_],this.editor.selection.insertNode(t(y)[0]);else n.is("li")?(n.parent().after(e),this.editor.selection.setRangeAtEndOf(e)):(n.after(e),this.editor.selection.setRangeAtEndOf(e));else n.after(e),this.editor.selection.setRangeAtEndOf(e);else n.is("li")&&(n=n.parent()),this.editor.selection.rangeAtStartOf(n)?s="before":this.editor.selection.rangeAtEndOf(n)?s="after":(this.editor.selection.breakBlockEl(n),s="before"),n[s](e),this.editor.selection.setRangeAtEndOf(e.last())}return this.editor.inputManager.throttledValueChanged()}},n}(e),A=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return B(i,e),i.connect(I),i.connect(b),i.connect(P),i.connect(N),i.connect(w),i.connect(p),i.connect(M),i.connect(y),i.connect(l),i.count=0,i.prototype.opts={textarea:null,placeholder:"",defaultImage:"images/image.png",params:{},upload:!1,indentWidth:40},i.prototype._init=function(){var e,o,s,a;if(this.textarea=t(this.opts.textarea),this.opts.placeholder=this.opts.placeholder||this.textarea.attr("placeholder"),!this.textarea.length)throw new Error("simditor: param textarea is required.");if(o=this.textarea.data("simditor"),null!=o&&o.destroy(),this.id=++i.count,this._render(),!n)throw new Error("simditor: simple-hotkeys is required.");if(this.hotkeys=n({el:this.body}),this.opts.upload&&r&&(a="object"==typeof this.opts.upload?this.opts.upload:{},this.uploader=r(a)),s=this.textarea.closest("form"),s.length&&(s.on("submit.simditor-"+this.id,function(t){return function(){return t.sync()}}(this)),s.on("reset.simditor-"+this.id,function(t){return function(){return t.setValue("")}}(this))),this.on("initialized",function(t){return function(){return t.opts.placeholder&&t.on("valuechanged",function(){return t._placeholder()}),t.setValue(t.textarea.val().trim()||""),t.textarea.attr("autofocus")?t.focus():void 0}}(this)),this.util.browser.mozilla){this.util.reflow();try{return document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1)}catch(l){e=l}}},i.prototype._tpl='<div class="simditor">\n  <div class="simditor-wrapper">\n    <div class="simditor-placeholder"></div>\n    <div class="simditor-body" contenteditable="true">\n    </div>\n  </div>\n</div>',i.prototype._render=function(){var e,n,r,i;if(this.el=t(this._tpl).insertBefore(this.textarea),this.wrapper=this.el.find(".simditor-wrapper"),this.body=this.wrapper.find(".simditor-body"),this.placeholderEl=this.wrapper.find(".simditor-placeholder").append(this.opts.placeholder),this.el.data("simditor",this),this.wrapper.append(this.textarea),this.textarea.data("simditor",this).blur(),this.body.attr("tabindex",this.textarea.attr("tabindex")),this.util.os.mac?this.el.addClass("simditor-mac"):this.util.os.linux&&this.el.addClass("simditor-linux"),this.util.os.mobile&&this.el.addClass("simditor-mobile"),this.opts.params){n=this.opts.params,r=[];for(e in n)i=n[e],r.push(t("<input/>",{type:"hidden",name:e,value:i}).insertAfter(this.textarea));return r}},i.prototype._placeholder=function(){var t;return t=this.body.children(),0===t.length||1===t.length&&this.util.isEmptyNode(t)&&parseInt(t.css("margin-left")||0)<this.opts.indentWidth?this.placeholderEl.show():this.placeholderEl.hide()},i.prototype.setValue=function(t){return this.hidePopover(),this.textarea.val(t),this.body.get(0).innerHTML=t,this.formatter.format(),this.formatter.decorate(),this.util.reflow(this.body),this.inputManager.lastCaretPosition=null,this.trigger("valuechanged")},i.prototype.getValue=function(){return this.sync()},i.prototype.sync=function(){var e,n,r,i,o,s;for(n=this.body.clone(),this.formatter.undecorate(n),this.formatter.format(n),this.formatter.autolink(n),e=n.children(),o=e.last("p"),i=e.first("p");o.is("p")&&this.util.isEmptyNode(o);)r=o,o=o.prev("p"),r.remove();for(;i.is("p")&&this.util.isEmptyNode(i);)r=i,i=o.next("p"),r.remove();return n.find("img.uploading").remove(),s=t.trim(n.html()),this.textarea.val(s),s},i.prototype.focus=function(){var e,n;return this.body.is(":visible")&&this.body.is("[contenteditable]")?this.inputManager.lastCaretPosition?(this.undoManager.caretPosition(this.inputManager.lastCaretPosition),this.inputManager.lastCaretPosition=null):(e=this.body.children().last(),e.is("p")||(e=t("<p/>").append(this.util.phBr).appendTo(this.body)),n=document.createRange(),this.selection.setRangeAtEndOf(e,n)):void this.el.find("textarea:visible").focus()},i.prototype.blur=function(){return this.body.is(":visible")&&this.body.is("[contenteditable]")?this.body.blur():this.body.find("textarea:visible").blur()},i.prototype.hidePopover=function(){return this.el.find(".simditor-popover").each(function(e,n){return n=t(n).data("popover"),n.active?n.hide():void 0})},i.prototype.destroy=function(){return this.triggerHandler("destroy"),this.textarea.closest("form").off(".simditor .simditor-"+this.id),this.selection.clear(),this.inputManager.focused=!1,this.textarea.insertBefore(this.el).hide().val("").removeData("simditor"),this.el.remove(),t(document).off(".simditor-"+this.id),t(window).off(".simditor-"+this.id),this.off()},i}(e),A.i18n={"zh-CN":{blockquote:"引用",bold:"加粗文字",code:"插入代码",color:"文字颜色",coloredText:"彩色文字",hr:"分隔线",image:"插入图片",externalImage:"外链图片",uploadImage:"上传图片",uploadFailed:"上传失败了",uploadError:"上传出错了",imageUrl:"图片地址",imageSize:"图片尺寸",imageAlt:"图片描述",restoreImageSize:"还原图片尺寸",uploading:"正在上传",indent:"向右缩进",outdent:"向左缩进",italic:"斜体文字",link:"插入链接",linkText:"链接文字",linkUrl:"链接地址",linkTarget:"打开方式",openLinkInCurrentWindow:"在新窗口中打开",openLinkInNewWindow:"在当前窗口中打开",removeLink:"移除链接",ol:"有序列表",ul:"无序列表",strikethrough:"删除线文字",table:"表格",deleteRow:"删除行",insertRowAbove:"在上面插入行",insertRowBelow:"在下面插入行",deleteColumn:"删除列",insertColumnLeft:"在左边插入列",insertColumnRight:"在右边插入列",deleteTable:"删除表格",title:"标题",normalText:"普通文本",underline:"下划线文字",alignment:"水平对齐",alignCenter:"居中",alignLeft:"居左",alignRight:"居右",selectLanguage:"选择程序语言",fontScale:"字体大小",fontScaleXLarge:"超大字体",fontScaleLarge:"大号字体",fontScaleNormal:"正常大小",fontScaleSmall:"小号字体",fontScaleXSmall:"超小字体"},"en-US":{blockquote:"Block Quote",bold:"Bold",code:"Code",color:"Text Color",coloredText:"Colored Text",hr:"Horizontal Line",image:"Insert Image",externalImage:"External Image",uploadImage:"Upload Image",uploadFailed:"Upload failed",uploadError:"Error occurs during upload",imageUrl:"Url",imageSize:"Size",imageAlt:"Alt",restoreImageSize:"Restore Origin Size",uploading:"Uploading",indent:"Indent",outdent:"Outdent",italic:"Italic",link:"Insert Link",linkText:"Text",linkUrl:"Url",linkTarget:"Target",openLinkInCurrentWindow:"Open link in current window",openLinkInNewWindow:"Open link in new window",removeLink:"Remove Link",ol:"Ordered List",ul:"Unordered List",strikethrough:"Strikethrough",table:"Table",deleteRow:"Delete Row",insertRowAbove:"Insert Row Above",insertRowBelow:"Insert Row Below",deleteColumn:"Delete Column",insertColumnLeft:"Insert Column Left",insertColumnRight:"Insert Column Right",deleteTable:"Delete Table",title:"Title",normalText:"Text",underline:"Underline",alignment:"Alignment",alignCenter:"Align Center",alignLeft:"Align Left",alignRight:"Align Right",selectLanguage:"Select Language",fontScale:"Font Size",fontScaleXLarge:"X Large Size",fontScaleLarge:"Large Size",fontScaleNormal:"Normal Size",fontScaleSmall:"Small Size",fontScaleXSmall:"X Small Size"}},a=function(e){function n(t){this.editor=t.editor,this.title=this._t(this.name),n.__super__.constructor.call(this,t)}return B(n,e),n.prototype._tpl={item:'<li><a tabindex="-1" unselectable="on" class="toolbar-item" href="javascript:;"><span></span></a></li>',menuWrapper:'<div class="toolbar-menu"></div>',menuItem:'<li><a tabindex="-1" unselectable="on" class="menu-item" href="javascript:;"><span></span></a></li>',separator:'<li><span class="separator"></span></li>'},n.prototype.name="",n.prototype.icon="",n.prototype.title="",n.prototype.text="",n.prototype.htmlTag="",n.prototype.disableTag="",n.prototype.menu=!1,n.prototype.active=!1,n.prototype.disabled=!1,n.prototype.needFocus=!0,n.prototype.shortcut=null,n.prototype._init=function(){var e,n,r,i;for(this.render(),this.el.on("mousedown",function(t){return function(e){var n,r,i;return e.preventDefault(),r=t.needFocus&&!t.editor.inputManager.focused,t.el.hasClass("disabled")||r?!1:t.menu?(t.wrapper.toggleClass("menu-on").siblings("li").removeClass("menu-on"),t.wrapper.is(".menu-on")&&(n=t.menuWrapper.offset().left+t.menuWrapper.outerWidth()+5-t.editor.wrapper.offset().left-t.editor.wrapper.outerWidth(),n>0&&t.menuWrapper.css({left:"auto",right:0}),t.trigger("menuexpand")),!1):(i=t.el.data("param"),t.command(i),!1)}}(this)),this.wrapper.on("click","a.menu-item",function(e){return function(n){var r,i,o;return n.preventDefault(),r=t(n.currentTarget),e.wrapper.removeClass("menu-on"),i=e.needFocus&&!e.editor.inputManager.focused,r.hasClass("disabled")||i?!1:(e.editor.toolbar.wrapper.removeClass("menu-on"),o=r.data("param"),e.command(o),!1)}}(this)),this.wrapper.on("mousedown","a.menu-item",function(t){return!1}),this.editor.on("blur",function(t){return function(){var e;return e=t.editor.body.is(":visible")&&t.editor.body.is("[contenteditable]"),e&&!t.editor.clipboard.pasting?(t.setActive(!1),t.setDisabled(!1)):void 0}}(this)),null!=this.shortcut&&this.editor.hotkeys.add(this.shortcut,function(t){return function(e){return t.el.mousedown(),!1}}(this)),r=this.htmlTag.split(","),e=0,n=r.length;n>e;e++)i=r[e],i=t.trim(i),i&&t.inArray(i,this.editor.formatter._allowedTags)<0&&this.editor.formatter._allowedTags.push(i);return this.editor.on("selectionchanged",function(t){return function(e){return t.editor.inputManager.focused?t._status():void 0}}(this))},n.prototype.iconClassOf=function(t){return t?"simditor-icon simditor-icon-"+t:""},n.prototype.setIcon=function(t){return this.el.find("span").removeClass().addClass(this.iconClassOf(t)).text(this.text)},n.prototype.render=function(){return this.wrapper=t(this._tpl.item).appendTo(this.editor.toolbar.list),this.el=this.wrapper.find("a.toolbar-item"),this.el.attr("title",this.title).addClass("toolbar-item-"+this.name).data("button",this),this.setIcon(this.icon),this.menu?(this.menuWrapper=t(this._tpl.menuWrapper).appendTo(this.wrapper),this.menuWrapper.addClass("toolbar-menu-"+this.name),this.renderMenu()):void 0},n.prototype.renderMenu=function(){var e,n,r,i,o,s,a,l;if(t.isArray(this.menu)){for(this.menuEl=t("<ul/>").appendTo(this.menuWrapper),s=this.menu,l=[],r=0,i=s.length;i>r;r++)o=s[r],"|"!==o?(n=t(this._tpl.menuItem).appendTo(this.menuEl),e=n.find("a.menu-item").attr({title:null!=(a=o.title)?a:o.text,"data-param":o.param}).addClass("menu-item-"+o.name),o.icon?l.push(e.find("span").addClass(this.iconClassOf(o.icon))):l.push(e.find("span").text(o.text))):t(this._tpl.separator).appendTo(this.menuEl);return l}},n.prototype.setActive=function(t){return t!==this.active?(this.active=t,this.el.toggleClass("active",this.active)):void 0},n.prototype.setDisabled=function(t){return t!==this.disabled?(this.disabled=t,this.el.toggleClass("disabled",this.disabled)):void 0},n.prototype._disableStatus=function(){var t,e,n;return n=this.editor.selection.startNodes(),e=this.editor.selection.endNodes(),t=n.filter(this.disableTag).length>0||e.filter(this.disableTag).length>0,this.setDisabled(t),this.disabled&&this.setActive(!1),this.disabled},n.prototype._activeStatus=function(){var t,e,n,r,i;return i=this.editor.selection.startNodes(),n=this.editor.selection.endNodes(),r=i.filter(this.htmlTag),e=n.filter(this.htmlTag),t=r.length>0&&e.length>0&&r.is(e),this.node=t?r:null,this.setActive(t),this.active},n.prototype._status=function(){return this._disableStatus(),this.disabled?void 0:this._activeStatus()},n.prototype.command=function(t){},n.prototype._t=function(){var t,e,r;return t=1<=arguments.length?V.call(arguments,0):[],r=n.__super__._t.apply(this,t),r||(r=(e=this.editor)._t.apply(e,t)),r},n}(e),A.Button=a,S=function(e){function n(t){this.button=t.button,this.editor=t.button.editor,n.__super__.constructor.call(this,t)}return B(n,e),n.prototype.offset={top:4,left:0},n.prototype.target=null,n.prototype.active=!1,n.prototype._init=function(){return this.el=t('<div class="simditor-popover"></div>').appendTo(this.editor.el).data("popover",this),this.render(),this.el.on("mouseenter",function(t){return function(e){return t.el.addClass("hover")}}(this)),this.el.on("mouseleave",function(t){return function(e){return t.el.removeClass("hover")}}(this))},n.prototype.render=function(){},n.prototype._initLabelWidth=function(){var e;return e=this.el.find(".settings-field"),e.length>0?(this._labelWidth=0,e.each(function(e){return function(n,r){var i,o;return i=t(r),o=i.find("label"),o.length>0?e._labelWidth=Math.max(e._labelWidth,o.width()):void 0}}(this)),e.find("label").width(this._labelWidth)):void 0},n.prototype.show=function(e,n){return null==n&&(n="bottom"),null!=e?(this.el.siblings(".simditor-popover").each(function(e,n){return n=t(n).data("popover"),n.active?n.hide():void 0}),this.active&&this.target&&this.target.removeClass("selected"),this.target=e.addClass("selected"),this.active?(this.refresh(n),this.trigger("popovershow")):(this.active=!0,this.el.css({left:-9999}).show(),this._labelWidth||this._initLabelWidth(),this.editor.util.reflow(),this.refresh(n),this.trigger("popovershow"))):void 0},n.prototype.hide=function(){return this.active?(this.target&&this.target.removeClass("selected"),this.target=null,this.active=!1,this.el.hide(),this.trigger("popoverhide")):void 0},n.prototype.refresh=function(t){var e,n,r,i,o,s;return null==t&&(t="bottom"),this.active?(e=this.editor.el.offset(),o=this.target.offset(),i=this.target.outerHeight(),"bottom"===t?s=o.top-e.top+i:"top"===t&&(s=o.top-e.top-this.el.height()),r=this.editor.wrapper.width()-this.el.outerWidth()-10,n=Math.min(o.left-e.left,r),this.el.css({top:s+this.offset.top,left:n+this.offset.left})):void 0},n.prototype.destroy=function(){return this.target=null,this.active=!1,this.editor.off(".linkpopover"),this.el.remove()},n.prototype._t=function(){var t,e,r;return t=1<=arguments.length?V.call(arguments,0):[],r=n.__super__._t.apply(this,t),r||(r=(e=this.button)._t.apply(e,t)),r},n}(e),A.Popover=S,D=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="title",n.prototype.htmlTag="h1, h2, h3, h4, h5",n.prototype.disableTag="pre, table",n.prototype._init=function(){return this.menu=[{name:"normal",text:this._t("normalText"),param:"p"},"|",{name:"h1",text:this._t("title")+" 1",param:"h1"},{name:"h2",text:this._t("title")+" 2",param:"h2"},{name:"h3",text:this._t("title")+" 3",param:"h3"},{name:"h4",text:this._t("title")+" 4",param:"h4"},{name:"h5",text:this._t("title")+" 5",param:"h5"}],n.__super__._init.call(this)},n.prototype.setActive=function(t,e){return n.__super__.setActive.call(this,t),t&&(e||(e=this.node[0].tagName.toLowerCase())),this.el.removeClass("active-p active-h1 active-h2 active-h3 active-h4 active-h5"),t?this.el.addClass("active active-"+e):void 0},n.prototype.command=function(e){var n;return n=this.editor.selection.rootNodes(),this.editor.selection.save(),n.each(function(n){return function(r,i){var o;return o=t(i),o.is("blockquote")||o.is(e)||o.is(n.disableTag)||n.editor.util.isDecoratedNode(o)?void 0:t("<"+e+"/>").append(o.contents()).replaceAll(o)}}(this)),this.editor.selection.restore(),this.editor.trigger("valuechanged")},n}(a),A.Toolbar.addButton(D),d=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="fontScale",n.prototype.icon="font",n.prototype.disableTag="pre",n.prototype.htmlTag="span",n.prototype.sizeMap={"x-large":"1.5em",large:"1.25em",small:".75em","x-small":".5em"},n.prototype._init=function(){return this.menu=[{name:"150%",text:this._t("fontScaleXLarge"),param:"5"},{name:"125%",text:this._t("fontScaleLarge"),param:"4"},{name:"100%",text:this._t("fontScaleNormal"),param:"3"},{name:"75%",text:this._t("fontScaleSmall"),param:"2"},{name:"50%",text:this._t("fontScaleXSmall"),param:"1"}],n.__super__._init.call(this)},n.prototype._activeStatus=function(){var t,e,n,r,i,o;return r=this.editor.selection.range(),o=this.editor.selection.startNodes(),n=this.editor.selection.endNodes(),i=o.filter('span[style*="font-size"]'),e=n.filter('span[style*="font-size"]'),t=o.length>0&&n.length>0&&i.is(e),this.setActive(t),this.active},n.prototype.command=function(e){var n,r,i;return i=this.editor.selection.range(),i.collapsed?void 0:(document.execCommand("styleWithCSS",!1,!0),document.execCommand("fontSize",!1,e),document.execCommand("styleWithCSS",!1,!1),this.editor.selection.reset(),this.editor.selection.range(),r=this.editor.selection.containerNode(),n=r[0].nodeType===Node.TEXT_NODE?r.closest('span[style*="font-size"]'):r.find('span[style*="font-size"]'),n.each(function(e){return function(n,r){var i,o;return i=t(r),o=r.style.fontSize,/large|x-large|small|x-small/.test(o)?i.css("fontSize",e.sizeMap[o]):"medium"===o?i.replaceWith(i.contents()):void 0}}(this)),this.editor.trigger("valuechanged"))},n}(a),A.Toolbar.addButton(d),s=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="bold",n.prototype.icon="bold",n.prototype.htmlTag="b, strong",n.prototype.disableTag="pre",n.prototype.shortcut="cmd+b",n.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + b )":(this.title=this.title+" ( Ctrl + b )",this.shortcut="ctrl+b"),n.__super__._init.call(this)},n.prototype._activeStatus=function(){var t;return t=document.queryCommandState("bold")===!0,this.setActive(t),this.active},n.prototype.command=function(){return document.execCommand("bold"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),t(document).trigger("selectionchange")},n}(a),A.Toolbar.addButton(s),_=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="italic",n.prototype.icon="italic",n.prototype.htmlTag="i",n.prototype.disableTag="pre",n.prototype.shortcut="cmd+i",n.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + i )":(this.title=this.title+" ( Ctrl + i )",this.shortcut="ctrl+i"),n.__super__._init.call(this)},n.prototype._activeStatus=function(){var t;return t=document.queryCommandState("italic")===!0,this.setActive(t),this.active},n.prototype.command=function(){return document.execCommand("italic"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),t(document).trigger("selectionchange")},n}(a),A.Toolbar.addButton(_),R=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="underline",n.prototype.icon="underline",n.prototype.htmlTag="u",n.prototype.disableTag="pre",n.prototype.shortcut="cmd+u",n.prototype.render=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + u )":(this.title=this.title+" ( Ctrl + u )",this.shortcut="ctrl+u"),n.__super__.render.call(this)},n.prototype._activeStatus=function(){var t;return t=document.queryCommandState("underline")===!0,this.setActive(t),this.active},n.prototype.command=function(){return document.execCommand("underline"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),t(document).trigger("selectionchange")},n}(a),A.Toolbar.addButton(R),h=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="color",n.prototype.icon="tint",n.prototype.disableTag="pre",n.prototype.menu=!0,n.prototype.render=function(){var t;return t=1<=arguments.length?V.call(arguments,0):[],n.__super__.render.apply(this,t)},n.prototype.renderMenu=function(){return t('<ul class="color-list">\n  <li><a href="javascript:;" class="font-color font-color-1"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-2"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-3"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-4"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-5"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-6"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-7"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-default"></a></li>\n</ul>').appendTo(this.menuWrapper),this.menuWrapper.on("mousedown",".color-list",function(t){return!1}),this.menuWrapper.on("click",".font-color",function(e){return function(n){var r,i,o,s,a,l;if(e.wrapper.removeClass("menu-on"),r=t(n.currentTarget),r.hasClass("font-color-default")){if(i=e.editor.body.find("p, li"),!(i.length>0))return;a=window.getComputedStyle(i[0],null).getPropertyValue("color"),o=e._convertRgbToHex(a)}else a=window.getComputedStyle(r[0],null).getPropertyValue("background-color"),o=e._convertRgbToHex(a);return o?(s=e.editor.selection.range(),!r.hasClass("font-color-default")&&s.collapsed&&(l=document.createTextNode(e._t("coloredText")),s.insertNode(l),s.selectNodeContents(l),e.editor.selection.range(s)),document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,o),document.execCommand("styleWithCSS",!1,!1),e.editor.util.support.oninput?void 0:e.editor.trigger("valuechanged")):void 0}}(this))},n.prototype._convertRgbToHex=function(t){var e,n,r;return n=/rgb\((\d+),\s?(\d+),\s?(\d+)\)/g,(e=n.exec(t))?(r=function(t,e,n){var r;return r=function(t){var e;return e=t.toString(16),1===e.length?"0"+e:e},"#"+r(t)+r(e)+r(n)})(1*e[1],1*e[2],1*e[3]):""},n}(a),A.Toolbar.addButton(h),T=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.type="",n.prototype.disableTag="pre, table",n.prototype.command=function(e){var n,r,i;return r=this.editor.selection.blockNodes(),i="ul"===this.type?"ol":"ul",this.editor.selection.save(),n=null,r.each(function(e){return function(r,o){var s;return s=t(o),s.is("blockquote, li")||s.is(e.disableTag)||e.editor.util.isDecoratedNode(s)||!t.contains(document,o)?void 0:s.is(e.type)?(s.children("li").each(function(n,r){var i,o;return o=t(r),i=o.children("ul, ol").insertAfter(s),t("<p/>").append(t(r).html()||e.editor.util.phBr).insertBefore(s)}),s.remove()):s.is(i)?t("<"+e.type+"/>").append(s.contents()).replaceAll(s):n&&s.prev().is(n)?(t("<li/>").append(s.html()||e.editor.util.phBr).appendTo(n),s.remove()):(n=t("<"+e.type+"><li></li></"+e.type+">"),n.find("li").append(s.html()||e.editor.util.phBr),n.replaceAll(s))}}(this)),this.editor.selection.restore(),this.editor.trigger("valuechanged")},n}(a),E=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return B(e,t),e.prototype.type="ol",e.prototype.name="ol",e.prototype.icon="list-ol",e.prototype.htmlTag="ol",e.prototype.shortcut="cmd+/",e.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + / )":(this.title=this.title+" ( ctrl + / )",this.shortcut="ctrl+/"),e.__super__._init.call(this)},e}(T),F=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return B(e,t),e.prototype.type="ul",e.prototype.name="ul",e.prototype.icon="list-ul",e.prototype.htmlTag="ul",e.prototype.shortcut="cmd+.",e.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + . )":(this.title=this.title+" ( Ctrl + . )",this.shortcut="ctrl+."),e.__super__._init.call(this)},e}(T),A.Toolbar.addButton(E),A.Toolbar.addButton(F),o=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="blockquote",n.prototype.icon="quote-left",n.prototype.htmlTag="blockquote",n.prototype.disableTag="pre, table",n.prototype.command=function(){var e,n,r;return e=this.editor.selection.rootNodes(),e=e.filter(function(e,n){return!t(n).parent().is("blockquote")}),this.editor.selection.save(),r=[],n=function(e){return function(){return r.length>0?(t("<"+e.htmlTag+"/>").insertBefore(r[0]).append(r),r.length=0):void 0}}(this),e.each(function(e){return function(i,o){var s;return s=t(o),s.parent().is(e.editor.body)?s.is(e.htmlTag)?(n(),s.children().unwrap()):s.is(e.disableTag)||e.editor.util.isDecoratedNode(s)?n():r.push(o):void 0}}(this)),n(),this.editor.selection.restore(),this.editor.trigger("valuechanged")},n}(a),A.Toolbar.addButton(o),u=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="code",n.prototype.icon="code",n.prototype.htmlTag="pre",n.prototype.disableTag="ul, ol, table",n.prototype._init=function(){return n.__super__._init.call(this),this.editor.on("decorate",function(e){return function(n,r){return r.find("pre").each(function(n,r){return e.decorate(t(r))})}}(this)),this.editor.on("undecorate",function(e){return function(n,r){return r.find("pre").each(function(n,r){return e.undecorate(t(r))})}}(this))},n.prototype.render=function(){var t;return t=1<=arguments.length?V.call(arguments,0):[],n.__super__.render.apply(this,t),this.popover=new c({button:this})},n.prototype._checkMode=function(){var e,n;return n=this.editor.selection.range(),(e=t(n.cloneContents()).find(this.editor.util.blockNodes.join(",")))>0||n.collapsed&&0===this.editor.selection.startNodes().filter("code").length?(this.inlineMode=!1,this.htmlTag="pre"):(this.inlineMode=!0,this.htmlTag="code")},n.prototype._status=function(){return this._checkMode(),n.__super__._status.call(this),this.inlineMode?void 0:this.active?this.popover.show(this.node):this.popover.hide()},n.prototype.decorate=function(t){var e,n,r,i;return e=t.find("> code"),e.length>0&&(n=null!=(r=e.attr("class"))&&null!=(i=r.match(/lang-(\S+)/))?i[1]:void 0,e.contents().unwrap(),n)?t.attr("data-lang",n):void 0},n.prototype.undecorate=function(e){var n,r;return r=e.attr("data-lang"),n=t("<code/>"),r&&-1!==r&&n.addClass("lang-"+r),e.wrapInner(n).removeAttr("data-lang")},n.prototype.command=function(){return this.inlineMode?this._inlineCommand():this._blockCommand()},n.prototype._blockCommand=function(){var e,n,r,i;return e=this.editor.selection.rootNodes(),r=[],i=[],n=function(e){return function(){var n;if(r.length>0)return n=t("<"+e.htmlTag+"/>").insertBefore(r[0]).text(e.editor.formatter.clearHtml(r)),i.push(n[0]),r.length=0}}(this),e.each(function(e){return function(o,s){var a,l;return a=t(s),a.is(e.htmlTag)?(n(),l=t("<p/>").append(a.html().replace("\n","<br/>")).replaceAll(a),i.push(l[0])):a.is(e.disableTag)||e.editor.util.isDecoratedNode(a)||a.is("blockquote")?n():r.push(s)}}(this)),n(),this.editor.selection.setRangeAtEndOf(t(i).last()),this.editor.trigger("valuechanged")},n.prototype._inlineCommand=function(){var e,n,r;return r=this.editor.selection.range(),this.active?(r.selectNodeContents(this.node[0]),this.editor.selection.save(r),this.node.contents().unwrap(),this.editor.selection.restore()):(n=t(r.extractContents()),e=t("<"+this.htmlTag+"/>").append(n.contents()),r.insertNode(e[0]),r.selectNodeContents(e[0]),this.editor.selection.range(r)),this.editor.trigger("valuechanged")},n}(a),c=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.render=function(){var e,n,r,i,o;for(this._tpl='<div class="code-settings">\n  <div class="settings-field">\n    <select class="select-lang">\n      <option value="-1">'+this._t("selectLanguage")+"</option>\n    </select>\n  </div>\n</div>",this.langs=this.editor.opts.codeLanguages||[{name:"Bash",value:"bash"},{name:"C++",value:"c++"},{name:"C#",value:"cs"},{name:"CSS",value:"css"},{name:"Erlang",value:"erlang"},{name:"Less",value:"less"},{name:"Sass",value:"sass"},{name:"Diff",value:"diff"},{name:"CoffeeScript",value:"coffeescript"},{name:"HTML,XML",value:"html"},{name:"JSON",value:"json"},{name:"Java",value:"java"},{name:"JavaScript",value:"js"},{name:"Markdown",value:"markdown"},{name:"Objective C",value:"oc"},{name:"PHP",value:"php"},{name:"Perl",value:"parl"},{name:"Python",value:"python"},{name:"Ruby",value:"ruby"},{name:"SQL",value:"sql"}],this.el.addClass("code-popover").append(this._tpl),this.selectEl=this.el.find(".select-lang"),o=this.langs,n=0,i=o.length;i>n;n++)r=o[n],e=t("<option/>",{text:r.name,value:r.value}).appendTo(this.selectEl);return this.selectEl.on("change",function(t){return function(e){var n;return t.lang=t.selectEl.val(),n=t.target.hasClass("selected"),t.target.removeClass().removeAttr("data-lang"),-1!==t.lang&&t.target.attr("data-lang",t.lang),n&&t.target.addClass("selected"),t.editor.trigger("valuechanged")}}(this)),this.editor.on("valuechanged",function(t){return function(e){return t.active?t.refresh():void 0}}(this))},n.prototype.show=function(){var t;return t=1<=arguments.length?V.call(arguments,0):[],n.__super__.show.apply(this,t),this.lang=this.target.attr("data-lang"),null!=this.lang?this.selectEl.val(this.lang):this.selectEl.val(-1)},n}(S),A.Toolbar.addButton(u),x=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="link",n.prototype.icon="link",n.prototype.htmlTag="a",n.prototype.disableTag="pre",n.prototype.render=function(){var t;return t=1<=arguments.length?V.call(arguments,0):[],n.__super__.render.apply(this,t),this.popover=new C({button:this})},n.prototype._status=function(){return n.__super__._status.call(this),this.active&&!this.editor.selection.rangeAtEndOf(this.node)?this.popover.show(this.node):this.popover.hide()},n.prototype.command=function(){var e,n,r,i,o,s;return o=this.editor.selection.range(),this.active?(s=document.createTextNode(this.node.text()),this.node.replaceWith(s),o.selectNode(s)):(e=t(o.extractContents()),i=this.editor.formatter.clearHtml(e.contents(),!1),n=t("<a/>",{href:"http://www.example.com",target:"_blank",text:i||this._t("linkText")}),this.editor.selection.blockNodes().length>0?o.insertNode(n[0]):(r=t("<p/>").append(n),o.insertNode(r[0])),o.selectNodeContents(n[0]),this.popover.one("popovershow",function(t){return function(){return i?(t.popover.urlEl.focus(),t.popover.urlEl[0].select()):(t.popover.textEl.focus(),t.popover.textEl[0].select())}}(this))),this.editor.selection.range(o),this.editor.trigger("valuechanged")},n}(a),C=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.render=function(){var e;return e='<div class="link-settings">\n  <div class="settings-field">\n    <label>'+this._t("linkText")+'</label>\n    <input class="link-text" type="text"/>\n    <a class="btn-unlink" href="javascript:;" title="'+this._t("removeLink")+'"\n      tabindex="-1">\n      <span class="simditor-icon simditor-icon-unlink"></span>\n    </a>\n  </div>\n  <div class="settings-field">\n    <label>'+this._t("linkUrl")+'</label>\n    <input class="link-url" type="text"/>\n  </div>\n  <div class="settings-field">\n    <label>'+this._t("linkTarget")+'</label>\n    <select class="link-target">\n      <option value="_blank">'+this._t("openLinkInNewWindow")+' (_blank)</option>\n      <option value="_self">'+this._t("openLinkInCurrentWindow")+" (_self)</option>\n    </select>\n  </div>\n</div>",this.el.addClass("link-popover").append(e),this.textEl=this.el.find(".link-text"),this.urlEl=this.el.find(".link-url"),this.unlinkEl=this.el.find(".btn-unlink"),this.selectTarget=this.el.find(".link-target"),this.textEl.on("keyup",function(t){return function(e){return 13!==e.which?(t.target.text(t.textEl.val()),t.editor.inputManager.throttledValueChanged()):void 0}}(this)),this.urlEl.on("keyup",function(t){return function(e){var n;if(13!==e.which)return n=t.urlEl.val(),!/https?:\/\/|^\//gi.test(n)&&n&&(n="http://"+n),t.target.attr("href",n),t.editor.inputManager.throttledValueChanged()}}(this)),t([this.urlEl[0],this.textEl[0]]).on("keydown",function(e){return function(n){var r;return 13===n.which||27===n.which||!n.shiftKey&&9===n.which&&t(n.target).hasClass("link-url")?(n.preventDefault(),r=document.createRange(),e.editor.selection.setRangeAfter(e.target,r),e.hide(),e.editor.inputManager.throttledValueChanged()):void 0}}(this)),this.unlinkEl.on("click",function(t){
return function(e){var n,r;return r=document.createTextNode(t.target.text()),t.target.replaceWith(r),t.hide(),n=document.createRange(),t.editor.selection.setRangeAfter(r,n),t.editor.inputManager.throttledValueChanged()}}(this)),this.selectTarget.on("change",function(t){return function(e){return t.target.attr("target",t.selectTarget.val()),t.editor.inputManager.throttledValueChanged()}}(this))},n.prototype.show=function(){var t;return t=1<=arguments.length?V.call(arguments,0):[],n.__super__.show.apply(this,t),this.textEl.val(this.target.text()),this.urlEl.val(this.target.attr("href"))},n}(S),A.Toolbar.addButton(x),m=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="image",n.prototype.icon="picture-o",n.prototype.htmlTag="img",n.prototype.disableTag="pre, table",n.prototype.defaultImage="",n.prototype.needFocus=!1,n.prototype._init=function(){var e,r,i,o;if(this.editor.opts.imageButton)if(Array.isArray(this.editor.opts.imageButton))for(this.menu=[],o=this.editor.opts.imageButton,r=0,i=o.length;i>r;r++)e=o[r],this.menu.push({name:e+"-image",text:this._t(e+"Image")});else this.menu=!1;else null!=this.editor.uploader?this.menu=[{name:"upload-image",text:this._t("uploadImage")},{name:"external-image",text:this._t("externalImage")}]:this.menu=!1;return this.defaultImage=this.editor.opts.defaultImage,this.editor.body.on("click","img:not([data-non-image])",function(e){return function(n){var r,i;return r=t(n.currentTarget),i=document.createRange(),i.selectNode(r[0]),e.editor.selection.range(i),e.editor.util.support.onselectionchange||e.editor.trigger("selectionchanged"),!1}}(this)),this.editor.body.on("mouseup","img:not([data-non-image])",function(t){return!1}),this.editor.on("selectionchanged.image",function(e){return function(){var n,r,i;return i=e.editor.selection.range(),null!=i?(n=t(i.cloneContents()).contents(),1===n.length&&n.is("img:not([data-non-image])")?(r=t(i.startContainer).contents().eq(i.startOffset),e.popover.show(r)):e.popover.hide()):void 0}}(this)),this.editor.on("valuechanged.image",function(e){return function(){var n;return n=e.editor.wrapper.find(".simditor-image-loading"),n.length>0?n.each(function(n,r){var i,o,s;return o=t(r),i=o.data("img"),!(i&&i.parent().length>0)&&(o.remove(),i&&(s=i.data("file"),s&&(e.editor.uploader.cancel(s),e.editor.body.find("img.uploading").length<1)))?e.editor.uploader.trigger("uploadready",[s]):void 0}):void 0}}(this)),n.__super__._init.call(this)},n.prototype.render=function(){var t;return t=1<=arguments.length?V.call(arguments,0):[],n.__super__.render.apply(this,t),this.popover=new g({button:this}),"upload"===this.editor.opts.imageButton?this._initUploader(this.el):void 0},n.prototype.renderMenu=function(){return n.__super__.renderMenu.call(this),this._initUploader()},n.prototype._initUploader=function(e){var n,r,i;return null==e&&(e=this.menuEl.find(".menu-item-upload-image")),null==this.editor.uploader?void this.el.find(".btn-upload").remove():(n=null,r=function(r){return function(){return n&&n.remove(),n=t("<input/>",{type:"file",title:r._t("uploadImage"),multiple:!0,accept:"image/*"}).appendTo(e)}}(this),r(),e.on("click mousedown","input[type=file]",function(t){return t.stopPropagation()}),e.on("change","input[type=file]",function(t){return function(e){return t.editor.inputManager.focused?(t.editor.uploader.upload(n,{inline:!0}),r()):(t.editor.one("focus",function(e){return t.editor.uploader.upload(n,{inline:!0}),r()}),t.editor.focus()),t.wrapper.removeClass("menu-on")}}(this)),this.editor.uploader.on("beforeupload",function(e){return function(n,r){var i;if(r.inline)return r.img?i=t(r.img):(i=e.createImage(r.name),r.img=i),i.addClass("uploading"),i.data("file",r),e.editor.uploader.readImageFile(r.obj,function(t){var n;if(i.hasClass("uploading"))return n=t?t.src:e.defaultImage,e.loadImage(i,n,function(){return e.popover.active?(e.popover.refresh(),e.popover.srcEl.val(e._t("uploading")).prop("disabled",!0)):void 0})})}}(this)),i=t.proxy(this.editor.util.throttle(function(t,e,n,r){var i,o,s;if(e.inline&&(o=e.img.data("mask")))return i=o.data("img"),i.hasClass("uploading")&&i.parent().length>0?(s=n/r,s=(100*s).toFixed(0),s>99&&(s=99),o.find(".progress").height(100-s+"%")):void o.remove()},500),this),this.editor.uploader.on("uploadprogress",i),this.editor.uploader.on("uploadsuccess",function(e){return function(n,r,i){var o,s,a;if(r.inline&&(o=r.img,o.hasClass("uploading")&&o.parent().length>0)){if("object"!=typeof i)try{i=t.parseJSON(i)}catch(l){n=l,i={success:!1}}return i.success===!1?(a=i.msg||e._t("uploadFailed"),alert(a),s=e.defaultImage):s=i.file_path,e.loadImage(o,s,function(){var t;return o.removeData("file"),o.removeClass("uploading").removeClass("loading"),t=o.data("mask"),t&&t.remove(),o.removeData("mask"),e.editor.trigger("valuechanged"),e.editor.body.find("img.uploading").length<1?e.editor.uploader.trigger("uploadready",[r,i]):void 0}),e.popover.active?(e.popover.srcEl.prop("disabled",!1),e.popover.srcEl.val(i.file_path)):void 0}}}(this)),this.editor.uploader.on("uploaderror",function(e){return function(n,r,i){var o,s,a;if(r.inline&&"abort"!==i.statusText){if(i.responseText){try{a=t.parseJSON(i.responseText),s=a.msg}catch(l){n=l,s=e._t("uploadError")}alert(s)}if(o=r.img,o.hasClass("uploading")&&o.parent().length>0)return e.loadImage(o,e.defaultImage,function(){var t;return o.removeData("file"),o.removeClass("uploading").removeClass("loading"),t=o.data("mask"),t&&t.remove(),o.removeData("mask")}),e.popover.active&&(e.popover.srcEl.prop("disabled",!1),e.popover.srcEl.val(e.defaultImage)),e.editor.trigger("valuechanged"),e.editor.body.find("img.uploading").length<1?e.editor.uploader.trigger("uploadready",[r,a]):void 0}}}(this)))},n.prototype._status=function(){return this._disableStatus()},n.prototype.loadImage=function(e,n,r){var i,o,s;return s=function(t){return function(){var n,r;return n=e.offset(),r=t.editor.wrapper.offset(),i.css({top:n.top-r.top,left:n.left-r.left,width:e.width(),height:e.height()}).show()}}(this),e.addClass("loading"),i=e.data("mask"),i||(i=t('<div class="simditor-image-loading">\n  <div class="progress"></div>\n</div>').hide().appendTo(this.editor.wrapper),s(),e.data("mask",i),i.data("img",e)),o=new Image,o.onload=function(a){return function(){var l,u;if(e.hasClass("loading")||e.hasClass("uploading"))return u=o.width,l=o.height,e.attr({src:n,width:u,height:l,"data-image-size":u+","+l}).removeClass("loading"),e.hasClass("uploading")?(a.editor.util.reflow(a.editor.body),s()):(i.remove(),e.removeData("mask")),t.isFunction(r)?r(o):void 0}}(this),o.onerror=function(){return t.isFunction(r)&&r(!1),i.remove(),e.removeData("mask").removeClass("loading")},o.src=n},n.prototype.createImage=function(e){var n,r;return null==e&&(e="Image"),this.editor.inputManager.focused||this.editor.focus(),r=this.editor.selection.range(),r.deleteContents(),this.editor.selection.range(r),n=t("<img/>").attr("alt",e),r.insertNode(n[0]),this.editor.selection.setRangeAfter(n,r),this.editor.trigger("valuechanged"),n},n.prototype.command=function(t){var e;return e=this.createImage(),this.loadImage(e,t||this.defaultImage,function(t){return function(){return t.editor.trigger("valuechanged"),t.editor.util.reflow(e),e.click(),t.popover.one("popovershow",function(){return t.popover.srcEl.focus(),t.popover.srcEl[0].select()})}}(this))},n}(a),g=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.offset={top:6,left:-4},n.prototype.render=function(){var e;return e='<div class="link-settings">\n  <div class="settings-field">\n    <label>'+this._t("imageUrl")+'</label>\n    <input class="image-src" type="text" tabindex="1" />\n    <a class="btn-upload" href="javascript:;"\n      title="'+this._t("uploadImage")+'" tabindex="-1">\n      <span class="simditor-icon simditor-icon-upload"></span>\n    </a>\n  </div>\n  <div class=\'settings-field\'>\n    <label>'+this._t("imageAlt")+'</label>\n    <input class="image-alt" id="image-alt" type="text" tabindex="1" />\n  </div>\n  <div class="settings-field">\n    <label>'+this._t("imageSize")+'</label>\n    <input class="image-size" id="image-width" type="text" tabindex="2" />\n    <span class="times">×</span>\n    <input class="image-size" id="image-height" type="text" tabindex="3" />\n    <a class="btn-restore" href="javascript:;"\n      title="'+this._t("restoreImageSize")+'" tabindex="-1">\n      <span class="simditor-icon simditor-icon-undo"></span>\n    </a>\n  </div>\n</div>',this.el.addClass("image-popover").append(e),this.srcEl=this.el.find(".image-src"),this.widthEl=this.el.find("#image-width"),this.heightEl=this.el.find("#image-height"),this.altEl=this.el.find("#image-alt"),this.srcEl.on("keydown",function(t){return function(e){var n;if(13===e.which&&!t.target.hasClass("uploading"))return e.preventDefault(),n=document.createRange(),t.button.editor.selection.setRangeAfter(t.target,n),t.hide()}}(this)),this.srcEl.on("blur",function(t){return function(e){return t._loadImage(t.srcEl.val())}}(this)),this.el.find(".image-size").on("blur",function(e){return function(n){return e._resizeImg(t(n.currentTarget)),e.el.data("popover").refresh()}}(this)),this.el.find(".image-size").on("keyup",function(e){return function(n){var r;return r=t(n.currentTarget),13!==n.which&&27!==n.which&&9!==n.which?e._resizeImg(r,!0):void 0}}(this)),this.el.find(".image-size").on("keydown",function(e){return function(n){var r,i,o;return i=t(n.currentTarget),13===n.which||27===n.which?(n.preventDefault(),13===n.which?e._resizeImg(i):e._restoreImg(),r=e.target,e.hide(),o=document.createRange(),e.button.editor.selection.setRangeAfter(r,o)):9===n.which?e.el.data("popover").refresh():void 0}}(this)),this.altEl.on("keydown",function(t){return function(e){var n;return 13===e.which?(e.preventDefault(),n=document.createRange(),t.button.editor.selection.setRangeAfter(t.target,n),t.hide()):void 0}}(this)),this.altEl.on("keyup",function(t){return function(e){return 13!==e.which&&27!==e.which&&9!==e.which?(t.alt=t.altEl.val(),t.target.attr("alt",t.alt)):void 0}}(this)),this.el.find(".btn-restore").on("click",function(t){return function(e){return t._restoreImg(),t.el.data("popover").refresh()}}(this)),this.editor.on("valuechanged",function(t){return function(e){return t.active?t.refresh():void 0}}(this)),this._initUploader()},n.prototype._initUploader=function(){var e,n;return e=this.el.find(".btn-upload"),null==this.editor.uploader?void e.remove():(n=function(n){return function(){return n.input&&n.input.remove(),n.input=t("<input/>",{type:"file",title:n._t("uploadImage"),multiple:!0,accept:"image/*"}).appendTo(e)}}(this),n(),this.el.on("click mousedown","input[type=file]",function(t){return t.stopPropagation()}),this.el.on("change","input[type=file]",function(t){return function(e){return t.editor.uploader.upload(t.input,{inline:!0,img:t.target}),n()}}(this)))},n.prototype._resizeImg=function(e,n){var r,i,o;return null==n&&(n=!1),i=1*e.val(),this.target&&(t.isNumeric(i)||0>i)?(e.is(this.widthEl)?(o=i,r=this.height*i/this.width,this.heightEl.val(r)):(r=i,o=this.width*i/this.height,this.widthEl.val(o)),n?void 0:(this.target.attr({width:o,height:r}),this.editor.trigger("valuechanged"))):void 0},n.prototype._restoreImg=function(){var t,e;return e=(null!=(t=this.target.data("image-size"))?t.split(","):void 0)||[this.width,this.height],this.target.attr({width:1*e[0],height:1*e[1]}),this.widthEl.val(e[0]),this.heightEl.val(e[1]),this.editor.trigger("valuechanged")},n.prototype._loadImage=function(t,e){if(/^data:image/.test(t)&&!this.editor.uploader)return void(e&&e(!1));if(this.target.attr("src")!==t)return this.button.loadImage(this.target,t,function(n){return function(r){var i;if(r)return n.active&&(n.width=r.width,n.height=r.height,n.widthEl.val(n.width),n.heightEl.val(n.height)),/^data:image/.test(t)?(i=n.editor.util.dataURLtoBlob(t),i.name="Base64 Image.png",n.editor.uploader.upload(i,{inline:!0,img:n.target})):n.editor.trigger("valuechanged"),e?e(r):void 0}}(this))},n.prototype.show=function(){var t,e;return e=1<=arguments.length?V.call(arguments,0):[],n.__super__.show.apply(this,e),t=this.target,this.width=t.width(),this.height=t.height(),this.alt=t.attr("alt"),t.hasClass("uploading")?this.srcEl.val(this._t("uploading")).prop("disabled",!0):(this.srcEl.val(t.attr("src")).prop("disabled",!1),this.widthEl.val(this.width),this.heightEl.val(this.height),this.altEl.val(this.alt))},n}(S),A.Toolbar.addButton(m),v=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return B(e,t),e.prototype.name="indent",e.prototype.icon="indent",e.prototype._init=function(){return this.title=this._t(this.name)+" (Tab)",e.__super__._init.call(this)},e.prototype._status=function(){},e.prototype.command=function(){return this.editor.indentation.indent()},e}(a),A.Toolbar.addButton(v),k=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return B(e,t),e.prototype.name="outdent",e.prototype.icon="outdent",e.prototype._init=function(){return this.title=this._t(this.name)+" (Shift + Tab)",e.__super__._init.call(this)},e.prototype._status=function(){},e.prototype.command=function(){return this.editor.indentation.indent(!0)},e}(a),A.Toolbar.addButton(k),f=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="hr",n.prototype.icon="minus",n.prototype.htmlTag="hr",n.prototype._status=function(){},n.prototype.command=function(){var e,n,r,i;return i=this.editor.selection.rootNodes().first(),r=i.next(),r.length>0?this.editor.selection.save():n=t("<p/>").append(this.editor.util.phBr),e=t("<hr/>").insertAfter(i),n?(n.insertAfter(e),this.editor.selection.setRangeAtStartOf(n)):this.editor.selection.restore(),this.editor.trigger("valuechanged")},n}(a),A.Toolbar.addButton(f),O=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="table",n.prototype.icon="table",n.prototype.htmlTag="table",n.prototype.disableTag="pre, li, blockquote",n.prototype.menu=!0,n.prototype._init=function(){return n.__super__._init.call(this),t.merge(this.editor.formatter._allowedTags,["thead","th","tbody","tr","td","colgroup","col"]),t.extend(this.editor.formatter._allowedAttributes,{td:["rowspan","colspan"],col:["width"]}),t.extend(this.editor.formatter._allowedStyles,{td:["text-align"],th:["text-align"]}),this._initShortcuts(),this.editor.on("decorate",function(e){return function(n,r){return r.find("table").each(function(n,r){return e.decorate(t(r))})}}(this)),this.editor.on("undecorate",function(e){return function(n,r){return r.find("table").each(function(n,r){return e.undecorate(t(r))})}}(this)),this.editor.on("selectionchanged.table",function(t){return function(e){var n,r;return t.editor.body.find(".simditor-table td, .simditor-table th").removeClass("active"),(r=t.editor.selection.range())?(n=t.editor.selection.containerNode(),r.collapsed&&n.is(".simditor-table")&&(n=t.editor.selection.rangeAtStartOf(n)?n.find("th:first"):n.find("td:last"),t.editor.selection.setRangeAtEndOf(n)),n.closest("td, th",t.editor.body).addClass("active")):void 0}}(this)),this.editor.on("blur.table",function(t){return function(e){return t.editor.body.find(".simditor-table td, .simditor-table th").removeClass("active")}}(this)),this.editor.keystroke.add("up","td",function(t){return function(e,n){return t._tdNav(n,"up"),!0}}(this)),this.editor.keystroke.add("up","th",function(t){return function(e,n){return t._tdNav(n,"up"),!0}}(this)),this.editor.keystroke.add("down","td",function(t){return function(e,n){return t._tdNav(n,"down"),!0}}(this)),this.editor.keystroke.add("down","th",function(t){return function(e,n){return t._tdNav(n,"down"),!0}}(this))},n.prototype._tdNav=function(t,e){var n,r,i,o,s,a,l;return null==e&&(e="up"),i="up"===e?"prev":"next",l="up"===e?["tbody","thead"]:["thead","tbody"],a=l[0],o=l[1],r=t.parent("tr"),n=this["_"+i+"Row"](r),n.length>0?(s=r.find("td, th").index(t),this.editor.selection.setRangeAtEndOf(n.find("td, th").eq(s))):!0},n.prototype._nextRow=function(t){var e;return e=t.next("tr"),e.length<1&&t.parent("thead").length>0&&(e=t.parent("thead").next("tbody").find("tr:first")),e},n.prototype._prevRow=function(t){var e;return e=t.prev("tr"),e.length<1&&t.parent("tbody").length>0&&(e=t.parent("tbody").prev("thead").find("tr")),e},n.prototype.initResize=function(e){var n,r,i;return i=e.parent(".simditor-table"),n=e.find("colgroup"),n.length<1&&(n=t("<colgroup/>").prependTo(e),e.find("thead tr th").each(function(e,r){var i;return i=t("<col/>").appendTo(n)}),this.refreshTableWidth(e)),r=t("<div />",{"class":"simditor-resize-handle",contenteditable:"false"}).appendTo(i),i.on("mousemove","td, th",function(e){var o,s,a,l,u,c;if(!i.hasClass("resizing"))return s=t(e.currentTarget),c=e.pageX-t(e.currentTarget).offset().left,5>c&&s.prev().length>0&&(s=s.prev()),s.next("td, th").length<1?void r.hide():(null!=(l=r.data("td"))?l.is(s):void 0)?void r.show():(a=s.parent().find("td, th").index(s),o=n.find("col").eq(a),(null!=(u=r.data("col"))?u.is(o):void 0)?void r.show():r.css("left",s.position().left+s.outerWidth()-5).data("td",s).data("col",o).show())}),i.on("mouseleave",function(t){return r.hide()}),i.on("mousedown",".simditor-resize-handle",function(e){var n,r,o,s,a,l,u,c,h,d,p;return n=t(e.currentTarget),o=n.data("td"),r=n.data("col"),a=o.next("td, th"),s=r.next("col"),d=e.pageX,c=1*o.outerWidth(),h=1*a.outerWidth(),u=parseFloat(n.css("left")),p=o.closest("table").width(),l=50,t(document).on("mousemove.simditor-resize-table",function(t){var e,i,o;return e=t.pageX-d,i=c+e,o=h-e,l>i?(i=l,e=l-c,o=h-e):l>o&&(o=l,e=h-l,i=c+e),r.attr("width",i/p*100+"%"),s.attr("width",o/p*100+"%"),n.css("left",u+e)}),t(document).one("mouseup.simditor-resize-table",function(e){return t(document).off(".simditor-resize-table"),i.removeClass("resizing")}),i.addClass("resizing"),!1})},n.prototype._initShortcuts=function(){return this.editor.hotkeys.add("ctrl+alt+up",function(t){return function(e){return t.editMenu.find(".menu-item[data-param=insertRowAbove]").click(),!1}}(this)),this.editor.hotkeys.add("ctrl+alt+down",function(t){return function(e){return t.editMenu.find(".menu-item[data-param=insertRowBelow]").click(),!1}}(this)),this.editor.hotkeys.add("ctrl+alt+left",function(t){return function(e){return t.editMenu.find(".menu-item[data-param=insertColLeft]").click(),!1}}(this)),this.editor.hotkeys.add("ctrl+alt+right",function(t){return function(e){return t.editMenu.find(".menu-item[data-param=insertColRight]").click(),!1}}(this))},n.prototype.decorate=function(e){var n,r,i;return e.parent(".simditor-table").length>0&&this.undecorate(e),e.wrap('<div class="simditor-table"></div>'),e.find("thead").length<1&&(i=t("<thead />"),n=e.find("tr").first(),i.append(n),this._changeCellTag(n,"th"),r=e.find("tbody"),r.length>0?r.before(i):e.prepend(i)),this.initResize(e),e.parent()},n.prototype.undecorate=function(t){return t.parent(".simditor-table").length>0?t.parent().replaceWith(t):void 0},n.prototype.renderMenu=function(){var e;return t('<div class="menu-create-table">\n</div>\n<div class="menu-edit-table">\n  <ul>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="deleteRow">\n        <span>'+this._t("deleteRow")+'</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertRowAbove">\n        <span>'+this._t("insertRowAbove")+' ( Ctrl + Alt + ↑ )</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertRowBelow">\n        <span>'+this._t("insertRowBelow")+' ( Ctrl + Alt + ↓ )</span>\n      </a>\n    </li>\n    <li><span class="separator"></span></li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="deleteCol">\n        <span>'+this._t("deleteColumn")+'</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertColLeft">\n        <span>'+this._t("insertColumnLeft")+' ( Ctrl + Alt + ← )</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertColRight">\n        <span>'+this._t("insertColumnRight")+' ( Ctrl + Alt + → )</span>\n      </a>\n    </li>\n    <li><span class="separator"></span></li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="deleteTable">\n        <span>'+this._t("deleteTable")+"</span>\n      </a>\n    </li>\n  </ul>\n</div>").appendTo(this.menuWrapper),this.createMenu=this.menuWrapper.find(".menu-create-table"),this.editMenu=this.menuWrapper.find(".menu-edit-table"),e=this.createTable(6,6).appendTo(this.createMenu),this.createMenu.on("mouseenter","td, th",function(n){return function(r){var i,o,s,a;return n.createMenu.find("td, th").removeClass("selected"),i=t(r.currentTarget),o=i.parent(),a=o.find("td, th").index(i)+1,s=o.prevAll("tr").addBack(),o.parent().is("tbody")&&(s=s.add(e.find("thead tr"))),s.find("td:lt("+a+"), th:lt("+a+")").addClass("selected")}}(this)),this.createMenu.on("mouseleave",function(e){return t(e.currentTarget).find("td, th").removeClass("selected")}),this.createMenu.on("mousedown","td, th",function(n){return function(r){var i,o,s,a,l;return n.wrapper.removeClass("menu-on"),n.editor.inputManager.focused?(o=t(r.currentTarget),s=o.parent(),a=s.find("td").index(o)+1,l=s.prevAll("tr").length+1,s.parent().is("tbody")&&(l+=1),e=n.createTable(l,a,!0),i=n.editor.selection.blockNodes().last(),n.editor.util.isEmptyNode(i)?i.replaceWith(e):i.after(e),n.decorate(e),n.editor.selection.setRangeAtStartOf(e.find("th:first")),n.editor.trigger("valuechanged"),!1):void 0}}(this))},n.prototype.createTable=function(e,n,r){var i,o,s,a,l,u,c,h,d,p,f;for(i=t("<table/>"),a=t("<thead/>").appendTo(i),o=t("<tbody/>").appendTo(i),d=c=0,p=e;p>=0?p>c:c>p;d=p>=0?++c:--c)for(l=t("<tr/>"),l.appendTo(0===d?a:o),u=h=0,f=n;f>=0?f>h:h>f;u=f>=0?++h:--h)s=t(0===d?"<th/>":"<td/>").appendTo(l),r&&s.append(this.editor.util.phBr);return i},n.prototype.refreshTableWidth=function(e){var n,r;return r=e.width(),n=e.find("col"),e.find("thead tr th").each(function(e,i){var o;return o=n.eq(e),o.attr("width",t(i).outerWidth()/r*100+"%")})},n.prototype.setActive=function(t){return n.__super__.setActive.call(this,t),t?(this.createMenu.hide(),this.editMenu.show()):(this.createMenu.show(),this.editMenu.hide())},n.prototype._changeCellTag=function(e,n){return e.find("td, th").each(function(e,r){var i;return i=t(r),i.replaceWith("<"+n+">"+i.html()+"</"+n+">")})},n.prototype.deleteRow=function(t){var e,n,r;return n=t.parent("tr"),n.closest("table").find("tr").length<1?this.deleteTable(t):(e=this._nextRow(n),e.length>0||(e=this._prevRow(n)),r=n.find("td, th").index(t),n.parent().is("thead")&&(e.appendTo(n.parent()),this._changeCellTag(e,"th")),n.remove(),this.editor.selection.setRangeAtEndOf(e.find("td, th").eq(r)))},n.prototype.insertRow=function(e,n){var r,i,o,s,a,l,u,c,h;for(null==n&&(n="after"),o=e.parent("tr"),i=o.closest("table"),a=0,i.find("tr").each(function(e,n){return a=Math.max(a,t(n).find("td").length)}),u=o.find("td, th").index(e),r=t("<tr/>"),s="td","after"===n&&o.parent().is("thead")?o.parent().next("tbody").prepend(r):"before"===n&&o.parent().is("thead")?(o.before(r),o.parent().next("tbody").prepend(o),this._changeCellTag(o,"td"),s="th"):o[n](r),l=c=1,h=a;h>=1?h>=c:c>=h;l=h>=1?++c:--c)t("<"+s+"/>").append(this.editor.util.phBr).appendTo(r);return this.editor.selection.setRangeAtStartOf(r.find("td, th").eq(u))},n.prototype.deleteCol=function(e){var n,r,i,o,s,a;return i=e.parent("tr"),a=i.closest("table").find("tr").length<2,s=e.siblings("td, th").length<1,a&&s?this.deleteTable(e):(o=i.find("td, th").index(e),n=e.next("td, th"),n.length>0||(n=i.prev("td, th")),r=i.closest("table"),r.find("col").eq(o).remove(),r.find("tr").each(function(e,n){return t(n).find("td, th").eq(o).remove()}),this.refreshTableWidth(r),this.editor.selection.setRangeAtEndOf(n))},n.prototype.insertCol=function(e,n){var r,i,o,s,a,l,u,c;return null==n&&(n="after"),a=e.parent("tr"),l=a.find("td, th").index(e),s=e.closest("table"),r=s.find("col").eq(l),s.find("tr").each(function(e){return function(r,i){var o,s;return s=t(i).parent().is("thead")?"th":"td",o=t("<"+s+"/>").append(e.editor.util.phBr),t(i).find("td, th").eq(l)[n](o)}}(this)),i=t("<col/>"),r[n](i),u=s.width(),c=Math.max(parseFloat(r.attr("width"))/2,50/u*100),r.attr("width",c+"%"),i.attr("width",c+"%"),this.refreshTableWidth(s),o="after"===n?e.next("td, th"):e.prev("td, th"),this.editor.selection.setRangeAtStartOf(o)},n.prototype.deleteTable=function(t){var e,n;return n=t.closest(".simditor-table"),e=n.next("p"),n.remove(),e.length>0?this.editor.selection.setRangeAtStartOf(e):void 0},n.prototype.command=function(t){var e;if(e=this.editor.selection.containerNode().closest("td, th"),e.length>0){if("deleteRow"===t)this.deleteRow(e);else if("insertRowAbove"===t)this.insertRow(e,"before");else if("insertRowBelow"===t)this.insertRow(e);else if("deleteCol"===t)this.deleteCol(e);else if("insertColLeft"===t)this.insertCol(e,"before");else if("insertColRight"===t)this.insertCol(e);else{if("deleteTable"!==t)return;this.deleteTable(e)}return this.editor.trigger("valuechanged")}},n}(a),A.Toolbar.addButton(O),L=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="strikethrough",n.prototype.icon="strikethrough",n.prototype.htmlTag="strike",n.prototype.disableTag="pre",n.prototype._activeStatus=function(){var t;return t=document.queryCommandState("strikethrough")===!0,this.setActive(t),this.active},n.prototype.command=function(){return document.execCommand("strikethrough"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),t(document).trigger("selectionchange")},n}(a),A.Toolbar.addButton(L),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return B(e,t),e.prototype.name="alignment",e.prototype.icon="align-left",e.prototype.htmlTag="p, h1, h2, h3, h4, td, th",e.prototype._init=function(){return this.menu=[{name:"left",text:this._t("alignLeft"),icon:"align-left",param:"left"},{name:"center",text:this._t("alignCenter"),icon:"align-center",param:"center"},{name:"right",text:this._t("alignRight"),icon:"align-right",param:"right"}],e.__super__._init.call(this)},e.prototype.setActive=function(t,n){return null==n&&(n="left"),"left"!==n&&"center"!==n&&"right"!==n&&(n="left"),"left"===n?e.__super__.setActive.call(this,!1):e.__super__.setActive.call(this,t),this.el.removeClass("align-left align-center align-right"),t&&this.el.addClass("align-"+n),this.setIcon("align-"+n),this.menuEl.find(".menu-item").show().end().find(".menu-item-"+n).hide()},e.prototype._status=function(){return this.nodes=this.editor.selection.nodes().filter(this.htmlTag),this.nodes.length<1?(this.setDisabled(!0),this.setActive(!1)):(this.setDisabled(!1),this.setActive(!0,this.nodes.first().css("text-align")))},e.prototype.command=function(t){if("left"!==t&&"center"!==t&&"right"!==t)throw new Error("simditor alignment button: invalid align "+t);return this.nodes.css({"text-align":"left"===t?"":t}),this.editor.trigger("valuechanged"),this.editor.inputManager.throttledSelectionChanged()},e}(a),A.Toolbar.addButton(i),A}),function(t){var e=t.define,n=t.require,r=t.Ember;"undefined"==typeof r&&"undefined"!=typeof n&&(r=n("ember")),r.libraries.register("Ember Simple Auth","0.7.3"),e("simple-auth/authenticators/base",["exports"],function(t){"use strict";t["default"]=r.Object.extend(r.Evented,{restore:function(t){return r.RSVP.reject()},authenticate:function(t){return r.RSVP.reject()},invalidate:function(t){return r.RSVP.resolve()}})}),e("simple-auth/authorizers/base",["exports"],function(t){"use strict";t["default"]=r.Object.extend({session:null,authorize:function(t,e){}})}),e("simple-auth/configuration",["simple-auth/utils/load-config","exports"],function(t,e){"use strict";var n=t["default"],r={authenticationRoute:"login",routeAfterAuthentication:"index",routeIfAlreadyAuthenticated:"index",sessionPropertyName:"session",authorizer:null,session:"simple-auth-session:main",store:"simple-auth-session-store:local-storage",localStorageKey:"ember_simple_auth:session",crossOriginWhitelist:[],applicationRootUrl:null};e["default"]={authenticationRoute:r.authenticationRoute,routeAfterAuthentication:r.routeAfterAuthentication,routeIfAlreadyAuthenticated:r.routeIfAlreadyAuthenticated,sessionPropertyName:r.sessionPropertyName,authorizer:r.authorizer,session:r.session,store:r.store,localStorageKey:r.localStorageKey,crossOriginWhitelist:r.crossOriginWhitelist,applicationRootUrl:r.applicationRootUrl,load:n(r,function(t,e){this.applicationRootUrl=t.lookup("router:main").get("rootURL")||"/"})}}),e("simple-auth/ember",["./initializer"],function(t){"use strict";var e=t["default"];r.onLoad("Ember.Application",function(t){t.initializer(e)})}),e("simple-auth/initializer",["./configuration","./utils/get-global-config","./setup","exports"],function(t,e,n,r){"use strict";var i=t["default"],o=e["default"],s=n["default"];r["default"]={name:"simple-auth",initialize:function(t,e){var n=o("simple-auth");i.load(t,n),s(t,e)}}}),e("simple-auth/mixins/application-route-mixin",["./../configuration","exports"],function(t,e){"use strict";var n=t["default"],i=!1;e["default"]=r.Mixin.create({activate:function(){i=!0,this._super()},beforeModel:function(t){if(this._super(t),!this.get("_authEventListenersAssigned")){this.set("_authEventListenersAssigned",!0);var e=this;r.A(["sessionAuthenticationSucceeded","sessionAuthenticationFailed","sessionInvalidationSucceeded","sessionInvalidationFailed","authorizationFailed"]).forEach(function(r){e.get(n.sessionPropertyName).on(r,function(n){Array.prototype.unshift.call(arguments,r);var o=i?e:t;o.send.apply(o,arguments)})})}},actions:{authenticateSession:function(){this.transitionTo(n.authenticationRoute)},sessionAuthenticationSucceeded:function(){var t=this.get(n.sessionPropertyName).get("attemptedTransition");t?(t.retry(),this.get(n.sessionPropertyName).set("attemptedTransition",null)):this.transitionTo(n.routeAfterAuthentication)},sessionAuthenticationFailed:function(t){},invalidateSession:function(){this.get(n.sessionPropertyName).invalidate()},sessionInvalidationSucceeded:function(){r.testing||window.location.replace(n.applicationRootUrl)},sessionInvalidationFailed:function(t){},authorizationFailed:function(){this.get(n.sessionPropertyName).get("isAuthenticated")&&this.get(n.sessionPropertyName).invalidate()}}})}),e("simple-auth/mixins/authenticated-route-mixin",["./../configuration","exports"],function(t,e){"use strict";var n=t["default"];e["default"]=r.Mixin.create({beforeModel:function(t){this._super(t),this.get(n.sessionPropertyName).get("isAuthenticated")||(t.abort(),this.get(n.sessionPropertyName).set("attemptedTransition",t),r.assert("The route configured as Configuration.authenticationRoute cannot implement the AuthenticatedRouteMixin mixin as that leads to an infinite transitioning loop.",this.get("routeName")!==n.authenticationRoute),t.send("authenticateSession"))}})}),e("simple-auth/mixins/authentication-controller-mixin",["./../configuration","exports"],function(t,e){"use strict";var n=t["default"];e["default"]=r.Mixin.create({authenticator:null,actions:{authenticate:function(t){var e=this.get("authenticator");return r.assert("AuthenticationControllerMixin/LoginControllerMixin require the authenticator property to be set on the controller",!r.isEmpty(e)),this.get(n.sessionPropertyName).authenticate(e,t)}}})}),e("simple-auth/mixins/login-controller-mixin",["./../configuration","./authentication-controller-mixin","exports"],function(t,e,n){"use strict";var i=(t["default"],e["default"]);
n["default"]=r.Mixin.create(i,{actions:{authenticate:function(){var t=this.getProperties("identification","password");return this.set("password",null),this._super(t)}}})}),e("simple-auth/mixins/unauthenticated-route-mixin",["./../configuration","exports"],function(t,e){"use strict";var n=t["default"];e["default"]=r.Mixin.create({beforeModel:function(t){this.get(n.sessionPropertyName).get("isAuthenticated")&&(t.abort(),r.assert("The route configured as Configuration.routeIfAlreadyAuthenticated cannot implement the UnauthenticatedRouteMixin mixin as that leads to an infinite transitioning loop.",this.get("routeName")!==n.routeIfAlreadyAuthenticated),this.transitionTo(n.routeIfAlreadyAuthenticated))}})}),e("simple-auth/session",["exports"],function(t){"use strict";t["default"]=r.ObjectProxy.extend(r.Evented,{authenticator:null,store:null,container:null,isAuthenticated:!1,attemptedTransition:null,content:{},authenticate:function(){var t=Array.prototype.slice.call(arguments),e=t.shift();r.assert("Session#authenticate requires the authenticator factory to be specified, was "+e,!r.isEmpty(e));var n=this,i=this.container.lookup(e);return r.assert('No authenticator for factory "'+e+'" could be found',!r.isNone(i)),new r.RSVP.Promise(function(r,o){i.authenticate.apply(i,t).then(function(t){n.setup(e,t,!0),r()},function(t){n.clear(),n.trigger("sessionAuthenticationFailed",t),o(t)})})},invalidate:function(){r.assert("Session#invalidate requires the session to be authenticated",this.get("isAuthenticated"));var t=this;return new r.RSVP.Promise(function(e,n){var r=t.container.lookup(t.authenticator);r.invalidate(t.content).then(function(){r.off("sessionDataUpdated"),t.clear(!0),e()},function(e){t.trigger("sessionInvalidationFailed",e),n(e)})})},restore:function(){var t=this;return new r.RSVP.Promise(function(e,n){var r=t.store.restore(),i=r.authenticator;i?(delete r.authenticator,t.container.lookup(i).restore(r).then(function(n){t.setup(i,n),e()},function(){t.store.clear(),n()})):(t.store.clear(),n())})},setup:function(t,e,n){e=r.merge(r.merge({},this.content),e),n=!!n&&!this.get("isAuthenticated"),this.beginPropertyChanges(),this.setProperties({isAuthenticated:!0,authenticator:t,content:e}),this.bindToAuthenticatorEvents(),this.updateStore(),this.endPropertyChanges(),n&&this.trigger("sessionAuthenticationSucceeded")},clear:function(t){t=!!t&&this.get("isAuthenticated"),this.beginPropertyChanges(),this.setProperties({isAuthenticated:!1,authenticator:null,content:{}}),this.store.clear(),this.endPropertyChanges(),t&&this.trigger("sessionInvalidationSucceeded")},setUnknownProperty:function(t,e){var n=this._super(t,e);return this.updateStore(),n},updateStore:function(){var t=this.content;r.isEmpty(this.authenticator)||(t=r.merge({authenticator:this.authenticator},t)),r.isEmpty(t)||this.store.persist(t)},bindToAuthenticatorEvents:function(){var t=this,e=this.container.lookup(this.authenticator);e.off("sessionDataUpdated"),e.off("sessionDataInvalidated"),e.on("sessionDataUpdated",function(e){t.setup(t.authenticator,e)}),e.on("sessionDataInvalidated",function(e){t.clear(!0)})},bindToStoreEvents:function(){var t=this;this.store.on("sessionDataUpdated",function(e){var n=e.authenticator;n?(delete e.authenticator,t.container.lookup(n).restore(e).then(function(e){t.setup(n,e,!0)},function(){t.clear(!0)})):t.clear(!0)})}.observes("store")})}),e("simple-auth/setup",["./configuration","./session","./stores/local-storage","./stores/ephemeral","exports"],function(t,e,n,i,o){"use strict";function s(t){if("*"===t)return t;if(t=t.replace("*",v),"string"===r.typeOf(t)){var e=document.createElement("a");e.href=t,e.href=e.href,t=e}var n=t.port;return r.isEmpty(n)&&(n="http:"===t.protocol?"80":"https:"===t.protocol?"443":""),t.protocol+"//"+t.hostname+(""!==n?":"+n:"")}function a(t){return function(e){if(e.indexOf(v)>-1){var n=new RegExp(e.replace(v,".+"));return t.match(n)}return e.indexOf(t)>-1}}function l(t){if(t.crossDomain===!1||d.indexOf("*")>-1)return!0;var e=y[t.url]=y[t.url]||s(t.url);return r.A(d).any(a(e))}function u(t){t.register("simple-auth-session-store:local-storage",m),t.register("simple-auth-session-store:ephemeral",g),t.register("simple-auth-session:main",f)}function c(t,e,n){l(t)&&(n.__simple_auth_authorized__=!0,c.authorizer.authorize(n,t))}function h(t,e,n,r){e.__simple_auth_authorized__&&401===e.status&&h.session.trigger("authorizationFailed")}var d,p=t["default"],f=e["default"],m=n["default"],g=i["default"],v="_wildcard_token_",y={},b=!1;o["default"]=function(t,e){e.deferReadiness(),u(t);var n=t.lookup(p.store),i=t.lookup(p.session);if(i.setProperties({store:n,container:t}),r.A(["controller","route","component"]).forEach(function(e){t.injection(e,p.sessionPropertyName,p.session)}),d=r.A(p.crossOriginWhitelist).map(function(t){return s(t)}),r.isEmpty(p.authorizer))r.Logger.info("No authorizer was configured for Ember Simple Auth - specify one if backend requests need to be authorized.");else{var o=t.lookup(p.authorizer);r.assert('The configured authorizer "'+p.authorizer+'" could not be found in the container.',!r.isEmpty(o)),o.set("session",i),c.authorizer=o,h.session=i,b||(r.$.ajaxPrefilter("+*",c),r.$(document).ajaxError(h),b=!0)}var a=function(){e.advanceReadiness()};i.restore().then(a,a)}}),e("simple-auth/stores/base",["../utils/objects-are-equal","exports"],function(t,e){"use strict";t["default"];e["default"]=r.Object.extend(r.Evented,{persist:function(t){},restore:function(){return{}},clear:function(){}})}),e("simple-auth/stores/ephemeral",["./base","exports"],function(t,e){"use strict";var n=t["default"];e["default"]=n.extend({init:function(){this.clear()},persist:function(t){this._data=JSON.stringify(t||{})},restore:function(){return JSON.parse(this._data)||{}},clear:function(){delete this._data,this._data="{}"}})}),e("simple-auth/stores/local-storage",["./base","../utils/objects-are-equal","../configuration","exports"],function(t,e,n,i){"use strict";var o=t["default"],s=e["default"],a=n["default"];i["default"]=o.extend({key:"ember_simple_auth:session",init:function(){this.key=a.localStorageKey,this.bindToStorageEvents()},persist:function(t){t=JSON.stringify(t||{}),localStorage.setItem(this.key,t),this._lastData=this.restore()},restore:function(){var t=localStorage.getItem(this.key);return JSON.parse(t)||{}},clear:function(){localStorage.removeItem(this.key),this._lastData={}},bindToStorageEvents:function(){var t=this;r.$(window).bind("storage",function(e){var n=t.restore();s(n,t._lastData)||(t._lastData=n,t.trigger("sessionDataUpdated",n))})}})}),e("simple-auth/utils/get-global-config",["exports"],function(t){"use strict";var e="undefined"!=typeof window?window:{};t["default"]=function(t){return r.get(e,"ENV."+t)||{}}}),e("simple-auth/utils/load-config",["exports"],function(t){"use strict";t["default"]=function(t,e){return function(n,i){var o=r.Object.create(i);for(var s in this)this.hasOwnProperty(s)&&"function"!==r.typeOf(this[s])&&(this[s]=o.getWithDefault(s,t[s]));e&&e.apply(this,[n,i])}}}),e("simple-auth/utils/objects-are-equal",["exports"],function(t){"use strict";function e(t,n){if(t===n)return!0;if(!(t instanceof Object&&n instanceof Object))return!1;if(t.constructor!==n.constructor)return!1;for(var i in t)if(t.hasOwnProperty(i)){if(!n.hasOwnProperty(i))return!1;if(t[i]!==n[i]){if("object"!==r.typeOf(t[i]))return!1;if(!e(t[i],n[i]))return!1}}for(i in n)if(n.hasOwnProperty(i)&&!t.hasOwnProperty(i))return!1;return!0}t["default"]=e})}(this),function(t){var e=t.define,n=t.require,r=t.Ember;"undefined"==typeof r&&"undefined"!=typeof n&&(r=n("ember")),r.libraries.register("Ember Simple Auth OAuth 2.0","0.7.3"),e("simple-auth-oauth2/authenticators/oauth2",["simple-auth/authenticators/base","./../configuration","exports"],function(t,e,n){"use strict";var i=t["default"],o=e["default"];n["default"]=i.extend({serverTokenEndpoint:"/token",serverTokenRevocationEndpoint:null,refreshAccessTokens:!0,_refreshTokenTimeout:null,init:function(){this.serverTokenEndpoint=o.serverTokenEndpoint,this.serverTokenRevocationEndpoint=o.serverTokenRevocationEndpoint,this.refreshAccessTokens=o.refreshAccessTokens},restore:function(t){var e=this;return new r.RSVP.Promise(function(n,i){var o=(new Date).getTime();!r.isEmpty(t.expires_at)&&t.expires_at<o?e.refreshAccessTokens?e.refreshAccessToken(t.expires_in,t.refresh_token).then(function(t){n(t)},i):i():r.isEmpty(t.access_token)?i():(e.scheduleAccessTokenRefresh(t.expires_in,t.expires_at,t.refresh_token),n(t))})},authenticate:function(t){var e=this;return new r.RSVP.Promise(function(n,i){var o={grant_type:"password",username:t.identification,password:t.password};if(!r.isEmpty(t.scope)){var s=r.makeArray(t.scope).join(" ");r.merge(o,{scope:s})}e.makeRequest(e.serverTokenEndpoint,o).then(function(t){r.run(function(){var i=e.absolutizeExpirationTime(t.expires_in);e.scheduleAccessTokenRefresh(t.expires_in,i,t.refresh_token),r.isEmpty(i)||(t=r.merge(t,{expires_at:i})),n(t)})},function(t,e,n){r.run(function(){i(t.responseJSON||t.responseText)})})})},invalidate:function(t){function e(t){r.run.cancel(n._refreshTokenTimeout),delete n._refreshTokenTimeout,t()}var n=this;return new r.RSVP.Promise(function(i,o){if(r.isEmpty(n.serverTokenRevocationEndpoint))e(i);else{var s=[];r.A(["access_token","refresh_token"]).forEach(function(e){r.isEmpty(t[e])||s.push(n.makeRequest(n.serverTokenRevocationEndpoint,{token_type_hint:e,token:t[e]}))}),r.$.when.apply(r.$,s).always(function(t){e(i)})}})},makeRequest:function(t,e){return r.$.ajax({url:t,type:"POST",data:e,dataType:"json",contentType:"application/x-www-form-urlencoded"})},scheduleAccessTokenRefresh:function(t,e,n){if(this.refreshAccessTokens){var i=(new Date).getTime();r.isEmpty(e)&&!r.isEmpty(t)&&(e=new Date(i+1e3*t).getTime());var o=1e3*(Math.floor(5*Math.random())+5);!r.isEmpty(n)&&!r.isEmpty(e)&&e>i-o&&(r.run.cancel(this._refreshTokenTimeout),delete this._refreshTokenTimeout,r.testing||(this._refreshTokenTimeout=r.run.later(this,this.refreshAccessToken,t,n,e-i-o)))}},refreshAccessToken:function(t,e){var n=this,i={grant_type:"refresh_token",refresh_token:e};return new r.RSVP.Promise(function(o,s){n.makeRequest(n.serverTokenEndpoint,i).then(function(i){r.run(function(){t=i.expires_in||t,e=i.refresh_token||e;var s=n.absolutizeExpirationTime(t),a=r.merge(i,{expires_in:t,expires_at:s,refresh_token:e});n.scheduleAccessTokenRefresh(t,null,e),n.trigger("sessionDataUpdated",a),o(a)})},function(t,e,n){r.Logger.warn("Access token could not be refreshed - server responded with "+n+"."),s()})})},absolutizeExpirationTime:function(t){return r.isEmpty(t)?void 0:new Date((new Date).getTime()+1e3*t).getTime()}})}),e("simple-auth-oauth2/authorizers/oauth2",["simple-auth/authorizers/base","exports"],function(t,e){"use strict";var n=t["default"];e["default"]=n.extend({authorize:function(t,e){var n=this.get("session.access_token");this.get("session.isAuthenticated")&&!r.isEmpty(n)&&t.setRequestHeader("Authorization","Bearer "+n)}})}),e("simple-auth-oauth2/configuration",["simple-auth/utils/load-config","exports"],function(t,e){"use strict";var n=t["default"],r={serverTokenEndpoint:"/token",serverTokenRevocationEndpoint:null,refreshAccessTokens:!0};e["default"]={serverTokenEndpoint:r.serverTokenEndpoint,serverTokenRevocationEndpoint:r.serverTokenRevocationEndpoint,refreshAccessTokens:r.refreshAccessTokens,load:n(r)}}),e("simple-auth-oauth2/ember",["./initializer"],function(t){"use strict";var e=t["default"];r.onLoad("Ember.Application",function(t){t.initializer(e)})}),e("simple-auth-oauth2/initializer",["./configuration","simple-auth/utils/get-global-config","simple-auth-oauth2/authenticators/oauth2","simple-auth-oauth2/authorizers/oauth2","exports"],function(t,e,n,r,i){"use strict";var o=t["default"],s=e["default"],a=n["default"],l=r["default"];i["default"]={name:"simple-auth-oauth2",before:"simple-auth",initialize:function(t,e){var n=s("simple-auth-oauth2");o.load(t,n),t.register("simple-auth-authorizer:oauth2-bearer",l),t.register("simple-auth-authenticator:oauth2-password-grant",a)}}})}(this),function(t,e,n){function r(e,n){this.bodyOverflowX,this.callbacks={hide:[],show:[]},this.checkInterval=null,this.Content,this.$el=t(e),this.$elProxy,this.elProxyPosition,this.enabled=!0,this.options=t.extend({},l,n),this.mouseIsOverProxy=!1,this.namespace="tooltipster-"+Math.round(1e5*Math.random()),this.Status="hidden",this.timerHide=null,this.timerShow=null,this.$tooltip,this.options.iconTheme=this.options.iconTheme.replace(".",""),this.options.theme=this.options.theme.replace(".",""),this._init()}function i(e,n){var r=!0;return t.each(e,function(t,i){return"undefined"==typeof n[t]||e[t]!==n[t]?(r=!1,!1):void 0}),r}function o(){return!c&&u}function s(){var t=n.body||n.documentElement,e=t.style,r="transition";if("string"==typeof e[r])return!0;v=["Moz","Webkit","Khtml","O","ms"],r=r.charAt(0).toUpperCase()+r.substr(1);for(var i=0;i<v.length;i++)if("string"==typeof e[v[i]+r])return!0;return!1}var a="tooltipster",l={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,debug:!0,delay:200,minWidth:0,maxWidth:null,functionInit:function(t,e){},functionBefore:function(t,e){e()},functionReady:function(t,e){},functionAfter:function(t){},hideOnClick:!1,icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,positionTrackerCallback:function(t){"hover"==this.option("trigger")&&this.option("autoClose")&&this.hide()},restoration:"current",speed:350,timer:0,theme:"tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0};r.prototype={_init:function(){var e=this;if(n.querySelector){var r=null;void 0===e.$el.data("tooltipster-initialTitle")&&(r=e.$el.attr("title"),void 0===r&&(r=null),e.$el.data("tooltipster-initialTitle",r)),null!==e.options.content?e._content_set(e.options.content):e._content_set(r);var i=e.options.functionInit.call(e.$el,e.$el,e.Content);"undefined"!=typeof i&&e._content_set(i),e.$el.removeAttr("title").addClass("tooltipstered"),!u&&e.options.iconDesktop||u&&e.options.iconTouch?("string"==typeof e.options.icon?(e.$elProxy=t('<span class="'+e.options.iconTheme+'"></span>'),e.$elProxy.text(e.options.icon)):e.options.iconCloning?e.$elProxy=e.options.icon.clone(!0):e.$elProxy=e.options.icon,e.$elProxy.insertAfter(e.$el)):e.$elProxy=e.$el,"hover"==e.options.trigger?(e.$elProxy.on("mouseenter."+e.namespace,function(){(!o()||e.options.touchDevices)&&(e.mouseIsOverProxy=!0,e._show())}).on("mouseleave."+e.namespace,function(){(!o()||e.options.touchDevices)&&(e.mouseIsOverProxy=!1)}),u&&e.options.touchDevices&&e.$elProxy.on("touchstart."+e.namespace,function(){e._showNow()})):"click"==e.options.trigger&&e.$elProxy.on("click."+e.namespace,function(){(!o()||e.options.touchDevices)&&e._show()})}},_show:function(){var t=this;"shown"!=t.Status&&"appearing"!=t.Status&&(t.options.delay?t.timerShow=setTimeout(function(){("click"==t.options.trigger||"hover"==t.options.trigger&&t.mouseIsOverProxy)&&t._showNow()},t.options.delay):t._showNow())},_showNow:function(n){var r=this;r.options.functionBefore.call(r.$el,r.$el,function(){if(r.enabled&&null!==r.Content){n&&r.callbacks.show.push(n),r.callbacks.hide=[],clearTimeout(r.timerShow),r.timerShow=null,clearTimeout(r.timerHide),r.timerHide=null,r.options.onlyOne&&t(".tooltipstered").not(r.$el).each(function(e,n){var r=t(n),i=r.data("tooltipster-ns");t.each(i,function(t,e){var n=r.data(e),i=n.status(),o=n.option("autoClose");"hidden"!==i&&"disappearing"!==i&&o&&n.hide()})});var i=function(){r.Status="shown",t.each(r.callbacks.show,function(t,e){e.call(r.$el)}),r.callbacks.show=[]};if("hidden"!==r.Status){var o=0;"disappearing"===r.Status?(r.Status="appearing",s()?(r.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+r.options.animation+"-show"),r.options.speed>0&&r.$tooltip.delay(r.options.speed),r.$tooltip.queue(i)):r.$tooltip.stop().fadeIn(i)):"shown"===r.Status&&i()}else{r.Status="appearing";var o=r.options.speed;r.bodyOverflowX=t("body").css("overflow-x"),t("body").css("overflow-x","hidden");var a="tooltipster-"+r.options.animation,l="-webkit-transition-duration: "+r.options.speed+"ms; -webkit-animation-duration: "+r.options.speed+"ms; -moz-transition-duration: "+r.options.speed+"ms; -moz-animation-duration: "+r.options.speed+"ms; -o-transition-duration: "+r.options.speed+"ms; -o-animation-duration: "+r.options.speed+"ms; -ms-transition-duration: "+r.options.speed+"ms; -ms-animation-duration: "+r.options.speed+"ms; transition-duration: "+r.options.speed+"ms; animation-duration: "+r.options.speed+"ms;",c=r.options.minWidth?"min-width:"+Math.round(r.options.minWidth)+"px;":"",h=r.options.maxWidth?"max-width:"+Math.round(r.options.maxWidth)+"px;":"",d=r.options.interactive?"pointer-events: auto;":"";if(r.$tooltip=t('<div class="tooltipster-base '+r.options.theme+'" style="'+c+" "+h+" "+d+" "+l+'"><div class="tooltipster-content"></div></div>'),s()&&r.$tooltip.addClass(a),r._content_insert(),r.$tooltip.appendTo("body"),r.reposition(),r.options.functionReady.call(r.$el,r.$el,r.$tooltip),s()?(r.$tooltip.addClass(a+"-show"),r.options.speed>0&&r.$tooltip.delay(r.options.speed),r.$tooltip.queue(i)):r.$tooltip.css("display","none").fadeIn(r.options.speed,i),r._interval_set(),t(e).on("scroll."+r.namespace+" resize."+r.namespace,function(){r.reposition()}),r.options.autoClose)if(t("body").off("."+r.namespace),"hover"==r.options.trigger){if(u&&setTimeout(function(){t("body").on("touchstart."+r.namespace,function(){r.hide()})},0),r.options.interactive){u&&r.$tooltip.on("touchstart."+r.namespace,function(t){t.stopPropagation()});var p=null;r.$elProxy.add(r.$tooltip).on("mouseleave."+r.namespace+"-autoClose",function(){clearTimeout(p),p=setTimeout(function(){r.hide()},r.options.interactiveTolerance)}).on("mouseenter."+r.namespace+"-autoClose",function(){clearTimeout(p)})}else r.$elProxy.on("mouseleave."+r.namespace+"-autoClose",function(){r.hide()});r.options.hideOnClick&&r.$elProxy.on("click."+r.namespace+"-autoClose",function(){r.hide()})}else"click"==r.options.trigger&&(setTimeout(function(){t("body").on("click."+r.namespace+" touchstart."+r.namespace,function(){r.hide()})},0),r.options.interactive&&r.$tooltip.on("click."+r.namespace+" touchstart."+r.namespace,function(t){t.stopPropagation()}))}r.options.timer>0&&(r.timerHide=setTimeout(function(){r.timerHide=null,r.hide()},r.options.timer+o))}})},_interval_set:function(){var e=this;e.checkInterval=setInterval(function(){if(0===t("body").find(e.$el).length||0===t("body").find(e.$elProxy).length||"hidden"==e.Status||0===t("body").find(e.$tooltip).length)("shown"==e.Status||"appearing"==e.Status)&&e.hide(),e._interval_cancel();else if(e.options.positionTracker){var n=e._repositionInfo(e.$elProxy),r=!1;i(n.dimension,e.elProxyPosition.dimension)&&("fixed"===e.$elProxy.css("position")?i(n.position,e.elProxyPosition.position)&&(r=!0):i(n.offset,e.elProxyPosition.offset)&&(r=!0)),r||(e.reposition(),e.options.positionTrackerCallback.call(e,e.$el))}},200)},_interval_cancel:function(){clearInterval(this.checkInterval),this.checkInterval=null},_content_set:function(t){"object"==typeof t&&null!==t&&this.options.contentCloning&&(t=t.clone(!0)),this.Content=t},_content_insert:function(){var t=this,e=this.$tooltip.find(".tooltipster-content");"string"!=typeof t.Content||t.options.contentAsHTML?e.empty().append(t.Content):e.text(t.Content)},_update:function(t){var e=this;e._content_set(t),null!==e.Content?"hidden"!==e.Status&&(e._content_insert(),e.reposition(),e.options.updateAnimation&&(s()?(e.$tooltip.css({width:"","-webkit-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!=e.Status&&(e.$tooltip.removeClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!==e.Status&&e.$tooltip.css({"-webkit-transition":e.options.speed+"ms","-moz-transition":e.options.speed+"ms","-o-transition":e.options.speed+"ms","-ms-transition":e.options.speed+"ms",transition:e.options.speed+"ms"})},e.options.speed))},e.options.speed)):e.$tooltip.fadeTo(e.options.speed,.5,function(){"hidden"!=e.Status&&e.$tooltip.fadeTo(e.options.speed,1)}))):e.hide()},_repositionInfo:function(t){return{dimension:{height:t.outerHeight(!1),width:t.outerWidth(!1)},offset:t.offset(),position:{left:parseInt(t.css("left")),top:parseInt(t.css("top"))}}},hide:function(n){var r=this;n&&r.callbacks.hide.push(n),r.callbacks.show=[],clearTimeout(r.timerShow),r.timerShow=null,clearTimeout(r.timerHide),r.timerHide=null;var i=function(){t.each(r.callbacks.hide,function(t,e){e.call(r.$el)}),r.callbacks.hide=[]};if("shown"==r.Status||"appearing"==r.Status){r.Status="disappearing";var o=function(){r.Status="hidden","object"==typeof r.Content&&null!==r.Content&&r.Content.detach(),r.$tooltip.remove(),r.$tooltip=null,t(e).off("."+r.namespace),t("body").off("."+r.namespace).css("overflow-x",r.bodyOverflowX),t("body").off("."+r.namespace),r.$elProxy.off("."+r.namespace+"-autoClose"),r.options.functionAfter.call(r.$el,r.$el),i()};s()?(r.$tooltip.clearQueue().removeClass("tooltipster-"+r.options.animation+"-show").addClass("tooltipster-dying"),r.options.speed>0&&r.$tooltip.delay(r.options.speed),r.$tooltip.queue(o)):r.$tooltip.stop().fadeOut(r.options.speed,o)}else"hidden"==r.Status&&i();return r},show:function(t){return this._showNow(t),this},update:function(t){return this.content(t)},content:function(t){return"undefined"==typeof t?this.Content:(this._update(t),this)},reposition:function(){function n(){var n=t(e).scrollLeft();0>P-n&&(o=P-n,P=n),P+l-n>s&&(o=P-(s+n-l),P=s+n-l)}function r(n,r){a.offset.top-t(e).scrollTop()-u-O-12<0&&r.indexOf("top")>-1&&(M=n),a.offset.top+a.dimension.height+u+12+O>t(e).scrollTop()+t(e).height()&&r.indexOf("bottom")>-1&&(M=n,L=a.offset.top-u-O-12)}var i=this;if(0!==t("body").find(i.$tooltip).length){i.$tooltip.css("width",""),i.elProxyPosition=i._repositionInfo(i.$elProxy);var o=null,s=t(e).width(),a=i.elProxyPosition,l=i.$tooltip.outerWidth(!1),u=(i.$tooltip.innerWidth()+1,i.$tooltip.outerHeight(!1));if(i.$elProxy.is("area")){var c=i.$elProxy.attr("shape"),h=i.$elProxy.parent().attr("name"),d=t('img[usemap="#'+h+'"]'),p=d.offset().left,f=d.offset().top,m=void 0!==i.$elProxy.attr("coords")?i.$elProxy.attr("coords").split(","):void 0;if("circle"==c){var g=parseInt(m[0]),v=parseInt(m[1]),y=parseInt(m[2]);a.dimension.height=2*y,a.dimension.width=2*y,a.offset.top=f+v-y,a.offset.left=p+g-y}else if("rect"==c){var g=parseInt(m[0]),v=parseInt(m[1]),b=parseInt(m[2]),_=parseInt(m[3]);a.dimension.height=_-v,a.dimension.width=b-g,a.offset.top=f+v,a.offset.left=p+g}else if("poly"==c){for(var w=0,x=0,C=0,T=0,E="even",k=0;k<m.length;k++){var S=parseInt(m[k]);"even"==E?(S>C&&(C=S,0===k&&(w=C)),w>S&&(w=S),E="odd"):(S>T&&(T=S,1==k&&(x=T)),x>S&&(x=S),E="even")}a.dimension.height=T-x,a.dimension.width=C-w,a.offset.top=f+x,a.offset.left=p+w}else a.dimension.height=d.outerHeight(!1),a.dimension.width=d.outerWidth(!1),a.offset.top=f,a.offset.left=p}var P=0,A=0,L=0,O=parseInt(i.options.offsetY),D=parseInt(i.options.offsetX),M=i.options.position;if("top"==M){var R=a.offset.left+l-(a.offset.left+a.dimension.width);P=a.offset.left+D-R/2,L=a.offset.top-u-O-12,n(),r("bottom","top")}if("top-left"==M&&(P=a.offset.left+D,L=a.offset.top-u-O-12,n(),r("bottom-left","top-left")),"top-right"==M&&(P=a.offset.left+a.dimension.width+D-l,L=a.offset.top-u-O-12,n(),r("bottom-right","top-right")),"bottom"==M){var R=a.offset.left+l-(a.offset.left+a.dimension.width);P=a.offset.left-R/2+D,L=a.offset.top+a.dimension.height+O+12,n(),r("top","bottom")}if("bottom-left"==M&&(P=a.offset.left+D,L=a.offset.top+a.dimension.height+O+12,n(),r("top-left","bottom-left")),"bottom-right"==M&&(P=a.offset.left+a.dimension.width+D-l,L=a.offset.top+a.dimension.height+O+12,n(),r("top-right","bottom-right")),"left"==M){P=a.offset.left-D-l-12,A=a.offset.left+D+a.dimension.width+12;var N=a.offset.top+u-(a.offset.top+a.dimension.height);if(L=a.offset.top-N/2-O,0>P&&A+l>s){var F=2*parseFloat(i.$tooltip.css("border-width")),I=l+P-F;i.$tooltip.css("width",I+"px"),u=i.$tooltip.outerHeight(!1),P=a.offset.left-D-I-12-F,N=a.offset.top+u-(a.offset.top+a.dimension.height),L=a.offset.top-N/2-O}else 0>P&&(P=a.offset.left+D+a.dimension.width+12,o="left")}if("right"==M){P=a.offset.left+D+a.dimension.width+12,A=a.offset.left-D-l-12;var N=a.offset.top+u-(a.offset.top+a.dimension.height);if(L=a.offset.top-N/2-O,P+l>s&&0>A){var F=2*parseFloat(i.$tooltip.css("border-width")),I=s-P-F;i.$tooltip.css("width",I+"px"),u=i.$tooltip.outerHeight(!1),N=a.offset.top+u-(a.offset.top+a.dimension.height),L=a.offset.top-N/2-O}else P+l>s&&(P=a.offset.left-D-l-12,o="right")}if(i.options.arrow){var B="tooltipster-arrow-"+M;if(i.options.arrowColor.length<1)var j=i.$tooltip.css("background-color");else var j=i.options.arrowColor;if(o?"left"==o?(B="tooltipster-arrow-right",o=""):"right"==o?(B="tooltipster-arrow-left",o=""):o="left:"+Math.round(o)+"px;":o="","top"==M||"top-left"==M||"top-right"==M)var z=parseFloat(i.$tooltip.css("border-bottom-width")),V=i.$tooltip.css("border-bottom-color");else if("bottom"==M||"bottom-left"==M||"bottom-right"==M)var z=parseFloat(i.$tooltip.css("border-top-width")),V=i.$tooltip.css("border-top-color");else if("left"==M)var z=parseFloat(i.$tooltip.css("border-right-width")),V=i.$tooltip.css("border-right-color");else if("right"==M)var z=parseFloat(i.$tooltip.css("border-left-width")),V=i.$tooltip.css("border-left-color");else var z=parseFloat(i.$tooltip.css("border-bottom-width")),V=i.$tooltip.css("border-bottom-color");z>1&&z++;var H="";if(0!==z){var U="",W="border-color: "+V+";";-1!==B.indexOf("bottom")?U="margin-top: -"+Math.round(z)+"px;":-1!==B.indexOf("top")?U="margin-bottom: -"+Math.round(z)+"px;":-1!==B.indexOf("left")?U="margin-right: -"+Math.round(z)+"px;":-1!==B.indexOf("right")&&(U="margin-left: -"+Math.round(z)+"px;"),H='<span class="tooltipster-arrow-border" style="'+U+" "+W+';"></span>'}i.$tooltip.find(".tooltipster-arrow").remove();var q='<div class="'+B+' tooltipster-arrow" style="'+o+'">'+H+'<span style="border-color:'+j+';"></span></div>';i.$tooltip.append(q)}i.$tooltip.css({top:Math.round(L)+"px",left:Math.round(P)+"px"})}return i},enable:function(){return this.enabled=!0,this},disable:function(){return this.hide(),this.enabled=!1,this},destroy:function(){var e=this;e.hide(),e.$el[0]!==e.$elProxy[0]&&e.$elProxy.remove(),e.$el.removeData(e.namespace).off("."+e.namespace);var n=e.$el.data("tooltipster-ns");if(1===n.length){var r=null;"previous"===e.options.restoration?r=e.$el.data("tooltipster-initialTitle"):"current"===e.options.restoration&&(r="string"==typeof e.Content?e.Content:t("<div></div>").append(e.Content).html()),r&&e.$el.attr("title",r),e.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else n=t.grep(n,function(t,n){return t!==e.namespace}),e.$el.data("tooltipster-ns",n);return e},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(t,e){return"undefined"==typeof e?this.options[t]:(this.options[t]=e,this)},status:function(){return this.Status}},t.fn[a]=function(){var e=arguments;if(0===this.length){if("string"==typeof e[0]){var n=!0;switch(e[0]){case"setDefaults":t.extend(l,e[1]);break;default:n=!1}return n?!0:this}return this}if("string"==typeof e[0]){var i="#*$~&";return this.each(function(){var n=t(this).data("tooltipster-ns"),r=n?t(this).data(n[0]):null;if(!r)throw new Error("You called Tooltipster's \""+e[0]+'" method on an uninitialized element');if("function"!=typeof r[e[0]])throw new Error('Unknown method .tooltipster("'+e[0]+'")');var o=r[e[0]](e[1],e[2]);return o!==r?(i=o,!1):void 0}),"#*$~&"!==i?i:this}var o=[],s=e[0]&&"undefined"!=typeof e[0].multiple,a=s&&e[0].multiple||!s&&l.multiple,u=e[0]&&"undefined"!=typeof e[0].debug,c=u&&e[0].debug||!u&&l.debug;return this.each(function(){var n=!1,i=t(this).data("tooltipster-ns"),s=null;i?a?n=!0:c&&console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'):n=!0,n&&(s=new r(this,e[0]),i||(i=[]),i.push(s.namespace),t(this).data("tooltipster-ns",i),t(this).data(s.namespace,s)),o.push(s)}),a?o:this};var u=!!("ontouchstart"in e),c=!1;t("body").one("mousemove",function(){c=!0})}(jQuery,window,document),function(){"use strict";function t(t){var e=Error.prototype.constructor.call(this,"The backend rejected the commit because it was invalid: "+Ember.inspect(t));this.errors=t;for(var n=0,r=pt.length;r>n;n++)this[pt[n]]=e[pt[n]]}function e(t,e){return"function"!=typeof String.prototype.endsWith?-1!==t.indexOf(e,t.length-e.length):t.endsWith(e)}function n(t,e){for(var n=0,r=e.length;r>n;n++)t.uncountable[e[n].toLowerCase()]=!0}function r(t,e){for(var n,r=0,i=e.length;i>r;r++)n=e[r],t.irregular[n[0].toLowerCase()]=n[1],t.irregular[n[1].toLowerCase()]=n[1],t.irregularInverse[n[1].toLowerCase()]=n[0],t.irregularInverse[n[0].toLowerCase()]=n[0]}function i(t){t=t||{},t.uncountable=t.uncountable||o(),t.irregularPairs=t.irregularPairs||o();var e=this.rules={plurals:t.plurals||[],singular:t.singular||[],irregular:o(),irregularInverse:o(),uncountable:o()};n(e,t.uncountable),r(e,t.irregularPairs),this.enableCache()}function o(){var t=Object.create(null);return t._dict=null,delete t._dict,t}function s(t){return Dt.inflector.pluralize(t)}function a(t){return Dt.inflector.singularize(t)}function l(t){return null==t?null:t+""}function u(t){this.container=t}function c(t,e){var n=new re(t);n.registerDeprecations([{deprecated:"serializer:_ams",valid:"serializer:-active-model"},{deprecated:"adapter:_ams",valid:"adapter:-active-model"}]),t.register("serializer:-active-model",ne),t.register("adapter:-active-model",It)}function h(t){return function(){var e=le(this,"content");return e[t].apply(e,arguments)}}function d(t){var e=Ember.create(null);for(var n in t)e[n]=t[n];return e}function p(t){t.destroy()}function f(t){for(var e=t.length,n=Ember.A(),r=0;e>r;r++)n=n.concat(t[r]);return n}function m(t,e){e.value===e.originalValue?(delete t._attributes[e.name],t.send("propertyWasReset",e.name)):e.value!==e.oldValue&&t.send("becomeDirty"),t.updateRecordArraysLater()}function g(t){var e,n={};for(var r in t)e=t[r],e&&"object"==typeof e?n[r]=g(e):n[r]=e;return n}function v(t,e){for(var n in e)t[n]=e[n];return t}function y(t){var e=g(Le);return v(e,t)}function b(t){}function _(t,e,n){t=v(e?Ember.create(e):{},t),t.parentState=e,t.stateName=n;for(var r in t)t.hasOwnProperty(r)&&"parentState"!==r&&"stateName"!==r&&"object"==typeof t[r]&&(t[r]=_(t[r],t,n+"."+r));return t}function w(t,e){if(!e||"object"!=typeof e)return t;for(var n,r=Ember.keys(e),i=r.length,o=0;i>o;o++)n=r[o],t[n]=e[n];return t}function x(t){var e=new Ct;if(t)for(var n=0,r=t.length;r>n;n++)e.add(t[n]);return e}function C(t){if(this._attributes=Ember.create(null),this._belongsToRelationships=Ember.create(null),this._belongsToIds=Ember.create(null),this._hasManyRelationships=Ember.create(null),this._hasManyIds=Ember.create(null),t.eachAttribute(function(e){this._attributes[e]=Ye(t,e)},this),this.id=Ye(t,"id"),this.record=t,this.type=t.constructor,this.typeKey=t.constructor.typeKey,Ember.platform.hasPropertyAccessors){var e=!0;Ember.defineProperty(this,"constructor",{get:function(){return e&&(e=!1,e=!0),this.type}})}else this.constructor=this.type}function T(t){return on[t]||(on[t]=t.split("."));
}function E(t){return rn[t]||(rn[t]=T(t)[0])}function k(t,e){var n=[];if(!e||"object"!=typeof e)return n;var r,i,o,s=Ember.keys(e),a=s.length;for(r=0;a>r;r++)o=s[r],i=e[o],t[o]!==i&&n.push(o),t[o]=i;return n}function S(t,e,n){return"function"==typeof e.defaultValue?e.defaultValue.apply(null,arguments):e.defaultValue}function P(t,e){return e in t._attributes||e in t._inFlightAttributes||t._data.hasOwnProperty(e)}function A(t,e){return e in t._attributes?t._attributes[e]:e in t._inFlightAttributes?t._inFlightAttributes[e]:t._data[e]}function L(t,e){"object"==typeof t?(e=t,t=void 0):e=e||{};var n={type:t,isAttribute:!0,options:e};return Ember.computed(function(t,n){if(arguments.length>1){var r=A(this,t);return n!==r&&(this._attributes[t]=n,this.send("didSetProperty",{name:t,oldValue:r,originalValue:this._data[t],value:n})),n}return P(this,t)?A(this,t):S(this,e,t)}).meta(n)}function O(t){return null==t?null:t+""}function D(t,e,n,r){return e.eachRelationship(function(e,r){var i=r.kind,o=n[e];"belongsTo"===i?M(t,n,e,r,o):"hasMany"===i&&N(t,n,e,r,o)}),n}function M(t,e,n,r,i){if(!(gn(i)||i instanceof an)){var o;"number"==typeof i||"string"==typeof i?(o=R(r,n,e),e[n]=t.recordForId(o,i)):"object"==typeof i&&(e[n]=t.recordForId(i.type,i.id))}}function R(t,e,n){return t.options.polymorphic?n[e+"Type"]:t.type}function N(t,e,n,r,i){if(!gn(i))for(var o=0,s=i.length;s>o;o++)M(t,i,o,r,i[o])}function F(t,e,n){return t.lookup("serializer:"+e)||t.lookup("serializer:application")||t.lookup("serializer:"+n)||t.lookup("serializer:-default")}function I(t){return t.lookup("serializer:application")||t.lookup("serializer:-default")}function B(t,e){var n=t.serializer,r=t.defaultSerializer,i=t.container;return i&&void 0===n&&(n=F(i,e.typeKey,r)),(null===n||void 0===n)&&(n={extract:function(t,e,n){return n}}),n}function j(t){return!(pn(t,"isDestroyed")||pn(t,"isDestroying"))}function z(t,e){var n=t["finally"](function(){e()||(n._subscribers.length=0)});return n}function V(t,e){return t._backburner.run(e)}function H(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(void 0,e)}}function U(t,e,n,r,i){var o=t.find(e,n,r,i),s=B(t,n),a="DS: Handle Adapter#find of "+n+" with id: "+r;return o=_n.cast(o,a),o=z(o,H(j,e)),o.then(function(t){return V(e,function(){var i=s.extract(e,n,t,r,"find");return e.push(n,i)})},function(t){var i=e.getById(n,r);throw i&&(i.notFound(),pn(i,"isEmpty")&&e.unloadRecord(i)),t},"DS: Extract payload of '"+n+"'")}function W(t,e,n,r,i){var o=t.findMany(e,n,r,i),s=B(t,n),a="DS: Handle Adapter#findMany of "+n;if(void 0===o)throw new Error("adapter.findMany returned undefined, this was very likely a mistake");return o=_n.cast(o,a),o=z(o,H(j,e)),o.then(function(t){return V(e,function(){var r=s.extract(e,n,t,null,"findMany");return e.pushMany(n,r)})},null,"DS: Extract payload of "+n)}function q(t,e,n,r,i){var o=t.findHasMany(e,n,r,i),s=B(t,i.type),a="DS: Handle Adapter#findHasMany of "+n+" : "+i.type;return o=_n.cast(o,a),o=z(o,H(j,e)),o=z(o,H(j,n)),o.then(function(t){return V(e,function(){var n=s.extract(e,i.type,t,null,"findHasMany"),r=e.pushMany(i.type,n);return r})},null,"DS: Extract payload of "+n+" : hasMany "+i.type)}function $(t,e,n,r,i){var o=t.findBelongsTo(e,n,r,i),s=B(t,i.type),a="DS: Handle Adapter#findBelongsTo of "+n+" : "+i.type;return o=_n.cast(o,a),o=z(o,H(j,e)),o=z(o,H(j,n)),o.then(function(t){return V(e,function(){var n=s.extract(e,i.type,t,null,"findBelongsTo");if(!n)return null;var r=e.push(i.type,n);return r})},null,"DS: Extract payload of "+n+" : "+i.type)}function G(t,e,n,r){var i=t.findAll(e,n,r),o=B(t,n),s="DS: Handle Adapter#findAll of "+n;return i=_n.cast(i,s),i=z(i,H(j,e)),i.then(function(t){return V(e,function(){var r=o.extract(e,n,t,null,"findAll");e.pushMany(n,r)}),e.didUpdateAll(n),e.all(n)},null,"DS: Extract payload of findAll "+n)}function K(t,e,n,r,i){var o=t.findQuery(e,n,r,i),s=B(t,n),a="DS: Handle Adapter#findQuery of "+n;return o=_n.cast(o,a),o=z(o,H(j,e)),o.then(function(t){var r;return V(e,function(){r=s.extract(e,n,t,null,"findQuery")}),i.load(r),i},null,"DS: Extract payload of findQuery "+n)}function Y(e,n,r,i){var o=i.constructor,s=e[r](n,o,i),a=B(e,o),l="DS: Extract and notify about "+r+" completion of "+i;return s=_n.cast(s,l),s=z(s,H(j,n)),s=z(s,H(j,i)),s.then(function(t){var e;return V(n,function(){e=t?a.extract(n,o,t,pn(i,"id"),r):t,n.didSaveRecord(i,e)}),i},function(e){if(e instanceof t){var r=a.extractErrors(n,o,e.errors,pn(i,"id"));n.recordWasInvalid(i,r),e=new t(r)}else n.recordWasError(i,e);throw e},l)}function Z(t,e,n){var r=e.constructor;r.eachRelationship(function(t,r){var i=r.kind,o=n[t],s=e._relationships[t];if(n.links&&n.links[t]&&s.updateLink(n.links[t]),"belongsTo"===i){if(void 0===o)return;s.setCanonicalRecord(o)}else"hasMany"===i&&o&&s.updateRecordsFromAdapter(o)})}function J(t,e){t.register("store:main",t.lookupFactory("store:application")||e&&e.Store||Cn);var n=new re(t);n.registerDeprecations([{deprecated:"serializer:_default",valid:"serializer:-default"},{deprecated:"serializer:_rest",valid:"serializer:-rest"},{deprecated:"adapter:_rest",valid:"adapter:-rest"}]),t.register("serializer:-default",Wt),t.register("serializer:-rest",Yt),t.register("adapter:-rest",kt),t.lookup("store:main")}function X(t){return t===t&&t!==1/0&&t!==-(1/0)}function Q(t){t.register("transform:boolean",Dn),t.register("transform:date",An),t.register("transform:number",Sn),t.register("transform:string",On)}function tt(t){t.injection("controller","store","store:main"),t.injection("route","store","store:main"),t.injection("serializer","store","store:main"),t.injection("data-adapter","store","store:main")}function et(t){t.register("data-adapter:main",Bn)}function nt(t,e){jn(t,e),Mn(t,e),Rn(t,e),Tn(t,e),ie(t,e)}function rt(t,e,n,r){return n.eachRelationship(function(n,i){if(t.hasDeserializeRecordsOption(n)){var o=e.modelFor(i.type.typeKey);"hasMany"===i.kind&&(i.options.polymorphic?ot(e,n,r):it(e,n,o,r)),"belongsTo"===i.kind&&(i.options.polymorphic?at(e,n,r):st(e,n,o,r))}}),r}function it(t,e,n,r){if(!r[e])return r;var i=[],o=t.serializerFor(n.typeKey);return $n(r[e],function(e){var r=o.normalize(n,e,null);t.push(n,r),i.push(r.id)}),r[e]=i,r}function ot(t,e,n){if(!n[e])return n;var r=[];return $n(n[e],function(e){var n=e.type,i=t.serializerFor(n),o=t.modelFor(n),s=qn(i,"primaryKey"),a=i.normalize(o,e,null);t.push(o,a),r.push({id:a[s],type:n})}),n[e]=r,n}function st(t,e,n,r){if(!r[e])return r;var i=t.serializerFor(n.typeKey),o=i.normalize(n,r[e],null);return t.push(n,o),r[e]=o.id,r}function at(t,e,n){if(!n[e])return n;var r=n[e],i=r.type,o=t.serializerFor(i),s=t.modelFor(i),a=qn(o,"primaryKey"),l=o.normalize(s,r,null);return t.push(s,l),n[e]=l[a],n[e+"Type"]=i,n}function lt(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n={type:t,isRelationship:!0,options:e,kind:"belongsTo",key:null};return Ember.computed(function(t,e){return arguments.length>1&&(void 0===e&&(e=null),e&&e.then?this._relationships[t].setRecordPromise(e):this._relationships[t].setRecord(e)),this._relationships[t].getRecord()}).meta(n)}function ut(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n={type:t,isRelationship:!0,options:e,kind:"hasMany",key:null};return Ember.computed(function(t){var e=this._relationships[t];return e.getRecords()}).meta(n).readOnly()}function ct(t,e){var n,r;return n=e.type||e.key,"string"==typeof n?("hasMany"===e.kind&&(n=a(n)),r=t.modelFor(n)):r=e.type,r}function ht(t,e){return{key:e.key,kind:e.kind,type:ct(t,e),options:e.options,parentType:e.parentType,isRelationship:!0}}var dt=Ember.get,pt=["description","fileName","lineNumber","message","name","number","stack"];t.prototype=Ember.create(Error.prototype);var ft=Ember.Object.extend({find:Ember.required(Function),findAll:null,findQuery:null,generateIdForRecord:null,serialize:function(t,e){var n=t._createSnapshot();return dt(t,"store").serializerFor(n.typeKey).serialize(n,e)},createRecord:Ember.required(Function),updateRecord:Ember.required(Function),deleteRecord:Ember.required(Function),coalesceFindRequests:!0,groupRecordsForFindMany:function(t,e){return[e]}}),mt=ft,gt=Ember.get,vt=Ember.String.fmt,yt=Ember.EnumerableUtils.indexOf,bt=0,_t=mt.extend({serializer:null,simulateRemoteResponse:!0,latency:50,fixturesForType:function(t){if(t.FIXTURES){var e=Ember.A(t.FIXTURES);return e.map(function(t){var e=typeof t.id;if("number"!==e&&"string"!==e)throw new Error(vt("the id property must be defined as a number or string for fixture %@",[t]));return t.id=t.id+"",t})}return null},queryFixtures:function(t,e,n){},updateFixtures:function(t,e){t.FIXTURES||(t.FIXTURES=[]);var n=t.FIXTURES;this.deleteLoadedFixture(t,e),n.push(e)},mockJSON:function(t,e,n){var r=n._createSnapshot();return t.serializerFor(r.typeKey).serialize(r,{includeId:!0})},generateIdForRecord:function(t){return"fixture-"+bt++},find:function(t,e,n){var r,i=this.fixturesForType(e);return i&&(r=Ember.A(i).findBy("id",n)),r?this.simulateRemoteCall(function(){return r},this):void 0},findMany:function(t,e,n){var r=this.fixturesForType(e);return r&&(r=r.filter(function(t){return-1!==yt(n,t.id)})),r?this.simulateRemoteCall(function(){return r},this):void 0},findAll:function(t,e){var n=this.fixturesForType(e);return this.simulateRemoteCall(function(){return n},this)},findQuery:function(t,e,n,r){var i=this.fixturesForType(e);return i=this.queryFixtures(i,n,e),i?this.simulateRemoteCall(function(){return i},this):void 0},createRecord:function(t,e,n){var r=this.mockJSON(t,e,n);return this.updateFixtures(e,r),this.simulateRemoteCall(function(){return r},this)},updateRecord:function(t,e,n){var r=this.mockJSON(t,e,n);return this.updateFixtures(e,r),this.simulateRemoteCall(function(){return r},this)},deleteRecord:function(t,e,n){return this.deleteLoadedFixture(e,n),this.simulateRemoteCall(function(){return null})},deleteLoadedFixture:function(t,e){var n=this.findExistingFixture(t,e);if(n){var r=yt(t.FIXTURES,n);return t.FIXTURES.splice(r,1),!0}},findExistingFixture:function(t,e){var n=this.fixturesForType(t),r=gt(e,"id");return this.findFixtureById(n,r)},findFixtureById:function(t,e){return Ember.A(t).find(function(t){return""+gt(t,"id")==""+e?!0:!1})},simulateRemoteCall:function(t,e){var n=this;return new Ember.RSVP.Promise(function(r){var i=Ember.copy(t.call(e),!0);gt(n,"simulateRemoteResponse")?Ember.run.later(function(){r(i)},gt(n,"latency")):Ember.run.schedule("actions",null,function(){r(i)})},"DS: FixtureAdapter#simulateRemoteCall")}}),wt=Ember.Map,xt=Ember.MapWithDefault,Ct=Ember.OrderedSet,Tt=Ember.get,Et=Ember.ArrayPolyfills.forEach,kt=ft.extend({defaultSerializer:"-rest",sortQueryParams:function(t){var e=Ember.keys(t),n=e.length;if(2>n)return t;for(var r={},i=e.sort(),o=0;n>o;o++)r[i[o]]=t[i[o]];return r},coalesceFindRequests:!1,find:function(t,e,n,r){return this.ajax(this.buildURL(e.typeKey,n,r),"GET")},findAll:function(t,e,n){var r;return n&&(r={since:n}),this.ajax(this.buildURL(e.typeKey),"GET",{data:r})},findQuery:function(t,e,n){return this.sortQueryParams&&(n=this.sortQueryParams(n)),this.ajax(this.buildURL(e.typeKey),"GET",{data:n})},findMany:function(t,e,n,r){return this.ajax(this.buildURL(e.typeKey,n,r),"GET",{data:{ids:n}})},findHasMany:function(t,e,n,r){var i=Tt(this,"host"),o=Tt(e,"id"),s=e.constructor.typeKey;return i&&"/"===n.charAt(0)&&"/"!==n.charAt(1)&&(n=i+n),this.ajax(this.urlPrefix(n,this.buildURL(s,o)),"GET")},findBelongsTo:function(t,e,n,r){var i=Tt(e,"id"),o=e.constructor.typeKey;return this.ajax(this.urlPrefix(n,this.buildURL(o,i)),"GET")},createRecord:function(t,e,n){var r={},i=t.serializerFor(e.typeKey),o=n._createSnapshot();return i.serializeIntoHash(r,e,o,{includeId:!0}),this.ajax(this.buildURL(e.typeKey,null,n),"POST",{data:r})},updateRecord:function(t,e,n){var r={},i=t.serializerFor(e.typeKey),o=n._createSnapshot();i.serializeIntoHash(r,e,o);var s=Tt(n,"id");return this.ajax(this.buildURL(e.typeKey,s,n),"PUT",{data:r})},deleteRecord:function(t,e,n){var r=Tt(n,"id");return this.ajax(this.buildURL(e.typeKey,r,n),"DELETE")},buildURL:function(t,e,n){var r=[],i=Tt(this,"host"),o=this.urlPrefix();return t&&r.push(this.pathForType(t)),e&&!Ember.isArray(e)&&r.push(encodeURIComponent(e)),o&&r.unshift(o),r=r.join("/"),!i&&r&&(r="/"+r),r},urlPrefix:function(t,e){var n=Tt(this,"host"),r=Tt(this,"namespace"),i=[];return t?/^\/\//.test(t)||("/"===t.charAt(0)?n&&(t=t.slice(1),i.push(n)):/^http(s)?:\/\//.test(t)||i.push(e)):(n&&i.push(n),r&&i.push(r)),t&&i.push(t),i.join("/")},_stripIDFromURL:function(t,n){var r=n.constructor,i=this.buildURL(r.typeKey,n.get("id"),n),o=i.split("/"),s=o[o.length-1],a=n.get("id");return s===a?o[o.length-1]="":e(s,"?id="+a)&&(o[o.length-1]=s.substring(0,s.length-a.length-1)),o.join("/")},maxUrlLength:2048,groupRecordsForFindMany:function(t,e){function n(e,n,r){var o=i._stripIDFromURL(t,e[0]),s=0,a=[[]];return Et.call(e,function(t){var e=encodeURIComponent(t.get("id")).length+r;o.length+s+e>=n&&(s=0,a.push([])),s+=e;var i=a.length-1;a[i].push(t)}),a}var r=xt.create({defaultValue:function(){return[]}}),i=this,o=this.maxUrlLength;Et.call(e,function(e){var n=i._stripIDFromURL(t,e);r.get(n).push(e)});var s=[];return r.forEach(function(t,e){var r="&ids%5B%5D=".length,i=n(t,o,r);Et.call(i,function(t){s.push(t)})}),s},pathForType:function(t){var e=Ember.String.camelize(t);return Ember.String.pluralize(e)},ajaxError:function(t,e,n){var r=null!==t&&"object"==typeof t;return r&&(t.then=null,t.errorThrown||("string"==typeof n?t.errorThrown=new Error(n):t.errorThrown=n)),t},ajaxSuccess:function(t,e){return e},ajax:function(e,n,r){var i=this;return new Ember.RSVP.Promise(function(o,s){var a=i.ajaxOptions(e,n,r);a.success=function(e,n,r){e=i.ajaxSuccess(r,e),e instanceof t?Ember.run(null,s,e):Ember.run(null,o,e)},a.error=function(t,e,n){Ember.run(null,s,i.ajaxError(t,t.responseText,n))},Ember.$.ajax(a)},"DS: RESTAdapter#ajax "+n+" to "+e)},ajaxOptions:function(t,e,n){var r=n||{};r.url=t,r.type=e,r.dataType="json",r.context=this,r.data&&"GET"!==e&&(r.contentType="application/json; charset=utf-8",r.data=JSON.stringify(r.data));var i=Tt(this,"headers");return void 0!==i&&(r.beforeSend=function(t){Et.call(Ember.keys(i),function(e){t.setRequestHeader(e,i[e])})}),r}}),St=Ember.String.capitalize,Pt=/^\s*$/,At=/(\w+[_-])([a-z\d]+$)/,Lt=/(\w+)([A-Z][a-z\d]*$)/,Ot=/[A-Z][a-z\d]*$/;if(!Object.create&&!Object.create(null).hasOwnProperty)throw new Error("This browser does not support Object.create(null), please polyfil with es5-sham: http://git.io/yBU2rg");i.prototype={enableCache:function(){this.purgeCache(),this.singularize=function(t){return this._cacheUsed=!0,this._sCache[t]||(this._sCache[t]=this._singularize(t))},this.pluralize=function(t){return this._cacheUsed=!0,this._pCache[t]||(this._pCache[t]=this._pluralize(t))}},purgeCache:function(){this._cacheUsed=!1,this._sCache=o(),this._pCache=o()},disableCache:function(){this._sCache=null,this._pCache=null,this.singularize=function(t){return this._singularize(t)},this.pluralize=function(t){return this._pluralize(t)}},plural:function(t,e){this._cacheUsed&&this.purgeCache(),this.rules.plurals.push([t,e.toLowerCase()])},singular:function(t,e){this._cacheUsed&&this.purgeCache(),this.rules.singular.push([t,e.toLowerCase()])},uncountable:function(t){this._cacheUsed&&this.purgeCache(),n(this.rules,[t.toLowerCase()])},irregular:function(t,e){this._cacheUsed&&this.purgeCache(),r(this.rules,[[t,e]])},pluralize:function(t){return this._pluralize(t)},_pluralize:function(t){return this.inflect(t,this.rules.plurals,this.rules.irregular)},singularize:function(t){return this._singularize(t)},_singularize:function(t){return this.inflect(t,this.rules.singular,this.rules.irregularInverse)},inflect:function(t,e,n){var r,i,o,s,a,l,u,c,h,d,p,f;if(c=Pt.test(t),h=Ot.test(t),l="",c)return t;if(s=t.toLowerCase(),a=At.exec(t)||Lt.exec(t),a&&(l=a[1],u=a[2].toLowerCase()),d=this.rules.uncountable[s]||this.rules.uncountable[u])return t;if(p=n&&(n[s]||n[u]))return n[s]?p:(p=h?St(p):p,l+p);for(var m=e.length,g=0;m>g&&(r=e[m-1],f=r[0],!f.test(t));m--);return r=r||[],f=r[0],i=r[1],o=t.replace(f,i)}};var Dt=i,Mt={plurals:[[/$/,"s"],[/s$/i,"s"],[/^(ax|test)is$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(octop|vir)i$/i,"$1i"],[/(alias|status)$/i,"$1es"],[/(bu)s$/i,"$1ses"],[/(buffal|tomat)o$/i,"$1oes"],[/([ti])um$/i,"$1a"],[/([ti])a$/i,"$1a"],[/sis$/i,"ses"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/(hive)$/i,"$1s"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(x|ch|ss|sh)$/i,"$1es"],[/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"],[/^(m|l)ouse$/i,"$1ice"],[/^(m|l)ice$/i,"$1ice"],[/^(ox)$/i,"$1en"],[/^(oxen)$/i,"$1"],[/(quiz)$/i,"$1zes"]],singular:[[/s$/i,""],[/(ss)$/i,"$1"],[/(n)ews$/i,"$1ews"],[/([ti])a$/i,"$1um"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"],[/(^analy)(sis|ses)$/i,"$1sis"],[/([^f])ves$/i,"$1fe"],[/(hive)s$/i,"$1"],[/(tive)s$/i,"$1"],[/([lr])ves$/i,"$1f"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/(s)eries$/i,"$1eries"],[/(m)ovies$/i,"$1ovie"],[/(x|ch|ss|sh)es$/i,"$1"],[/^(m|l)ice$/i,"$1ouse"],[/(bus)(es)?$/i,"$1"],[/(o)es$/i,"$1"],[/(shoe)s$/i,"$1"],[/(cris|test)(is|es)$/i,"$1is"],[/^(a)x[ie]s$/i,"$1xis"],[/(octop|vir)(us|i)$/i,"$1us"],[/(alias|status)(es)?$/i,"$1"],[/^(ox)en/i,"$1"],[/(vert|ind)ices$/i,"$1ex"],[/(matr)ices$/i,"$1ix"],[/(quiz)zes$/i,"$1"],[/(database)s$/i,"$1"]],irregularPairs:[["person","people"],["man","men"],["child","children"],["sex","sexes"],["move","moves"],["cow","kine"],["zombie","zombies"]],uncountable:["equipment","information","rice","money","species","series","fish","sheep","jeans","police"]};Dt.inflector=new Dt(Mt),Ember.Handlebars.helper("singularize",a),Ember.Handlebars.helper("pluralize",function(t,e,n){return arguments.length<3?s(t):(1!=t&&(e=s(e)),t+" "+e)}),(Ember.EXTEND_PROTOTYPES===!0||Ember.EXTEND_PROTOTYPES.String)&&(String.prototype.pluralize=function(){return s(this)},String.prototype.singularize=function(){return a(this)}),Dt.defaultRules=Mt,Ember.Inflector=Dt,Ember.String.pluralize=s,Ember.String.singularize=a;var Rt=Ember.String.decamelize,Nt=Ember.String.underscore,Ft=kt.extend({defaultSerializer:"-active-model",pathForType:function(t){var e=Rt(t),n=Nt(e);return s(n)},ajaxError:function(e){var n=this._super.apply(this,arguments);return e&&422===e.status?new t(Ember.$.parseJSON(e.responseText)):n}}),It=Ft,Bt=Ember.Object.extend({extract:Ember.required(Function),serialize:Ember.required(Function),normalize:function(t,e){return e}}),jt=Bt,zt=Ember.get,Vt=Ember.isNone,Ht=Ember.ArrayPolyfills.map,Ut=Ember.merge,Wt=jt.extend({primaryKey:"id",applyTransforms:function(t,e){return t.eachTransformedAttribute(function(t,n){if(e.hasOwnProperty(t)){var r=this.transformFor(n);e[t]=r.deserialize(e[t])}},this),e},normalize:function(t,e){return e?(this.normalizeId(e),this.normalizeAttributes(t,e),this.normalizeRelationships(t,e),this.normalizeUsingDeclaredMapping(t,e),this.applyTransforms(t,e),e):e},normalizePayload:function(t){return t},normalizeAttributes:function(t,e){var n;this.keyForAttribute&&t.eachAttribute(function(t){n=this.keyForAttribute(t),t!==n&&e.hasOwnProperty(n)&&(e[t]=e[n],delete e[n])},this)},normalizeRelationships:function(t,e){var n;this.keyForRelationship&&t.eachRelationship(function(t,r){n=this.keyForRelationship(t,r.kind),t!==n&&e.hasOwnProperty(n)&&(e[t]=e[n],delete e[n])},this)},normalizeUsingDeclaredMapping:function(t,e){var n,r,i=zt(this,"attrs");if(i)for(r in i)n=this._getMappedKey(r),e.hasOwnProperty(n)&&n!==r&&(e[r]=e[n],delete e[n])},normalizeId:function(t){var e=zt(this,"primaryKey");"id"!==e&&(t.id=t[e],delete t[e])},normalizeErrors:function(t,e){this.normalizeId(e),this.normalizeAttributes(t,e),this.normalizeRelationships(t,e)},_getMappedKey:function(t){var e,n=zt(this,"attrs");return n&&n[t]&&(e=n[t],e.key&&(e=e.key),"string"==typeof e&&(t=e)),t},_canSerialize:function(t){var e=zt(this,"attrs");return!e||!e[t]||e[t].serialize!==!1},serialize:function(t,e){var n={};if(e&&e.includeId){var r=t.id;r&&(n[zt(this,"primaryKey")]=r)}return t.eachAttribute(function(e,r){this.serializeAttribute(t,n,e,r)},this),t.eachRelationship(function(e,r){"belongsTo"===r.kind?this.serializeBelongsTo(t,n,r):"hasMany"===r.kind&&this.serializeHasMany(t,n,r)},this),n},serializeIntoHash:function(t,e,n,r){Ut(t,this.serialize(n,r))},serializeAttribute:function(t,e,n,r){var i=r.type;if(this._canSerialize(n)){var o=t.attr(n);if(i){var s=this.transformFor(i);o=s.serialize(o)}var a=this._getMappedKey(n);a===n&&this.keyForAttribute&&(a=this.keyForAttribute(n)),e[a]=o}},serializeBelongsTo:function(t,e,n){var r=n.key;if(this._canSerialize(r)){var i=t.belongsTo(r,{id:!0}),o=this._getMappedKey(r);o===r&&this.keyForRelationship&&(o=this.keyForRelationship(r,"belongsTo")),Vt(i)?e[o]=null:e[o]=i,n.options.polymorphic&&this.serializePolymorphicType(t,e,n)}},serializeHasMany:function(t,e,n){var r=n.key;if(this._canSerialize(r)){var i;i=this._getMappedKey(r),i===r&&this.keyForRelationship&&(i=this.keyForRelationship(r,"hasMany"));var o=t.type.determineRelationshipType(n);("manyToNone"===o||"manyToMany"===o)&&(e[i]=t.hasMany(r,{ids:!0}))}},serializePolymorphicType:Ember.K,extract:function(t,e,n,r,i){this.extractMeta(t,e,n);var o="extract"+i.charAt(0).toUpperCase()+i.substr(1);return this[o](t,e,n,r,i)},extractFindAll:function(t,e,n,r,i){return this.extractArray(t,e,n,r,i)},extractFindQuery:function(t,e,n,r,i){return this.extractArray(t,e,n,r,i)},extractFindMany:function(t,e,n,r,i){return this.extractArray(t,e,n,r,i)},extractFindHasMany:function(t,e,n,r,i){return this.extractArray(t,e,n,r,i)},extractCreateRecord:function(t,e,n,r,i){return this.extractSave(t,e,n,r,i)},extractUpdateRecord:function(t,e,n,r,i){return this.extractSave(t,e,n,r,i)},extractDeleteRecord:function(t,e,n,r,i){return this.extractSave(t,e,n,r,i)},extractFind:function(t,e,n,r,i){return this.extractSingle(t,e,n,r,i)},extractFindBelongsTo:function(t,e,n,r,i){return this.extractSingle(t,e,n,r,i)},extractSave:function(t,e,n,r,i){return this.extractSingle(t,e,n,r,i)},extractSingle:function(t,e,n,r,i){return n=this.normalizePayload(n),this.normalize(e,n)},extractArray:function(t,e,n,r,i){var o=this.normalizePayload(n),s=this;return Ht.call(o,function(t){return s.normalize(e,t)})},extractMeta:function(t,e,n){n&&n.meta&&(t.setMetadataFor(e,n.meta),delete n.meta)},extractErrors:function(t,e,n,r){return n&&"object"==typeof n&&n.errors&&(n=n.errors,this.normalizeErrors(e,n)),n},keyForAttribute:function(t){return t},keyForRelationship:function(t,e){return t},transformFor:function(t,e){var n=this.container.lookup("transform:"+t);return n}}),qt=Ember.ArrayPolyfills.forEach,$t=Ember.ArrayPolyfills.map,Gt=Ember.String.camelize,Kt=Wt.extend({normalize:function(t,e,n){return this.normalizeId(e),this.normalizeAttributes(t,e),this.normalizeRelationships(t,e),this.normalizeUsingDeclaredMapping(t,e),this.normalizeHash&&this.normalizeHash[n]&&this.normalizeHash[n](e),this.applyTransforms(t,e),e},extractSingle:function(t,e,n,r){var i,o=this.normalizePayload(n),s=e.typeKey;for(var a in o){var u=this.typeForRoot(a);if(t.modelFactoryFor(u)){var c=t.modelFor(u),h=c.typeKey===s,d=o[a];null!==d&&(h&&"array"!==Ember.typeOf(d)?i=this.normalize(e,d,a):qt.call(d,function(e){var n=this.typeForRoot(a),o=t.modelFor(n),s=t.serializerFor(o);e=s.normalize(o,e,a);var u=h&&!r&&!i,c=h&&l(e.id)===r;u||c?i=e:t.push(n,e)},this))}}return i},extractArray:function(t,e,n){var r,i=this.normalizePayload(n),o=e.typeKey;for(var s in i){var a=s,l=!1;"_"===s.charAt(0)&&(l=!0,a=s.substr(1));var u=this.typeForRoot(a);if(t.modelFactoryFor(u)){var c=t.modelFor(u),h=t.serializerFor(c),d=!l&&c.typeKey===o,p=$t.call(i[s],function(t){return h.normalize(c,t,s)},this);d?r=p:t.pushMany(u,p)}}return r},pushPayload:function(t,e){var n=this.normalizePayload(e);for(var r in n){var i=this.typeForRoot(r);if(t.modelFactoryFor(i,r)){var o=t.modelFor(i),s=t.serializerFor(o),a=$t.call(Ember.makeArray(n[r]),function(t){return s.normalize(o,t,r)},this);t.pushMany(i,a)}}},typeForRoot:function(t){return Gt(a(t))},serialize:function(t,e){return this._super.apply(this,arguments)},serializeIntoHash:function(t,e,n,r){t[e.typeKey]=this.serialize(n,r)},serializePolymorphicType:function(t,e,n){var r=n.key,i=t.belongsTo(r);r=this.keyForAttribute?this.keyForAttribute(r):r,Ember.isNone(i)?e[r+"Type"]=null:e[r+"Type"]=Ember.String.camelize(i.typeKey)}}),Yt=Kt,Zt=Ember.EnumerableUtils.forEach,Jt=Ember.String.camelize,Xt=Ember.String.capitalize,Qt=Ember.String.decamelize,te=Ember.String.underscore,ee=Yt.extend({keyForAttribute:function(t){return Qt(t)},keyForRelationship:function(t,e){var n=Qt(t);return"belongsTo"===e?n+"_id":"hasMany"===e?a(n)+"_ids":n},serializeHasMany:Ember.K,serializeIntoHash:function(t,e,n,r){var i=te(Qt(e.typeKey));t[i]=this.serialize(n,r)},serializePolymorphicType:function(t,e,n){var r=n.key,i=t.belongsTo(r),o=te(r+"_type");Ember.isNone(i)?e[o]=null:e[o]=Xt(Jt(i.typeKey))},normalize:function(t,e,n){return this.normalizeLinks(e),this._super(t,e,n)},normalizeLinks:function(t){if(t.links){var e=t.links;for(var n in e){var r=Jt(n);r!==n&&(e[r]=e[n],delete e[n])}}},normalizeRelationships:function(t,e){this.keyForRelationship&&t.eachRelationship(function(t,n){var r,i;if(n.options.polymorphic){if(r=this.keyForAttribute(t),i=e[r],i&&i.type)i.type=this.typeForRoot(i.type);else if(i&&"hasMany"===n.kind){var o=this;Zt(i,function(t){t.type=o.typeForRoot(t.type)})}}else{if(r=this.keyForRelationship(t,n.kind),!e.hasOwnProperty(r))return;i=e[r]}e[t]=i,t!==r&&delete e[r]},this)}}),ne=ee;u.prototype.aliasedFactory=function(t,e){var n=this;return{create:function(){return e&&e(),n.container.lookup(t)}}},u.prototype.registerAlias=function(t,e,n){var r=this.aliasedFactory(e,n);return this.container.register(t,r)},u.prototype.registerDeprecation=function(t,e){var n=function(){};return this.registerAlias(t,e,n)},u.prototype.registerDeprecations=function(t){var e,n,r,i;for(e=t.length;e>0;e--)n=t[e-1],r=n.deprecated,i=n.valid,this.registerDeprecation(r,i)};var re=u,ie=c,oe=Ember.Namespace.create({VERSION:"1.0.0-beta.15"});Ember.libraries&&Ember.libraries.registerCoreLibrary("Ember Data",oe.VERSION);var se=oe,ae=Ember.RSVP.Promise,le=Ember.get,ue=Ember.ArrayProxy.extend(Ember.PromiseProxyMixin),ce=Ember.ObjectProxy.extend(Ember.PromiseProxyMixin),he=function(t,e){return ce.create({promise:ae.resolve(t,e)})},de=function(t,e){return ue.create({promise:ae.resolve(t,e)})},pe=ue.extend({reload:function(){return pe.create({promise:le(this,"content").reload()})},createRecord:h("createRecord"),on:h("on"),one:h("one"),trigger:h("trigger"),off:h("off"),has:h("has")}),fe=Ember.get,me=Ember.set,ge=Ember.ArrayProxy.extend(Ember.Evented,{type:null,content:null,isLoaded:!1,isUpdating:!1,store:null,objectAtContent:function(t){var e=fe(this,"content");return e.objectAt(t)},update:function(){if(!fe(this,"isUpdating")){var t=fe(this,"store"),e=fe(this,"type");return t.fetchAll(e,this)}},addRecord:function(t,e){var n=fe(this,"content");void 0===e?n.addObject(t):n.contains(t)||n.insertAt(e,t)},_pushRecord:function(t){fe(this,"content").pushObject(t)},pushRecord:function(t){this._pushRecord(t)},removeRecord:function(t){fe(this,"content").removeObject(t)},save:function(){var t=this,e="DS: RecordArray#save "+fe(this,"type"),n=Ember.RSVP.all(this.invoke("save"),e).then(function(e){return t},null,"DS: RecordArray#save return RecordArray");return ue.create({promise:n})},_dissociateFromOwnRecords:function(){var t=this;this.forEach(function(e){var n=e._recordArrays;n&&n["delete"](t)})},_unregisterFromManager:function(){var t=fe(this,"manager");t&&t.unregisterFilteredRecordArray(this)},willDestroy:function(){this._unregisterFromManager(),this._dissociateFromOwnRecords(),me(this,"content",void 0),this._super.apply(this,arguments)}}),ve=Ember.get,ye=ge.extend({filterFunction:null,isLoaded:!0,replace:function(){var t=ve(this,"type").toString();throw new Error("The result of a client-side filter (on "+t+") is immutable.")},_updateFilter:function(){var t=ve(this,"manager");t.updateFilter(this,ve(this,"type"),ve(this,"filterFunction"))},updateFilter:Ember.observer(function(){Ember.run.once(this,this._updateFilter)},"filterFunction")}),be=Ember.get,_e=ge.extend({query:null,replace:function(){var t=be(this,"type").toString();throw new Error("The result of a server query (on "+t+") is immutable.")},load:function(t){var e=be(this,"store"),n=be(this,"type"),r=e.pushMany(n,t),i=e.metadataFor(n);this.setProperties({content:Ember.A(r),isLoaded:!0,meta:d(i)}),r.forEach(function(t){this.manager.recordArraysForRecord(t).add(this)},this),Ember.run.once(this,"trigger","didLoad")}}),we=Ember.get,xe=Ember.set,Ce=Ember.Object.extend(Ember.MutableArray,Ember.Evented,{init:function(){this.currentState=Ember.A([])},record:null,canonicalState:null,currentState:null,length:0,objectAt:function(t){return this.currentState[t]?this.currentState[t]:this.canonicalState[t]},flushCanonical:function(){var t=this.canonicalState.slice(0),e=this.currentState.filter(function(t){return t.get("isNew")});t=t.concat(e);var n=this.length;this.arrayContentWillChange(0,this.length,t.length),this.set("length",t.length),this.currentState=t,this.arrayContentDidChange(0,n,this.length),this.relationship.notifyHasManyChanged(),this.record.updateRecordArrays()},isPolymorphic:!1,isLoaded:!1,relationship:null,internalReplace:function(t,e,n){n||(n=[]),this.arrayContentWillChange(t,e,n.length),this.currentState.splice.apply(this.currentState,[t,e].concat(n)),this.set("length",this.currentState.length),this.arrayContentDidChange(t,e,n.length),n&&this.relationship.notifyHasManyChanged(),this.record.updateRecordArrays()},internalRemoveRecords:function(t){for(var e,n=0;n<t.length;n++)e=this.currentState.indexOf(t[n]),this.internalReplace(e,1)},internalAddRecords:function(t,e){void 0===e&&(e=this.currentState.length),this.internalReplace(e,0,t)},replace:function(t,e,n){var r;e>0&&(r=this.currentState.slice(t,t+e),this.get("relationship").removeRecords(r)),n&&this.get("relationship").addRecords(n,t)},promise:null,loadingRecordsCount:function(t){this.loadingRecordsCount=t},loadedRecord:function(){this.loadingRecordsCount--,0===this.loadingRecordsCount&&(xe(this,"isLoaded",!0),this.trigger("didLoad"))},reload:function(){return this.relationship.reload()},save:function(){var t=this,e="DS: ManyArray#save "+we(this,"type"),n=Ember.RSVP.all(this.invoke("save"),e).then(function(e){return t},null,"DS: ManyArray#save return ManyArray");return ue.create({promise:n})},createRecord:function(t){var e,n=we(this,"store"),r=we(this,"type");return e=n.createRecord(r,t),this.pushObject(e),e},addRecord:function(t){this.addObject(t)},removeRecord:function(t){this.removeObject(t)}}),Te=Ember.get,Ee=Ember.EnumerableUtils.forEach,ke=Ember.EnumerableUtils.indexOf,Se=Ember.Object.extend({init:function(){this.filteredRecordArrays=xt.create({defaultValue:function(){return[]}}),this.changedRecords=[],this._adapterPopulatedRecordArrays=[]},recordDidChange:function(t){1===this.changedRecords.push(t)&&Ember.run.schedule("actions",this,this.updateRecordArrays)},recordArraysForRecord:function(t){return t._recordArrays=t._recordArrays||Ct.create(),t._recordArrays},updateRecordArrays:function(){Ee(this.changedRecords,function(t){Te(t,"isDeleted")?this._recordWasDeleted(t):this._recordWasChanged(t)},this),this.changedRecords.length=0},_recordWasDeleted:function(t){var e=t._recordArrays;e&&(e.forEach(function(e){e.removeRecord(t)}),t._recordArrays=null)},_recordWasChanged:function(t){var e,n=t.constructor,r=this.filteredRecordArrays.get(n);Ee(r,function(r){e=Te(r,"filterFunction"),e&&this.updateRecordArray(r,e,n,t)},this)},recordWasLoaded:function(t){var e,n=t.constructor,r=this.filteredRecordArrays.get(n);Ee(r,function(r){e=Te(r,"filterFunction"),this.updateRecordArray(r,e,n,t)},this)},updateRecordArray:function(t,e,n,r){var i;i=e?e(r):!0;var o=this.recordArraysForRecord(r);i?o.has(t)||(t._pushRecord(r),o.add(t)):i||(o["delete"](t),t.removeRecord(r))},updateFilter:function(t,e,n){for(var r,i=this.store.typeMapFor(e),o=i.records,s=0,a=o.length;a>s;s++)r=o[s],
Te(r,"isDeleted")||Te(r,"isEmpty")||this.updateRecordArray(t,n,e,r)},createRecordArray:function(t){var e=ge.create({type:t,content:Ember.A(),store:this.store,isLoaded:!0,manager:this});return this.registerFilteredRecordArray(e,t),e},createFilteredRecordArray:function(t,e,n){var r=ye.create({query:n,type:t,content:Ember.A(),store:this.store,manager:this,filterFunction:e});return this.registerFilteredRecordArray(r,t,e),r},createAdapterPopulatedRecordArray:function(t,e){var n=_e.create({type:t,query:e,content:Ember.A(),store:this.store,manager:this});return this._adapterPopulatedRecordArrays.push(n),n},registerFilteredRecordArray:function(t,e,n){var r=this.filteredRecordArrays.get(e);r.push(t),this.updateFilter(t,e,n)},unregisterFilteredRecordArray:function(t){var e=this.filteredRecordArrays.get(t.type),n=ke(e,t);e.splice(n,1)},willDestroy:function(){this._super.apply(this,arguments),this.filteredRecordArrays.forEach(function(t){Ee(f(t),p)}),Ee(this._adapterPopulatedRecordArrays,p)}}),Pe=Ember.get,Ae=Ember.set,Le={initialState:"uncommitted",isDirty:!0,uncommitted:{didSetProperty:m,loadingData:Ember.K,propertyWasReset:function(t,e){var n=Ember.keys(t._attributes).length,r=n>0;r||t.send("rolledBack")},pushedData:Ember.K,becomeDirty:Ember.K,willCommit:function(t){t.transitionTo("inFlight")},reloadRecord:function(t,e){e(Pe(t,"store").reloadRecord(t))},rolledBack:function(t){t.transitionTo("loaded.saved")},becameInvalid:function(t){t.transitionTo("invalid")},rollback:function(t){t.rollback(),t.triggerLater("ready")}},inFlight:{isSaving:!0,didSetProperty:m,becomeDirty:Ember.K,pushedData:Ember.K,unloadRecord:function(t){},willCommit:Ember.K,didCommit:function(t){var e=Pe(this,"dirtyType");t.transitionTo("saved"),t.send("invokeLifecycleCallbacks",e)},becameInvalid:function(t){t.transitionTo("invalid"),t.send("invokeLifecycleCallbacks")},becameError:function(t){t.transitionTo("uncommitted"),t.triggerLater("becameError",t)}},invalid:{isValid:!1,deleteRecord:function(t){t.transitionTo("deleted.uncommitted"),t.disconnectRelationships()},didSetProperty:function(t,e){Pe(t,"errors").remove(e.name),m(t,e)},becomeDirty:Ember.K,willCommit:function(t){Pe(t,"errors").clear(),t.transitionTo("inFlight")},rolledBack:function(t){Pe(t,"errors").clear(),t.triggerLater("ready")},becameValid:function(t){t.transitionTo("uncommitted")},invokeLifecycleCallbacks:function(t){t.triggerLater("becameInvalid",t)},exit:function(t){t._inFlightAttributes={}}}},Oe=y({dirtyType:"created",isNew:!0});Oe.uncommitted.rolledBack=function(t){t.transitionTo("deleted.saved")};var De=y({dirtyType:"updated"});Oe.uncommitted.deleteRecord=function(t){t.disconnectRelationships(),t.transitionTo("deleted.saved")},Oe.uncommitted.rollback=function(t){Le.uncommitted.rollback.apply(this,arguments),t.transitionTo("deleted.saved")},Oe.uncommitted.pushedData=function(t){t.transitionTo("loaded.updated.uncommitted"),t.triggerLater("didLoad")},Oe.uncommitted.propertyWasReset=Ember.K,De.inFlight.unloadRecord=b,De.uncommitted.deleteRecord=function(t){t.transitionTo("deleted.uncommitted"),t.disconnectRelationships()};var Me={isEmpty:!1,isLoading:!1,isLoaded:!1,isDirty:!1,isSaving:!1,isDeleted:!1,isNew:!1,isValid:!0,rolledBack:Ember.K,unloadRecord:function(t){t.clearRelationships(),t.transitionTo("deleted.saved")},propertyWasReset:Ember.K,empty:{isEmpty:!0,loadingData:function(t,e){t._loadingPromise=e,t.transitionTo("loading")},loadedData:function(t){t.transitionTo("loaded.created.uncommitted"),t.triggerLater("ready")},pushedData:function(t){t.transitionTo("loaded.saved"),t.triggerLater("didLoad"),t.triggerLater("ready")}},loading:{isLoading:!0,exit:function(t){t._loadingPromise=null},pushedData:function(t){t.transitionTo("loaded.saved"),t.triggerLater("didLoad"),t.triggerLater("ready"),Ae(t,"isError",!1)},becameError:function(t){t.triggerLater("becameError",t)},notFound:function(t){t.transitionTo("empty")}},loaded:{initialState:"saved",isLoaded:!0,loadingData:Ember.K,saved:{setup:function(t){var e=t._attributes,n=Ember.keys(e).length>0;n&&t.adapterDidDirty()},didSetProperty:m,pushedData:Ember.K,becomeDirty:function(t){t.transitionTo("updated.uncommitted")},willCommit:function(t){t.transitionTo("updated.inFlight")},reloadRecord:function(t,e){e(Pe(t,"store").reloadRecord(t))},deleteRecord:function(t){t.transitionTo("deleted.uncommitted"),t.disconnectRelationships()},unloadRecord:function(t){t.clearRelationships(),t.transitionTo("deleted.saved")},didCommit:function(t){t.send("invokeLifecycleCallbacks",Pe(t,"lastDirtyType"))},notFound:Ember.K},created:Oe,updated:De},deleted:{initialState:"uncommitted",dirtyType:"deleted",isDeleted:!0,isLoaded:!0,isDirty:!0,setup:function(t){t.updateRecordArrays()},uncommitted:{willCommit:function(t){t.transitionTo("inFlight")},rollback:function(t){t.rollback(),t.triggerLater("ready")},becomeDirty:Ember.K,deleteRecord:Ember.K,rolledBack:function(t){t.transitionTo("loaded.saved"),t.triggerLater("ready")}},inFlight:{isSaving:!0,unloadRecord:b,willCommit:Ember.K,didCommit:function(t){t.transitionTo("saved"),t.send("invokeLifecycleCallbacks")},becameError:function(t){t.transitionTo("uncommitted"),t.triggerLater("becameError",t)}},saved:{isDirty:!1,setup:function(t){var e=Pe(t,"store");e._dematerializeRecord(t)},invokeLifecycleCallbacks:function(t){t.triggerLater("didDelete",t),t.triggerLater("didCommit",t)},willCommit:Ember.K,didCommit:Ember.K}},invokeLifecycleCallbacks:function(t,e){"created"===e?t.triggerLater("didCreate",t):t.triggerLater("didUpdate",t),t.triggerLater("didCommit",t)}};Me=_(Me,null,"root");var Re=Me,Ne=Ember.get,Fe=Ember.isEmpty,Ie=Ember.EnumerableUtils.map,Be=Ember.Object.extend(Ember.Enumerable,Ember.Evented,{registerHandlers:function(t,e,n){this.on("becameInvalid",t,e),this.on("becameValid",t,n)},errorsByAttributeName:Ember.reduceComputed("content",{initialValue:function(){return xt.create({defaultValue:function(){return Ember.A()}})},addedItem:function(t,e){return t.get(e.attribute).pushObject(e),t},removedItem:function(t,e){return t.get(e.attribute).removeObject(e),t}}),errorsFor:function(t){return Ne(this,"errorsByAttributeName").get(t)},messages:Ember.computed.mapBy("content","message"),content:Ember.computed(function(){return Ember.A()}),unknownProperty:function(t){var e=this.errorsFor(t);return Fe(e)?null:e},nextObject:function(t,e,n){return Ne(this,"content").objectAt(t)},length:Ember.computed.oneWay("content.length").readOnly(),isEmpty:Ember.computed.not("length").readOnly(),add:function(t,e){var n=Ne(this,"isEmpty");e=this._findOrCreateMessages(t,e),Ne(this,"content").addObjects(e),this.notifyPropertyChange(t),this.enumerableContentDidChange(),n&&!Ne(this,"isEmpty")&&this.trigger("becameInvalid")},_findOrCreateMessages:function(t,e){var n=this.errorsFor(t);return Ie(Ember.makeArray(e),function(e){return n.findBy("message",e)||{attribute:t,message:e}})},remove:function(t){if(!Ne(this,"isEmpty")){var e=Ne(this,"content").rejectBy("attribute",t);Ne(this,"content").setObjects(e),this.notifyPropertyChange(t),this.enumerableContentDidChange(),Ne(this,"isEmpty")&&this.trigger("becameValid")}},clear:function(){Ne(this,"isEmpty")||(Ne(this,"content").clear(),this.enumerableContentDidChange(),this.trigger("becameValid"))},has:function(t){return!Fe(this.errorsFor(t))}}),je=w,ze=Ember.EnumerableUtils.forEach,Ve=function(t,e,n,r){this.members=new Ct,this.canonicalMembers=new Ct,this.store=t,this.key=r.key,this.inverseKey=n,this.record=e,this.isAsync=r.options.async,this.relationshipMeta=r,this.inverseKeyForImplicit=this.store.modelFor(this.record.constructor).typeKey+this.key,this.linkPromise=null};Ve.prototype={constructor:Ve,destroy:Ember.K,clear:function(){for(var t,e=this.members.list;e.length>0;)t=e[0],this.removeRecord(t)},disconnect:function(){this.members.forEach(function(t){this.removeRecordFromInverse(t)},this)},reconnect:function(){this.members.forEach(function(t){this.addRecordToInverse(t)},this)},removeRecords:function(t){var e=this;ze(t,function(t){e.removeRecord(t)})},addRecords:function(t,e){var n=this;ze(t,function(t){n.addRecord(t,e),void 0!==e&&e++})},addCanonicalRecords:function(t,e){for(var n=0;n<t.length;n++)void 0!==e?this.addCanonicalRecord(t[n],n+e):this.addCanonicalRecord(t[n])},addCanonicalRecord:function(t,e){this.canonicalMembers.has(t)||(this.canonicalMembers.add(t),this.inverseKey?t._relationships[this.inverseKey].addCanonicalRecord(this.record):(t._implicitRelationships[this.inverseKeyForImplicit]||(t._implicitRelationships[this.inverseKeyForImplicit]=new Ve(this.store,t,this.key,{options:{}})),t._implicitRelationships[this.inverseKeyForImplicit].addCanonicalRecord(this.record))),this.flushCanonicalLater()},removeCanonicalRecords:function(t,e){for(var n=0;n<t.length;n++)void 0!==e?this.removeCanonicalRecord(t[n],n+e):this.removeCanonicalRecord(t[n])},removeCanonicalRecord:function(t,e){this.canonicalMembers.has(t)&&(this.removeCanonicalRecordFromOwn(t),this.inverseKey?this.removeCanonicalRecordFromInverse(t):t._implicitRelationships[this.inverseKeyForImplicit]&&t._implicitRelationships[this.inverseKeyForImplicit].removeCanonicalRecord(this.record)),this.flushCanonicalLater()},addRecord:function(t,e){this.members.has(t)||(this.members.add(t),this.notifyRecordRelationshipAdded(t,e),this.inverseKey?t._relationships[this.inverseKey].addRecord(this.record):(t._implicitRelationships[this.inverseKeyForImplicit]||(t._implicitRelationships[this.inverseKeyForImplicit]=new Ve(this.store,t,this.key,{options:{}})),t._implicitRelationships[this.inverseKeyForImplicit].addRecord(this.record)),this.record.updateRecordArraysLater())},removeRecord:function(t){this.members.has(t)&&(this.removeRecordFromOwn(t),this.inverseKey?this.removeRecordFromInverse(t):t._implicitRelationships[this.inverseKeyForImplicit]&&t._implicitRelationships[this.inverseKeyForImplicit].removeRecord(this.record))},addRecordToInverse:function(t){this.inverseKey&&t._relationships[this.inverseKey].addRecord(this.record)},removeRecordFromInverse:function(t){var e=t._relationships[this.inverseKey];e&&e.removeRecordFromOwn(this.record)},removeRecordFromOwn:function(t){this.members["delete"](t),this.notifyRecordRelationshipRemoved(t),this.record.updateRecordArrays()},removeCanonicalRecordFromInverse:function(t){var e=t._relationships[this.inverseKey];e&&e.removeCanonicalRecordFromOwn(this.record)},removeCanonicalRecordFromOwn:function(t){this.canonicalMembers["delete"](t),this.flushCanonicalLater()},flushCanonical:function(){this.willSync=!1;for(var t=[],e=0;e<this.members.list.length;e++)this.members.list[e].get("isNew")&&t.push(this.members.list[e]);for(this.members=this.canonicalMembers.copy(),e=0;e<t.length;e++)this.members.add(t[e])},flushCanonicalLater:function(){if(!this.willSync){this.willSync=!0;var t=this;this.store._backburner.join(function(){t.store._backburner.schedule("syncRelationships",t,t.flushCanonical)})}},updateLink:function(t){t!==this.link&&(this.link=t,this.linkPromise=null,this.record.notifyPropertyChange(this.key))},findLink:function(){if(this.linkPromise)return this.linkPromise;var t=this.fetchLink();return this.linkPromise=t,t.then(function(t){return t})},updateRecordsFromAdapter:function(t){var e=this;e.computeChanges(t)},notifyRecordRelationshipAdded:Ember.K,notifyRecordRelationshipRemoved:Ember.K};var He=Ve,Ue=function(t,e,n,r){this._super$constructor(t,e,n,r),this.belongsToType=r.type,this.canonicalState=[],this.manyArray=Ce.create({canonicalState:this.canonicalState,store:this.store,relationship:this,type:this.belongsToType,record:e}),this.isPolymorphic=r.options.polymorphic,this.manyArray.isPolymorphic=this.isPolymorphic};Ue.prototype=Ember.create(He.prototype),Ue.prototype.constructor=Ue,Ue.prototype._super$constructor=He,Ue.prototype.destroy=function(){this.manyArray.destroy()},Ue.prototype._super$addCanonicalRecord=He.prototype.addCanonicalRecord,Ue.prototype.addCanonicalRecord=function(t,e){this.canonicalMembers.has(t)||(void 0!==e?this.canonicalState.splice(e,0,t):this.canonicalState.push(t),this._super$addCanonicalRecord(t,e))},Ue.prototype._super$addRecord=He.prototype.addRecord,Ue.prototype.addRecord=function(t,e){this.members.has(t)||(this._super$addRecord(t,e),this.manyArray.internalAddRecords([t],e))},Ue.prototype._super$removeCanonicalRecordFromOwn=He.prototype.removeCanonicalRecordFromOwn,Ue.prototype.removeCanonicalRecordFromOwn=function(t,e){var n=e;this.canonicalMembers.has(t)&&(void 0===n&&(n=this.canonicalState.indexOf(t)),n>-1&&this.canonicalState.splice(n,1),this._super$removeCanonicalRecordFromOwn(t,e))},Ue.prototype._super$flushCanonical=He.prototype.flushCanonical,Ue.prototype.flushCanonical=function(){this.manyArray.flushCanonical(),this._super$flushCanonical()},Ue.prototype._super$removeRecordFromOwn=He.prototype.removeRecordFromOwn,Ue.prototype.removeRecordFromOwn=function(t,e){this.members.has(t)&&(this._super$removeRecordFromOwn(t,e),void 0!==e?this.manyArray.currentState.removeAt(e):this.manyArray.internalRemoveRecords([t]))},Ue.prototype.notifyRecordRelationshipAdded=function(t,e){this.relationshipMeta.type;this.record.notifyHasManyAdded(this.key,t,e)},Ue.prototype.reload=function(){var t=this;return this.link?this.fetchLink():this.store.scheduleFetchMany(this.manyArray.toArray()).then(function(){return t.manyArray.set("isLoaded",!0),t.manyArray})},Ue.prototype.computeChanges=function(t){var e,n,r,i=this.canonicalMembers,o=[];for(t=x(t),i.forEach(function(e){t.has(e)||o.push(e)}),this.removeCanonicalRecords(o),t=t.toArray(),e=t.length,r=0;e>r;r++)n=t[r],this.removeCanonicalRecord(n),this.addCanonicalRecord(n,r)},Ue.prototype.fetchLink=function(){var t=this;return this.store.findHasMany(this.record,this.link,this.relationshipMeta).then(function(e){return t.updateRecordsFromAdapter(e),t.manyArray})},Ue.prototype.findRecords=function(){var t=this.manyArray;return this.store.findMany(t.toArray()).then(function(){return t.set("isLoaded",!0),t})},Ue.prototype.notifyHasManyChanged=function(){this.record.notifyHasManyAdded(this.key)},Ue.prototype.getRecords=function(){if(this.isAsync){var t,e=this;return t=this.link?this.findLink().then(function(){return e.findRecords()}):this.findRecords(),pe.create({content:this.manyArray,promise:t})}return this.manyArray.get("isDestroyed")||this.manyArray.set("isLoaded",!0),this.manyArray};var We=Ue,qe=function(t,e,n,r){this._super$constructor(t,e,n,r),this.record=e,this.key=r.key,this.inverseRecord=null,this.canonicalState=null};qe.prototype=Ember.create(He.prototype),qe.prototype.constructor=qe,qe.prototype._super$constructor=He,qe.prototype.setRecord=function(t){t?this.addRecord(t):this.inverseRecord&&this.removeRecord(this.inverseRecord)},qe.prototype.setCanonicalRecord=function(t){t?this.addCanonicalRecord(t):this.inverseRecord&&this.removeCanonicalRecord(this.inverseRecord)},qe.prototype._super$addCanonicalRecord=He.prototype.addCanonicalRecord,qe.prototype.addCanonicalRecord=function(t){this.canonicalMembers.has(t)||(this.canonicalState&&this.removeCanonicalRecord(this.canonicalState),this.canonicalState=t,this._super$addCanonicalRecord(t))},qe.prototype._super$flushCanonical=He.prototype.flushCanonical,qe.prototype.flushCanonical=function(){this.inverseRecord&&this.inverseRecord.get("isNew")&&!this.canonicalState||(this.inverseRecord=this.canonicalState,this.record.notifyBelongsToChanged(this.key),this._super$flushCanonical())},qe.prototype._super$addRecord=He.prototype.addRecord,qe.prototype.addRecord=function(t){if(!this.members.has(t)){this.relationshipMeta.type;this.inverseRecord&&this.removeRecord(this.inverseRecord),this.inverseRecord=t,this._super$addRecord(t),this.record.notifyBelongsToChanged(this.key)}},qe.prototype.setRecordPromise=function(t){var e=t.get&&t.get("content");this.setRecord(e)},qe.prototype._super$removeRecordFromOwn=He.prototype.removeRecordFromOwn,qe.prototype.removeRecordFromOwn=function(t){this.members.has(t)&&(this.inverseRecord=null,this._super$removeRecordFromOwn(t),this.record.notifyBelongsToChanged(this.key))},qe.prototype._super$removeCanonicalRecordFromOwn=He.prototype.removeCanonicalRecordFromOwn,qe.prototype.removeCanonicalRecordFromOwn=function(t){this.canonicalMembers.has(t)&&(this.canonicalState=null,this._super$removeCanonicalRecordFromOwn(t))},qe.prototype.findRecord=function(){return this.inverseRecord?this.store._findByRecord(this.inverseRecord):Ember.RSVP.Promise.resolve(null)},qe.prototype.fetchLink=function(){var t=this;return this.store.findBelongsTo(this.record,this.link,this.relationshipMeta).then(function(e){return e&&t.addRecord(e),e})},qe.prototype.getRecord=function(){if(this.isAsync){var t;if(this.link){var e=this;t=this.findLink().then(function(){return e.findRecord()})}else t=this.findRecord();return ce.create({promise:t,content:this.inverseRecord})}return this.inverseRecord};var $e=qe,Ge=function(t,e,n){var r,i=t.constructor.inverseFor(e.key);return i&&(r=i.name),"hasMany"===e.kind?new We(n,t,r,e):new $e(n,t,r,e)},Ke=Ge,Ye=Ember.get;C.prototype={constructor:C,id:null,record:null,type:null,typeKey:null,attr:function(t){if(t in this._attributes)return this._attributes[t];throw new Ember.Error("Model '"+Ember.inspect(this.record)+"' has no attribute named '"+t+"' defined.")},attributes:function(){return Ember.copy(this._attributes)},belongsTo:function(t,e){var n,r,i,o=e&&e.id;if(o&&t in this._belongsToIds)return this._belongsToIds[t];if(!o&&t in this._belongsToRelationships)return this._belongsToRelationships[t];if(r=this.record._relationships[t],!r||"belongsTo"!==r.relationshipMeta.kind)throw new Ember.Error("Model '"+Ember.inspect(this.record)+"' has no belongsTo relationship named '"+t+"' defined.");return i=Ye(r,"inverseRecord"),o?(i&&(n=Ye(i,"id")),this._belongsToIds[t]=n):(i&&(n=i._createSnapshot()),this._belongsToRelationships[t]=n),n},hasMany:function(t,e){var n,r,i=e&&e.ids,o=[];if(i&&t in this._hasManyIds)return this._hasManyIds[t];if(!i&&t in this._hasManyRelationships)return this._hasManyRelationships[t];if(n=this.record._relationships[t],!n||"hasMany"!==n.relationshipMeta.kind)throw new Ember.Error("Model '"+Ember.inspect(this.record)+"' has no hasMany relationship named '"+t+"' defined.");return r=Ye(n,"members"),i?(r.forEach(function(t){o.push(Ye(t,"id"))}),this._hasManyIds[t]=o):(r.forEach(function(t){o.push(t._createSnapshot())}),this._hasManyRelationships[t]=o),o},eachAttribute:function(t,e){this.record.eachAttribute(t,e)},eachRelationship:function(t,e){this.record.eachRelationship(t,e)},get:function(t){if("id"===t)return this.id;if(t in this._attributes)return this.attr(t);var e=this.record._relationships[t];return e&&"belongsTo"===e.relationshipMeta.kind?this.belongsTo(t):e&&"hasMany"===e.relationshipMeta.kind?this.hasMany(t):Ye(this.record,t)},unknownProperty:function(t){return this.get(t)}};var Ze=C,Je=Ember.get,Xe=Ember.set,Qe=Ember.RSVP.Promise,tn=Ember.ArrayPolyfills.forEach,en=Ember.ArrayPolyfills.map,nn=Ember.computed("currentState",function(t,e){return Je(Je(this,"currentState"),t)}).readOnly(),rn=Ember.create(null),on=Ember.create(null),sn=Ember.Object.extend(Ember.Evented,{_recordArrays:void 0,_relationships:void 0,isEmpty:nn,isLoading:nn,isLoaded:nn,isDirty:nn,isSaving:nn,isDeleted:nn,isNew:nn,isValid:nn,dirtyType:nn,isError:!1,isReloading:!1,clientId:null,id:null,currentState:Re.empty,errors:Ember.computed(function(){var t=Be.create();return t.registerHandlers(this,function(){this.send("becameInvalid")},function(){this.send("becameValid")}),t}).readOnly(),serialize:function(t){var e=Je(this,"store");return e.serialize(this,t)},toJSON:function(t){var e=Wt.create({container:this.container}),n=this._createSnapshot();return e.serialize(n,t)},ready:function(){this.store.recordArrayManager.recordWasLoaded(this)},didLoad:Ember.K,didUpdate:Ember.K,didCreate:Ember.K,didDelete:Ember.K,becameInvalid:Ember.K,becameError:Ember.K,data:Ember.computed(function(){return this._data=this._data||{},this._data}).readOnly(),_data:null,init:function(){this._super.apply(this,arguments),this._setup()},_setup:function(){this._changesToSync={},this._deferredTriggers=[],this._data={},this._attributes=Ember.create(null),this._inFlightAttributes=Ember.create(null),this._relationships={},this._implicitRelationships=Ember.create(null);var t=this;this.constructor.eachRelationship(function(e,n){t._relationships[e]=Ke(t,n,t.store)})},send:function(t,e){var n=Je(this,"currentState");return n[t]||this._unhandledEvent(n,t,e),n[t](this,e)},transitionTo:function(t){var e=E(t),n=Je(this,"currentState"),r=n;do r.exit&&r.exit(this),r=r.parentState;while(!r.hasOwnProperty(e));var i,o,s=T(t),a=[],l=[];for(i=0,o=s.length;o>i;i++)r=r[s[i]],r.enter&&l.push(r),r.setup&&a.push(r);for(i=0,o=l.length;o>i;i++)l[i].enter(this);for(Xe(this,"currentState",r),i=0,o=a.length;o>i;i++)a[i].setup(this);this.updateRecordArraysLater()},_unhandledEvent:function(t,e,n){var r="Attempted to handle event `"+e+"` ";throw r+="on "+String(this)+" while in state ",r+=t.stateName+". ",void 0!==n&&(r+="Called with "+Ember.inspect(n)+"."),new Ember.Error(r)},withTransaction:function(t){var e=Je(this,"transaction");e&&t(e)},loadingData:function(t){this.send("loadingData",t)},loadedData:function(){this.send("loadedData")},notFound:function(){this.send("notFound")},pushedData:function(){this.send("pushedData")},deleteRecord:function(){this.send("deleteRecord")},destroyRecord:function(){return this.deleteRecord(),this.save()},unloadRecord:function(){this.isDestroyed||this.send("unloadRecord")},clearRelationships:function(){this.eachRelationship(function(t,e){var n=this._relationships[t];n&&(n.clear(),n.destroy())},this)},disconnectRelationships:function(){this.eachRelationship(function(t,e){this._relationships[t].disconnect()},this);var t=this;tn.call(Ember.keys(this._implicitRelationships),function(e){t._implicitRelationships[e].disconnect()})},reconnectRelationships:function(){this.eachRelationship(function(t,e){this._relationships[t].reconnect()},this);var t=this;tn.call(Ember.keys(this._implicitRelationships),function(e){t._implicitRelationships[e].reconnect()})},updateRecordArrays:function(){this._updatingRecordArraysLater=!1,Je(this,"store").dataWasUpdated(this.constructor,this)},_preloadData:function(t){var e=this;tn.call(Ember.keys(t),function(n){var r=Je(t,n),i=e.constructor.metaForProperty(n);i.isRelationship?e._preloadRelationship(n,r):Je(e,"_data")[n]=r})},_preloadRelationship:function(t,e){var n=this.constructor.metaForProperty(t),r=n.type;"hasMany"===n.kind?this._preloadHasMany(t,e,r):this._preloadBelongsTo(t,e,r)},_preloadHasMany:function(t,e,n){var r=this,i=en.call(e,function(t){return r._convertStringOrNumberIntoRecord(t,n)});this._relationships[t].updateRecordsFromAdapter(i)},_preloadBelongsTo:function(t,e,n){var r=this._convertStringOrNumberIntoRecord(e,n);this._relationships[t].setRecord(r)},_convertStringOrNumberIntoRecord:function(t,e){return"string"===Ember.typeOf(t)||"number"===Ember.typeOf(t)?this.store.recordForId(e,t):t},_notifyProperties:function(t){Ember.beginPropertyChanges();for(var e,n=0,r=t.length;r>n;n++)e=t[n],this.notifyPropertyChange(e);Ember.endPropertyChanges()},changedAttributes:function(){var t,e=Je(this,"_data"),n=Je(this,"_attributes"),r={};for(t in n)r[t]=[e[t],n[t]];return r},adapterWillCommit:function(){this.send("willCommit")},adapterDidCommit:function(t){var e;Xe(this,"isError",!1),t?e=k(this._data,t):je(this._data,this._inFlightAttributes),this._inFlightAttributes=Ember.create(null),this.send("didCommit"),this.updateRecordArraysLater(),t&&this._notifyProperties(e)},adapterDidDirty:function(){this.send("becomeDirty"),this.updateRecordArraysLater()},updateRecordArraysLater:function(){this._updatingRecordArraysLater||(this._updatingRecordArraysLater=!0,Ember.run.schedule("actions",this,this.updateRecordArrays))},setupData:function(t){var e=k(this._data,t);this.pushedData(),this._notifyProperties(e)},materializeId:function(t){Xe(this,"id",t)},materializeAttributes:function(t){je(this._data,t)},materializeAttribute:function(t,e){this._data[t]=e},rollback:function(){var t=Ember.keys(this._attributes);this._attributes=Ember.create(null),Je(this,"isError")&&(this._inFlightAttributes=Ember.create(null),Xe(this,"isError",!1)),Je(this,"isDeleted")&&this.reconnectRelationships(),Je(this,"isNew")&&this.clearRelationships(),Je(this,"isValid")||(this._inFlightAttributes=Ember.create(null)),this.send("rolledBack"),this._notifyProperties(t)},_createSnapshot:function(){return new Ze(this)},toStringExtension:function(){return Je(this,"id")},save:function(){var t="DS: Model#save "+this,e=Ember.RSVP.defer(t);return this.get("store").scheduleSave(this,e),this._inFlightAttributes=this._attributes,this._attributes=Ember.create(null),ce.create({promise:e.promise})},reload:function(){Xe(this,"isReloading",!0);var t=this,e="DS: Model#reload of "+this,n=new Qe(function(e){t.send("reloadRecord",e)},e).then(function(){return t.set("isReloading",!1),t.set("isError",!1),t},function(e){throw t.set("isError",!0),e},"DS: Model#reload complete, update flags")["finally"](function(){t.updateRecordArrays()});return ce.create({promise:n})},adapterDidInvalidate:function(t){var e=Je(this,"errors");for(var n in t)t.hasOwnProperty(n)&&e.add(n,t[n]);this._saveWasRejected()},adapterDidError:function(){this.send("becameError"),Xe(this,"isError",!0),this._saveWasRejected()},_saveWasRejected:function(){for(var t=Ember.keys(this._inFlightAttributes),e=0;e<t.length;e++)void 0===this._attributes[t[e]]&&(this._attributes[t[e]]=this._inFlightAttributes[t[e]]);this._inFlightAttributes=Ember.create(null)},trigger:function(){for(var t=arguments.length,e=new Array(t-1),n=arguments[0],r=1;t>r;r++)e[r-1]=arguments[r];Ember.tryInvoke(this,n,e),this._super.apply(this,arguments)},triggerLater:function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];1===this._deferredTriggers.push(e)&&Ember.run.schedule("actions",this,"_triggerDeferredTriggers")},_triggerDeferredTriggers:function(){for(var t=0,e=this._deferredTriggers.length;e>t;t++)this.trigger.apply(this,this._deferredTriggers[t]);this._deferredTriggers.length=0},willDestroy:function(){this._super.apply(this,arguments),this.clearRelationships()},willMergeMixin:function(t){}});sn.reopenClass({_create:sn.create,create:function(){throw new Ember.Error("You should not call `create` on a model. Instead, call `store.createRecord` with the attributes you would like to set.")}});var an=sn,ln=Ember.get;an.reopenClass({attributes:Ember.computed(function(){var t=wt.create();return this.eachComputedProperty(function(e,n){n.isAttribute&&(n.name=e,t.set(e,n))}),t}).readOnly(),transformedAttributes:Ember.computed(function(){var t=wt.create();return this.eachAttribute(function(e,n){n.type&&t.set(e,n.type)}),t}).readOnly(),eachAttribute:function(t,e){ln(this,"attributes").forEach(function(n,r){t.call(e,r,n)},e)},eachTransformedAttribute:function(t,e){ln(this,"transformedAttributes").forEach(function(n,r){t.call(e,r,n)})}}),an.reopen({eachAttribute:function(t,e){this.constructor.eachAttribute(t,e)}});var un=L,cn=Ember.__loader.require("backburner")["default"]||Ember.__loader.require("backburner").Backburner;if(!cn.prototype.join){var hn=function(t){return"string"==typeof t};cn.prototype.join=function(){var t,e;if(this.currentInstance){var n=arguments.length;if(1===n?(t=arguments[0],e=null):(e=arguments[0],t=arguments[1]),hn(t)&&(t=e[t]),1===n)return t();if(2===n)return t.call(e);for(var r=new Array(n-2),i=0,o=n-2;o>i;i++)r[i]=arguments[i+2];return t.apply(e,r)}return this.run.apply(this,arguments)}}var dn,pn=Ember.get,fn=Ember.set,mn=Ember.run.once,gn=Ember.isNone,vn=Ember.EnumerableUtils.forEach,yn=Ember.EnumerableUtils.indexOf,bn=Ember.EnumerableUtils.map,_n=Ember.RSVP.Promise,wn=Ember.copy,xn=Ember.String.camelize;dn=Ember.Object.extend({init:function(){this._backburner=new cn(["normalizeRelationships","syncRelationships","finished"]),this.typeMaps={},this.recordArrayManager=Se.create({store:this}),this._pendingSave=[],this._pendingFetch=wt.create()},adapter:"-rest",serialize:function(t,e){var n=t._createSnapshot();return this.serializerFor(n.typeKey).serialize(n,e)},defaultAdapter:Ember.computed("adapter",function(){var t=pn(this,"adapter");return"string"==typeof t&&(t=this.container.lookup("adapter:"+t)||this.container.lookup("adapter:application")||this.container.lookup("adapter:-rest")),DS.Adapter.detect(t)&&(t=t.create({container:this.container})),t}),createRecord:function(t,e){var n=this.modelFor(t),r=wn(e)||{};gn(r.id)&&(r.id=this._generateId(n,r)),r.id=O(r.id);var i=this.buildRecord(n,r.id);return i.loadedData(),i.setProperties(r),i},_generateId:function(t,e){var n=this.adapterFor(t);return n&&n.generateIdForRecord?n.generateIdForRecord(this,t,e):null},deleteRecord:function(t){t.deleteRecord()},unloadRecord:function(t){t.unloadRecord()},find:function(t,e,n){return 1===arguments.length?this.findAll(t):"object"===Ember.typeOf(e)?this.findQuery(t,e):this.findById(t,O(e),n)},fetchById:function(t,e,n){return this.hasRecordForId(t,e)?this.getById(t,e).reload():this.find(t,e,n)},fetchAll:function(t){return t=this.modelFor(t),this._fetchAll(t,this.all(t))},fetch:function(t,e,n){return this.fetchById(t,e,n)},findById:function(t,e,n){var r=this.modelFor(t),i=this.recordForId(r,e);return this._findByRecord(i,n)},_findByRecord:function(t,e){var n;return e&&t._preloadData(e),pn(t,"isEmpty")?n=this.scheduleFetch(t):pn(t,"isLoading")&&(n=t._loadingPromise),he(n||t,"DS: Store#findByRecord "+t.typeKey+" with id: "+pn(t,"id"))},findByIds:function(t,e){var n=this;return de(Ember.RSVP.all(bn(e,function(e){return n.findById(t,e)})).then(Ember.A,null,"DS: Store#findByIds of "+t+" complete"))},fetchRecord:function(t){var e=t.constructor,n=pn(t,"id"),r=this.adapterFor(e),i=U(r,this,e,n,t);return i},scheduleFetchMany:function(t){return _n.all(bn(t,this.scheduleFetch,this))},scheduleFetch:function(t){var e=t.constructor;if(gn(t))return null;if(t._loadingPromise)return t._loadingPromise;var n=Ember.RSVP.defer("Fetching "+e+"with id: "+t.get("id")),r={record:t,resolver:n},i=n.promise;return t.loadingData(i),this._pendingFetch.get(e)?this._pendingFetch.get(e).push(r):this._pendingFetch.set(e,[r]),Ember.run.scheduleOnce("afterRender",this,this.flushAllPendingFetches),i},flushAllPendingFetches:function(){this.isDestroyed||this.isDestroying||(this._pendingFetch.forEach(this._flushPendingFetchForType,this),this._pendingFetch=wt.create())},_flushPendingFetchForType:function(t,e){function n(t){t.resolver.resolve(a.fetchRecord(t.record))}function r(e){vn(e,function(e){var n=Ember.A(t).findBy("record",e);if(n){var r=n.resolver;r.resolve(e)}})}function i(t){return function(e){var n=t.without(e);s(n)}}function o(t){return function(e){s(t,e)}}function s(e,n){vn(e,function(e){var r=Ember.A(t).findBy("record",e);if(r){var i=r.resolver;i.reject(n)}})}var a=this,l=a.adapterFor(e),u=!!l.findMany&&l.coalesceFindRequests,c=Ember.A(t).mapBy("record");if(1===t.length)n(t[0]);else if(u){var h=l.groupRecordsForFindMany(this,c);vn(h,function(s){var u=Ember.A(s),c=u.mapBy("id");if(c.length>1)W(l,a,e,c,u).then(r).then(i(u)).then(null,o(u));else if(1===c.length){var h=Ember.A(t).findBy("record",s[0]);n(h)}})}else vn(t,n)},getById:function(t,e){return this.hasRecordForId(t,e)?this.recordForId(t,e):null},reloadRecord:function(t){var e=t.constructor;this.adapterFor(e),pn(t,"id");return this.scheduleFetch(t)},hasRecordForId:function(t,e){var n=this.modelFor(t),r=O(e);return!!this.typeMapFor(n).idToRecord[r]},recordForId:function(t,e){var n=this.modelFor(t),r=O(e),i=this.typeMapFor(n).idToRecord,o=i[r];return o&&i[r]||(o=this.buildRecord(n,r)),o},findMany:function(t){var e=this;return _n.all(bn(t,function(t){return e._findByRecord(t)}))},findHasMany:function(t,e,n){var r=this.adapterFor(t.constructor);return q(r,this,t,e,n)},findBelongsTo:function(t,e,n){var r=this.adapterFor(t.constructor);return $(r,this,t,e,n)},findQuery:function(t,e){var n=this.modelFor(t),r=this.recordArrayManager.createAdapterPopulatedRecordArray(n,e),i=this.adapterFor(n);
return de(K(i,this,n,e,r))},findAll:function(t){return this.fetchAll(t)},_fetchAll:function(t,e){var n=this.adapterFor(t),r=this.typeMapFor(t).metadata.since;return fn(e,"isUpdating",!0),de(G(n,this,t,r))},didUpdateAll:function(t){var e=this.typeMapFor(t).findAllCache;fn(e,"isUpdating",!1)},all:function(t){var e=this.modelFor(t),n=this.typeMapFor(e),r=n.findAllCache;if(r)return this.recordArrayManager.updateFilter(r,e),r;var i=this.recordArrayManager.createRecordArray(e);return n.findAllCache=i,i},unloadAll:function(t){for(var e,n=this.modelFor(t),r=this.typeMapFor(n),i=r.records.slice(),o=0;o<i.length;o++)e=i[o],e.unloadRecord(),e.destroy();r.findAllCache=null},filter:function(t,e,n){var r,i,o=arguments.length,s=3===o;return s?r=this.findQuery(t,e):2===arguments.length&&(n=e),t=this.modelFor(t),i=s?this.recordArrayManager.createFilteredRecordArray(t,n,e):this.recordArrayManager.createFilteredRecordArray(t,n),r=r||_n.cast(i),de(r.then(function(){return i},null,"DS: Store#filter of "+t))},recordIsLoaded:function(t,e){return this.hasRecordForId(t,e)?!pn(this.recordForId(t,e),"isEmpty"):!1},metadataFor:function(t){var e=this.modelFor(t);return this.typeMapFor(e).metadata},setMetadataFor:function(t,e){var n=this.modelFor(t);Ember.merge(this.typeMapFor(n).metadata,e)},dataWasUpdated:function(t,e){this.recordArrayManager.recordDidChange(e)},scheduleSave:function(t,e){t.adapterWillCommit(),this._pendingSave.push([t,e]),mn(this,"flushPendingSave")},flushPendingSave:function(){var t=this._pendingSave.slice();this._pendingSave=[],vn(t,function(t){var e,n=t[0],r=t[1],i=this.adapterFor(n.constructor);return"root.deleted.saved"===pn(n,"currentState.stateName")?r.resolve(n):(e=pn(n,"isNew")?"createRecord":pn(n,"isDeleted")?"deleteRecord":"updateRecord",void r.resolve(Y(i,this,e,n)))},this)},didSaveRecord:function(t,e){e&&(this._backburner.schedule("normalizeRelationships",this,"_setupRelationships",t,t.constructor,e),this.updateId(t,e)),t.adapterDidCommit(e)},recordWasInvalid:function(t,e){t.adapterDidInvalidate(e)},recordWasError:function(t){t.adapterDidError()},updateId:function(t,e){var n=(pn(t,"id"),O(e.id));this.typeMapFor(t.constructor).idToRecord[n]=t,fn(t,"id",n)},typeMapFor:function(t){var e,n=pn(this,"typeMaps"),r=Ember.guidFor(t);return(e=n[r])?e:(e={idToRecord:Ember.create(null),records:[],metadata:Ember.create(null),type:t},n[r]=e,e)},_load:function(t,e){var n=O(e.id),r=this.recordForId(t,n);return r.setupData(e),this.recordArrayManager.recordDidChange(r),r},modelFor:function(t){var e;if("string"==typeof t){if(e=this.modelFactoryFor(t),!e)throw new Ember.Error("No model was found for '"+t+"'");e.typeKey=e.typeKey||this._normalizeTypeKey(t)}else e=t,e.typeKey&&(e.typeKey=this._normalizeTypeKey(e.typeKey));return e.store=this,e},modelFactoryFor:function(t){return this.container.lookupFactory("model:"+t)},push:function(t,e){var n=this.modelFor(t);Ember.EnumerableUtils.filter;Ember.ENV.DS_WARN_ON_UNKNOWN_KEYS,this._load(n,e);var r=this.recordForId(n,e.id),i=this;return this._backburner.join(function(){i._backburner.schedule("normalizeRelationships",i,"_setupRelationships",r,n,e)}),r},_setupRelationships:function(t,e,n){n=D(this,e,n),Z(this,t,n)},pushPayload:function(t,e){var n,r;e?(r=e,n=this.serializerFor(t)):(r=t,n=I(this.container));var i=this;V(this,function(){n.pushPayload(i,r)})},normalize:function(t,e){var n=this.serializerFor(t),r=this.modelFor(t);return n.normalize(r,e)},update:function(t,e){return this.push(t,e)},pushMany:function(t,e){for(var n=e.length,r=new Array(n),i=0;n>i;i++)r[i]=this.push(t,e[i]);return r},metaForType:function(t,e){this.setMetadataFor(t,e)},buildRecord:function(t,e,n){var r=this.typeMapFor(t),i=r.idToRecord,o=t._create({id:e,store:this,container:this.container});return n&&o.setupData(n),e&&(i[e]=o),r.records.push(o),o},recordWasLoaded:function(t){this.recordArrayManager.recordWasLoaded(t)},dematerializeRecord:function(t){this._dematerializeRecord(t)},_dematerializeRecord:function(t){var e=t.constructor,n=this.typeMapFor(e),r=pn(t,"id");t.updateRecordArrays(),r&&delete n.idToRecord[r];var i=yn(n.records,t);n.records.splice(i,1)},adapterFor:function(t){var e,n=this.container;return n&&(e=n.lookup("adapter:"+t.typeKey)||n.lookup("adapter:application")),e||pn(this,"defaultAdapter")},serializerFor:function(t){t=this.modelFor(t);var e=this.adapterFor(t);return F(this.container,t.typeKey,e&&e.defaultSerializer)},willDestroy:function(){function t(t){return e[t].type}var e=this.typeMaps,n=Ember.keys(e),r=bn(n,t);this.recordArrayManager.destroy(),vn(r,this.unloadAll,this)},_normalizeTypeKey:function(t){return xn(a(t))}});var Cn=dn,Tn=J,En=Ember.Object.extend({serialize:Ember.required(),deserialize:Ember.required()}),kn=Ember.isEmpty,Sn=En.extend({deserialize:function(t){var e;return kn(t)?null:(e=Number(t),X(e)?e:null)},serialize:function(t){var e;return kn(t)?null:(e=Number(t),X(e)?e:null)}}),Pn=Date.prototype.toISOString||function(){function t(t){return 10>t?"0"+t:t}return this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};Ember.SHIM_ES5&&(Date.prototype.toISOString||(Date.prototype.toISOString=Pn));var An=En.extend({deserialize:function(t){var e=typeof t;return"string"===e?new Date(Ember.Date.parse(t)):"number"===e?new Date(t):null===t||void 0===t?t:null},serialize:function(t){return t instanceof Date?Pn.call(t):null}}),Ln=Ember.isNone,On=En.extend({deserialize:function(t){return Ln(t)?null:String(t)},serialize:function(t){return Ln(t)?null:String(t)}}),Dn=En.extend({deserialize:function(t){var e=typeof t;return"boolean"===e?t:"string"===e?null!==t.match(/^true$|^t$|^1$/i):"number"===e?1===t:!1},serialize:function(t){return Boolean(t)}}),Mn=Q,Rn=tt,Nn=Ember.get,Fn=Ember.String.capitalize,In=Ember.String.underscore,Bn=Ember.DataAdapter.extend({getFilters:function(){return[{name:"isNew",desc:"New"},{name:"isModified",desc:"Modified"},{name:"isClean",desc:"Clean"}]},detect:function(t){return t!==an&&an.detect(t)},columnsForType:function(t){var e=[{name:"id",desc:"Id"}],n=0,r=this;return Nn(t,"attributes").forEach(function(t,i){if(n++>r.attributeLimit)return!1;var o=Fn(In(i).replace("_"," "));e.push({name:i,desc:o})}),e},getRecords:function(t){return this.get("store").all(t)},getRecordColumnValues:function(t){var e=this,n=0,r={id:Nn(t,"id")};return t.eachAttribute(function(i){if(n++>e.attributeLimit)return!1;var o=Nn(t,i);r[i]=o}),r},getRecordKeywords:function(t){var e=[],n=Ember.A(["id"]);return t.eachAttribute(function(t){n.push(t)}),n.forEach(function(n){e.push(Nn(t,n))}),e},getRecordFilterValues:function(t){return{isNew:t.get("isNew"),isModified:t.get("isDirty")&&!t.get("isNew"),isClean:!t.get("isDirty")}},getRecordColor:function(t){var e="black";return t.get("isNew")?e="green":t.get("isDirty")&&(e="blue"),e},observeRecord:function(t,e){var n=Ember.A(),r=this,i=Ember.A(["id","isNew","isDirty"]);t.eachAttribute(function(t){i.push(t)}),i.forEach(function(i){var o=function(){e(r.wrapRecord(t))};Ember.addObserver(t,i,o),n.push(function(){Ember.removeObserver(t,i,o)})});var o=function(){n.forEach(function(t){t()})};return o}}),jn=et,zn=nt,Vn=Ember.K;Ember.onLoad("Ember.Application",function(t){t.initializer({name:"ember-data",initialize:zn}),t.initializer({name:"store",after:"ember-data",initialize:Vn}),t.initializer({name:"activeModelAdapter",before:"store",initialize:Vn}),t.initializer({name:"transforms",before:"store",initialize:Vn}),t.initializer({name:"data-adapter",before:"store",initialize:Vn}),t.initializer({name:"injectStore",before:"store",initialize:Vn})}),Ember.Date=Ember.Date||{};var Hn=Date.parse,Un=[1,4,5,6,7,10,11];Ember.Date.parse=function(t){var e,n,r=0;if(n=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(t)){for(var i,o=0;i=Un[o];++o)n[i]=+n[i]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,"Z"!==n[8]&&void 0!==n[9]&&(r=60*n[10]+n[11],"+"===n[9]&&(r=0-r)),e=Date.UTC(n[1],n[2],n[3],n[4],n[5]+r,n[6],n[7])}else e=Hn?Hn(t):NaN;return e},(Ember.EXTEND_PROTOTYPES===!0||Ember.EXTEND_PROTOTYPES.Date)&&(Date.parse=Ember.Date.parse),an.reopen({_debugInfo:function(){var t=["id"],e={belongsTo:[],hasMany:[]},n=[];this.eachAttribute(function(e,n){t.push(e)},this),this.eachRelationship(function(t,r){e[r.kind].push(t),n.push(t)});var r=[{name:"Attributes",properties:t,expand:!0},{name:"Belongs To",properties:e.belongsTo,expand:!0},{name:"Has Many",properties:e.hasMany,expand:!0},{name:"Flags",properties:["isLoaded","isDirty","isSaving","isDeleted","isError","isNew","isValid"]}];return{propertyInfo:{includeOtherProperties:!0,groups:r,expensiveProperties:n}}}});var Wn=Bn,qn=Ember.get,$n=Ember.EnumerableUtils.forEach,Gn=Ember.String.camelize,Kn=Ember.Mixin.create({normalize:function(t,e,n){var r=this._super(t,e,n);return rt(this,this.store,t,r)},keyForRelationship:function(t,e){return this.hasDeserializeRecordsOption(t)?this.keyForAttribute(t):this._super(t,e)||t},serializeBelongsTo:function(t,e,n){var r=n.key;if(this.noSerializeOptionSpecified(r))return void this._super(t,e,n);var i,o=this.hasSerializeIdsOption(r),s=this.hasSerializeRecordsOption(r),a=t.belongsTo(r);o?(i=this.keyForRelationship(r,n.kind),a?e[i]=a.id:e[i]=null):s&&(i=this.keyForAttribute(r),a?(e[i]=a.record.serialize({includeId:!0}),this.removeEmbeddedForeignKey(t,a,n,e[i])):e[i]=null)},serializeHasMany:function(t,e,n){var r=n.key;if(this.noSerializeOptionSpecified(r))return void this._super(t,e,n);var i,o=this.hasSerializeIdsOption(r),s=this.hasSerializeRecordsOption(r);o?(i=this.keyForRelationship(r,n.kind),e[i]=t.hasMany(r,{ids:!0})):s&&(i=this.keyForAttribute(r),e[i]=t.hasMany(r).map(function(e){var r=e.record.serialize({includeId:!0});return this.removeEmbeddedForeignKey(t,e,n,r),r},this))},removeEmbeddedForeignKey:function(t,e,n,r){if("hasMany"!==n.kind&&"belongsTo"===n.kind){var i=t.type.inverseFor(n.key);if(i){var o=i.name,s=this.store.serializerFor(e.type),a=s.keyForRelationship(o,i.kind);a&&delete r[a]}}},hasEmbeddedAlwaysOption:function(t){var e=this.attrsOption(t);return e&&"always"===e.embedded},hasSerializeRecordsOption:function(t){var e=this.hasEmbeddedAlwaysOption(t),n=this.attrsOption(t);return e||n&&"records"===n.serialize},hasSerializeIdsOption:function(t){var e=this.attrsOption(t);return e&&("ids"===e.serialize||"id"===e.serialize)},noSerializeOptionSpecified:function(t){var e=this.attrsOption(t);return!(e&&(e.serialize||e.embedded))},hasDeserializeRecordsOption:function(t){var e=this.hasEmbeddedAlwaysOption(t),n=this.attrsOption(t);return e||n&&"records"===n.deserialize},attrsOption:function(t){var e=this.get("attrs");return e&&(e[Gn(t)]||e[t])}}),Yn=Kn;an.reopen({notifyBelongsToChanged:function(t){this.notifyPropertyChange(t)}});var Zn=lt;an.reopen({notifyHasManyAdded:function(t){this.notifyPropertyChange(t)}});var Jn=ut,Xn=Ember.get,Qn=Ember.ArrayPolyfills.filter,tr=Ember.computed(function(){Ember.testing===!0&&tr._cacheable===!0&&(tr._cacheable=!1);var t=new xt({defaultValue:function(){return[]}});return this.eachComputedProperty(function(e,n){if(n.isRelationship){n.key=e;var r=t.get(ct(this.store,n));r.push({name:e,kind:n.kind})}}),t}).readOnly(),er=Ember.computed(function(){Ember.testing===!0&&er._cacheable===!0&&(er._cacheable=!1);var t,e=Ember.A();return this.eachComputedProperty(function(n,r){r.isRelationship&&(r.key=n,t=ct(this.store,r),e.contains(t)||e.push(t))}),e}).readOnly(),nr=Ember.computed(function(){Ember.testing===!0&&nr._cacheable===!0&&(nr._cacheable=!1);var t=wt.create();return this.eachComputedProperty(function(e,n){if(n.isRelationship){n.key=e;var r=ht(this.store,n);r.type=ct(this.store,n),t.set(e,r)}}),t}).readOnly();an.reopen({didDefineProperty:function(t,e,n){if(n instanceof Ember.ComputedProperty){var r=n.meta();r.parentType=t.constructor}}}),an.reopenClass({typeForRelationship:function(t){var e=Xn(this,"relationshipsByName").get(t);return e&&e.type},inverseMap:Ember.computed(function(){return Ember.create(null)}),inverseFor:function(t){var e=Xn(this,"inverseMap");if(e[t])return e[t];var n=this._findInverseFor(t);return e[t]=n,n},_findInverseFor:function(t){function e(n,r,i){var o=i||[],s=Xn(r,"relationships");if(s){var a=s.get(n);return a=Qn.call(a,function(e){var n=r.metaForProperty(e.name).options;return n.inverse?t===n.inverse:!0}),a&&o.push.apply(o,a),n.superclass&&e(n.superclass,r,o),o}}var n=this.typeForRelationship(t);if(!n)return null;var r=this.metaForProperty(t),i=r.options;if(null===i.inverse)return null;var o,s,a;if(i.inverse)o=i.inverse,a=Ember.get(n,"relationshipsByName").get(o),s=a.kind;else{var l=e(this,n);if(0===l.length)return null;var u=Qn.call(l,function(e){var r=n.metaForProperty(e.name).options;return t===r.inverse});1===u.length&&(l=u),o=l[0].name,s=l[0].kind}return{type:n,name:o,kind:s}},relationships:tr,relationshipNames:Ember.computed(function(){var t={hasMany:[],belongsTo:[]};return this.eachComputedProperty(function(e,n){n.isRelationship&&t[n.kind].push(e)}),t}),relatedTypes:er,relationshipsByName:nr,fields:Ember.computed(function(){var t=wt.create();return this.eachComputedProperty(function(e,n){n.isRelationship?t.set(e,n.kind):n.isAttribute&&t.set(e,"attribute")}),t}).readOnly(),eachRelationship:function(t,e){Xn(this,"relationshipsByName").forEach(function(n,r){t.call(e,r,n)})},eachRelatedType:function(t,e){Xn(this,"relatedTypes").forEach(function(n){t.call(e,n)})},determineRelationshipType:function(t){var e,n,r=t.key,i=t.kind,o=this.inverseFor(r);return o?(e=o.name,n=o.kind,"belongsTo"===n?"belongsTo"===i?"oneToOne":"manyToOne":"belongsTo"===i?"oneToMany":"manyToMany"):"belongsTo"===i?"oneToNone":"manyToNone"}}),an.reopen({eachRelationship:function(t,e){this.constructor.eachRelationship(t,e)},relationshipFor:function(t){return Xn(this.constructor,"relationshipsByName").get(t)},inverseFor:function(t){return this.constructor.inverseFor(t)}}),Ember.RSVP.Promise.cast=Ember.RSVP.Promise.cast||Ember.RSVP.resolve,se.Store=dn,se.PromiseArray=ue,se.PromiseObject=ce,se.PromiseManyArray=pe,se.Model=an,se.RootState=Re,se.attr=un,se.Errors=Be,se.Snapshot=Ze,se.Adapter=ft,se.InvalidError=t,se.Serializer=jt,se.DebugAdapter=Wn,se.RecordArray=ge,se.FilteredRecordArray=ye,se.AdapterPopulatedRecordArray=_e,se.ManyArray=Ce,se.RecordArrayManager=Se,se.RESTAdapter=kt,se.FixtureAdapter=_t,se.RESTSerializer=Yt,se.JSONSerializer=Wt,se.Transform=En,se.DateTransform=An,se.StringTransform=On,se.NumberTransform=Sn,se.BooleanTransform=Dn,se.ActiveModelAdapter=It,se.ActiveModelSerializer=ne,se.EmbeddedRecordsMixin=Yn,se.belongsTo=Zn,se.hasMany=Jn,se.Relationship=He,se.ContainerProxy=re,se._setupContainer=zn,Ember.lookup.DS=se}.call(this),function(){var t,e,n,r;!function(){var i={},o={};t=function(t,e,n){i[t]={deps:e,callback:n}},r=n=e=function(t){function n(e){if("."!==e.charAt(0))return e;for(var n=e.split("/"),r=t.split("/").slice(0,-1),i=0,o=n.length;o>i;i++){var s=n[i];if(".."===s)r.pop();else{if("."===s)continue;r.push(s)}}return r.join("/")}if(o[t])return o[t];if(o[t]={},!i[t])throw new Error("Could not find module "+t);for(var r,s=i[t],a=s.deps,l=s.callback,u=[],c=0,h=a.length;h>c;c++)"exports"===a[c]?u.push(r={}):u.push(e(n(a[c])));var d=l.apply(this,u);return o[t]=r||d}}(),t("core-model",["ember","./model","exports"],function(t,e,n){"use strict";var r=t["default"],i=e["default"];i.proto();var o=["_setup","_unhandledEvent","_createSnapshot","send","transitionTo","isEmpty","isLoading","isLoaded","isDirty","isSaving","isDeleted","isNew","isValid","serialize","changedAttributes","eachAttribute","fragmentDidDirty","fragmentDidReset","rollbackFragments"].reduce(function(t,e){return t[e]=i.prototype[e]||r.meta(i.prototype).descs[e],t},{}),s=["attributes","eachAttribute","transformedAttributes","eachTransformedAttribute"].reduce(function(t,e){return t[e]=i[e]||r.meta(i).descs[e],t},{}),a=r.Object.extend(o,{eachRelationship:r.K,updateRecordArraysLater:r.K});a.reopenClass(s,{eachRelationship:r.K}),n["default"]=a}),t("ember",["exports"],function(t){"use strict";t["default"]=Ember}),t("fragments/array/fragment",["ember","./stateful","../model","exports"],function(t,e,n,r){"use strict";var i=t["default"],o=e["default"],s=n.getActualFragmentType,a=i.get,l=i.EnumerableUtils.map,u=o.extend({type:null,options:null,init:function(){this._super(),this._isInitializing=!1},_processData:function(t){var e=a(this,"owner"),n=a(e,"store"),r=a(this,"type"),o=a(this,"options"),u=a(this,"name"),c=a(this,"content");this._isInitializing=!0;var h=l(i.makeArray(t),function(t,i){var a=c[i];if(!a){var l=s(r,o,t);a=n.buildFragment(l),a.setProperties({_owner:e,_name:u})}return a.setupData(t),a});return this._isInitializing=!1,h},_createSnapshot:function(){return l(this,function(t){return t._createSnapshot()})},adapterDidCommit:function(){this._super(),this.invoke("adapterDidCommit")},isDirty:function(){return this._super()||this.isAny("isDirty")}.property("@each.isDirty","_originalState"),rollback:function(){this._super(),this.invoke("rollback")},serialize:function(){return this.invoke("serialize")},replaceContent:function(t,e,n){var r=a(this,"owner"),i=a(this,"name");return n&&n.forEach(function(t){var e=a(t,"_owner");e||t.setProperties({_owner:r,_name:i})}),a(this,"content").replace(t,e,n)},addFragment:function(t){return this.addObject(t)},removeFragment:function(t){return this.removeObject(t)},createFragment:function(t){var e=a(this,"owner"),n=a(e,"store"),r=a(this,"type"),i=n.createFragment(r,t);return this.pushObject(i)}});r["default"]=u}),t("fragments/array/stateful",["ember","exports"],function(t,e){"use strict";var n=t["default"],r=n.get,i=n.set,o=(Array.prototype.splice,n.ArrayProxy.extend({owner:null,name:null,init:function(){this._super(),this._pendingData=void 0,i(this,"_originalState",[])},content:function(){return n.A()}.property(),setupData:function(t){if(this._pendingData!==t){this._pendingData=t;var e=this._processData(t);i(this,"_originalState",e),this.replaceContent(0,r(this,"content.length"),e),this._pendingData=void 0}},_processData:function(t){return n.makeArray(t)},_createSnapshot:function(){return this.toArray()},adapterDidCommit:function(){i(this,"_originalState",this.toArray())},isDirty:function(){return 0!==n.compare(this.toArray(),r(this,"_originalState"))}.property("[]","_originalState"),rollback:function(){this.setObjects(r(this,"_originalState"))},serialize:function(){return this.toArray()},arrayContentDidChange:function(){this._super.apply(this,arguments);var t=r(this,"owner"),e=r(this,"name");this.get("isDirty")?t.fragmentDidDirty(e,this):t.fragmentDidReset(e,this)},toStringExtension:function(){return"owner("+r(this,"owner.id")+")"}}));e["default"]=o}),t("fragments/attributes",["ember","../util/ember-new-computed","./array/stateful","./array/fragment","./model","exports"],function(t,e,n,r,i,o){"use strict";function s(t,e,n){return t.setProperties({_owner:e,_name:n})}function a(t,e){function n(n,r,i){var o=n.store,a=n._data[r]||h(n,e,"object"),u=n._fragments[r],c=g(t,e,a);return!u&&l(o.modelFor(c),a)?u=a:a&&a!==u?(u||(u=s(o.buildFragment(c),n,r)),n._data[r]=u,u.setupData(a)):u=a,u}e=e||{};var r={type:"fragment",isAttribute:!0,isFragment:!0,options:e};return p({set:function(t,e){var r=n(this,t,e);this.store;return r=e?s(e,this,t):null,this._data[t]!==r?this.fragmentDidDirty(t,r):this.fragmentDidReset(t,r),this._fragments[t]=r},get:function(t){var e=n(this,t);return this._fragments[t]=e}}).meta(r)}function l(t,e){return e instanceof t?!0:d.MODEL_FACTORY_INJECTIONS?e instanceof t.superclass:!1}function u(t,e){function n(n,r){var i=t?m:f;return i.create({type:t,options:e,name:r,owner:n})}function r(t,r,i){var o=t._data[r]||h(t,e,"array"),s=t._fragments[r]||null;return o instanceof f&&!s?s=o:o&&o!==s?(s||(s=n(t,r)),t._data[r]=s,s.setupData(o)):s=o,s}"string"!==d.typeOf(t)&&(e=t,t=null),e=e||{};var i={type:"fragment",isAttribute:!0,isFragment:!0,options:e,kind:"hasMany"};return p({set:function(t,e){var i=r(this,t,e);return d.isArray(e)?(i||(i=n(this,t)),i.setObjects(e)):null===e&&(i=null),this._data[t]!==i||v(i,"isDirty")?this.fragmentDidDirty(t,i):this.fragmentDidReset(t,i),this._fragments[t]=i},get:function(t){var e=r(this,t);return this._fragments[t]=e}}).meta(i)}function c(){return d.computed.alias("_owner").readOnly()}function h(t,e,n){var r;if("function"==typeof e.defaultValue)r=e.defaultValue();else{if(!e.defaultValue)return null;r=e.defaultValue}return d.copy(r,!0)}var d=t["default"],p=e["default"],f=n["default"],m=r["default"],g=i.getActualFragmentType,v=d.get;o.hasOneFragment=a,o.hasManyFragments=u,o.fragmentOwner=c}),t("fragments/ext",["../store","../model","exports"],function(t,e,n){"use strict";var r=t["default"],i=e["default"],o=Ember.get;r.reopen({buildFragment:function(t){return t=this.modelFor(t),t.create({store:this})},createFragment:function(t,e){var n=this.buildFragment(t);return e&&n.setProperties(e),n.send("loadedData"),n}}),i.reopen({_setup:function(){this._super(),this._fragments={}},_createSnapshot:function(){var t=this._super.apply(this,arguments),e=t._attributes;return Ember.keys(e).forEach(function(t){var n=e[t];n&&"function"==typeof n._createSnapshot&&(e[t]=n._createSnapshot())}),t},adapterDidCommit:function(t){this._super.apply(this,arguments);var e;for(var n in this._fragments)(e=this._fragments[n])&&e.adapterDidCommit()},changedAttributes:function(){var t=this._super();return Ember.keys(this._fragments).forEach(function(e){e in this._attributes&&(t[e]=!0)},this),t},rollback:function(){this._super(),this.rollbackFragments()},rollbackFragments:function(){for(var t in this._fragments)this._fragments[t]&&this._fragments[t].rollback()},fragmentDidDirty:function(t,e){o(this,"isDeleted")||(this._attributes[t]=e,this.send("becomeDirty"))},fragmentDidReset:function(t,e){delete this._attributes[t],o(this,"isNew")||this.send("propertyWasReset",t)}}),n.Store=r,n.Model=i}),t("fragments/model",["ember","../core-model","./states","exports"],function(t,e,n,r){"use strict";function i(t,e){s.beginPropertyChanges();for(var n=0,r=e.length;r>n;n++)t.notifyPropertyChange(e[n]);s.endPropertyChanges()}function o(t,e,n){if(!e.polymorphic||!n)return t;var r=e.typeKey||"type",i=n[r];return i||t}var s=t["default"],a=e["default"],l=n["default"],u=s.get,c=a.extend(s.Comparable,s.Copyable,{_name:null,_owner:null,currentState:l.empty,setupData:function(t){var e=u(this,"store"),n=e.modelFor(this.constructor),r=e.serializerFor(n);this._attributes={},this._data=r.normalize(n,t),this.send("pushedData"),i(this,s.keys(t))},rollback:function(){var t=s.keys(this._attributes);this._attributes={},this.rollbackFragments(),this.send("rolledBack"),i(this,t)},compare:function(t,e){return t===e?0:1},copy:function(){var t=u(this,"store"),e=t.modelFor(this.constructor),n={};return s.merge(n,this._data),s.merge(n,this._attributes),this.store.createFragment(e,n)},adapterDidCommit:function(){s.keys(this._inFlightAttributes).length&&(s.mixin(this._data,this._inFlightAttributes),this._inFlightAttributes={});var t;for(var e in this._fragments)(t=this._fragments[e])&&t.adapterDidCommit();this.transitionTo("saved")},toStringExtension:function(){return"owner("+u(this,"_owner.id")+")"},init:function(){this._super(),this._setup()}});r["default"]=c,r.getActualFragmentType=o}),t("fragments/states",["ember","../states","exports"],function(t,e,n){"use strict";function r(t,e){for(var n in e)t[n]=e[n];return t}function i(t,e,n){t=r(e?o.create(e):{},t),t.parentState=e,t.stateName=n;for(var s in t)t.hasOwnProperty(s)&&"parentState"!==s&&"stateName"!==s&&"object"==typeof t[s]&&(t[s]=i(t[s],t,n+"."+s));return t}var o=t["default"],s=e["default"],a=o.get,l=s.loaded.saved.didSetProperty,u=s.loaded.updated.uncommitted.propertyWasReset,c=function(t){var e=a(t,"_owner"),n=a(t,"_name");e&&e.fragmentDidDirty(n,t)},h={isEmpty:!1,isLoading:!1,isLoaded:!1,isDirty:!1,isSaving:!1,isDeleted:!1,isNew:!1,isValid:!0,didSetProperty:l,propertyWasReset:o.K,becomeDirty:o.K,rolledBack:o.K,empty:{isEmpty:!0,loadedData:function(t){t.transitionTo("loaded.created")},pushedData:function(t){t.transitionTo("loaded.saved")}},loaded:{pushedData:function(t){t.transitionTo("saved")},saved:{setup:function(t){var e=a(t,"_owner"),n=a(t,"_name");e._fragments[n]&&!t._isInitializing&&(a(e,n+".isDirty")||e.fragmentDidReset(n,t))},pushedData:o.K,becomeDirty:function(t){t.transitionTo("updated")}},created:{isDirty:!0,setup:c},updated:{isDirty:!0,setup:c,propertyWasReset:u,rolledBack:function(t){t.transitionTo("saved")}}}};h=i(h,null,"root"),n["default"]=h}),t("fragments/transform",["../snapshot","../transform","exports"],function(t,e,n){"use strict";function r(t){return t instanceof i?s(t,"record.store").serializerFor(t.typeKey).serialize(t):t}var i=t["default"],o=e["default"],s=Ember.get,a=Ember.isArray,l=Ember.EnumerableUtils.map,u=o.extend({deserialize:function(t){return t},serialize:function(t){return t?a(t)?l(t,r):r(t):null}});n["default"]=u}),t("initializers",["./fragments/transform","exports"],function(t,e){"use strict";var n=t["default"],r=[{name:"fragmentTransform",before:"store",initialize:function(t,e){e.register("transform:fragment",n)}}];e["default"]=r}),t("main",["ember","./fragments/ext","./fragments/model","./fragments/array/fragment","./fragments/transform","./fragments/attributes","./initializers","exports"],function(t,e,n,r,i,o,s,a){"use strict";var l=t["default"],u=(e["default"],n["default"]),c=r["default"],h=i["default"],d=o.hasOneFragment,p=o.hasManyFragments,f=o.fragmentOwner,m=s["default"];DS.ModelFragment=u,DS.FragmentArray=c,DS.FragmentTransform=h,DS.hasOneFragment=d,DS.hasManyFragments=p,DS.fragmentOwner=f,l.onLoad("Ember.Application",function(t){m.forEach(t.initializer,t)}),l.libraries&&l.libraries.register("Model Fragments","0.3.3"),a["default"]=DS}),t("model",["exports"],function(t){"use strict";t["default"]=DS.Model}),t("snapshot",["exports"],function(t){"use strict";t["default"]=DS.Snapshot}),t("states",["exports"],function(t){"use strict";t["default"]=DS.RootState}),t("store",["exports"],function(t){"use strict";t["default"]=DS.Store}),t("transform",["exports"],function(t){"use strict";t["default"]=DS.Transform}),t("util/ember-new-computed",["exports"],function(t){"use strict";var e,n=window.Ember,r=n.computed;try{n.computed({set:function(){},get:function(){}}),e=!0}catch(i){e=!1}t["default"]=function(){var t=[],n=arguments[arguments.length-1];if("function"==typeof n||e)return r.apply(this,arguments);for(var i=0,o=arguments.length-1;o>i;i++)t.push(arguments[i]);var s;return s=n.set?function(t,e){return arguments.length>1?n.set.call(this,t,e):n.get.call(this,t)}:function(t){return n.get.call(this,t)},t.push(s),r.apply(this,t)}}),e("main")["default"]}(),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports&&"object"==typeof module?module.exports=t:t(jQuery)}(function(t,e){"use strict";function n(e,n,r,i){for(var o=[],s=0;s<e.length;s++){var a=e[s];if(a){var l=tinycolor(a),u=l.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";u+=tinycolor.equals(n,a)?" sp-thumb-active":"";var c=l.toString(i.preferredFormat||"rgb"),h=g?"background-color:"+l.toRgbString():"filter:"+l.toFilter();o.push('<span title="'+c+'" data-color="'+l.toRgbString()+'" class="'+u+'"><span class="sp-thumb-inner" style="'+h+';" /></span>')}else{var d="sp-clear-display";o.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="'+d+'"></span>').attr("title",i.noColorSelectedText)).html())}}return"<div class='sp-cf "+r+"'>"+o.join("")+"</div>"}function r(){for(var t=0;t<f.length;t++)f[t]&&f[t].hide()}function i(e,n){var r=t.extend({},p,e);return r.callbacks={move:u(r.move,n),change:u(r.change,n),show:u(r.show,n),hide:u(r.hide,n),beforeShow:u(r.beforeShow,n)},r}function o(o,a){function u(){if(q.showPaletteOnly&&(q.showPalette=!0),Ft.text(q.showPaletteOnly?q.togglePaletteMoreText:q.togglePaletteLessText),q.palette){ht=q.palette.slice(0),dt=t.isArray(ht[0])?ht:[ht],pt={};for(var e=0;e<dt.length;e++)for(var n=0;n<dt[e].length;n++){var r=tinycolor(dt[e][n]).toRgbString();pt[r]=!0}}wt.toggleClass("sp-flat",$),wt.toggleClass("sp-input-disabled",!q.showInput),wt.toggleClass("sp-alpha-enabled",q.showAlpha),wt.toggleClass("sp-clear-enabled",Yt),wt.toggleClass("sp-buttons-disabled",!q.showButtons),wt.toggleClass("sp-palette-buttons-disabled",!q.togglePaletteOnly),wt.toggleClass("sp-palette-disabled",!q.showPalette),wt.toggleClass("sp-palette-only",q.showPaletteOnly),wt.toggleClass("sp-initial-disabled",!q.showInitial),wt.addClass(q.className).addClass(q.containerClassName),j()}function p(){function e(e){return e.data&&e.data.ignore?(D(t(e.target).closest(".sp-thumb-el").data("color")),N()):(D(t(e.target).closest(".sp-thumb-el").data("color")),N(),B(!0),q.hideAfterPaletteSelect&&L()),!1}if(m&&wt.find("*:not(input)").attr("unselectable","on"),u(),jt&&bt.after(zt).hide(),Yt||Rt.hide(),$)bt.after(wt).hide();else{var n="parent"===q.appendTo?bt.parent():t(q.appendTo);1!==n.length&&(n=t("body")),n.append(wt)}b(),Vt.bind("click.spectrum touchstart.spectrum",function(e){_t||S(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),(bt.is(":disabled")||q.disabled===!0)&&U(),wt.click(l),Lt.change(k),Lt.bind("paste",function(){setTimeout(k,1)}),Lt.keydown(function(t){13==t.keyCode&&k()}),Mt.text(q.cancelText),Mt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),O(),L()}),Rt.attr("title",q.clearText),Rt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Kt=!0,N(),$&&B(!0)}),Nt.text(q.chooseText),Nt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),m&&Lt.is(":focus")&&Lt.trigger("change"),R()&&(B(!0),L())}),Ft.text(q.showPaletteOnly?q.togglePaletteMoreText:q.togglePaletteLessText),Ft.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),q.showPaletteOnly=!q.showPaletteOnly,q.showPaletteOnly||$||wt.css("left","-="+(xt.outerWidth(!0)+5)),u()}),c(Pt,function(t,e,n){ct=t/it,Kt=!1,n.shiftKey&&(ct=Math.round(10*ct)/10),N()},T,E),c(Et,function(t,e){at=parseFloat(e/nt),Kt=!1,q.showAlpha||(ct=1),N()},T,E),c(Ct,function(t,e,n){if(n.shiftKey){if(!vt){var r=lt*Q,i=tt-ut*tt,o=Math.abs(t-r)>Math.abs(e-i);vt=o?"x":"y"}}else vt=null;var s=!vt||"x"===vt,a=!vt||"y"===vt;s&&(lt=parseFloat(t/Q)),a&&(ut=parseFloat((tt-e)/tt)),Kt=!1,q.showAlpha||(ct=1),N()},T,E),Ut?(D(Ut),F(),$t=qt||tinycolor(Ut).format,_(Ut)):F(),$&&P();var r=m?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Ot.delegate(".sp-thumb-el",r,e),Dt.delegate(".sp-thumb-el:nth-child(1)",r,{ignore:!0},e)}function b(){if(K&&window.localStorage){try{var e=window.localStorage[K].split(",#");e.length>1&&(delete window.localStorage[K],t.each(e,function(t,e){_(e)}))}catch(n){}try{ft=window.localStorage[K].split(";")}catch(n){}}}function _(e){if(G){var n=tinycolor(e).toRgbString();if(!pt[n]&&-1===t.inArray(n,ft))for(ft.push(n);ft.length>mt;)ft.shift();if(K&&window.localStorage)try{window.localStorage[K]=ft.join(";")}catch(r){}}}function w(){var t=[];if(q.showPalette)for(var e=0;e<ft.length;e++){var n=tinycolor(ft[e]).toRgbString();pt[n]||t.push(ft[e])}return t.reverse().slice(0,q.maxSelectionSize)}function x(){var e=M(),r=t.map(dt,function(t,r){return n(t,e,"sp-palette-row sp-palette-row-"+r,q)});b(),ft&&r.push(n(w(),e,"sp-palette-row sp-palette-row-selection",q)),Ot.html(r.join(""))}function C(){if(q.showInitial){var t=Wt,e=M();Dt.html(n([t,e],e,"sp-palette-row-initial",q))}}function T(){(0>=tt||0>=Q||0>=nt)&&j(),wt.addClass(gt),vt=null,bt.trigger("dragstart.spectrum",[M()])}function E(){wt.removeClass(gt),bt.trigger("dragstop.spectrum",[M()])}function k(){var t=Lt.val();if(null!==t&&""!==t||!Yt){var e=tinycolor(t);e.isValid()?(D(e),B(!0)):Lt.addClass("sp-validation-error")}else D(null),B(!0)}function S(){X?L():P()}function P(){var e=t.Event("beforeShow.spectrum");return X?void j():(bt.trigger(e,[M()]),
void(Z.beforeShow(M())===!1||e.isDefaultPrevented()||(r(),X=!0,t(yt).bind("click.spectrum",A),t(window).bind("resize.spectrum",J),zt.addClass("sp-active"),wt.removeClass("sp-hidden"),j(),F(),Wt=M(),C(),Z.show(Wt),bt.trigger("show.spectrum",[Wt]))))}function A(t){2!=t.button&&(Gt?B(!0):O(),L())}function L(){X&&!$&&(X=!1,t(yt).unbind("click.spectrum",A),t(window).unbind("resize.spectrum",J),zt.removeClass("sp-active"),wt.addClass("sp-hidden"),Z.hide(M()),bt.trigger("hide.spectrum",[M()]))}function O(){D(Wt,!0)}function D(t,e){if(tinycolor.equals(t,M()))return void F();var n,r;!t&&Yt?Kt=!0:(Kt=!1,n=tinycolor(t),r=n.toHsv(),at=r.h%360/360,lt=r.s,ut=r.v,ct=r.a),F(),n&&n.isValid()&&!e&&($t=qt||n.getFormat())}function M(t){return t=t||{},Yt&&Kt?null:tinycolor.fromRatio({h:at,s:lt,v:ut,a:Math.round(100*ct)/100},{format:t.format||$t})}function R(){return!Lt.hasClass("sp-validation-error")}function N(){F(),Z.move(M()),bt.trigger("move.spectrum",[M()])}function F(){Lt.removeClass("sp-validation-error"),I();var t=tinycolor.fromRatio({h:at,s:1,v:1});Ct.css("background-color",t.toHexString());var e=$t;1>ct&&(0!==ct||"name"!==e)&&("hex"===e||"hex3"===e||"hex6"===e||"name"===e)&&(e="rgb");var n=M({format:e}),r="";if(Ht.removeClass("sp-clear-display"),Ht.css("background-color","transparent"),!n&&Yt)Ht.addClass("sp-clear-display");else{var i=n.toHexString(),o=n.toRgbString();if(g||1===n.alpha?Ht.css("background-color",o):(Ht.css("background-color","transparent"),Ht.css("filter",n.toFilter())),q.showAlpha){var s=n.toRgb();s.a=0;var a=tinycolor(s).toRgbString(),l="linear-gradient(left, "+a+", "+i+")";m?St.css("filter",tinycolor(a).toFilter({gradientType:1},i)):(St.css("background","-webkit-"+l),St.css("background","-moz-"+l),St.css("background","-ms-"+l),St.css("background","linear-gradient(to right, "+a+", "+i+")"))}r=n.toString(e)}q.showInput&&Lt.val(r),q.showPalette&&x(),C()}function I(){var t=lt,e=ut;if(Yt&&Kt)At.hide(),kt.hide(),Tt.hide();else{At.show(),kt.show(),Tt.show();var n=t*Q,r=tt-e*tt;n=Math.max(-et,Math.min(Q-et,n-et)),r=Math.max(-et,Math.min(tt-et,r-et)),Tt.css({top:r+"px",left:n+"px"});var i=ct*it;At.css({left:i-ot/2+"px"});var o=at*nt;kt.css({top:o-st+"px"})}}function B(t){var e=M(),n="",r=!tinycolor.equals(e,Wt);e&&(n=e.toString($t),_(e)),It&&bt.val(n),t&&r&&(Z.change(e),bt.trigger("change",[e]))}function j(){Q=Ct.width(),tt=Ct.height(),et=Tt.height(),rt=Et.width(),nt=Et.height(),st=kt.height(),it=Pt.width(),ot=At.width(),$||(wt.css("position","absolute"),q.offset?wt.offset(q.offset):wt.offset(s(wt,Vt))),I(),q.showPalette&&x(),bt.trigger("reflow.spectrum")}function z(){bt.show(),Vt.unbind("click.spectrum touchstart.spectrum"),wt.remove(),zt.remove(),f[Zt.id]=null}function V(n,r){return n===e?t.extend({},q):r===e?q[n]:(q[n]=r,void u())}function H(){_t=!1,bt.attr("disabled",!1),Vt.removeClass("sp-disabled")}function U(){L(),_t=!0,bt.attr("disabled",!0),Vt.addClass("sp-disabled")}function W(t){q.offset=t,j()}var q=i(a,o),$=q.flat,G=q.showSelectionPalette,K=q.localStorageKey,Y=q.theme,Z=q.callbacks,J=h(j,10),X=!1,Q=0,tt=0,et=0,nt=0,rt=0,it=0,ot=0,st=0,at=0,lt=0,ut=0,ct=1,ht=[],dt=[],pt={},ft=q.selectionPalette.slice(0),mt=q.maxSelectionSize,gt="sp-dragging",vt=null,yt=o.ownerDocument,bt=(yt.body,t(o)),_t=!1,wt=t(y,yt).addClass(Y),xt=wt.find(".sp-picker-container"),Ct=wt.find(".sp-color"),Tt=wt.find(".sp-dragger"),Et=wt.find(".sp-hue"),kt=wt.find(".sp-slider"),St=wt.find(".sp-alpha-inner"),Pt=wt.find(".sp-alpha"),At=wt.find(".sp-alpha-handle"),Lt=wt.find(".sp-input"),Ot=wt.find(".sp-palette"),Dt=wt.find(".sp-initial"),Mt=wt.find(".sp-cancel"),Rt=wt.find(".sp-clear"),Nt=wt.find(".sp-choose"),Ft=wt.find(".sp-palette-toggle"),It=bt.is("input"),Bt=It&&"color"===bt.attr("type")&&d(),jt=It&&!$,zt=jt?t(v).addClass(Y).addClass(q.className).addClass(q.replacerClassName):t([]),Vt=jt?zt:bt,Ht=zt.find(".sp-preview-inner"),Ut=q.color||It&&bt.val(),Wt=!1,qt=q.preferredFormat,$t=qt,Gt=!q.showButtons||q.clickoutFiresChange,Kt=!Ut,Yt=q.allowEmpty&&!Bt;p();var Zt={show:P,hide:L,toggle:S,reflow:j,option:V,enable:H,disable:U,offset:W,set:function(t){D(t),B()},get:M,destroy:z,container:wt};return Zt.id=f.push(Zt)-1,Zt}function s(e,n){var r=0,i=e.outerWidth(),o=e.outerHeight(),s=n.outerHeight(),a=e[0].ownerDocument,l=a.documentElement,u=l.clientWidth+t(a).scrollLeft(),c=l.clientHeight+t(a).scrollTop(),h=n.offset();return h.top+=s,h.left-=Math.min(h.left,h.left+i>u&&u>i?Math.abs(h.left+i-u):0),h.top-=Math.min(h.top,h.top+o>c&&c>o?Math.abs(o+s-r):r),h}function a(){}function l(t){t.stopPropagation()}function u(t,e){var n=Array.prototype.slice,r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}function c(e,n,r,i){function o(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function s(t){if(c){if(m&&u.documentMode<9&&!t.button)return l();var r=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],i=r&&r.pageX||t.pageX,s=r&&r.pageY||t.pageY,a=Math.max(0,Math.min(i-h.left,p)),g=Math.max(0,Math.min(s-h.top,d));f&&o(t),n.apply(e,[a,g,t])}}function a(n){var i=n.which?3==n.which:2==n.button;i||c||r.apply(e,arguments)!==!1&&(c=!0,d=t(e).height(),p=t(e).width(),h=t(e).offset(),t(u).bind(g),t(u.body).addClass("sp-dragging"),f||s(n),o(n))}function l(){c&&(t(u).unbind(g),t(u.body).removeClass("sp-dragging"),i.apply(e,arguments)),c=!1}n=n||function(){},r=r||function(){},i=i||function(){};var u=document,c=!1,h={},d=0,p=0,f="ontouchstart"in window,g={};g.selectstart=o,g.dragstart=o,g["touchmove mousemove"]=s,g["touchend mouseup"]=l,t(e).bind("touchstart mousedown",a)}function h(t,e,n){var r;return function(){var i=this,o=arguments,s=function(){r=null,t.apply(i,o)};n&&clearTimeout(r),(n||!r)&&(r=setTimeout(s,e))}}function d(){return t.fn.spectrum.inputTypeColorSupport()}var p={beforeShow:a,move:a,change:a,show:a,hide:a,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!1,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},f=[],m=!!/msie/i.exec(window.navigator.userAgent),g=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div"),n=e.style;return n.cssText="background-color:rgba(0,0,0,.5)",t(n.backgroundColor,"rgba")||t(n.backgroundColor,"hsla")}(),v=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),y=function(){var t="";if(m)for(var e=1;6>=e;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),b="spectrum.id";t.fn.spectrum=function(e,n){if("string"==typeof e){var r=this,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=f[t(this).data(b)];if(n){var o=n[e];if(!o)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?r=n.get():"container"==e?r=n.container:"option"==e?r=n.option.apply(n,i):"destroy"==e?(n.destroy(),t(this).removeData(b)):o.apply(n,i)}}),r}return this.spectrum("destroy").each(function(){var n=t.extend({},e,t(this).data()),r=o(this,n);t(this).data(b,r.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=c,t.fn.spectrum.defaults=p,t.fn.spectrum.inputTypeColorSupport=function _(){if("undefined"==typeof _._cachedResult){var e=t("<input type='color' value='!' />")[0];_._cachedResult="color"===e.type&&"!"!==e.value}return _._cachedResult},t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("input[type=color]");e.length&&!d()&&e.spectrum({preferredFormat:"hex6"})},function(){function t(t){var n={r:0,g:0,b:0},i=1,s=!1,a=!1;return"string"==typeof t&&(t=D(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(n=e(t.r,t.g,t.b),s=!0,a="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=A(t.s),t.v=A(t.v),n=o(t.h,t.s,t.v),s=!0,a="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=A(t.s),t.l=A(t.l),n=r(t.h,t.s,t.l),s=!0,a="hsl"),t.hasOwnProperty("a")&&(i=t.a)),i=x(i),{ok:s,format:t.format||a,r:B(255,j(n.r,0)),g:B(255,j(n.g,0)),b:B(255,j(n.b,0)),a:i}}function e(t,e,n){return{r:255*C(t,255),g:255*C(e,255),b:255*C(n,255)}}function n(t,e,n){t=C(t,255),e=C(e,255),n=C(n,255);var r,i,o=j(t,e,n),s=B(t,e,n),a=(o+s)/2;if(o==s)r=i=0;else{var l=o-s;switch(i=a>.5?l/(2-o-s):l/(o+s),o){case t:r=(e-n)/l+(n>e?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,l:a}}function r(t,e,n){function r(t,e,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+(e-t)*(2/3-n)*6:t}var i,o,s;if(t=C(t,360),e=C(e,100),n=C(n,100),0===e)i=o=s=n;else{var a=.5>n?n*(1+e):n+e-n*e,l=2*n-a;i=r(l,a,t+1/3),o=r(l,a,t),s=r(l,a,t-1/3)}return{r:255*i,g:255*o,b:255*s}}function i(t,e,n){t=C(t,255),e=C(e,255),n=C(n,255);var r,i,o=j(t,e,n),s=B(t,e,n),a=o,l=o-s;if(i=0===o?0:l/o,o==s)r=0;else{switch(o){case t:r=(e-n)/l+(n>e?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,v:a}}function o(t,e,n){t=6*C(t,360),e=C(e,100),n=C(n,100);var r=F.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,u=[n,s,o,o,a,n][l],c=[a,n,n,s,o,o][l],h=[o,o,a,n,n,s][l];return{r:255*u,g:255*c,b:255*h}}function s(t,e,n,r){var i=[P(I(t).toString(16)),P(I(e).toString(16)),P(I(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function a(t,e,n,r){var i=[P(L(r)),P(I(t).toString(16)),P(I(e).toString(16)),P(I(n).toString(16))];return i.join("")}function l(t,e){e=0===e?0:e||10;var n=V(t).toHsl();return n.s-=e/100,n.s=T(n.s),V(n)}function u(t,e){e=0===e?0:e||10;var n=V(t).toHsl();return n.s+=e/100,n.s=T(n.s),V(n)}function c(t){return V(t).desaturate(100)}function h(t,e){e=0===e?0:e||10;var n=V(t).toHsl();return n.l+=e/100,n.l=T(n.l),V(n)}function d(t,e){e=0===e?0:e||10;var n=V(t).toRgb();return n.r=j(0,B(255,n.r-I(255*-(e/100)))),n.g=j(0,B(255,n.g-I(255*-(e/100)))),n.b=j(0,B(255,n.b-I(255*-(e/100)))),V(n)}function p(t,e){e=0===e?0:e||10;var n=V(t).toHsl();return n.l-=e/100,n.l=T(n.l),V(n)}function f(t,e){var n=V(t).toHsl(),r=(I(n.h)+e)%360;return n.h=0>r?360+r:r,V(n)}function m(t){var e=V(t).toHsl();return e.h=(e.h+180)%360,V(e)}function g(t){var e=V(t).toHsl(),n=e.h;return[V(t),V({h:(n+120)%360,s:e.s,l:e.l}),V({h:(n+240)%360,s:e.s,l:e.l})]}function v(t){var e=V(t).toHsl(),n=e.h;return[V(t),V({h:(n+90)%360,s:e.s,l:e.l}),V({h:(n+180)%360,s:e.s,l:e.l}),V({h:(n+270)%360,s:e.s,l:e.l})]}function y(t){var e=V(t).toHsl(),n=e.h;return[V(t),V({h:(n+72)%360,s:e.s,l:e.l}),V({h:(n+216)%360,s:e.s,l:e.l})]}function b(t,e,n){e=e||6,n=n||30;var r=V(t).toHsl(),i=360/n,o=[V(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(V(r));return o}function _(t,e){e=e||6;for(var n=V(t).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(V({h:r,s:i,v:o})),o=(o+a)%1;return s}function w(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function x(t){return t=parseFloat(t),(isNaN(t)||0>t||t>1)&&(t=1),t}function C(t,e){k(t)&&(t="100%");var n=S(t);return t=B(e,j(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),F.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function T(t){return B(1,j(0,t))}function E(t){return parseInt(t,16)}function k(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function S(t){return"string"==typeof t&&-1!=t.indexOf("%")}function P(t){return 1==t.length?"0"+t:""+t}function A(t){return 1>=t&&(t=100*t+"%"),t}function L(t){return Math.round(255*parseFloat(t)).toString(16)}function O(t){return E(t)/255}function D(t){t=t.replace(M,"").replace(R,"").toLowerCase();var e=!1;if(H[t])t=H[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=W.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=W.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=W.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=W.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=W.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=W.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=W.hex8.exec(t))?{a:O(n[1]),r:E(n[2]),g:E(n[3]),b:E(n[4]),format:e?"name":"hex8"}:(n=W.hex6.exec(t))?{r:E(n[1]),g:E(n[2]),b:E(n[3]),format:e?"name":"hex"}:(n=W.hex3.exec(t))?{r:E(n[1]+""+n[1]),g:E(n[2]+""+n[2]),b:E(n[3]+""+n[3]),format:e?"name":"hex"}:!1}var M=/^[\s,#]+/,R=/\s+$/,N=0,F=Math,I=F.round,B=F.min,j=F.max,z=F.random,V=function(e,n){if(e=e?e:"",n=n||{},e instanceof V)return e;if(!(this instanceof V))return new V(e,n);var r=t(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=I(100*this._a)/100,this._format=n.format||r.format,this._gradientType=n.gradientType,this._r<1&&(this._r=I(this._r)),this._g<1&&(this._g=I(this._g)),this._b<1&&(this._b=I(this._b)),this._ok=r.ok,this._tc_id=N++};V.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=x(t),this._roundA=I(100*this._a)/100,this},toHsv:function(){var t=i(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=i(this._r,this._g,this._b),e=I(360*t.h),n=I(100*t.s),r=I(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=n(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=n(this._r,this._g,this._b),e=I(360*t.h),r=I(100*t.s),i=I(100*t.l);return 1==this._a?"hsl("+e+", "+r+"%, "+i+"%)":"hsla("+e+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return s(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return a(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:I(this._r),g:I(this._g),b:I(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+I(this._r)+", "+I(this._g)+", "+I(this._b)+")":"rgba("+I(this._r)+", "+I(this._g)+", "+I(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:I(100*C(this._r,255))+"%",g:I(100*C(this._g,255))+"%",b:I(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+I(100*C(this._r,255))+"%, "+I(100*C(this._g,255))+"%, "+I(100*C(this._b,255))+"%)":"rgba("+I(100*C(this._r,255))+"%, "+I(100*C(this._g,255))+"%, "+I(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":this._a<1?!1:U[s(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var e="#"+a(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=V(t);n=i.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0,i=!e&&r&&("hex"===t||"hex6"===t||"hex3"===t||"name"===t);return i?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),("hex"===t||"hex6"===t)&&(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(h,arguments)},brighten:function(){return this._applyModification(d,arguments)},darken:function(){return this._applyModification(p,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(u,arguments)},greyscale:function(){return this._applyModification(c,arguments)},spin:function(){return this._applyModification(f,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(b,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(_,arguments)},splitcomplement:function(){return this._applyCombination(y,arguments)},triad:function(){return this._applyCombination(g,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},V.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&("a"===r?n[r]=t[r]:n[r]=A(t[r]));t=n}return V(t,e)},V.equals=function(t,e){return t&&e?V(t).toRgbString()==V(e).toRgbString():!1},V.random=function(){return V.fromRatio({r:z(),g:z(),b:z()})},V.mix=function(t,e,n){n=0===n?0:n||50;var r,i=V(t).toRgb(),o=V(e).toRgb(),s=n/100,a=2*s-1,l=o.a-i.a;r=a*l==-1?a:(a+l)/(1+a*l),r=(r+1)/2;var u=1-r,c={r:o.r*r+i.r*u,g:o.g*r+i.g*u,b:o.b*r+i.b*u,a:o.a*s+i.a*(1-s)};return V(c)},V.readability=function(t,e){var n=V(t),r=V(e),i=n.toRgb(),o=r.toRgb(),s=n.getBrightness(),a=r.getBrightness(),l=Math.max(i.r,o.r)-Math.min(i.r,o.r)+Math.max(i.g,o.g)-Math.min(i.g,o.g)+Math.max(i.b,o.b)-Math.min(i.b,o.b);return{brightness:Math.abs(s-a),color:l}},V.isReadable=function(t,e){var n=V.readability(t,e);return n.brightness>125&&n.color>500},V.mostReadable=function(t,e){for(var n=null,r=0,i=!1,o=0;o<e.length;o++){var s=V.readability(t,e[o]),a=s.brightness>125&&s.color>500,l=3*(s.brightness/125)+s.color/500;(a&&!i||a&&i&&l>r||!a&&!i&&l>r)&&(i=a,r=l,n=V(e[o]))}return n};var H=V.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},U=V.hexNames=w(H),W=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=V}(),t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})}),function(){}.call(this),function(){var t;null==window.Set&&(window.Set=t=function(){function t(){this.clear()}return t.prototype.clear=function(){return this.values=[]},t.prototype.has=function(t){return-1!==this.values.indexOf(t)},t.prototype.add=function(t){return this.has(t)||this.values.push(t),this},t.prototype["delete"]=function(t){var e;return-1===(e=this.values.indexOf(t))?!1:(this.values.splice(e,1),!0)},t.prototype.forEach=function(){var t;return(t=this.values).forEach.apply(t,arguments)},t}())}.call(this),function(t){function e(t,e){return function(){t.apply(e,arguments)}}function n(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(t,e(i,this),e(o,this))}function r(t){var e=this;return null===this._state?void this._deferreds.push(t):void u(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return void(e._state?t.resolve:t.reject)(e._value);var r;try{r=n(e._value)}catch(i){return void t.reject(i)}t.resolve(r)})}function i(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void l(e(n,t),e(i,this),e(o,this))}this._state=!0,this._value=t,s.call(this)}catch(r){o.call(this,r)}}function o(t){this._state=!1,this._value=t,s.call(this)}function s(){for(var t=0,e=this._deferreds.length;e>t;t++)r.call(this,this._deferreds[t]);this._deferreds=null}function a(t,e,n,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r}function l(t,e,n){var r=!1;try{t(function(t){r||(r=!0,e(t))},function(t){r||(r=!0,n(t))})}catch(i){if(r)return;r=!0,n(i)}}var u="function"==typeof setImmediate&&setImmediate||function(t){setTimeout(t,1)},c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};n.prototype["catch"]=function(t){return this.then(null,t)},n.prototype.then=function(t,e){var i=this;return new n(function(n,o){r.call(i,new a(t,e,n,o))})},n.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new n(function(e,n){function r(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(t){r(o,t)},n)}t[o]=s,0===--i&&e(t)}catch(l){n(l)}}if(0===t.length)return e([]);for(var i=t.length,o=0;o<t.length;o++)r(o,t[o])})},n.resolve=function(t){return t&&"object"==typeof t&&t.constructor===n?t:new n(function(e){e(t)})},n.reject=function(t){return new n(function(e,n){n(t)})},n.race=function(t){return new n(function(e,n){for(var r=0,i=t.length;i>r;r++)t[r].then(e,n)})},n._setImmediateFn=function(t){u=t},"undefined"!=typeof module&&module.exports?module.exports=n:t.Promise||(t.Promise=n)}(this),"undefined"==typeof WeakMap&&!function(){var t=Object.defineProperty,e=Date.now()%1e9,n=function(){this.name="__st"+(1e9*Math.random()>>>0)+(e++ +"__")};n.prototype={set:function(e,n){var r=e[this.name];return r&&r[0]===e?r[1]=n:t(e,this.name,{value:[e,n],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},"delete":function(t){var e=t[this.name];return e&&e[0]===t?(e[0]=e[1]=void 0,!0):!1},has:function(t){var e=t[this.name];return e?e[0]===t:!1}},window.WeakMap=n}(),function(t){function e(t){_.push(t),b||(b=!0,m(r))}function n(t){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(t)||t}function r(){b=!1;var t=_;_=[],t.sort(function(t,e){return t.uid_-e.uid_});var e=!1;t.forEach(function(t){var n=t.takeRecords();i(t),n.length&&(t.callback_(n,t),e=!0)}),e&&r()}function i(t){t.nodes_.forEach(function(e){var n=g.get(e);n&&n.forEach(function(e){e.observer===t&&e.removeTransientObservers()})})}function o(t,e){for(var n=t;n;n=n.parentNode){var r=g.get(n);if(r)for(var i=0;i<r.length;i++){var o=r[i],s=o.options;if(n===t||s.subtree){var a=e(s);a&&o.enqueue(a)}}}}function s(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++w}function a(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function l(t){var e=new a(t.type,t.target);return e.addedNodes=t.addedNodes.slice(),e.removedNodes=t.removedNodes.slice(),e.previousSibling=t.previousSibling,e.nextSibling=t.nextSibling,e.attributeName=t.attributeName,e.attributeNamespace=t.attributeNamespace,e.oldValue=t.oldValue,e}function u(t,e){return x=new a(t,e)}function c(t){return C?C:(C=l(x),C.oldValue=t,C)}function h(){x=C=void 0}function d(t){return t===C||t===x}function p(t,e){return t===e?t:C&&d(t)?C:null}function f(t,e,n){this.observer=t,this.target=e,this.options=n,this.transientObservedNodes=[]}var m,g=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))m=setTimeout;else if(window.setImmediate)m=window.setImmediate;else{var v=[],y=String(Math.random());window.addEventListener("message",function(t){if(t.data===y){var e=v;v=[],e.forEach(function(t){t()})}}),m=function(t){v.push(t),window.postMessage(y,"*")}}var b=!1,_=[],w=0;s.prototype={observe:function(t,e){if(t=n(t),!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var r=g.get(t);r||g.set(t,r=[]);for(var i,o=0;o<r.length;o++)if(r[o].observer===this){i=r[o],i.removeListeners(),i.options=e;break}i||(i=new f(this,t,e),r.push(i),this.nodes_.push(t)),i.addListeners()},disconnect:function(){this.nodes_.forEach(function(t){for(var e=g.get(t),n=0;n<e.length;n++){var r=e[n];if(r.observer===this){r.removeListeners(),e.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}};var x,C;f.prototype={enqueue:function(t){var n=this.observer.records_,r=n.length;if(n.length>0){var i=n[r-1],o=p(i,t);if(o)return void(n[r-1]=o)}else e(this.observer);n[r]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=g.get(t);e||g.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach(function(t){this.removeListeners_(t);for(var e=g.get(t),n=0;n<e.length;n++)if(e[n]===this){e.splice(n,1);break}},this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,n=t.relatedNode.namespaceURI,r=t.target,i=new u("attributes",r);i.attributeName=e,i.attributeNamespace=n;var s=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;o(r,function(t){return!t.attributes||t.attributeFilter&&t.attributeFilter.length&&-1===t.attributeFilter.indexOf(e)&&-1===t.attributeFilter.indexOf(n)?void 0:t.attributeOldValue?c(s):i});break;case"DOMCharacterDataModified":var r=t.target,i=u("characterData",r),s=t.prevValue;o(r,function(t){return t.characterData?t.characterDataOldValue?c(s):i:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var a,l,d=t.target;"DOMNodeInserted"===t.type?(a=[d],l=[]):(a=[],l=[d]);var p=d.previousSibling,f=d.nextSibling,i=u("childList",t.target.parentNode);i.addedNodes=a,i.removedNodes=l,i.previousSibling=p,i.nextSibling=f,o(t.relatedNode,function(t){return t.childList?i:void 0})}h()}},t.JsMutationObserver=s,t.MutationObserver||(t.MutationObserver=s)}(self),window.CustomElements=window.CustomElements||{flags:{}},function(t){var e=t.flags,n=[],r=function(t){n.push(t)},i=function(){n.forEach(function(e){e(t)})};t.addModule=r,t.initializeModules=i,t.hasNative=Boolean(document.registerElement),t.isIE=/Trident/.test(navigator.userAgent),t.useNative=!e.register&&t.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(t){function e(t,e){n(t,function(t){return e(t)?!0:void r(t,e)}),r(t,e)}function n(t,e,r){var i=t.firstElementChild;if(!i)for(i=t.firstChild;i&&i.nodeType!==Node.ELEMENT_NODE;)i=i.nextSibling;for(;i;)e(i,r)!==!0&&n(i,e,r),i=i.nextElementSibling;return null}function r(t,n){for(var r=t.shadowRoot;r;)e(r,n),r=r.olderShadowRoot}function i(t,e){o(t,e,[])}function o(t,e,n){if(t=window.wrap(t),!(n.indexOf(t)>=0)){n.push(t);for(var r,i=t.querySelectorAll("link[rel="+s+"]"),a=0,l=i.length;l>a&&(r=i[a]);a++)r["import"]&&o(r["import"],e,n);
e(t)}}var s=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";t.forDocumentTree=i,t.forSubtree=e}),window.CustomElements.addModule(function(t){function e(t,e){return n(t,e)||r(t,e)}function n(e,n){return t.upgrade(e,n)?!0:void(n&&s(e))}function r(t,e){b(t,function(t){return n(t,e)?!0:void 0})}function i(t){C.push(t),x||(x=!0,setTimeout(o))}function o(){x=!1;for(var t,e=C,n=0,r=e.length;r>n&&(t=e[n]);n++)t();C=[]}function s(t){w?i(function(){a(t)}):a(t)}function a(t){t.__upgraded__&&!t.__attached&&(t.__attached=!0,t.attachedCallback&&t.attachedCallback())}function l(t){u(t),b(t,function(t){u(t)})}function u(t){w?i(function(){c(t)}):c(t)}function c(t){t.__upgraded__&&t.__attached&&(t.__attached=!1,t.detachedCallback&&t.detachedCallback())}function h(t){for(var e=t,n=window.wrap(document);e;){if(e==n)return!0;e=e.parentNode||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host}}function d(t){if(t.shadowRoot&&!t.shadowRoot.__watched){y.dom&&console.log("watching shadow-root for: ",t.localName);for(var e=t.shadowRoot;e;)m(e),e=e.olderShadowRoot}}function p(t,n){if(y.dom){var r=n[0];if(r&&"childList"===r.type&&r.addedNodes&&r.addedNodes){for(var i=r.addedNodes[0];i&&i!==document&&!i.host;)i=i.parentNode;var o=i&&(i.URL||i._URL||i.host&&i.host.localName)||"";o=o.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",n.length,o||"")}var s=h(t);n.forEach(function(t){"childList"===t.type&&(T(t.addedNodes,function(t){t.localName&&e(t,s)}),T(t.removedNodes,function(t){t.localName&&l(t)}))}),y.dom&&console.groupEnd()}function f(t){for(t=window.wrap(t),t||(t=window.wrap(document));t.parentNode;)t=t.parentNode;var e=t.__observer;e&&(p(t,e.takeRecords()),o())}function m(t){if(!t.__observer){var e=new MutationObserver(p.bind(this,t));e.observe(t,{childList:!0,subtree:!0}),t.__observer=e}}function g(t){t=window.wrap(t),y.dom&&console.group("upgradeDocument: ",t.baseURI.split("/").pop());var n=t===window.wrap(document);e(t,n),m(t),y.dom&&console.groupEnd()}function v(t){_(t,g)}var y=t.flags,b=t.forSubtree,_=t.forDocumentTree,w=!window.MutationObserver||window.MutationObserver===window.JsMutationObserver;t.hasPolyfillMutations=w;var x=!1,C=[],T=Array.prototype.forEach.call.bind(Array.prototype.forEach),E=Element.prototype.createShadowRoot;E&&(Element.prototype.createShadowRoot=function(){var t=E.call(this);return window.CustomElements.watchShadow(this),t}),t.watchShadow=d,t.upgradeDocumentTree=v,t.upgradeDocument=g,t.upgradeSubtree=r,t.upgradeAll=e,t.attached=s,t.takeRecords=f}),window.CustomElements.addModule(function(t){function e(e,r){if(!e.__upgraded__&&e.nodeType===Node.ELEMENT_NODE){var i=e.getAttribute("is"),o=t.getRegisteredDefinition(e.localName)||t.getRegisteredDefinition(i);if(o&&(i&&o.tag==e.localName||!i&&!o["extends"]))return n(e,o,r)}}function n(e,n,i){return s.upgrade&&console.group("upgrade:",e.localName),n.is&&e.setAttribute("is",n.is),r(e,n),e.__upgraded__=!0,o(e),i&&t.attached(e),t.upgradeSubtree(e,i),s.upgrade&&console.groupEnd(),e}function r(t,e){Object.__proto__?t.__proto__=e.prototype:(i(t,e.prototype,e["native"]),t.__proto__=e.prototype)}function i(t,e,n){for(var r={},i=e;i!==n&&i!==HTMLElement.prototype;){for(var o,s=Object.getOwnPropertyNames(i),a=0;o=s[a];a++)r[o]||(Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(i,o)),r[o]=1);i=Object.getPrototypeOf(i)}}function o(t){t.createdCallback&&t.createdCallback()}var s=t.flags;t.upgrade=e,t.upgradeWithDefinition=n,t.implementPrototype=r}),window.CustomElements.addModule(function(t){function e(e,r){var l=r||{};if(!e)throw new Error("document.registerElement: first argument `name` must not be empty");if(e.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(e)+"'.");if(i(e))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(e)+"'. The type name is invalid.");if(u(e))throw new Error("DuplicateDefinitionError: a type with name '"+String(e)+"' is already registered");return l.prototype||(l.prototype=Object.create(HTMLElement.prototype)),l.__name=e.toLowerCase(),l.lifecycle=l.lifecycle||{},l.ancestry=o(l["extends"]),s(l),a(l),n(l.prototype),c(l.__name,l),l.ctor=h(l),l.ctor.prototype=l.prototype,l.prototype.constructor=l.ctor,t.ready&&v(document),l.ctor}function n(t){if(!t.setAttribute._polyfilled){var e=t.setAttribute;t.setAttribute=function(t,n){r.call(this,t,n,e)};var n=t.removeAttribute;t.removeAttribute=function(t){r.call(this,t,null,n)},t.setAttribute._polyfilled=!0}}function r(t,e,n){t=t.toLowerCase();var r=this.getAttribute(t);n.apply(this,arguments);var i=this.getAttribute(t);this.attributeChangedCallback&&i!==r&&this.attributeChangedCallback(t,r,i)}function i(t){for(var e=0;e<x.length;e++)if(t===x[e])return!0}function o(t){var e=u(t);return e?o(e["extends"]).concat([e]):[]}function s(t){for(var e,n=t["extends"],r=0;e=t.ancestry[r];r++)n=e.is&&e.tag;t.tag=n||t.__name,n&&(t.is=t.__name)}function a(t){if(!Object.__proto__){var e=HTMLElement.prototype;if(t.is){var n=document.createElement(t.tag);e=Object.getPrototypeOf(n)}for(var r,i=t.prototype,o=!1;i;)i==e&&(o=!0),r=Object.getPrototypeOf(i),r&&(i.__proto__=r),i=r;o||console.warn(t.tag+" prototype not found in prototype chain for "+t.is),t["native"]=e}}function l(t){return b(E(t.tag),t)}function u(t){return t?C[t.toLowerCase()]:void 0}function c(t,e){C[t]=e}function h(t){return function(){return l(t)}}function d(t,e,n){return t===T?p(e,n):k(t,e)}function p(t,e){t&&(t=t.toLowerCase()),e&&(e=e.toLowerCase());var n=u(e||t);if(n){if(t==n.tag&&e==n.is)return new n.ctor;if(!e&&!n.is)return new n.ctor}var r;return e?(r=p(t),r.setAttribute("is",e),r):(r=E(t),t.indexOf("-")>=0&&_(r,HTMLElement),r)}function f(t,e){var n=t[e];t[e]=function(){var t=n.apply(this,arguments);return y(t),t}}var m,g=t.isIE,v=t.upgradeDocumentTree,y=t.upgradeAll,b=t.upgradeWithDefinition,_=t.implementPrototype,w=t.useNative,x=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],C={},T="http://www.w3.org/1999/xhtml",E=document.createElement.bind(document),k=document.createElementNS.bind(document);m=Object.__proto__||w?function(t,e){return t instanceof e}:function(t,e){if(t instanceof e)return!0;for(var n=t;n;){if(n===e.prototype)return!0;n=n.__proto__}return!1},f(Node.prototype,"cloneNode"),f(document,"importNode"),g&&!function(){var t=document.importNode;document.importNode=function(){var e=t.apply(document,arguments);if(e.nodeType==e.DOCUMENT_FRAGMENT_NODE){var n=document.createDocumentFragment();return n.appendChild(e),n}return e}}(),document.registerElement=e,document.createElement=p,document.createElementNS=d,t.registry=C,t["instanceof"]=m,t.reservedTagList=x,t.getRegisteredDefinition=u,document.register=document.registerElement}),function(t){function e(){s(window.wrap(document)),window.CustomElements.ready=!0;var t=window.requestAnimationFrame||function(t){setTimeout(t,16)};t(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var n=t.useNative,r=t.initializeModules,i=t.isIE;if(n){var o=function(){};t.watchShadow=o,t.upgrade=o,t.upgradeAll=o,t.upgradeDocumentTree=o,t.upgradeSubtree=o,t.takeRecords=o,t["instanceof"]=function(t,e){return t instanceof e}}else r();var s=t.upgradeDocumentTree,a=t.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(t){return t}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(t){t["import"]&&a(wrap(t["import"]))}),(!window.CustomEvent||i&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,Boolean(e.bubbles),Boolean(e.cancelable),e.detail),n.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})},n},window.CustomEvent.prototype=window.Event.prototype),"complete"===document.readyState||t.flags.eager)e();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var l=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(l,e)}else e()}(window.CustomElements),function(){}.call(this),function(){this.Trix={VERSION:"0.9.1",ZERO_WIDTH_SPACE:"\ufeff",NON_BREAKING_SPACE:" ",OBJECT_REPLACEMENT_CHARACTER:"￼",config:{}}}.call(this),function(){Trix.BasicObject=function(){function t(){}var e,n,r;return t.proxyMethod=function(t){var r,i,o,s,a;return o=n(t),r=o.name,s=o.toMethod,a=o.toProperty,i=o.optional,this.prototype[r]=function(){var t,n;return t=null!=s?i?"function"==typeof this[s]?this[s]():void 0:this[s]():null!=a?this[a]:void 0,i?(n=null!=t?t[r]:void 0,null!=n?e.call(n,t,arguments):void 0):(n=t[r],e.call(n,t,arguments))}},n=function(t){var e,n;if(!(n=t.match(r)))throw new Error("can't parse @proxyMethod expression: "+t);return e={name:n[4]},null!=n[2]?e.toMethod=n[1]:e.toProperty=n[1],null!=n[3]&&(e.optional=!0),e},e=Function.prototype.apply,r=/^(.+?)(\(\))?(\?)?\.(.+?)$/,t}()}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;Trix.Object=function(e){function n(){this.id=++r}var r;return t(n,e),r=0,n.fromJSONString=function(t){return this.fromJSON(JSON.parse(t))},n.prototype.hasSameConstructorAs=function(t){return this.constructor===(null!=t?t.constructor:void 0)},n.prototype.isEqualTo=function(t){return this===t},n.prototype.inspect=function(){var t,e,n;return t=function(){var t,r,i;r=null!=(t=this.contentsForInspection())?t:{},i=[];for(e in r)n=r[e],i.push(e+"="+n);return i}.call(this),"#<"+this.constructor.name+":"+this.id+(t.length?" "+t.join(", "):"")+">"},n.prototype.contentsForInspection=function(){},n.prototype.toJSONString=function(){return JSON.stringify(this)},n.prototype.toUTF16String=function(){return Trix.UTF16String.box(this)},n.prototype.getCacheKey=function(){return this.id.toString()},n}(Trix.BasicObject)}.call(this),function(){Trix.extend=function(t){var e,n;for(e in t)n=t[e],this[e]=n;return this}}.call(this),function(){var t,e;Trix.extend({defer:function(t){return setTimeout(t,1)},memoize:function(t){var n;return n=e++,function(){var e;return null==this.memos&&(this.memos={}),null!=(e=this.memos)[n]?e[n]:e[n]=t.apply(this,arguments)}}}),e=0,t=function(t){var e,n;return null!=(e=null!=(n=null!=t&&"function"==typeof t.inspect?t.inspect():void 0)?n:function(){try{return JSON.stringify(t)}catch(e){}}())?e:t}}.call(this),function(){var t,e;Trix.extend({normalizeSpaces:function(t){return t.replace(RegExp(""+Trix.ZERO_WIDTH_SPACE,"g"),"").replace(RegExp(""+Trix.NON_BREAKING_SPACE,"g")," ")},summarizeStringChange:function(t,n){var r,i,o,s;return t=Trix.UTF16String.box(t),n=Trix.UTF16String.box(n),n.length<t.length?(i=e(t,n),s=i[0],r=i[1]):(o=e(n,t),r=o[0],s=o[1]),{added:r,removed:s}}}),e=function(e,n){var r,i,o,s,a;return e.isEqualTo(n)?["",""]:(i=t(e,n),s=i.utf16String.length,o=s?(a=i.offset,r=e.codepoints.slice(0,a).concat(e.codepoints.slice(a+s)),t(n,Trix.UTF16String.fromCodepoints(r))):t(n,e),[i.utf16String.toString(),o.utf16String.toString()])},t=function(t,e){var n,r,i;for(n=0,r=t.length,i=e.length;r>n&&t.charAt(n).isEqualTo(e.charAt(n));)n++;for(;r>n+1&&t.charAt(r-1).isEqualTo(e.charAt(i-1));)r--,i--;return{utf16String:t.slice(n,r),offset:n}}}.call(this),function(){Trix.extend({arraysAreEqual:function(t,e){var n,r,i,o;if(null==t&&(t=[]),null==e&&(e=[]),t.length!==e.length)return!1;for(r=n=0,i=t.length;i>n;r=++n)if(o=t[r],o!==e[r])return!1;return!0},objectsAreEqual:function(t,e){var n,r;if(null==t&&(t={}),null==e&&(e={}),Object.keys(t).length!==Object.keys(e).length)return!1;for(n in t)if(r=t[n],r!==e[n])return!1;return!0},summarizeArrayChange:function(t,e){var n,r,i,o,s,a,l,u,c,h,d;for(null==t&&(t=[]),null==e&&(e=[]),n=[],h=[],i=new Set,o=0,l=t.length;l>o;o++)d=t[o],i.add(d);for(r=new Set,s=0,u=e.length;u>s;s++)d=e[s],r.add(d),i.has(d)||n.push(d);for(a=0,c=t.length;c>a;a++)d=t[a],r.has(d)||h.push(d);return{added:n,removed:h}}})}.call(this),function(){var t,e,n,r,i;t=document.documentElement,e=null!=(n=null!=(r=null!=(i=t.matchesSelector)?i:t.webkitMatchesSelector)?r:t.msMatchesSelector)?n:t.mozMatchesSelector,Trix.extend({handleEvent:function(e,n){var r,i,o,s,a,l,u,c,h,d,p,f;return c=null!=n?n:{},l=c.onElement,a=c.matchingSelector,f=c.withCallback,s=c.inPhase,u=c.preventDefault,d=c.times,i=null!=l?l:t,h=a,r=f,p="capturing"===s,o=function(t){var e;return null!=d&&0===--d&&o.destroy(),e=Trix.findClosestElementFromNode(t.target,{matchingSelector:h}),null!=e&&null!=f&&f.call(e,t,e),u?t.preventDefault():void 0},o.destroy=function(){return i.removeEventListener(e,o,p)},i.addEventListener(e,o,p),o},handleEventOnce:function(t,e){return null==e&&(e={}),e.times=1,Trix.handleEvent(t,e)},triggerEvent:function(e,n){var r,i,o,s,a,l,u;return u=null!=n?n:{},l=u.onElement,i=u.bubbles,o=u.cancelable,r=u.attributes,s=null!=l?l:t,i=i!==!1,o=o!==!1,a=document.createEvent("Events"),a.initEvent(e,i,o),null!=r&&Trix.extend.call(a,r),s.dispatchEvent(a)},elementMatchesSelector:function(t,n){return 1===(null!=t?t.nodeType:void 0)?e.call(t,n):void 0},findClosestElementFromNode:function(t,e){var n;for(n=(null!=e?e:{}).matchingSelector;null!=t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.parentNode;if(null==n)return t;for(;t;){if(Trix.elementMatchesSelector(t,n))return t;t=t.parentNode}},findInnerElement:function(t){for(;null!=t?t.firstElementChild:void 0;)t=t.firstElementChild;return t},innerElementIsActive:function(t){return document.activeElement!==t&&Trix.elementContainsNode(t,document.activeElement)},elementContainsNode:function(t,e){if(t&&e)for(;e;){if(e===t)return!0;e=e.parentNode}},findNodeFromContainerAndOffset:function(t,e){var n;return t?t.nodeType===Node.TEXT_NODE?t:0===e?null!=(n=t.firstChild)?n:t:t.childNodes.item(e-1):void 0},findElementFromContainerAndOffset:function(t,e){var n;return n=Trix.findNodeFromContainerAndOffset(t,e),Trix.findClosestElementFromNode(n)},findChildIndexOfNode:function(t){var e;if(null!=t?t.parentNode:void 0){for(e=0;t=t.previousSibling;)e++;return e}},measureElement:function(t){return{width:t.offsetWidth,height:t.offsetHeight}},walkTree:function(t,e){var n,r,i,o,s;return i=null!=e?e:{},r=i.onlyNodesOfType,o=i.usingFilter,n=i.expandEntityReferences,s=function(){switch(r){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}}(),document.createTreeWalker(t,s,null!=o?o:null,n===!0)},tagName:function(t){var e;return null!=t&&null!=(e=t.tagName)?e.toLowerCase():void 0},makeElement:function(t,e){var n,r,i,o,s,a,l,u,c,h;if(null==e&&(e={}),"object"==typeof t?(e=t,t=e.tagName):e={attributes:e},r=document.createElement(t),null!=e.editable&&(null==e.attributes&&(e.attributes={}),e.attributes.contenteditable=e.editable),e.attributes){a=e.attributes;for(o in a)h=a[o],r.setAttribute(o,h)}if(e.style){l=e.style;for(o in l)h=l[o],r.style[o]=h}if(e.data){u=e.data;for(o in u)h=u[o],r.dataset[o]=h}if(e.className)for(c=e.className.split(" "),i=0,s=c.length;s>i;i++)n=c[i],r.classList.add(n);return e.textContent&&(r.textContent=e.textContent),r},cloneFragment:function(t){var e,n,r,i,o;for(e=document.createDocumentFragment(),o=t.childNodes,n=0,r=o.length;r>n;n++)i=o[n],e.appendChild(i.cloneNode(!0));return e},makeFragment:function(t){var e,n,r;for(null==t&&(t=""),e=document.createElement("div"),e.innerHTML=t,n=document.createDocumentFragment();r=e.firstChild;)n.appendChild(r);return n},nodeIsBlockContainer:function(t){return Trix.nodeIsBlockStartComment(null!=t?t.firstChild:void 0)},nodeIsBlockStartComment:function(t){return Trix.nodeIsCommentNode(t)&&"block"===(null!=t?t.data:void 0)},nodeIsCommentNode:function(t){return(null!=t?t.nodeType:void 0)===Node.COMMENT_NODE},nodeIsCursorTarget:function(t){return t?Trix.nodeIsTextNode(t)?t.data===Trix.ZERO_WIDTH_SPACE:Trix.nodeIsCursorTarget(t.firstChild):void 0},nodeIsAttachmentElement:function(t){return Trix.elementMatchesSelector(t,Trix.AttachmentView.attachmentSelector)},nodeIsEmptyTextNode:function(t){return Trix.nodeIsTextNode(t)&&""===(null!=t?t.data:void 0)},nodeIsTextNode:function(t){return(null!=t?t.nodeType:void 0)===Node.TEXT_NODE}})}.call(this),function(){var t,e,n;Trix.extend({normalizeRange:e=function(e){var n;return null!=e?(Array.isArray(e)||(e=[e,e]),[t(e[0]),t(null!=(n=e[1])?n:e[0])]):void 0},rangeIsCollapsed:function(t){var r,i,o;return null!=t?(i=e(t),o=i[0],r=i[1],n(o,r)):void 0},rangesAreEqual:function(t,r){var i,o,s,a,l,u;return null!=t&&null!=r?(s=e(t),o=s[0],i=s[1],a=e(r),u=a[0],l=a[1],n(o,u)&&n(i,l)):void 0}}),t=function(t){var e,n;return"number"==typeof t?t:(e=t.index,n=t.offset,{index:e,offset:n})},n=function(t,e){return"number"==typeof t?t===e:t.index===e.index&&t.offset===e.offset}}.call(this),function(){var t,e,n,r;t={extendsTagName:"div",css:"%t { display: block; }"},Trix.registerElement=function(e,i){var o,s,a,l,u,c,h;return null==i&&(i={}),e=e.toLowerCase(),u=r(i),l=null!=(h=u.extendsTagName)?h:t.extendsTagName,delete u.extendsTagName,s=u.defaultCSS,delete u.defaultCSS,null!=s&&l===t.extendsTagName?s+="\n"+t.css:s=t.css,n(s,e),a=Object.getPrototypeOf(document.createElement(l)),a.__super__=a,c=Object.create(a,u),o=document.registerElement(e,{prototype:c}),Object.defineProperty(c,"constructor",{value:o}),o},n=function(t,n){var r;return r=e(n),r.textContent=t.replace(/%t/g,n)},e=function(t){var e;return e=document.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("data-tag-name",t.toLowerCase()),document.head.insertBefore(e,document.head.firstChild),e},r=function(t){var e,n,r;n={};for(e in t)r=t[e],n[e]="function"==typeof r?{value:r}:r;return n}}.call(this),function(){}.call(this),function(){var t,e=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n={}.hasOwnProperty;t=Trix.arraysAreEqual,Trix.Hash=function(n){function r(t){null==t&&(t={}),this.values=o(t),r.__super__.constructor.apply(this,arguments)}var i,o,s,a,l;return e(r,n),r.fromCommonAttributesOfObjects=function(t){var e,n,r,o,s,a;if(null==t&&(t=[]),!t.length)return new this;for(e=i(t[0]),r=e.getKeys(),a=t.slice(1),n=0,o=a.length;o>n;n++)s=a[n],r=e.getKeysCommonToHash(i(s)),e=e.slice(r);return e},r.box=function(t){return i(t)},r.prototype.add=function(t,e){return this.merge(a(t,e))},r.prototype.remove=function(t){return new Trix.Hash(o(this.values,t))},r.prototype.get=function(t){return this.values[t]},r.prototype.has=function(t){return t in this.values},r.prototype.merge=function(t){return new Trix.Hash(s(this.values,l(t)))},r.prototype.slice=function(t){var e,n,r,i;for(i={},e=0,r=t.length;r>e;e++)n=t[e],this.has(n)&&(i[n]=this.values[n]);return new Trix.Hash(i)},r.prototype.getKeys=function(){return Object.keys(this.values)},r.prototype.getKeysCommonToHash=function(t){var e,n,r,o,s;for(t=i(t),o=this.getKeys(),s=[],e=0,r=o.length;r>e;e++)n=o[e],this.values[n]===t.values[n]&&s.push(n);return s},r.prototype.isEqualTo=function(e){return t(this.toArray(),i(e).toArray())},r.prototype.isEmpty=function(){return 0===this.getKeys().length},r.prototype.toArray=function(){var t,e,n;return(null!=this.array?this.array:this.array=function(){var r;e=[],r=this.values;for(t in r)n=r[t],e.push(t,n);return e}.call(this)).slice(0)},r.prototype.toObject=function(){return o(this.values)},r.prototype.toJSON=function(){return this.toObject()},r.prototype.contentsForInspection=function(){return{values:JSON.stringify(this.values)}},a=function(t,e){var n;return n={},n[t]=e,n},s=function(t,e){var n,r,i;r=o(t);for(n in e)i=e[n],r[n]=i;return r},o=function(t,e){var n,r,i,o,s;for(o={},s=Object.keys(t).sort(),n=0,i=s.length;i>n;n++)r=s[n],r!==e&&(o[r]=t[r]);return o},i=function(t){return t instanceof Trix.Hash?t:new Trix.Hash(t)},l=function(t){return t instanceof Trix.Hash?t.values:t},r}(Trix.Object)}.call(this),function(){Trix.ObjectGroup=function(){function t(t,e){var n,r;this.objects=null!=t?t:[],r=e.depth,n=e.asTree,n&&(this.depth=r,this.objects=this.constructor.groupObjects(this.objects,{asTree:n,depth:this.depth+1}))}return t.groupObjects=function(t,e){var n,r,i,o,s,a,l,u,c;for(null==t&&(t=[]),c=null!=e?e:{},i=c.depth,n=c.asTree,n&&null==i&&(i=0),u=[],s=0,a=t.length;a>s;s++){if(l=t[s],o){if(("function"==typeof l.canBeGrouped?l.canBeGrouped(i):void 0)&&("function"==typeof(r=o[o.length-1]).canBeGroupedWith?r.canBeGroupedWith(l,i):void 0)){o.push(l);continue}u.push(new this(o,{depth:i,asTree:n})),o=null}("function"==typeof l.canBeGrouped?l.canBeGrouped(i):void 0)?o=[l]:u.push(l)}return o&&u.push(new this(o,{depth:i,asTree:n})),u},t.prototype.getObjects=function(){return this.objects},t.prototype.getDepth=function(){return this.depth},t.prototype.getCacheKey=function(){var t,e,n,r,i;for(e=["objectGroup"],i=this.getObjects(),t=0,n=i.length;n>t;t++)r=i[t],e.push(r.getCacheKey());return e.join("/")},t}()}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;Trix.ObjectMap=function(e){function n(t){var e,n,r,i,o;for(null==t&&(t=[]),this.objects={},r=0,i=t.length;i>r;r++)o=t[r],n=JSON.stringify(o),null==(e=this.objects)[n]&&(e[n]=o)}return t(n,e),n.prototype.find=function(t){var e;return e=JSON.stringify(t),this.objects[e]},n}(Trix.BasicObject)}.call(this),function(){Trix.ElementStore=function(){function t(t){this.reset(t)}var e;return t.prototype.add=function(t){var n;return n=e(t),this.elements[n]=t},t.prototype.remove=function(t){var n,r;return n=e(t),(r=this.elements[n])?(delete this.elements[n],r):void 0},t.prototype.reset=function(t){var e,n,r;for(null==t&&(t=[]),this.elements={},n=0,r=t.length;r>n;n++)e=t[n],this.add(e);return t},e=function(t){return t.dataset.trixStoreKey},t}()}.call(this),function(){}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;Trix.Operation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isPerforming=function(){return this.performing===!0},n.prototype.hasPerformed=function(){return this.performed===!0},n.prototype.hasSucceeded=function(){return this.performed&&this.succeeded},n.prototype.hasFailed=function(){return this.performed&&!this.succeeded},n.prototype.getPromise=function(){return null!=this.promise?this.promise:this.promise=new Promise(function(t){return function(e,n){return t.performing=!0,t.perform(function(r,i){return t.succeeded=r,t.performing=!1,t.performed=!0,t.succeeded?e(i):n(i)})}}(this))},n.prototype.perform=function(t){return t(!1)},n.prototype.release=function(){var t;return null!=(t=this.promise)&&"function"==typeof t.cancel&&t.cancel(),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null},n.proxyMethod("getPromise().then"),n.proxyMethod("getPromise().catch"),n}(Trix.BasicObject)}.call(this),function(){var t,e,n,r,i,o=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;Trix.UTF16String=function(t){function e(t,e){this.ucs2String=t,this.codepoints=e,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}return o(e,t),e.box=function(t){return null==t&&(t=""),t instanceof this?t:this.fromUCS2String(null!=t?t.toString():void 0)},e.fromUCS2String=function(t){return new this(t,r(t))},e.fromCodepoints=function(t){return new this(i(t),t)},e.prototype.offsetToUCS2Offset=function(t){return i(this.codepoints.slice(0,Math.max(0,t))).length},e.prototype.offsetFromUCS2Offset=function(t){return r(this.ucs2String.slice(0,Math.max(0,t))).length},e.prototype.slice=function(){var t;return this.constructor.fromCodepoints((t=this.codepoints).slice.apply(t,arguments))},e.prototype.charAt=function(t){return this.slice(t,t+1)},e.prototype.isEqualTo=function(t){return this.constructor.box(t).ucs2String===this.ucs2String},e.prototype.toJSON=function(){return this.ucs2String},e.prototype.getCacheKey=function(){return this.ucs2String},e.prototype.toString=function(){return this.ucs2String},e}(Trix.BasicObject),t=1===("function"==typeof Array.from?Array.from("👼").length:void 0),e=null!=("function"==typeof" ".codePointAt?" ".codePointAt(0):void 0),n=" 👼"===("function"==typeof String.fromCodePoint?String.fromCodePoint(32,128124):void 0),r=t&&e?function(t){return Array.from(t).map(function(t){return t.codePointAt(0)})}:function(t){var e,n,r,i,o;for(i=[],e=0,r=t.length;r>e;)o=t.charCodeAt(e++),o>=55296&&56319>=o&&r>e&&(n=t.charCodeAt(e++),56320===(64512&n)?o=((1023&o)<<10)+(1023&n)+65536:e--),i.push(o);return i},i=n?function(t){return String.fromCodePoint.apply(String,t)}:function(t){var e,n,r;return e=function(){var e,i,o;for(o=[],e=0,i=t.length;i>e;e++)r=t[e],n="",r>65535&&(r-=65536,n+=String.fromCharCode(r>>>10&1023|55296),r=56320|1023&r),o.push(n+String.fromCharCode(r));return o}(),e.join("")}}.call(this),function(){}.call(this),function(){}.call(this),function(){Trix.config.lang={bold:"Bold",bullets:"Bullets","byte":"Byte",bytes:"Bytes",captionPlaceholder:"Type a caption here…",code:"Code",editCaption:"Edit caption",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",urlPlaceholder:"Enter a URL…",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"}}.call(this),function(){Trix.config.css={classNames:{attachment:{container:"attachment",typePrefix:"attachment-",caption:"caption",captionEdited:"caption-edited",captionEditor:"caption-editor",editingCaption:"caption-editing",progressBar:"progress",removeButton:"remove",size:"size"}}}}.call(this),function(){var t;Trix.config.blockAttributes=t={"default":{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},code:{tagName:"pre",text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",test:function(e){return Trix.tagName(e.parentNode)===t[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",test:function(e){return Trix.tagName(e.parentNode)===t[this.listAttribute].tagName}}}}.call(this),function(){var t,e;t=Trix.config.lang,e=[t.bytes,t.KB,t.MB,t.GB,t.TB,t.PB],Trix.config.fileSize={prefix:"IEC",precision:2,formatter:function(n){var r,i,o,s,a;switch(n){case 0:return"0 "+t.bytes;case 1:return"1 "+t["byte"];default:return r=function(){switch(this.prefix){case"SI":return 1e3;case"IEC":return 1024}}.call(this),i=Math.floor(Math.log(n)/Math.log(r)),o=n/Math.pow(r,i),s=o.toFixed(this.precision),a=s.replace(/0*$/,"").replace(/\.$/,""),a+" "+e[i]}}}}.call(this),function(){Trix.config.textAttributes={bold:{tagName:"strong",inheritable:!0,parser:function(t){var e;return e=window.getComputedStyle(t),"bold"===e.fontWeight||e.fontWeight>=700}},italic:{tagName:"em",inheritable:!0,parser:function(t){var e;return e=window.getComputedStyle(t),"italic"===e.fontStyle}},href:{groupTagName:"a",parser:function(t){var e,n,r;return e=Trix.AttachmentView.attachmentSelector,r="a:not("+e+")",(n=Trix.findClosestElementFromNode(t,{matchingSelector:r}))?n.getAttribute("href"):void 0}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}}}.call(this),function(){var t,e,n,r,i;i="[data-trix-serialize=false]",r=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable"],e="data-trix-serialized-attributes",n="["+e+"]",t=new RegExp("<!--block-->","g"),Trix.extend({serializers:{"application/json":function(t){var e;if(t instanceof Trix.Document)e=t;else{if(!(t instanceof HTMLElement))throw new Error("unserializable object");e=Trix.Document.fromHTML(t.innerHTML)}return e.toSerializableDocument().toJSONString()},"text/html":function(o){var s,a,l,u,c,h,d,p,f,m,g,v,y,b,_,w,x;if(o instanceof Trix.Document)u=Trix.DocumentView.render(o);else{if(!(o instanceof HTMLElement))throw new Error("unserializable object");u=o.cloneNode(!0)}for(b=u.querySelectorAll(i),c=0,f=b.length;f>c;c++)l=b[c],l.parentNode.removeChild(l);for(h=0,m=r.length;m>h;h++)for(s=r[h],_=u.querySelectorAll("["+s+"]"),d=0,g=_.length;g>d;d++)l=_[d],l.removeAttribute(s);for(w=u.querySelectorAll(n),p=0,v=w.length;v>p;p++){l=w[p];try{a=JSON.parse(l.getAttribute(e)),l.removeAttribute(e);for(y in a)x=a[y],l.setAttribute(y,x)}catch(C){}}return u.innerHTML.replace(t,"")}},deserializers:{"application/json":function(t){return Trix.Document.fromJSONString(t)},"text/html":function(t){return Trix.Document.fromHTML(t)}},serializeToContentType:function(t,e){var n;if(n=Trix.serializers[e])return n(t);throw new Error("unknown content type: "+e)},deserializeFromContentType:function(t,e){var n;if(n=Trix.deserializers[e])return n(t);throw new Error("unknown content type: "+e)}})}.call(this),function(){var t,e;e=Trix.makeFragment,t=Trix.config.lang,Trix.config.toolbar={content:e('<div class="button_groups">\n  <span class="button_group text_tools">\n    <button type="button" class="bold" data-attribute="bold" data-key="b" title="'+t.bold+'">'+t.bold+'</button>\n    <button type="button" class="italic" data-attribute="italic" data-key="i" title="'+t.italic+'">'+t.italic+'</button>\n    <button type="button" class="strike" data-attribute="strike" title="'+t.strike+'">'+t.strike+'</button>\n    <button type="button" class="link" data-attribute="href" data-action="link" data-key="k" title="'+t.link+'">'+t.link+'</button>\n  </span>\n\n  <span class="button_group block_tools">\n    <button type="button" class="quote" data-attribute="quote" title="'+t.quote+'">'+t.quote+'</button>\n    <button type="button" class="code" data-attribute="code" title="'+t.code+'">'+t.code+'</button>\n    <button type="button" class="list bullets" data-attribute="bullet" title="'+t.bullets+'">'+t.bullets+'</button>\n    <button type="button" class="list numbers" data-attribute="number" title="'+t.numbers+'">'+t.numbers+'</button>\n    <button type="button" class="block-level decrease" data-action="decreaseBlockLevel" title="'+t.outdent+'">'+t.outdent+'</button>\n    <button type="button" class="block-level increase" data-action="increaseBlockLevel" title="'+t.indent+'">'+t.indent+'</button>\n  </span>\n\n  <span class="button_group history_tools">\n    <button type="button" class="undo" data-action="undo" data-key="z" title="'+t.undo+'">'+t.undo+'</button>\n    <button type="button" class="redo" data-action="redo" data-key="shift+z" title="'+t.redo+'">'+t.redo+'</button>\n  </span>\n</div>\n\n<div class="dialogs">\n  <div class="dialog link_dialog" data-attribute="href" data-dialog="href">\n    <div class="link_url_fields">\n      <input type="url" required name="href" placeholder="'+t.urlPlaceholder+'">\n      <div class="button_group">\n        <input type="button" value="'+t.link+'" data-method="setAttribute">\n        <input type="button" value="'+t.unlink+'" data-method="removeAttribute">\n      </div>\n    </div>\n  </div>\n</div>')}}.call(this),function(){Trix.config.undoInterval=5e3}.call(this),function(){}.call(this),function(){var t;t=Trix.cloneFragment,Trix.registerElement("trix-toolbar",{defaultCSS:"%t {\n  white-space: collapse;\n}\n\n%t .dialog {\n  display: none;\n}\n\n%t .dialog.active {\n  display: block;\n}\n\n%t .dialog input.validate:invalid {\n  background-color: #ffdddd;\n}\n\n%t[native] {\n  display: none;\n}",
createdCallback:function(){return""===this.innerHTML?this.appendChild(t(Trix.config.toolbar.content)):void 0}})}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty,n=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};Trix.ObjectView=function(e){function r(t,e){this.object=t,this.options=null!=e?e:{},this.childViews=[],this.rootView=this}return t(r,e),r.prototype.getNodes=function(){var t,e,n,r,i;for(null==this.nodes&&(this.nodes=this.createNodes()),r=this.nodes,i=[],t=0,e=r.length;e>t;t++)n=r[t],i.push(n.cloneNode(!0));return i},r.prototype.invalidate=function(){var t;return this.nodes=null,null!=(t=this.parentView)?t.invalidate():void 0},r.prototype.invalidateViewForObject=function(t){var e;return null!=(e=this.findViewForObject(t))?e.invalidate():void 0},r.prototype.findOrCreateCachedChildView=function(t,e){var n;return(n=this.getCachedViewForObject(e))?this.recordChildView(n):(n=this.createChildView.apply(this,arguments),this.cacheViewForObject(n,e)),n},r.prototype.createChildView=function(t,e,n){var r;return null==n&&(n={}),e instanceof Trix.ObjectGroup&&(n.viewClass=t,t=Trix.ObjectGroupView),r=new t(e,n),this.recordChildView(r)},r.prototype.recordChildView=function(t){return t.parentView=this,t.rootView=this.rootView,this.childViews.push(t),t},r.prototype.getAllChildViews=function(){var t,e,n,r,i;for(i=[],r=this.childViews,e=0,n=r.length;n>e;e++)t=r[e],i.push(t),i=i.concat(t.getAllChildViews());return i},r.prototype.findElement=function(){return this.findElementForObject(this.object)},r.prototype.findElementForObject=function(t){var e;return(e=null!=t?t.id:void 0)?this.rootView.element.querySelector("[data-trix-id='"+e+"']"):void 0},r.prototype.findViewForObject=function(t){var e,n,r,i;for(r=this.getAllChildViews(),e=0,n=r.length;n>e;e++)if(i=r[e],i.object===t)return i},r.prototype.getViewCache=function(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?null!=this.viewCache?this.viewCache:this.viewCache={}:void 0},r.prototype.isViewCachingEnabled=function(){return this.shouldCacheViews!==!1},r.prototype.enableViewCaching=function(){return this.shouldCacheViews=!0},r.prototype.disableViewCaching=function(){return this.shouldCacheViews=!1},r.prototype.getCachedViewForObject=function(t){var e;return null!=(e=this.getViewCache())?e[t.getCacheKey()]:void 0},r.prototype.cacheViewForObject=function(t,e){var n;return null!=(n=this.getViewCache())?n[e.getCacheKey()]=t:void 0},r.prototype.garbageCollectCachedViews=function(){var t,e,r,i,o,s;if(t=this.getViewCache()){s=this.getAllChildViews().concat(this),r=function(){var t,e,n;for(n=[],t=0,e=s.length;e>t;t++)o=s[t],n.push(o.object.getCacheKey());return n}(),i=[];for(e in t)n.call(r,e)<0&&i.push(delete t[e]);return i}},r}(Trix.BasicObject)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;Trix.ObjectGroupView=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}return t(n,e),n.prototype.getChildViews=function(){var t,e,n,r;if(!this.childViews.length)for(r=this.objectGroup.getObjects(),t=0,e=r.length;e>t;t++)n=r[t],this.findOrCreateCachedChildView(this.viewClass,n,this.options);return this.childViews},n.prototype.createNodes=function(){var t,e,n,r,i,o,s,a,l;for(t=this.createContainerElement(),s=this.getChildViews(),e=0,r=s.length;r>e;e++)for(l=s[e],a=l.getNodes(),n=0,i=a.length;i>n;n++)o=a[n],t.appendChild(o);return[t]},n.prototype.createContainerElement=function(t){return null==t&&(t=this.objectGroup.getDepth()),this.getChildViews()[0].createContainerElement(t)},n}(Trix.ObjectView)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;Trix.Controller=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(Trix.BasicObject)}.call(this),function(){var t,e,n,r,i,o=function(t,e){return function(){return t.apply(e,arguments)}},s=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty,l=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=Trix.defer,e=Trix.findClosestElementFromNode,n=Trix.nodeIsEmptyTextNode,r=Trix.normalizeSpaces,i=Trix.summarizeStringChange,Trix.MutationObserver=function(t){function a(t){this.element=t,this.didMutate=o(this.didMutate,this),this.observer=new window.MutationObserver(this.didMutate),this.start()}var u,c;return s(a,t),u="[data-trix-mutable]",c={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},a.prototype.start=function(){return this.reset(),this.observer.observe(this.element,c)},a.prototype.stop=function(){return this.observer.disconnect()},a.prototype.didMutate=function(t){var e,n;return(e=this.mutations).push.apply(e,this.findSignificantMutations(t)),this.mutations.length?(null!=(n=this.delegate)&&"function"==typeof n.elementDidMutate&&n.elementDidMutate(this.getMutationSummary()),this.reset()):void 0},a.prototype.reset=function(){return this.mutations=[]},a.prototype.findSignificantMutations=function(t){var e,n,r,i;for(i=[],e=0,n=t.length;n>e;e++)r=t[e],this.mutationIsSignificant(r)&&i.push(r);return i},a.prototype.mutationIsSignificant=function(t){var e,n,r,i;for(i=this.nodesModifiedByMutation(t),e=0,n=i.length;n>e;e++)if(r=i[e],this.nodeIsSignificant(r))return!0;return!1},a.prototype.nodeIsSignificant=function(t){return t!==this.element&&!this.nodeIsMutable(t)&&!n(t)},a.prototype.nodeIsMutable=function(t){return e(t,{matchingSelector:u})},a.prototype.nodesModifiedByMutation=function(t){var e;switch(e=[],t.type){case"attributes":e.push(t.target);break;case"characterData":e.push(t.target.parentNode),e.push(t.target);break;case"childList":e.push.apply(e,t.addedNodes),e.push.apply(e,t.removedNodes)}return e},a.prototype.getMutationSummary=function(){return this.getTextMutationSummary()},a.prototype.getTextMutationSummary=function(){var t,e,n,r,i,o,s,a,u,c,h;for(a=this.getTextChangesFromCharacterData(),n=a.additions,i=a.deletions,h=this.getTextChangesFromTextNodes(),u=h.additions,o=0,s=u.length;s>o;o++)e=u[o],l.call(n,e)<0&&n.push(e);return i.push.apply(i,h.deletions),c={},(t=n.join(""))&&(c.textAdded=t),(r=i.join(""))&&(c.textDeleted=r),c},a.prototype.getMutationsByType=function(t){var e,n,r,i,o;for(i=this.mutations,o=[],e=0,n=i.length;n>e;e++)r=i[e],r.type===t&&o.push(r);return o},a.prototype.getTextChangesFromTextNodes=function(){var t,e,n,r,i,o,s,a,l,u,c,h,d,p;for(u=[],c=[],h=this.getMutationsByType("childList"),t=0,i=h.length;i>t;t++){for(a=h[t],d=a.removedNodes,n=0,o=d.length;o>n;n++)l=d[n],l.nodeType===Node.TEXT_NODE&&c.push(l);for(p=a.addedNodes,r=0,s=p.length;s>r;r++)l=p[r],l.nodeType===Node.TEXT_NODE&&u.push(l)}return{additions:function(){var t,n,r,i;for(i=[],e=t=0,n=u.length;n>t;e=++t)l=u[e],l.data!==(null!=(r=c[e])?r.data:void 0)&&i.push(l.data);return i}(),deletions:function(){var t,n,r,i;for(i=[],e=t=0,n=c.length;n>t;e=++t)l=c[e],l.data!==(null!=(r=u[e])?r.data:void 0)&&i.push(l.data);return i}()}},a.prototype.getTextChangesFromCharacterData=function(){var t,e,n,o,s,a,l,u;return e=this.getMutationsByType("characterData"),e.length&&(u=e[0],n=e[e.length-1],s=r(u.oldValue),o=r(n.target.data),a=i(s,o),t=a.added,l=a.removed),{additions:t?[t]:[],deletions:l?[l]:[]}},a}(Trix.BasicObject)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;Trix.FileVerificationOperation=function(e){function n(t){this.file=t}return t(n,e),n.prototype.perform=function(t){var e;return e=new FileReader,e.onerror=function(){return t(!1)},e.onload=function(n){return function(){e.onerror=null;try{e.abort()}catch(r){}return t(!0,n.file)}}(this),e.readAsArrayBuffer(this.file)},n}(Trix.Operation)}.call(this),function(){var t,e,n,r,i,o,s,a,l,u,c,h,d,p,f=function(t,e){function n(){this.constructor=t}for(var r in e)m.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},m={}.hasOwnProperty,g=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};o=Trix.handleEvent,r=Trix.findClosestElementFromNode,i=Trix.findElementFromContainerAndOffset,e=Trix.defer,c=Trix.makeElement,s=Trix.innerElementIsActive,d=Trix.summarizeStringChange,Trix.InputController=function(e){function r(t){var e;this.element=t,this.resetInputSummary(),this.mutationObserver=new Trix.MutationObserver(this.element),this.mutationObserver.delegate=this;for(e in this.events)o(e,{onElement:this.element,withCallback:this.handlerFor(e),inPhase:"capturing"})}var i;return f(r,e),i=0,r.keyNames={8:"backspace",9:"tab",13:"return",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},r.prototype.handlerFor=function(t){return function(e){return function(n){return e.handleInput(function(){return s(this.element)?void 0:(this.eventName=t,this.events[t].call(this,n))})}}(this)},r.prototype.setInputSummary=function(t){var e,n;null==t&&(t={}),this.inputSummary.eventName=this.eventName;for(e in t)n=t[e],this.inputSummary[e]=n;return this.inputSummary},r.prototype.resetInputSummary=function(){return this.inputSummary={}},r.prototype.editorWillSyncDocumentView=function(){return this.mutationObserver.stop()},r.prototype.editorDidSyncDocumentView=function(){return this.mutationObserver.start()},r.prototype.requestRender=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidRequestRender?t.inputControllerDidRequestRender():void 0},r.prototype.elementDidMutate=function(t){return this.handleInput(function(){var e;return this.mutationIsExpected(t)||null!=(e=this.responder)&&e.replaceHTML(this.element.innerHTML),this.resetInputSummary(),this.requestRender(),Trix.selectionChangeObserver.reset()})},r.prototype.mutationIsExpected=function(t){var e,n;return this.inputSummary?null!=this.inputSummary.preferDocument?this.inputSummary.preferDocument:(e=t.textAdded!==this.inputSummary.textAdded,n=null!=t.textDeleted&&!this.inputSummary.didDelete,!(e||n)):void 0},r.prototype.attachFiles=function(t){var e,n;return n=function(){var n,r,i;for(i=[],n=0,r=t.length;r>n;n++)e=t[n],i.push(new Trix.FileVerificationOperation(e));return i}(),Promise.all(n).then(function(t){return function(n){return t.handleInput(function(){var t,r,i,o;for(null!=(i=this.delegate)&&i.inputControllerWillAttachFiles(),t=0,r=n.length;r>t;t++)e=n[t],null!=(o=this.responder)&&o.insertFile(e);return this.requestRender()})}}(this))},r.prototype.events={keydown:function(t){var e,n,r,i,o,s,l,u,c,h;if(this.inputSummary.composing||this.resetInputSummary(),o=this.constructor.keyNames[t.keyCode]){for(n=this.keys,c=["ctrl","alt","shift","meta"],r=0,l=c.length;l>r;r++)if(u=c[r],t[u+"Key"]&&("ctrl"===u&&(u="control"),n=this.keys[u],n[o])){i=u;break}null!=n[o]&&(this.setInputSummary({keyName:o,keyModifier:i}),Trix.selectionChangeObserver.reset(),n[o].call(this,t))}return a(t)&&(e=String.fromCharCode(t.keyCode).toLowerCase())&&(s=function(){var e,n,r,i;for(r=["alt","shift"],i=[],e=0,n=r.length;n>e;e++)u=r[e],t[u+"Key"]&&i.push(u);return i}(),s.push(e),null!=(h=this.delegate)?h.inputControllerDidReceiveKeyboardCommand(s):void 0)?t.preventDefault():void 0},keypress:function(t){var e,n,r;return null!=this.inputSummary.eventName||(t.metaKey||t.ctrlKey)&&!t.altKey||u(t)||l(t)?void 0:(null===t.which?e=String.fromCharCode(t.keyCode):0!==t.which&&0!==t.charCode&&(e=String.fromCharCode(t.charCode)),null!=e?(null!=(n=this.delegate)&&n.inputControllerWillPerformTyping(),null!=(r=this.responder)&&r.insertString(e),this.setInputSummary({textAdded:e,didDelete:this.selectionIsExpanded()})):void 0)},dragenter:function(t){return t.preventDefault()},dragstart:function(t){var e,n,r;return r=t.target,this.serializeSelectionToDataTransfer(t.dataTransfer),this.draggedRange=null!=(e=this.responder)?e.getSelectedRange():void 0,null!=(n=this.delegate)&&"function"==typeof n.inputControllerDidStartDrag?n.inputControllerDidStartDrag():void 0},dragover:function(t){var e,n,r;return(this.draggedRange||this.canAcceptDataTransfer(t.dataTransfer))&&(t.preventDefault(),e=[t.clientX,t.clientY],e.toString()!==(null!=(n=this.draggingPoint)?n.toString():void 0))?(this.draggingPoint=e,null!=(r=this.delegate)&&"function"==typeof r.inputControllerDidReceiveDragOverPoint?r.inputControllerDidReceiveDragOverPoint(this.draggingPoint):void 0):void 0},dragend:function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidCancelDrag&&t.inputControllerDidCancelDrag(),this.draggedRange=null,this.draggingPoint=null},drop:function(t){var e,n,r,i,o,s,a,l,u;return t.preventDefault(),r=null!=(o=t.dataTransfer)?o.files:void 0,i=[t.clientX,t.clientY],null!=(s=this.responder)&&s.setLocationRangeFromPoint(i),(null!=r?r.length:void 0)?this.attachFiles(r):this.draggedRange?(null!=(a=this.delegate)&&a.inputControllerWillMoveText(),null!=(l=this.responder)&&l.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()):(n=t.dataTransfer.getData("application/x-trix-document"))&&(e=Trix.Document.fromJSONString(n),null!=(u=this.responder)&&u.insertDocument(e),this.requestRender()),this.draggedRange=null,this.draggingPoint=null},cut:function(t){var e;return this.serializeSelectionToDataTransfer(t.clipboardData)&&t.preventDefault(),null!=(e=this.delegate)&&e.inputControllerWillCutText(),this.deleteInDirection("backward"),t.defaultPrevented?this.requestRender():void 0},copy:function(t){return this.serializeSelectionToDataTransfer(t.clipboardData)?t.preventDefault():void 0},paste:function(t){var e,r,o,s,a,l,u,c,d,p,f,m,v,y,b,_,w,x;return s=null!=(l=t.clipboardData)?l:t.testClipboardData,null!=s?(a={paste:s},h(t)?void this.getPastedHTMLUsingHiddenElement(function(t){return function(e){var n,r,i;return a.html=e,null!=(n=t.delegate)&&n.inputControllerWillPasteText(a),null!=(r=t.responder)&&r.insertHTML(e),t.requestRender(),null!=(i=t.delegate)?i.inputControllerDidPaste(a):void 0}}(this)):((o=s.getData("text/html"))?(a.html=o,null!=(u=this.delegate)&&u.inputControllerWillPasteText(a),null!=(p=this.responder)&&p.insertHTML(o),this.requestRender(),null!=(f=this.delegate)&&f.inputControllerDidPaste(a)):(x=s.getData("text/plain"))?(a.string=x,this.setInputSummary({textAdded:x,didDelete:this.selectionIsExpanded()}),null!=(m=this.delegate)&&m.inputControllerWillPasteText(a),null!=(v=this.responder)&&v.insertString(x),this.requestRender(),null!=(y=this.delegate)&&y.inputControllerDidPaste(a)):g.call(s.types,"Files")>=0&&(r=null!=(b=s.items)&&null!=(_=b[0])&&"function"==typeof _.getAsFile?_.getAsFile():void 0)&&(!r.name&&(e=n(r))&&(r.name="pasted-file-"+ ++i+"."+e),a.file=r,null!=(w=this.delegate)&&w.inputControllerWillAttachFiles(),null!=(c=this.responder)&&c.insertFile(r),this.requestRender(),null!=(d=this.delegate)&&d.inputControllerDidPaste(a)),t.preventDefault())):void 0},compositionstart:function(t){var e,n;return this.selectionIsExpanded()||(n=null!=(e=this.responder)?e.insertPlaceholder():void 0,this.setInputSummary({textAdded:n}),this.requestRender()),this.setInputSummary({composing:!0,compositionStart:t.data})},compositionupdate:function(t){var e,n;return(null!=(e=this.responder)?e.selectPlaceholder():void 0)&&null!=(n=this.responder)&&n.forgetPlaceholder(),this.setInputSummary({composing:!0,compositionUpdate:t.data})},compositionend:function(t){var e,n,r,i,o,s,a,l,u;return(null!=(i=this.responder)?i.selectPlaceholder():void 0)&&null!=(o=this.responder)&&o.forgetPlaceholder(),n=this.inputSummary.compositionStart,r=t.data,null!=n&&null!=r&&n!==r?(null!=(s=this.delegate)&&s.inputControllerWillPerformTyping(),null!=(a=this.responder)&&a.insertString(r),l=d(n,r),e=l.added,u=l.removed,this.setInputSummary({textAdded:e,didDelete:Boolean(u)})):void 0},input:function(t){return t.stopPropagation()}},r.prototype.keys={backspace:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},"delete":function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},"return":function(){var t,e;return this.setInputSummary({preferDocument:!0}),null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),null!=(e=this.responder)?e.insertLineBreak():void 0},tab:function(t){var e,n;return(null!=(e=this.responder)?e.canIncreaseBlockAttributeLevel():void 0)?(null!=(n=this.responder)&&n.increaseBlockAttributeLevel(),this.requestRender(),t.preventDefault()):void 0},left:function(t){var e;return this.selectionIsInCursorTarget()?(t.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection("backward"):void 0):void 0},right:function(t){var e;return this.selectionIsInCursorTarget()?(t.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection("forward"):void 0):void 0},control:{d:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},h:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},o:function(t){var e,n;return t.preventDefault(),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString("\n",{updatePosition:!1}),this.requestRender()}},shift:{"return":function(){var t,e;return null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),null!=(e=this.responder)?e.insertString("\n"):void 0},tab:function(t){var e,n;return(null!=(e=this.responder)?e.canDecreaseBlockAttributeLevel():void 0)?(null!=(n=this.responder)&&n.decreaseBlockAttributeLevel(),this.requestRender(),t.preventDefault()):void 0},left:function(t){return this.selectionIsInCursorTarget()?(t.preventDefault(),this.expandSelectionInDirection("backward")):void 0},right:function(t){return this.selectionIsInCursorTarget()?(t.preventDefault(),this.expandSelectionInDirection("forward")):void 0}},alt:{backspace:function(){var t;return this.setInputSummary({preferDocument:!1}),null!=(t=this.delegate)?t.inputControllerWillPerformTyping():void 0}},meta:{backspace:function(){var t;return this.setInputSummary({preferDocument:!1}),null!=(t=this.delegate)?t.inputControllerWillPerformTyping():void 0}}},r.prototype.handleInput=function(t){var e,n;try{return null!=(e=this.delegate)&&e.inputControllerWillHandleInput(),t.call(this)}finally{null!=(n=this.delegate)&&n.inputControllerDidHandleInput()}},r.prototype.deleteInDirection=function(t,e){var n;return(null!=(n=this.responder)?n.deleteInDirection(t):void 0)===!1?null!=e?e.preventDefault():void 0:this.setInputSummary({didDelete:!0})},r.prototype.serializeSelectionToDataTransfer=function(e){var n,r;return t(e)?(n=null!=(r=this.responder)?r.getSelectedDocument().toSerializableDocument():void 0,e.setData("application/x-trix-document",JSON.stringify(n)),e.setData("text/html",Trix.DocumentView.render(n).innerHTML),e.setData("text/plain",n.toString().replace(/\n$/,"")),!0):void 0},r.prototype.canAcceptDataTransfer=function(t){var e,n,r,i,o,s;for(s={},i=null!=(r=null!=t?t.types:void 0)?r:[],e=0,n=i.length;n>e;e++)o=i[e],s[o]=!0;return s.Files||s["application/x-trix-document"]||s["text/html"]||s["text/plain"]},r.prototype.getPastedHTMLUsingHiddenElement=function(t){var e,n,r,i;return r=null!=(n=this.responder)?n.getSelectedRange():void 0,i={position:"absolute",left:window.pageXOffset+"px",top:window.pageYOffset+"px",opacity:0},e=c({style:i,tagName:"div",editable:!0}),document.body.appendChild(e),e.focus(),requestAnimationFrame(function(n){return function(){var i,o;return i=e.innerHTML,document.body.removeChild(e),null!=(o=n.responder)&&o.setSelectedRange(r),t(i)}}(this))},r.proxyMethod("responder?.expandSelectionInDirection"),r.proxyMethod("responder?.selectionIsInCursorTarget"),r.proxyMethod("responder?.selectionIsExpanded"),r}(Trix.BasicObject),n=function(t){var e,n;return null!=(e=t.type)&&null!=(n=e.match(/\/(\w+)$/))?n[1]:void 0},u=function(t){return t.metaKey&&t.altKey&&!t.shiftKey&&94===t.keyCode},l=function(t){return t.metaKey&&t.altKey&&t.shiftKey&&9674===t.keyCode},a=function(t){return/Mac|^iP/.test(navigator.platform)?t.metaKey:t.ctrlKey},h=function(t){var e,n;return(n=null!=(e=t.clipboardData)?e.types:void 0)?g.call(n,"text/html")<0&&(g.call(n,"com.apple.webarchive")>=0||g.call(n,"com.apple.flat-rtfd")>=0):void 0},p={"application/x-trix-feature-detection":"test"},t=function(t){var e,n;if(null!=(null!=t?t.setData:void 0)){for(e in p)if(n=p[e],t.setData(e,n),t.getData(e)!==n)return;return!0}}}.call(this),function(){var t,e,n,r,i,o,s=function(t,e){return function(){return t.apply(e,arguments)}},a=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;e=Trix.handleEvent,i=Trix.makeElement,o=Trix.tagName,n=Trix.InputController.keyNames,r=Trix.config.lang,t=Trix.config.css.classNames,Trix.AttachmentEditorController=function(l){function u(t,e,n){this.attachmentPiece=t,this.element=e,this.container=n,this.uninstall=s(this.uninstall,this),this.didKeyDownCaption=s(this.didKeyDownCaption,this),this.didChangeCaption=s(this.didChangeCaption,this),this.didClickCaption=s(this.didClickCaption,this),this.didClickRemoveButton=s(this.didClickRemoveButton,this),this.attachment=this.attachmentPiece.attachment,"a"===o(this.element)&&(this.element=this.element.firstChild),this.install()}var c;return a(u,l),c=function(t){return function(){var e;return e=t.apply(this,arguments),e["do"](),null==this.undos&&(this.undos=[]),this.undos.push(e.undo)}},u.prototype.install=function(){return this.makeElementMutable(),this.attachment.isPreviewable()&&this.makeCaptionEditable(),this.addRemoveButton()},u.prototype.makeElementMutable=c(function(){return{"do":function(t){return function(){return t.element.dataset.trixMutable=!0}}(this),undo:function(t){return function(){return delete t.element.dataset.trixMutable}}(this)}}),u.prototype.makeCaptionEditable=c(function(){var t,n;return t=this.element.querySelector("figcaption"),n=null,{"do":function(r){return function(){return n=e("click",{onElement:t,withCallback:r.didClickCaption,inPhase:"capturing"})}}(this),undo:function(){return function(){return n.destroy()}}(this)}}),u.prototype.addRemoveButton=c(function(){var n;return n=i({tagName:"a",textContent:r.remove,className:t.attachment.removeButton,attributes:{href:"#",title:r.remove}}),e("click",{onElement:n,withCallback:this.didClickRemoveButton}),{"do":function(t){return function(){return t.element.appendChild(n)}}(this),undo:function(t){return function(){return t.element.removeChild(n)}}(this)}}),u.prototype.editCaption=c(function(){var n,o,s,a,l;return a=i({tagName:"textarea",className:t.attachment.captionEditor,attributes:{placeholder:r.captionPlaceholder}}),a.value=this.attachmentPiece.getCaption(),l=a.cloneNode(),l.classList.add("trix-autoresize-clone"),n=function(){return l.value=a.value,a.style.height=l.scrollHeight+"px"},e("input",{onElement:a,withCallback:n}),e("keydown",{onElement:a,withCallback:this.didKeyDownCaption}),e("change",{onElement:a,withCallback:this.didChangeCaption}),e("blur",{onElement:a,withCallback:this.uninstall}),s=this.element.querySelector("figcaption"),o=s.cloneNode(),{"do":function(){return s.style.display="none",o.appendChild(a),o.appendChild(l),o.classList.add(t.attachment.editingCaption),s.parentElement.insertBefore(o,s),n(),a.focus()},undo:function(){return o.parentNode.removeChild(o),s.style.display=null}}}),u.prototype.didClickRemoveButton=function(t){var e;return t.preventDefault(),t.stopPropagation(),null!=(e=this.delegate)?e.attachmentEditorDidRequestRemovalOfAttachment(this.attachment):void 0},u.prototype.didClickCaption=function(t){return t.preventDefault(),this.editCaption()},u.prototype.didChangeCaption=function(t){var e,n,r;return e=t.target.value.replace(/\s/g," ").trim(),e?null!=(n=this.delegate)&&"function"==typeof n.attachmentEditorDidRequestUpdatingAttributesForAttachment?n.attachmentEditorDidRequestUpdatingAttributesForAttachment({caption:e},this.attachment):void 0:null!=(r=this.delegate)&&"function"==typeof r.attachmentEditorDidRequestRemovingAttributeForAttachment?r.attachmentEditorDidRequestRemovingAttributeForAttachment("caption",this.attachment):void 0},u.prototype.didKeyDownCaption=function(t){var e;return"return"===n[t.keyCode]?(t.preventDefault(),this.didChangeCaption(t),null!=(e=this.delegate)&&"function"==typeof e.attachmentEditorDidRequestDeselectingAttachment?e.attachmentEditorDidRequestDeselectingAttachment(this.attachment):void 0):void 0},u.prototype.uninstall=function(){for(var t,e;e=this.undos.pop();)e();return null!=(t=this.delegate)?t.didUninstallAttachmentEditor(this):void 0},u}(Trix.BasicObject)}.call(this),function(){var t,e,n,r=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;n=Trix.makeElement,t=Trix.config.css.classNames,Trix.AttachmentView=function(i){function o(){o.__super__.constructor.apply(this,arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}return r(o,i),o.attachmentSelector="[data-trix-attachment]",o.prototype.createContentNodes=function(){return[]},o.prototype.createNodes=function(){var e,r,i,o,s,a,l,u,c,h,d;if(o=n({tagName:"figure",className:this.getClassName()}),this.attachment.hasContent())o.innerHTML=this.attachment.getContent();else for(h=this.createContentNodes(),a=0,u=h.length;u>a;a++)c=h[a],o.appendChild(c);o.appendChild(this.createCaptionElement()),r={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},e=this.attachmentPiece.getAttributesForAttachment(),e.isEmpty()||(r.trixAttributes=JSON.stringify(e)),this.attachment.isPending()&&(this.progressElement=n({tagName:"progress",attributes:{"class":t.attachment.progressBar,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:this.attachment.getCacheKey("progressElement")}}),o.appendChild(this.progressElement),r.trixSerialize=!1),(s=this.getHref())?(i=n("a",{href:s}),i.appendChild(o)):i=o;for(l in r)d=r[l],i.dataset[l]=d;return i.setAttribute("contenteditable",!1),[this.createCursorTarget(),i,this.createCursorTarget()]},o.prototype.createCaptionElement=function(){var e,r,i,o,s;return r=n({tagName:"figcaption",className:t.attachment.caption}),(e=this.attachmentPiece.getCaption())?(r.classList.add(t.attachment.captionEdited),r.textContent=e):(i=this.attachment.getFilename())&&(r.textContent=i,(o=this.attachment.getFormattedFilesize())&&(r.appendChild(document.createTextNode(" ")),s=n({tagName:"span",className:t.attachment.size,textContent:o}),r.appendChild(s))),r},o.prototype.getClassName=function(){var e,n;return n=[t.attachment.container,""+t.attachment.typePrefix+this.attachment.getType()],(e=this.attachment.getExtension())&&n.push(e),n.join(" ")},o.prototype.getHref=function(){return e(this.attachment.getContent(),"a")?void 0:this.attachment.getHref()},o.prototype.createCursorTarget=function(){return n({tagName:"span",textContent:Trix.ZERO_WIDTH_SPACE,data:{trixCursorTarget:!0,trixSerialize:!1}})},o.prototype.findProgressElement=function(){var t;return null!=(t=this.findElement())?t.querySelector("progress"):void 0},o.prototype.attachmentDidChangeUploadProgress=function(){var t,e;return e=this.attachment.getUploadProgress(),null!=(t=this.findProgressElement())?t.value=e:void 0},o}(Trix.ObjectView),e=function(t,e){var r;return r=n("div"),r.innerHTML=null!=t?t:"",r.querySelector(e)}}.call(this),function(){var t,e,n,r=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=Trix.defer,e=Trix.makeElement,n=Trix.measureElement,Trix.PreviewableAttachmentView=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.attachment.previewDelegate=this}return r(n,t),n.prototype.createContentNodes=function(){return this.image=e({tagName:"img",attributes:{src:""},data:{trixMutable:!0,trixStoreKey:this.attachment.getCacheKey("imageElement")}}),this.refresh(this.image),[this.image]},n.prototype.refresh=function(t){var e;return null==t&&(t=null!=(e=this.findElement())?e.querySelector("img"):void 0),t?this.updateAttributesForImage(t):void 0},n.prototype.updateAttributesForImage=function(t){var e,n,r,i,o;return i=this.attachment.getURL(),n=this.attachment.getPreloadedURL(),t.src=n||i,n===i?t.removeAttribute("data-trix-serialized-attributes"):(r=JSON.stringify({src:i}),t.setAttribute("data-trix-serialized-attributes",r)),o=this.attachment.getWidth(),e=this.attachment.getHeight(),null!=o&&(t.width=o),null!=e?t.height=e:void 0},n.prototype.attachmentDidPreload=function(){return this.refresh(this.image),this.refresh()},n}(Trix.AttachmentView)}.call(this),function(){var t,e,n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;e=Trix.makeElement,t=Trix.findInnerElement,Trix.PieceView=function(r){function i(){i.__super__.constructor.apply(this,arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}var o;return n(i,r),i.prototype.createNodes=function(){var e,n,r,i,o,s;if(s=this.attachment?this.createAttachmentNodes():this.createStringNodes(),e=this.createElement()){for(r=t(e),n=0,i=s.length;i>n;n++)o=s[n],r.appendChild(o);s=[e]}return s},i.prototype.createAttachmentNodes=function(){var t,e;return t=this.attachment.isPreviewable()?Trix.PreviewableAttachmentView:Trix.AttachmentView,e=this.createChildView(t,this.piece.attachment,{piece:this.piece}),e.getNodes()},i.prototype.createStringNodes=function(){var t,n,r,i,s,a,l,u,c,h;if(null!=(u=this.textConfig)?u.plaintext:void 0)return[document.createTextNode(this.string)];for(l=[],c=this.string.split("\n"),r=n=0,i=c.length;i>n;r=++n)h=c[r],r>0&&(t=e("br"),l.push(t)),(s=h.length)&&(a=document.createTextNode(o(h)),l.push(a));return l},i.prototype.createElement=function(){var t,n,r,i,o,s,a,l;for(i in this.attributes)if((t=Trix.config.textAttributes[i])&&(t.tagName&&(o=e(t.tagName),r?(r.appendChild(o),r=o):n=r=o),t.style))if(a){s=t.style;for(i in s)l=s[i],a[i]=l}else a=t.style;if(a){null==n&&(n=e("span"));for(i in a)l=a[i],n.style[i]=l}return n},i.prototype.createContainerElement=function(){var t,n,r,i,o;i=this.attributes;for(r in i)if(o=i[r],(n=Trix.config.textAttributes[r])&&n.groupTagName)return t={},t[r]=o,e(n.groupTagName,t)},o=function(t){var e;return e=Trix.NON_BREAKING_SPACE,t.replace(/\ $/,e).replace(/(\S)\ {3}(\S)/g,"$1 "+e+" $2").replace(/\ {2}/g,e+" ").replace(/\ {2}/g," "+e).replace(/^\ /,e)},i}(Trix.ObjectView)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;Trix.TextView=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.text=this.object,
this.textConfig=this.options.textConfig}return t(n,e),n.prototype.createNodes=function(){var t,e,n,r,i,o,s,a;for(n=[],s=function(){var t,e,n,r;for(n=this.text.getPieces(),r=[],t=0,e=n.length;e>t;t++)o=n[t],o.hasAttribute("blockBreak")||r.push(o);return r}.call(this),i=Trix.ObjectGroup.groupObjects(s),t=0,e=i.length;e>t;t++)r=i[t],a=this.findOrCreateCachedChildView(Trix.PieceView,r,{textConfig:this.textConfig}),n.push.apply(n,a.getNodes());return n},n}(Trix.ObjectView)}.call(this),function(){var t,e=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n={}.hasOwnProperty;t=Trix.makeElement,Trix.BlockView=function(n){function r(){r.__super__.constructor.apply(this,arguments),this.block=this.object,this.attributes=this.block.getAttributes()}return e(r,n),r.prototype.createNodes=function(){var e,n,r,i,o,s,a,l,u;if(e=document.createComment("block"),s=[e],this.block.isEmpty()?s.push(t("br")):(l=null!=(a=Trix.config.blockAttributes[this.block.getLastAttribute()])?a.text:void 0,u=this.findOrCreateCachedChildView(Trix.TextView,this.block.text,{textConfig:l}),s.push.apply(s,u.getNodes()),this.shouldAddExtraNewlineElement()&&s.push(t("br"))),this.attributes.length)return s;for(n=t(Trix.config.blockAttributes["default"].tagName),r=0,i=s.length;i>r;r++)o=s[r],n.appendChild(o);return[n]},r.prototype.createContainerElement=function(e){var n,r;return n=this.attributes[e],r=Trix.config.blockAttributes[n],t(r.tagName)},r.prototype.shouldAddExtraNewlineElement=function(){return/\n\n$/.test(this.block.toString())},r}(Trix.ObjectView)}.call(this),function(){var t,e,n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;t=Trix.defer,e=Trix.makeElement,Trix.DocumentView=function(r){function i(){i.__super__.constructor.apply(this,arguments),this.element=this.options.element,this.elementStore=new Trix.ElementStore,this.setDocument(this.object)}var o,s,a;return n(i,r),i.render=function(t){var n,r;return n=e("div"),r=new this(t,{element:n}),r.render(),r.sync(),n},i.prototype.setDocument=function(t){return t.isEqualTo(this.document)?void 0:this.document=this.object=t},i.prototype.render=function(){var t,n,r,i,o,s,a;if(this.childViews=[],this.shadowElement=e("div"),!this.document.isEmpty()){for(o=Trix.ObjectGroup.groupObjects(this.document.getBlocks(),{asTree:!0}),s=[],t=0,n=o.length;n>t;t++)i=o[t],a=this.findOrCreateCachedChildView(Trix.BlockView,i),s.push(function(){var t,e,n,i;for(n=a.getNodes(),i=[],t=0,e=n.length;e>t;t++)r=n[t],i.push(this.shadowElement.appendChild(r));return i}.call(this));return s}},i.prototype.isSynced=function(){return o(this.shadowElement,this.element)},i.prototype.sync=function(){var t;for(t=this.createDocumentFragmentForSync();this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(t),this.didSync()},i.prototype.didSync=function(){return this.elementStore.reset(s(this.element)),t(function(t){return function(){return t.garbageCollectCachedViews()}}(this))},i.prototype.createDocumentFragmentForSync=function(){var t,e,n,r,i,o,a,l,u,c;for(e=document.createDocumentFragment(),l=this.shadowElement.childNodes,n=0,i=l.length;i>n;n++)a=l[n],e.appendChild(a.cloneNode(!0));for(u=s(e),r=0,o=u.length;o>r;r++)t=u[r],(c=this.elementStore.remove(t))&&t.parentNode.replaceChild(c,t);return e},s=function(t){return t.querySelectorAll("[data-trix-store-key]")},o=function(t,e){return a(t.innerHTML)===a(e.innerHTML)},a=function(t){return t.replace(/&nbsp;/g," ")},i}(Trix.ObjectView)}.call(this),function(){var t,e,n,r,i,o,s=function(t,e){return function(){return t.apply(e,arguments)}},a=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;r=Trix.handleEvent,o=Trix.tagName,n=Trix.findClosestElementFromNode,i=Trix.innerElementIsActive,e=Trix.defer,t=Trix.AttachmentView.attachmentSelector,Trix.CompositionController=function(n){function o(e,n){this.element=e,this.composition=n,this.didClickAttachment=s(this.didClickAttachment,this),this.didBlur=s(this.didBlur,this),this.didFocus=s(this.didFocus,this),this.documentView=new Trix.DocumentView(this.composition.document,{element:this.element}),r("focus",{onElement:this.element,withCallback:this.didFocus}),r("blur",{onElement:this.element,withCallback:this.didBlur}),r("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),r("mousedown",{onElement:this.element,matchingSelector:t,withCallback:this.didClickAttachment}),r("click",{onElement:this.element,matchingSelector:"a"+t,preventDefault:!0})}return a(o,n),o.prototype.didFocus=function(){var t;return this.focused?void 0:(this.focused=!0,null!=(t=this.delegate)&&"function"==typeof t.compositionControllerDidFocus?t.compositionControllerDidFocus():void 0)},o.prototype.didBlur=function(){return e(function(t){return function(){var e;return i(t.element)?void 0:(t.focused=null,null!=(e=t.delegate)&&"function"==typeof e.compositionControllerDidBlur?e.compositionControllerDidBlur():void 0)}}(this))},o.prototype.didClickAttachment=function(t,e){var n,r;return n=this.findAttachmentForElement(e),null!=(r=this.delegate)&&"function"==typeof r.compositionControllerDidSelectAttachment?r.compositionControllerDidSelectAttachment(n):void 0},o.prototype.render=function(){var t,e,n;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.documentView.isSynced()||(null!=(t=this.delegate)&&"function"==typeof t.compositionControllerWillSyncDocumentView&&t.compositionControllerWillSyncDocumentView(),this.documentView.sync(),this.reinstallAttachmentEditor(),null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidSyncDocumentView&&e.compositionControllerDidSyncDocumentView()),null!=(n=this.delegate)&&"function"==typeof n.compositionControllerDidRender?n.compositionControllerDidRender():void 0},o.prototype.rerenderViewForObject=function(t){return this.documentView.invalidateViewForObject(t),this.render()},o.prototype.isViewCachingEnabled=function(){return this.documentView.isViewCachingEnabled()},o.prototype.enableViewCaching=function(){return this.documentView.enableViewCaching()},o.prototype.disableViewCaching=function(){return this.documentView.disableViewCaching()},o.prototype.refreshViewCache=function(){return this.documentView.garbageCollectCachedViews()},o.prototype.installAttachmentEditorForAttachment=function(t){var e,n,r;return(null!=(r=this.attachmentEditor)?r.attachment:void 0)!==t&&(n=this.documentView.findElementForObject(t))?(this.uninstallAttachmentEditor(),e=this.composition.document.getAttachmentPieceForAttachment(t),this.attachmentEditor=new Trix.AttachmentEditorController(e,n,this.element),this.attachmentEditor.delegate=this):void 0},o.prototype.uninstallAttachmentEditor=function(){var t;return null!=(t=this.attachmentEditor)?t.uninstall():void 0},o.prototype.reinstallAttachmentEditor=function(){var t;return this.attachmentEditor?(t=this.attachmentEditor.attachment,this.uninstallAttachmentEditor(),this.installAttachmentEditorForAttachment(t)):void 0},o.prototype.editAttachmentCaption=function(){var t;return null!=(t=this.attachmentEditor)?t.editCaption():void 0},o.prototype.didUninstallAttachmentEditor=function(){return this.attachmentEditor=null,this.render()},o.prototype.attachmentEditorDidRequestUpdatingAttributesForAttachment=function(t,e){var n;return null!=(n=this.delegate)&&"function"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(e),this.composition.updateAttributesForAttachment(t,e)},o.prototype.attachmentEditorDidRequestRemovingAttributeForAttachment=function(t,e){var n;return null!=(n=this.delegate)&&"function"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(e),this.composition.removeAttributeForAttachment(t,e)},o.prototype.attachmentEditorDidRequestRemovalOfAttachment=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidRequestRemovalOfAttachment?e.compositionControllerDidRequestRemovalOfAttachment(t):void 0},o.prototype.attachmentEditorDidRequestDeselectingAttachment=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidRequestDeselectingAttachment?e.compositionControllerDidRequestDeselectingAttachment(t):void 0},o.prototype.findAttachmentForElement=function(t){return this.composition.document.getAttachmentById(parseInt(t.dataset.trixId,10))},o}(Trix.BasicObject)}.call(this),function(){var t,e,n,r=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;e=Trix.handleEvent,n=Trix.triggerEvent,t=Trix.findClosestElementFromNode,Trix.ToolbarController=function(o){function s(t){this.element=t,this.didKeyDownDialogInput=r(this.didKeyDownDialogInput,this),this.didClickDialogButton=r(this.didClickDialogButton,this),this.didClickAttributeButton=r(this.didClickAttributeButton,this),this.didClickActionButton=r(this.didClickActionButton,this),this.attributes={},this.actions={},this.resetDialogInputs(),e("mousedown",{onElement:this.element,matchingSelector:a,withCallback:this.didClickActionButton}),e("mousedown",{onElement:this.element,matchingSelector:u,withCallback:this.didClickAttributeButton}),e("click",{onElement:this.element,matchingSelector:v,preventDefault:!0}),e("click",{onElement:this.element,matchingSelector:c,withCallback:this.didClickDialogButton}),e("keydown",{onElement:this.element,matchingSelector:h,withCallback:this.didKeyDownDialogInput})}var a,l,u,c,h,d,p,f,m,g,v;return i(s,o),a="button[data-action]",u="button[data-attribute]",v=[a,u].join(", "),d=".dialog[data-dialog]",l=d+".active",c=d+" input[data-method]",h=d+" input[type=text], "+d+" input[type=url]",s.prototype.didClickActionButton=function(t,e){var n,r,i;return null!=(r=this.delegate)&&r.toolbarDidClickButton(),t.preventDefault(),n=p(e),this.getDialog(n)?this.toggleDialog(n):null!=(i=this.delegate)?i.toolbarDidInvokeAction(n):void 0},s.prototype.didClickAttributeButton=function(t,e){var n,r,i;return null!=(r=this.delegate)&&r.toolbarDidClickButton(),t.preventDefault(),n=f(e),this.getDialog(n)?this.toggleDialog(n):null!=(i=this.delegate)&&i.toolbarDidToggleAttribute(n),this.refreshAttributeButtons()},s.prototype.didClickDialogButton=function(e,n){var r,i;return r=t(n,{matchingSelector:d}),i=n.getAttribute("data-method"),this[i].call(this,r)},s.prototype.didKeyDownDialogInput=function(t,e){var n,r;return 13===t.keyCode&&(t.preventDefault(),n=e.getAttribute("name"),r=this.getDialog(n),this.setAttribute(r)),27===t.keyCode?(t.preventDefault(),this.hideDialog()):void 0},s.prototype.updateActions=function(t){return this.actions=t,this.refreshActionButtons()},s.prototype.refreshActionButtons=function(){return this.eachActionButton(function(t){return function(e,n){return e.disabled=t.actions[n]===!1}}(this))},s.prototype.eachActionButton=function(t){var e,n,r,i,o;for(i=this.element.querySelectorAll(a),o=[],n=0,r=i.length;r>n;n++)e=i[n],o.push(t(e,p(e)));return o},s.prototype.updateAttributes=function(t){return this.attributes=t,this.refreshAttributeButtons()},s.prototype.refreshAttributeButtons=function(){return this.eachAttributeButton(function(t){return function(e,n){return t.attributes[n]||t.dialogIsVisible(n)?e.classList.add("active"):e.classList.remove("active")}}(this))},s.prototype.eachAttributeButton=function(t){var e,n,r,i,o;for(i=this.element.querySelectorAll(u),o=[],n=0,r=i.length;r>n;n++)e=i[n],o.push(t(e,f(e)));return o},s.prototype.applyKeyboardCommand=function(t){var e,r,i,o,s,a,l;for(s=JSON.stringify(t.sort()),l=this.element.querySelectorAll("[data-key]"),o=0,a=l.length;a>o;o++)if(e=l[o],i=e.getAttribute("data-key").split("+"),r=JSON.stringify(i.sort()),r===s)return n("mousedown",{onElement:e}),!0;return!1},s.prototype.dialogIsVisible=function(t){var e;return(e=this.getDialog(t))?e.classList.contains("active"):void 0},s.prototype.toggleDialog=function(t){return this.dialogIsVisible(t)?this.hideDialog():this.showDialog(t)},s.prototype.showDialog=function(t){var e,n,r,i,o,s;return this.hideDialog(),null!=(i=this.delegate)&&i.toolbarWillShowDialog(),n=this.getDialog(t),n.classList.add("active"),(e=f(n))&&(r=g(n,t))&&(r.removeAttribute("disabled"),r.value=null!=(o=this.attributes[e])?o:"",r.select()),null!=(s=this.delegate)?s.toolbarDidShowDialog(t):void 0},s.prototype.setAttribute=function(t){var e,n,r;return e=f(t),n=g(t,e),n.willValidate&&!n.checkValidity()?(n.classList.add("validate"),n.focus()):(null!=(r=this.delegate)&&r.toolbarDidUpdateAttribute(e,n.value),this.hideDialog())},s.prototype.removeAttribute=function(t){var e,n;return e=f(t),null!=(n=this.delegate)&&n.toolbarDidRemoveAttribute(e),this.hideDialog()},s.prototype.hideDialog=function(){var t,e;return(t=this.element.querySelector(l))?(t.classList.remove("active"),this.resetDialogInputs(),null!=(e=this.delegate)?e.toolbarDidHideDialog(m(t)):void 0):void 0},s.prototype.resetDialogInputs=function(){var t,e,n,r,i;for(r=this.element.querySelectorAll(h),i=[],t=0,n=r.length;n>t;t++)e=r[t],e.setAttribute("disabled","disabled"),i.push(e.classList.remove("validate"));return i},s.prototype.getDialog=function(t){return this.element.querySelector(".dialog[data-dialog="+t+"]")},g=function(t,e){return null==e&&(e=f(t)),t.querySelector("input[name='"+e+"']")},p=function(t){return t.getAttribute("data-action")},f=function(t){return t.getAttribute("data-attribute")},m=function(t){return t.getAttribute("data-dialog")},s}(Trix.BasicObject)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;Trix.ImagePreloadOperation=function(e){function n(t){this.url=t}return t(n,e),n.prototype.perform=function(t){var e;return e=new Image,e.onload=function(n){return function(){return e.width=n.width=e.naturalWidth,e.height=n.height=e.naturalHeight,t(!0,e)}}(this),e.onerror=function(){return t(!1)},e.src=this.url},n}(Trix.Operation)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n={}.hasOwnProperty;Trix.Attachment=function(n){function r(e){null==e&&(e={}),this.releaseFile=t(this.releaseFile,this),r.__super__.constructor.apply(this,arguments),this.attributes=Trix.Hash.box(e),this.didChangeAttributes()}return e(r,n),r.previewablePattern=/^image(\/(gif|png|jpe?g)|$)/,r.attachmentForFile=function(t){var e,n;return n=this.attributesForFile(t),e=new this(n),e.setFile(t),e},r.attributesForFile=function(t){return new Trix.Hash({filename:t.name,filesize:t.size,contentType:t.type})},r.fromJSON=function(t){return new this(t)},r.prototype.getAttribute=function(t){return this.attributes.get(t)},r.prototype.hasAttribute=function(t){return this.attributes.has(t)},r.prototype.getAttributes=function(){return this.attributes.toObject()},r.prototype.setAttributes=function(t){var e,n;return null==t&&(t={}),e=this.attributes.merge(t),this.attributes.isEqualTo(e)?void 0:(this.attributes=e,this.didChangeAttributes(),null!=(n=this.delegate)&&"function"==typeof n.attachmentDidChangeAttributes?n.attachmentDidChangeAttributes(this):void 0)},r.prototype.didChangeAttributes=function(){return this.isPreviewable()?this.preloadURL():void 0},r.prototype.isPending=function(){return null!=this.file&&!(this.getURL()||this.getHref())},r.prototype.isPreviewable=function(){return this.attributes.has("previewable")?this.attributes.get("previewable"):this.constructor.previewablePattern.test(this.getContentType())},r.prototype.getType=function(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"},r.prototype.getURL=function(){return this.attributes.get("url")},r.prototype.getHref=function(){return this.attributes.get("href")},r.prototype.getFilename=function(){var t;return null!=(t=this.attributes.get("filename"))?t:""},r.prototype.getFilesize=function(){return this.attributes.get("filesize")},r.prototype.getFormattedFilesize=function(){var t;return t=this.attributes.get("filesize"),"number"==typeof t?Trix.config.fileSize.formatter(t):""},r.prototype.getExtension=function(){var t;return null!=(t=this.getFilename().match(/\.(\w+)$/))?t[1].toLowerCase():void 0},r.prototype.getContentType=function(){return this.attributes.get("contentType")},r.prototype.hasContent=function(){return this.attributes.has("content")},r.prototype.getContent=function(){return this.attributes.get("content")},r.prototype.getWidth=function(){return this.attributes.get("width")},r.prototype.getHeight=function(){return this.attributes.get("height")},r.prototype.getFile=function(){return this.file},r.prototype.setFile=function(t){return this.file=t,this.isPreviewable()?this.preloadFile():void 0},r.prototype.releaseFile=function(){return this.releasePreloadedFile(),this.file=null},r.prototype.getUploadProgress=function(){var t;return null!=(t=this.uploadProgress)?t:0},r.prototype.setUploadProgress=function(t){var e;return this.uploadProgress!==t?(this.uploadProgress=t,null!=(e=this.uploadProgressDelegate)&&"function"==typeof e.attachmentDidChangeUploadProgress?e.attachmentDidChangeUploadProgress(this):void 0):void 0},r.prototype.toJSON=function(){return this.getAttributes()},r.prototype.getCacheKey=function(t){var e;return e=[r.__super__.getCacheKey.apply(this,arguments),this.attributes.getCacheKey(),this.getPreloadedURL()],t&&e.unshift(t),e.join("/")},r.prototype.getPreloadedURL=function(){return this.preloadedURL},r.prototype.preloadURL=function(){return this.preload(this.getURL(),this.releaseFile)},r.prototype.preloadFile=function(){return this.file?(this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)):void 0},r.prototype.releasePreloadedFile=function(){return this.fileObjectURL?(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null):void 0},r.prototype.preload=function(t,e){var n;return t&&t!==this.preloadedURL?(null==this.preloadedURL&&(this.preloadedURL=t),n=new Trix.ImagePreloadOperation(t),n.then(function(n){return function(r){var i,o,s;return s=r.width,i=r.height,n.preloadedURL=t,n.setAttributes({width:s,height:i}),null!=(o=n.previewDelegate)&&"function"==typeof o.attachmentDidPreload&&o.attachmentDidPreload(),"function"==typeof e?e():void 0}}(this))):void 0},r}(Trix.Object)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;Trix.Piece=function(e){function n(t,e){null==e&&(e={}),n.__super__.constructor.apply(this,arguments),this.attributes=Trix.Hash.box(e)}return t(n,e),n.types={},n.registerType=function(t,e){return e.type=t,this.types[t]=e},n.fromJSON=function(t){var e;return(e=this.types[t.type])?e.fromJSON(t):void 0},n.prototype.copyWithAttributes=function(t){return new this.constructor(this.getValue(),t)},n.prototype.copyWithAdditionalAttributes=function(t){return this.copyWithAttributes(this.attributes.merge(t))},n.prototype.copyWithoutAttribute=function(t){return this.copyWithAttributes(this.attributes.remove(t))},n.prototype.copy=function(){return this.copyWithAttributes(this.attributes)},n.prototype.getAttribute=function(t){return this.attributes.get(t)},n.prototype.getAttributesHash=function(){return this.attributes},n.prototype.getAttributes=function(){return this.attributes.toObject()},n.prototype.getCommonAttributes=function(){var t,e,n;return(n=pieceList.getPieceAtIndex(0))?(t=n.attributes,e=t.getKeys(),pieceList.eachPiece(function(n){return e=t.getKeysCommonToHash(n.attributes),t=t.slice(e)}),t.toObject()):{}},n.prototype.hasAttribute=function(t){return this.attributes.has(t)},n.prototype.hasSameStringValueAsPiece=function(t){return null!=t&&this.toString()===t.toString()},n.prototype.hasSameAttributesAsPiece=function(t){return null!=t&&(this.attributes===t.attributes||this.attributes.isEqualTo(t.attributes))},n.prototype.isBlockBreak=function(){return!1},n.prototype.isEqualTo=function(t){return n.__super__.isEqualTo.apply(this,arguments)||this.hasSameConstructorAs(t)&&this.hasSameStringValueAsPiece(t)&&this.hasSameAttributesAsPiece(t)},n.prototype.isEmpty=function(){return 0===this.length},n.prototype.isSerializable=function(){return!0},n.prototype.toJSON=function(){return{type:this.constructor.type,attributes:this.getAttributes()}},n.prototype.contentsForInspection=function(){return{type:this.constructor.type,attributes:this.attributes.inspect()}},n.prototype.canBeGrouped=function(){return this.hasAttribute("href")},n.prototype.canBeGroupedWith=function(t){return this.getAttribute("href")===t.getAttribute("href")},n.prototype.getLength=function(){return this.length},n.prototype.canBeConsolidatedWith=function(){return!1},n}(Trix.Object)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;Trix.Piece.registerType("attachment",Trix.AttachmentPiece=function(e){function n(t){this.attachment=t,n.__super__.constructor.apply(this,arguments),this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href")}return t(n,e),n.fromJSON=function(t){return new this(Trix.Attachment.fromJSON(t.attachment),t.attributes)},n.prototype.ensureAttachmentExclusivelyHasAttribute=function(t){return this.hasAttribute(t)&&this.attachment.hasAttribute(t)?this.attributes=this.attributes.remove(t):void 0},n.prototype.getValue=function(){return this.attachment},n.prototype.isSerializable=function(){return!this.attachment.isPending()},n.prototype.getCaption=function(){var t;return null!=(t=this.attributes.get("caption"))?t:""},n.prototype.getAttributesForAttachment=function(){return this.attributes.slice(["caption"])},n.prototype.canBeGrouped=function(){return n.__super__.canBeGrouped.apply(this,arguments)&&!this.attachment.hasAttribute("href")},n.prototype.toString=function(){return Trix.OBJECT_REPLACEMENT_CHARACTER},n.prototype.toJSON=function(){var t;return t=n.__super__.toJSON.apply(this,arguments),t.attachment=this.attachment,t},n.prototype.getCacheKey=function(){return[n.__super__.getCacheKey.apply(this,arguments),this.attachment.getCacheKey()].join("/")},n.prototype.toConsole=function(){return JSON.stringify(this.toString())},n}(Trix.Piece))}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;Trix.Piece.registerType("string",Trix.StringPiece=function(e){function n(t){n.__super__.constructor.apply(this,arguments),this.string=t,this.length=this.string.length}return t(n,e),n.fromJSON=function(t){return new this(t.string,t.attributes)},n.prototype.getValue=function(){return this.string},n.prototype.toString=function(){return this.string.toString()},n.prototype.isBlockBreak=function(){return"\n"===this.toString()&&this.getAttribute("blockBreak")===!0},n.prototype.toJSON=function(){var t;return t=n.__super__.toJSON.apply(this,arguments),t.string=this.string,t},n.prototype.canBeConsolidatedWith=function(t){return null!=t&&this.hasSameConstructorAs(t)&&this.hasSameAttributesAsPiece(t)},n.prototype.consolidateWith=function(t){return new this.constructor(this.toString()+t.toString(),this.attributes)},n.prototype.splitAtOffset=function(t){var e,n;return 0===t?(e=null,n=this):t===this.length?(e=this,n=null):(e=new this.constructor(this.string.slice(0,t),this.attributes),n=new this.constructor(this.string.slice(t),this.attributes)),[e,n]},n.prototype.toConsole=function(){var t;return t=this.string,t.length>15&&(t=t.slice(0,14)+"…"),JSON.stringify(t.toString())},n}(Trix.Piece))}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty,n=[].slice;Trix.SplittableList=function(e){function r(t){null==t&&(t=[]),r.__super__.constructor.apply(this,arguments),this.objects=t.slice(0),this.length=this.objects.length}var i,o,s;return t(r,e),r.box=function(t){return t instanceof this?t:new this(t)},r.prototype.eachObject=function(t){var e,n,r,i,o,s;for(o=this.objects,s=[],n=e=0,r=o.length;r>e;n=++e)i=o[n],s.push(t(i,n));return s},r.prototype.insertObjectAtIndex=function(t,e){var n;return n=this.objects.slice(0),n.splice(e,0,t),new this.constructor(n)},r.prototype.insertSplittableListAtIndex=function(t,e){var r;return r=this.objects.slice(0),r.splice.apply(r,[e,0].concat(n.call(t.objects))),new this.constructor(r)},r.prototype.insertSplittableListAtPosition=function(t,e){var n,r,i;return i=this.splitObjectAtPosition(e),r=i[0],n=i[1],new this.constructor(r).insertSplittableListAtIndex(t,n)},r.prototype.editObjectAtIndex=function(t,e){return this.replaceObjectAtIndex(e(this.objects[t]),t)},r.prototype.replaceObjectAtIndex=function(t,e){var n;return n=this.objects.slice(0),n.splice(e,1,t),new this.constructor(n)},r.prototype.removeObjectAtIndex=function(t){var e;return e=this.objects.slice(0),e.splice(t,1),new this.constructor(e)},r.prototype.getObjectAtIndex=function(t){return this.objects[t]},r.prototype.getSplittableListInRange=function(t){var e,n,r,i;return r=this.splitObjectsAtRange(t),n=r[0],e=r[1],i=r[2],new this.constructor(n.slice(e,i+1))},r.prototype.selectSplittableList=function(t){var e,n;return n=function(){var n,r,i,o;for(i=this.objects,o=[],n=0,r=i.length;r>n;n++)e=i[n],t(e)&&o.push(e);return o}.call(this),new this.constructor(n)},r.prototype.removeObjectsInRange=function(t){var e,n,r,i;return r=this.splitObjectsAtRange(t),n=r[0],e=r[1],i=r[2],n.splice(e,i-e+1),new this.constructor(n)},r.prototype.transformObjectsInRange=function(t,e){var n,r,i,o,s,a,l;return s=this.splitObjectsAtRange(t),o=s[0],r=s[1],a=s[2],l=function(){var t,s,l;for(l=[],n=t=0,s=o.length;s>t;n=++t)i=o[n],l.push(n>=r&&a>=n?e(i):i);return l}(),new this.constructor(l)},r.prototype.splitObjectsAtRange=function(t){var e,n,r,o,a,l;return o=this.splitObjectAtPosition(s(t)),n=o[0],e=o[1],r=o[2],a=new this.constructor(n).splitObjectAtPosition(i(t)+r),n=a[0],l=a[1],[n,e,l-1]},r.prototype.getObjectAtPosition=function(t){var e,n,r;return r=this.findIndexAndOffsetAtPosition(t),e=r.index,n=r.offset,this.objects[e]},r.prototype.splitObjectAtPosition=function(t){var e,n,r,i,o,s,a,l,u,c;return s=this.findIndexAndOffsetAtPosition(t),e=s.index,o=s.offset,i=this.objects.slice(0),null!=e?0===o?(u=e,c=0):(r=this.getObjectAtIndex(e),a=r.splitAtOffset(o),n=a[0],l=a[1],i.splice(e,1,n,l),u=e+1,c=n.getLength()-o):(u=i.length,c=0),[i,u,c]},r.prototype.consolidate=function(){var t,e,n,r,i,o;for(r=[],i=this.objects[0],o=this.objects.slice(1),t=0,e=o.length;e>t;t++)n=o[t],("function"==typeof i.canBeConsolidatedWith?i.canBeConsolidatedWith(n):void 0)?i=i.consolidateWith(n):(r.push(i),i=n);return null!=i&&r.push(i),new this.constructor(r)},r.prototype.consolidateFromIndexToIndex=function(t,e){var r,i,o;return i=this.objects.slice(0),o=i.slice(t,e+1),r=new this.constructor(o).consolidate().toArray(),i.splice.apply(i,[t,o.length].concat(n.call(r))),new this.constructor(i)},r.prototype.findIndexAndOffsetAtPosition=function(t){var e,n,r,i,o,s,a;for(e=0,a=this.objects,r=n=0,i=a.length;i>n;r=++n){if(s=a[r],o=e+s.getLength(),t>=e&&o>t)return{index:r,offset:t-e};e=o}return{index:null,offset:null}},r.prototype.findPositionAtIndexAndOffset=function(t,e){var n,r,i,o,s,a;for(s=0,a=this.objects,n=r=0,i=a.length;i>r;n=++r)if(o=a[n],t>n)s+=o.getLength();else if(n===t){s+=e;break}return s},r.prototype.getEndPosition=function(){var t,e;return null!=this.endPosition?this.endPosition:this.endPosition=function(){var n,r,i;for(e=0,i=this.objects,n=0,r=i.length;r>n;n++)t=i[n],e+=t.getLength();return e}.call(this)},r.prototype.toString=function(){return this.objects.join("")},r.prototype.toArray=function(){return this.objects.slice(0)},r.prototype.toJSON=function(){return this.toArray()},r.prototype.isEqualTo=function(t){return r.__super__.isEqualTo.apply(this,arguments)||o(this.objects,null!=t?t.objects:void 0)},o=function(t,e){var n,r,i,o,s;if(null==e&&(e=[]),t.length!==e.length)return!1;for(s=!0,r=n=0,i=t.length;i>n;r=++n)o=t[r],s&&!o.isEqualTo(e[r])&&(s=!1);return s},r.prototype.contentsForInspection=function(){var t;return{objects:"["+function(){var e,n,r,i;for(r=this.objects,i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t.inspect());return i}.call(this).join(", ")+"]"}},s=function(t){return t[0]},i=function(t){return t[1]},r}(Trix.Object)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;Trix.Text=function(e){function n(t){var e;null==t&&(t=[]),n.__super__.constructor.apply(this,arguments),this.pieceList=new Trix.SplittableList(function(){var n,r,i;for(i=[],n=0,r=t.length;r>n;n++)e=t[n],e.isEmpty()||i.push(e);return i}())}return t(n,e),n.textForAttachmentWithAttributes=function(t,e){var n;return n=new Trix.AttachmentPiece(t,e),new this([n])},n.textForStringWithAttributes=function(t,e){var n;return n=new Trix.StringPiece(t,e),new this([n])},n.fromJSON=function(t){var e,n;return n=function(){var n,r,i;for(i=[],n=0,r=t.length;r>n;n++)e=t[n],i.push(Trix.Piece.fromJSON(e));return i}(),new this(n)},n.prototype.copy=function(){return this.copyWithPieceList(this.pieceList)},n.prototype.copyWithPieceList=function(t){return new this.constructor(t.consolidate().toArray())},n.prototype.copyUsingObjectMap=function(t){var e,n;return n=function(){var n,r,i,o,s;for(i=this.getPieces(),s=[],n=0,r=i.length;r>n;n++)e=i[n],s.push(null!=(o=t.find(e))?o:e);return s}.call(this),new this.constructor(n)},n.prototype.appendText=function(t){return this.insertTextAtPosition(t,this.getLength())},n.prototype.insertTextAtPosition=function(t,e){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(t.pieceList,e))},n.prototype.removeTextAtRange=function(t){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(t))},n.prototype.replaceTextAtRange=function(t,e){return this.removeTextAtRange(e).insertTextAtPosition(t,e[0])},n.prototype.moveTextFromRangeToPosition=function(t,e){var n,r;return t[0]<=e&&e<=t[1]?void 0:(r=this.getTextAtRange(t),n=r.getLength(),t[0]<e&&(e-=n),this.removeTextAtRange(t).insertTextAtPosition(r,e))},n.prototype.addAttributeAtRange=function(t,e,n){var r;return r={},r[t]=e,this.addAttributesAtRange(r,n)},n.prototype.addAttributesAtRange=function(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,function(e){return e.copyWithAdditionalAttributes(t)}))},n.prototype.removeAttributeAtRange=function(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,function(e){return e.copyWithoutAttribute(t)}))},n.prototype.setAttributesAtRange=function(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,function(e){return e.copyWithAttributes(t)}))},n.prototype.getAttributesAtPosition=function(t){var e,n;return null!=(e=null!=(n=this.pieceList.getObjectAtPosition(t))?n.getAttributes():void 0)?e:{}},n.prototype.getCommonAttributes=function(){var t,e;return t=function(){var t,n,r,i;
for(r=this.pieceList.toArray(),i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.getAttributes());return i}.call(this),Trix.Hash.fromCommonAttributesOfObjects(t).toObject()},n.prototype.getCommonAttributesAtRange=function(t){var e;return null!=(e=this.getTextAtRange(t).getCommonAttributes())?e:{}},n.prototype.getExpandedRangeForAttributeAtOffset=function(t,e){var n,r,i;for(n=i=e,r=this.getLength();n>0&&this.getCommonAttributesAtRange([n-1,i])[t];)n--;for(;r>i&&this.getCommonAttributesAtRange([e,i+1])[t];)i++;return[n,i]},n.prototype.getTextAtRange=function(t){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(t))},n.prototype.getStringAtRange=function(t){return this.pieceList.getSplittableListInRange(t).toString()},n.prototype.startsWithString=function(t){return this.getStringAtRange([0,t.length])===t},n.prototype.endsWithString=function(t){var e;return e=this.getLength(),this.getStringAtRange([e-t.length,e])===t},n.prototype.getAttachmentPieces=function(){var t,e,n,r,i;for(r=this.pieceList.toArray(),i=[],t=0,e=r.length;e>t;t++)n=r[t],null!=n.attachment&&i.push(n);return i},n.prototype.getAttachments=function(){var t,e,n,r,i;for(r=this.getAttachmentPieces(),i=[],t=0,e=r.length;e>t;t++)n=r[t],i.push(n.attachment);return i},n.prototype.getAttachmentAndPositionById=function(t){var e,n,r,i,o,s;for(i=0,o=this.pieceList.toArray(),e=0,n=o.length;n>e;e++){if(r=o[e],(null!=(s=r.attachment)?s.id:void 0)===t)return{attachment:r.attachment,position:i};i+=r.length}return{attachment:null,position:null}},n.prototype.getAttachmentById=function(t){var e,n,r;return r=this.getAttachmentAndPositionById(t),e=r.attachment,n=r.position,e},n.prototype.getRangeOfAttachment=function(t){var e,n;return n=this.getAttachmentAndPositionById(t.id),t=n.attachment,e=n.position,null!=t?[e,e+1]:void 0},n.prototype.updateAttributesForAttachment=function(t,e){var n;return(n=this.getRangeOfAttachment(e))?this.addAttributesAtRange(t,n):this},n.prototype.getLength=function(){return this.pieceList.getEndPosition()},n.prototype.isEmpty=function(){return 0===this.getLength()},n.prototype.isEqualTo=function(t){var e;return n.__super__.isEqualTo.apply(this,arguments)||(null!=t&&null!=(e=t.pieceList)?e.isEqualTo(this.pieceList):void 0)},n.prototype.isBlockBreak=function(){return 1===this.getLength()&&this.pieceList.getObjectAtIndex(0).isBlockBreak()},n.prototype.eachPiece=function(t){return this.pieceList.eachObject(t)},n.prototype.getPieces=function(){return this.pieceList.toArray()},n.prototype.getPieceAtPosition=function(t){return this.pieceList.getObjectAtPosition(t)},n.prototype.contentsForInspection=function(){return{pieceList:this.pieceList.inspect()}},n.prototype.toSerializableText=function(){var t;return t=this.pieceList.selectSplittableList(function(t){return t.isSerializable()}),this.copyWithPieceList(t)},n.prototype.toString=function(){return this.pieceList.toString()},n.prototype.toJSON=function(){return this.pieceList.toJSON()},n.prototype.toConsole=function(){var t;return JSON.stringify(function(){var e,n,r,i;for(r=this.pieceList.toArray(),i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(JSON.parse(t.toConsole()));return i}.call(this))},n}(Trix.Object)}.call(this),function(){var t,e=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n={}.hasOwnProperty,r=[].slice;t=Trix.arraysAreEqual,Trix.Block=function(n){function i(t,e){null==t&&(t=new Trix.Text),null==e&&(e=[]),i.__super__.constructor.apply(this,arguments),this.text=s(t),this.attributes=e}var o,s,a,l,u,c,h,d;return e(i,n),i.fromJSON=function(t){var e;return e=Trix.Text.fromJSON(t.text),new this(e,t.attributes)},i.prototype.isEmpty=function(){return this.text.isBlockBreak()},i.prototype.isEqualTo=function(e){return i.__super__.isEqualTo.apply(this,arguments)||this.text.isEqualTo(null!=e?e.text:void 0)&&t(this.attributes,null!=e?e.attributes:void 0)},i.prototype.copyWithText=function(t){return new this.constructor(t,this.attributes)},i.prototype.copyWithoutText=function(){return this.copyWithText(null)},i.prototype.copyWithAttributes=function(t){return new this.constructor(this.text,t)},i.prototype.copyUsingObjectMap=function(t){var e;return this.copyWithText((e=t.find(this.text))?e:this.text.copyUsingObjectMap(t))},i.prototype.addAttribute=function(t){var e,n;return n=Trix.config.blockAttributes[t].listAttribute,e=this.attributes.concat(n?[n,t]:[t]),this.copyWithAttributes(e)},i.prototype.removeAttribute=function(t){var e,n;return n=Trix.config.blockAttributes[t].listAttribute,e=u(this.attributes,t),null!=n&&(e=u(e,n)),this.copyWithAttributes(e)},i.prototype.removeLastAttribute=function(){return this.removeAttribute(this.getLastAttribute())},i.prototype.getLastAttribute=function(){return l(this.attributes)},i.prototype.getAttributes=function(){return this.attributes.slice(0)},i.prototype.getAttributeLevel=function(){return this.attributes.length},i.prototype.getAttributeAtLevel=function(t){return this.attributes[t-1]},i.prototype.hasAttributes=function(){return this.getAttributeLevel()>0},i.prototype.getConfig=function(t){var e,n;return(e=this.getLastAttribute())&&(n=Trix.config.blockAttributes[e])?t?n[t]:n:void 0},i.prototype.isListItem=function(){return null!=this.getConfig("listAttribute")},i.prototype.findLineBreakInDirectionFromPosition=function(t,e){var n,r;return r=this.toString(),n=function(){switch(t){case"forward":return r.indexOf("\n",e);case"backward":return r.slice(0,e).lastIndexOf("\n")}}(),-1!==n?n:void 0},i.prototype.contentsForInspection=function(){return{text:this.text.inspect(),attributes:this.attributes}},i.prototype.toString=function(){return this.text.toString()},i.prototype.toJSON=function(){return{text:this.text,attributes:this.attributes}},i.prototype.getLength=function(){return this.text.getLength()},i.prototype.canBeConsolidatedWith=function(t){return!this.hasAttributes()&&!t.hasAttributes()},i.prototype.consolidateWith=function(t){var e,n;return e=Trix.Text.textForStringWithAttributes("\n"),n=this.getTextWithoutBlockBreak().appendText(e),this.copyWithText(n.appendText(t.text))},i.prototype.splitAtOffset=function(t){var e,n;return 0===t?(e=null,n=this):t===this.getLength()?(e=this,n=null):(e=this.copyWithText(this.text.getTextAtRange([0,t])),n=this.copyWithText(this.text.getTextAtRange([t,this.getLength()]))),[e,n]},i.prototype.toString=function(){return this.text.toString()},i.prototype.getBlockBreakPosition=function(){return this.text.getLength()-1},i.prototype.getTextWithoutBlockBreak=function(){return c(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()},i.prototype.canBeGrouped=function(t){return this.attributes[t]},i.prototype.canBeGroupedWith=function(t,e){var n,r,i,o;return n=this.attributes,r=t.getAttributes(),n[e]===r[e]?"bullet"!==(i=n[e])&&"number"!==i||"bulletList"===(o=r[e+1])||"numberList"===o?!0:!1:void 0},s=function(t){return t=d(t),t=o(t)},d=function(t){var e,n,i,o,s,a;return o=!1,a=t.getPieces(),n=2<=a.length?r.call(a,0,e=a.length-1):(e=0,[]),i=a[e++],null==i?t:(n=function(){var t,e,r;for(r=[],t=0,e=n.length;e>t;t++)s=n[t],s.isBlockBreak()?(o=!0,r.push(h(s))):r.push(s);return r}(),o?new Trix.Text(r.call(n).concat([i])):t)},a=Trix.Text.textForStringWithAttributes("\n",{blockBreak:!0}),o=function(t){return c(t)?t:t.appendText(a)},c=function(t){var e,n;return n=t.getLength(),0===n?!1:(e=t.getTextAtRange([n-1,n]),e.isBlockBreak())},h=function(t){return t.copyWithoutAttribute("blockBreak")},u=function(t,e){return l(t)===e?t.slice(0,-1):t},l=function(t){return t.slice(-1)[0]},i}(Trix.Object)}.call(this),function(){var t,e,n,r,i,o,s,a,l=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty,c=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},h=[].slice;t=Trix.arraysAreEqual,o=Trix.normalizeSpaces,r=Trix.makeElement,s=Trix.tagName,a=Trix.walkTree,n=Trix.findClosestElementFromNode,e=Trix.elementContainsNode,i=Trix.nodeIsAttachmentElement,Trix.HTMLParser=function(u){function d(t){this.html=t,this.blocks=[],this.blockElements=[],this.processedElements=[]}var p,f,m,g,v,y,b,_,w,x,C,T;return l(d,u),p="style href src width height class".split(" "),d.parse=function(t,e){var n;return n=new this(t,e),n.parse(),n},d.prototype.getDocument=function(){return Trix.Document.fromJSON(this.blocks)},d.prototype.parse=function(){var t,e;try{for(this.createHiddenContainer(),t=T(this.html),this.container.innerHTML=t,e=a(this.container,{usingFilter:_});e.nextNode();)this.processNode(e.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}},_=function(t){return"style"===s(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},d.prototype.createHiddenContainer=function(){return this.container=r({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.container)},d.prototype.removeHiddenContainer=function(){return document.body.removeChild(this.container)},d.prototype.processNode=function(t){switch(t.nodeType){case Node.TEXT_NODE:return this.processTextNode(t);case Node.ELEMENT_NODE:return this.appendBlockForElement(t),this.processElement(t)}},d.prototype.appendBlockForElement=function(n){var r;if(this.isBlockElement(n)&&!this.isBlockElement(n.firstChild)){if(r=g(n),!e(this.currentBlockElement,n)||!t(r,this.currentBlock.attributes))return this.currentBlock=this.appendBlockForAttributesWithElement(r,n),this.currentBlockElement=n}else if(this.currentBlockElement&&!e(this.currentBlockElement,n)&&!this.isBlockElement(n))return this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null},d.prototype.isExtraBR=function(t){return"br"===s(t)&&this.isBlockElement(t.parentNode)&&t.parentNode.lastChild===t},d.prototype.isBlockElement=function(t){var e;return(null!=t?t.nodeType:void 0)!==Node.ELEMENT_NODE||n(t,{matchingSelector:"td"})?void 0:(e=s(t),c.call(this.getBlockTagNames(),e)>=0||"block"===window.getComputedStyle(t).display)},d.prototype.getBlockTagNames=function(){var t,e;return null!=this.blockTagNames?this.blockTagNames:this.blockTagNames=function(){var n,r;n=Trix.config.blockAttributes,r=[];for(t in n)e=n[t],r.push(e.tagName);return r}()},d.prototype.processTextNode=function(t){var e;return(e=o(t.data))?this.appendStringWithAttributes(e,b(t.parentNode)):void 0},d.prototype.processElement=function(t){var e,n,r,o,a;if(i(t))return e=m(t),Object.keys(e).length&&(o=b(t),this.appendAttachmentWithAttributes(e,o),t.innerHTML=""),this.processedElements.push(t);switch(s(t)){case"br":return this.isExtraBR(t)||this.appendStringWithAttributes("\n",b(t)),this.processedElements.push(t);case"img":e={url:t.src,contentType:"image"},r=y(t);for(n in r)a=r[n],e[n]=a;return this.appendAttachmentWithAttributes(e,b(t)),this.processedElements.push(t);case"tr":if(t.parentNode.firstChild!==t)return this.appendStringWithAttributes("\n");break;case"td":if(t.parentNode.firstChild!==t)return this.appendStringWithAttributes(" | ")}},d.prototype.appendBlockForAttributesWithElement=function(t,e){var n;return this.blockElements.push(e),n=f(t),this.blocks.push(n),n},d.prototype.appendEmptyBlock=function(){return this.appendBlockForAttributesWithElement([],null)},d.prototype.appendStringWithAttributes=function(t,e){return this.appendPiece(x(t,e))},d.prototype.appendAttachmentWithAttributes=function(t,e){return this.appendPiece(w(t,e))},d.prototype.appendPiece=function(t){return 0===this.blocks.length&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(t)},d.prototype.appendStringToTextAtIndex=function(t,e){var n,r;return r=this.blocks[e].text,n=r[r.length-1],"string"===(null!=n?n.type:void 0)?n.string+=t:r.push(x(t))},d.prototype.prependStringToTextAtIndex=function(t,e){var n,r;return r=this.blocks[e].text,n=r[0],"string"===(null!=n?n.type:void 0)?n.string=t+n.string:r.unshift(x(t))},d.prototype.getMarginOfBlockElementAtIndex=function(t){var e,n;return!(e=this.blockElements[t])||(n=s(e),c.call(this.getBlockTagNames(),n)>=0||c.call(this.processedElements,e)>=0)?void 0:v(e)},d.prototype.getMarginOfDefaultBlockElement=function(){var t;return t=r(Trix.config.blockAttributes["default"].tagName),this.container.appendChild(t),v(t)},d.prototype.translateBlockElementMarginsToNewlines=function(){var t,e,n,r,i,o,s,a;for(e=this.getMarginOfDefaultBlockElement(),s=this.blocks,a=[],r=n=0,i=s.length;i>n;r=++n)t=s[r],(o=this.getMarginOfBlockElementAtIndex(r))&&(o.top>2*e.top&&this.prependStringToTextAtIndex("\n",r),a.push(o.bottom>2*e.bottom?this.appendStringToTextAtIndex("\n",r):void 0));return a},x=function(t,e){var n;return null==e&&(e={}),n="string",{string:t,attributes:e,type:n}},w=function(t,e){var n;return null==e&&(e={}),n="attachment",{attachment:t,attributes:e,type:n}},f=function(t){var e;return null==t&&(t={}),e=[],{text:e,attributes:t}},b=function(t){var e,n,r,o,a,l,u,c;n={},l=Trix.config.textAttributes;for(e in l)r=l[e],r.parser?(c=r.parser(t))&&(n[e]=c):r.tagName&&s(t)===r.tagName&&(n[e]=!0);if(i(t)&&(o=t.dataset.trixAttributes)){u=JSON.parse(o);for(a in u)c=u[a],n[a]=c}return n},g=function(t){var e,n,r,i;for(n=[];t;){i=Trix.config.blockAttributes;for(e in i)r=i[e],r.parse!==!1&&s(t)===r.tagName&&(("function"==typeof r.test?r.test(t):void 0)||!r.test)&&(n.push(e),r.listAttribute&&n.push(r.listAttribute));t=t.parentNode}return n.reverse()},m=function(t){return JSON.parse(t.dataset.trixAttachment)},T=function(t){var e,n,r,i,o,s,l,u,d,f,m,g,v,y,b,_,w;for(t=C(t),n=document.implementation.createHTMLDocument(""),n.documentElement.innerHTML=t,e=n.body,i=n.head,y=i.querySelectorAll("style"),o=0,u=y.length;u>o;o++)_=y[o],e.appendChild(_);for(v=[],w=a(e);w.nextNode();)switch(g=w.currentNode,g.nodeType){case Node.ELEMENT_NODE:for(r=g,b=h.call(r.attributes),s=0,d=b.length;d>s;s++)m=b[s].name,c.call(p,m)>=0||0===m.indexOf("data-trix")||r.removeAttribute(m);break;case Node.COMMENT_NODE:v.push(g);break;case Node.TEXT_NODE:g.data.match(/^\s*$/)&&g.parentNode===e&&v.push(g)}for(l=0,f=v.length;f>l;l++)g=v[l],g.parentNode.removeChild(g);return e.innerHTML},C=function(t){return t.replace(/>\n+</g,"><").replace(/>\ +</g,"> <")},v=function(t){var e;return e=window.getComputedStyle(t),"block"===e.display?{top:parseInt(e.marginTop),bottom:parseInt(e.marginBottom)}:void 0},y=function(t){var e,n,r;return r=t.getAttribute("width"),n=t.getAttribute("height"),e={},r&&(e.width=parseInt(r,10)),n&&(e.height=parseInt(n,10)),e},d}(Trix.BasicObject)}.call(this),function(){var t,e,n,r=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty,o=[].slice,s=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=Trix.arraysAreEqual,e=Trix.normalizeRange,n=Trix.rangeIsCollapsed,Trix.Document=function(i){function a(t){null==t&&(t=[]),a.__super__.constructor.apply(this,arguments),0===t.length&&(t=[new Trix.Block]),this.blockList=Trix.SplittableList.box(t)}var l;return r(a,i),a.fromJSON=function(t){var e,n;return n=function(){var n,r,i;for(i=[],n=0,r=t.length;r>n;n++)e=t[n],i.push(Trix.Block.fromJSON(e));return i}(),new this(n)},a.fromHTML=function(t){return Trix.HTMLParser.parse(t).getDocument()},a.fromString=function(t,e){var n;return n=Trix.Text.textForStringWithAttributes(t,e),new this([new Trix.Block(n)])},a.prototype.isEmpty=function(){var t;return 1===this.blockList.length&&(t=this.getBlockAtIndex(0),t.isEmpty()&&!t.hasAttributes())},a.prototype.copy=function(t){var e;return null==t&&(t={}),e=t.consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray(),new this.constructor(e)},a.prototype.copyUsingObjectsFromDocument=function(t){var e;return e=new Trix.ObjectMap(t.getObjects()),this.copyUsingObjectMap(e)},a.prototype.copyUsingObjectMap=function(t){var e,n,r;return n=function(){var n,i,o,s;for(o=this.getBlocks(),s=[],n=0,i=o.length;i>n;n++)e=o[n],s.push((r=t.find(e))?r:e.copyUsingObjectMap(t));return s}.call(this),new this.constructor(n)},a.prototype.copyWithBaseBlockAttributes=function(t){var e,n,r;return null==t&&(t=[]),r=function(){var r,i,o,s;for(o=this.getBlocks(),s=[],r=0,i=o.length;i>r;r++)n=o[r],e=t.concat(n.getAttributes()),s.push(n.copyWithAttributes(e));return s}.call(this),new this.constructor(r)},a.prototype.insertDocumentAtRange=function(t,r){var i,o,s,a,l,u,c;return o=t.blockList,l=(r=e(r))[0],u=this.locationFromPosition(l),s=u.index,a=u.offset,c=this,i=this.getBlockAtPosition(l),n(r)&&i.isEmpty()&&!i.hasAttributes()?c=new this.constructor(c.blockList.removeObjectAtIndex(s)):i.getBlockBreakPosition()===a&&l++,c=c.removeTextAtRange(r),new this.constructor(c.blockList.insertSplittableListAtPosition(o,l))},a.prototype.mergeDocumentAtRange=function(n,r){var i,o,s,a,l,u,c,h,d,p,f,m;return f=(r=e(r))[0],p=this.locationFromPosition(f),o=this.getBlockAtIndex(p.index).getAttributes(),i=n.getBaseBlockAttributes(),m=o.slice(-i.length),t(i,m)?(c=o.slice(0,-i.length),u=n.copyWithBaseBlockAttributes(c)):u=n.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(o),s=u.getBlockCount(),a=u.getBlockAtIndex(0),t(o,a.getAttributes())?(l=a.getTextWithoutBlockBreak(),d=this.insertTextAtRange(l,r),s>1&&(u=new this.constructor(u.getBlocks().slice(1)),h=f+l.getLength(),d=d.insertDocumentAtRange(u,h))):d=this.insertDocumentAtRange(u,r),d},a.prototype.insertTextAtRange=function(t,n){var r,i,o,s,a;return a=(n=e(n))[0],s=this.locationFromPosition(a),i=s.index,o=s.offset,r=this.removeTextAtRange(n),new this.constructor(r.blockList.editObjectAtIndex(i,function(e){return e.copyWithText(e.text.insertTextAtPosition(t,o))}))},a.prototype.removeTextAtRange=function(t){var r,i,o,s,a,l,u,c,h,d,p,f,m,g,v,y,b;return h=t=e(t),v=h[0],s=h[1],n(t)?this:(u=this.locationFromPosition(v),l=u.index,a=this.getBlockAtIndex(l),c=a.text.getTextAtRange([0,u.offset]),m=this.locationFromPosition(s),f=m.index,p=this.getBlockAtIndex(f),g=p.text.getTextAtRange([m.offset,p.getLength()]),y=c.appendText(g),d=l!==f&&0===u.offset,b=d&&a.getAttributeLevel()>=p.getAttributeLevel(),i=b?p.copyWithText(y):a.copyWithText(y),o=this.blockList.toArray(),r=f+1-l,o.splice(l,r,i),new this.constructor(o))},a.prototype.moveTextFromRangeToPosition=function(t,n){var r,i,s,a,l,u,c,h,d,p;if(u=t=e(t),d=u[0],s=u[1],n>=d&&s>=n)return this;if(i=this.getDocumentAtRange(t),h=this.removeTextAtRange(t),l=n>d,l&&(n-=i.getLength()),!h.firstBlockInRangeIsEntirelySelected(t)){if(c=i.getBlocks(),a=c[0],r=2<=c.length?o.call(c,1):[],0===r.length?(p=a.getTextWithoutBlockBreak(),l&&(n+=1)):p=a.text,h=h.insertTextAtRange(p,n),0===r.length)return h;i=new this.constructor(r),n+=p.getLength()}return h.insertDocumentAtRange(i,n)},a.prototype.addAttributeAtRange=function(t,e,n){var r;return r=this.blockList,this.eachBlockAtRange(n,function(n,i,o){return r=r.editObjectAtIndex(o,function(){return Trix.config.blockAttributes[t]?n.addAttribute(t,e):i[0]===i[1]?n:n.copyWithText(n.text.addAttributeAtRange(t,e,i))})}),new this.constructor(r)},a.prototype.addAttribute=function(t,e){var n;return n=this.blockList,this.eachBlock(function(r,i){return n=n.editObjectAtIndex(i,function(){return r.addAttribute(t,e)})}),new this.constructor(n)},a.prototype.removeAttributeAtRange=function(t,e){var n;return n=this.blockList,this.eachBlockAtRange(e,function(e,r,i){return Trix.config.blockAttributes[t]?n=n.editObjectAtIndex(i,function(){return e.removeAttribute(t)}):r[0]!==r[1]?n=n.editObjectAtIndex(i,function(){return e.copyWithText(e.text.removeAttributeAtRange(t,r))}):void 0}),new this.constructor(n)},a.prototype.updateAttributesForAttachment=function(t,e){var n,r,i,o;return i=(r=this.getRangeOfAttachment(e))[0],n=this.locationFromPosition(i).index,o=this.getTextAtIndex(n),new this.constructor(this.blockList.editObjectAtIndex(n,function(n){return n.copyWithText(o.updateAttributesForAttachment(t,e))}))},a.prototype.removeAttributeForAttachment=function(t,e){var n;return n=this.getRangeOfAttachment(e),this.removeAttributeAtRange(t,n)},a.prototype.insertBlockBreakAtRange=function(t){var n,r,i,o;return o=(t=e(t))[0],i=this.locationFromPosition(o).offset,r=this.removeTextAtRange(t),0===i&&(n=[new Trix.Block]),new this.constructor(r.blockList.insertSplittableListAtPosition(new Trix.SplittableList(n),o))},a.prototype.applyBlockAttributeAtRange=function(t,e,n){var r,i,o;return i=this.expandRangeToLineBreaksAndSplitBlocks(n),r=i.document,n=i.range,Trix.config.blockAttributes[t].listAttribute?(r=r.removeLastListAttributeAtRange(n,{exceptAttributeName:t}),o=r.convertLineBreaksToBlockBreaksInRange(n),r=o.document,n=o.range):r=r.consolidateBlocksAtRange(n),r.addAttributeAtRange(t,e,n)},a.prototype.removeLastListAttributeAtRange=function(t,e){var n;return null==e&&(e={}),n=this.blockList,this.eachBlockAtRange(t,function(t,r,i){var o;return(o=t.getLastAttribute())&&Trix.config.blockAttributes[o].listAttribute&&o!==e.exceptAttributeName?n=n.editObjectAtIndex(i,function(){return t.removeAttribute(o)}):void 0}),new this.constructor(n)},a.prototype.firstBlockInRangeIsEntirelySelected=function(t){var n,r,i,o,s,a;return o=t=e(t),a=o[0],n=o[1],r=this.locationFromPosition(a),s=this.locationFromPosition(n),0===r.offset&&r.index<s.index?!0:r.index===s.index?(i=this.getBlockAtIndex(r.index).getLength(),0===r.offset&&s.offset===i):!1},a.prototype.expandRangeToLineBreaksAndSplitBlocks=function(t){var n,r,i,o,s,a,l,u,c;return a=t=e(t),c=a[0],o=a[1],u=this.locationFromPosition(c),i=this.locationFromPosition(o),n=this,l=n.getBlockAtIndex(u.index),null!=(u.offset=l.findLineBreakInDirectionFromPosition("backward",u.offset))&&(s=n.positionFromLocation(u),n=n.insertBlockBreakAtRange([s,s+1]),i.index+=1,i.offset-=n.getBlockAtIndex(u.index).getLength(),u.index+=1),u.offset=0,0===i.offset&&i.index>u.index?(i.index-=1,i.offset=n.getBlockAtIndex(i.index).getBlockBreakPosition()):(r=n.getBlockAtIndex(i.index),"\n"===r.text.getStringAtRange([i.offset-1,i.offset])?i.offset-=1:i.offset=r.findLineBreakInDirectionFromPosition("forward",i.offset),i.offset!==r.getBlockBreakPosition()&&(s=n.positionFromLocation(i),n=n.insertBlockBreakAtRange([s,s+1]))),c=n.positionFromLocation(u),o=n.positionFromLocation(i),t=e([c,o]),{document:n,range:t}},a.prototype.convertLineBreaksToBlockBreaksInRange=function(t){var n,r,i;return r=(t=e(t))[0],i=this.getStringAtRange(t).slice(0,-1),n=this,i.replace(/.*?\n/g,function(t){return r+=t.length,n=n.insertBlockBreakAtRange([r-1,r])}),{document:n,range:t}},a.prototype.consolidateBlocksAtRange=function(t){var n,r,i,o,s;return i=t=e(t),s=i[0],r=i[1],o=this.locationFromPosition(s).index,n=this.locationFromPosition(r).index,new this.constructor(this.blockList.consolidateFromIndexToIndex(o,n))},a.prototype.getDocumentAtRange=function(t){var n;return t=e(t),n=this.blockList.getSplittableListInRange(t).toArray(),new this.constructor(n)},a.prototype.getStringAtRange=function(t){return this.getDocumentAtRange(t).toString()},a.prototype.getBlockAtIndex=function(t){return this.blockList.getObjectAtIndex(t)},a.prototype.getBlockAtPosition=function(t){var e;return e=this.locationFromPosition(t).index,this.getBlockAtIndex(e)},a.prototype.getTextAtIndex=function(t){var e;return null!=(e=this.getBlockAtIndex(t))?e.text:void 0},a.prototype.getTextAtPosition=function(t){var e;return e=this.locationFromPosition(t).index,this.getTextAtIndex(e)},a.prototype.getPieceAtPosition=function(t){var e,n,r;return r=this.locationFromPosition(t),e=r.index,n=r.offset,this.getTextAtIndex(e).getPieceAtPosition(t)},a.prototype.getCharacterAtPosition=function(t){var e,n,r;return r=this.locationFromPosition(t),e=r.index,n=r.offset,this.getTextAtIndex(e).getStringAtRange([n,n+1])},a.prototype.getLength=function(){return this.blockList.getEndPosition()},a.prototype.getBlocks=function(){return this.blockList.toArray()},a.prototype.getBlockCount=function(){return this.blockList.length},a.prototype.getEditCount=function(){return this.editCount},a.prototype.eachBlock=function(t){return this.blockList.eachObject(t)},a.prototype.eachBlockAtRange=function(t,n){var r,i,o,s,a,l,u,c,h,d,p,f;if(l=t=e(t),p=l[0],o=l[1],d=this.locationFromPosition(p),i=this.locationFromPosition(o),d.index===i.index)return r=this.getBlockAtIndex(d.index),f=[d.offset,i.offset],n(r,f,d.index);for(h=[],a=s=u=d.index,c=i.index;c>=u?c>=s:s>=c;a=c>=u?++s:--s)(r=this.getBlockAtIndex(a))?(f=function(){switch(a){case d.index:return[d.offset,r.text.getLength()];case i.index:return[0,i.offset];default:return[0,r.text.getLength()]}}(),h.push(n(r,f,a))):h.push(void 0);return h},a.prototype.getCommonAttributesAtRange=function(t){var r,i,o;return i=(t=e(t))[0],n(t)?this.getCommonAttributesAtPosition(i):(o=[],r=[],this.eachBlockAtRange(t,function(t,e){return e[0]!==e[1]?(o.push(t.text.getCommonAttributesAtRange(e)),r.push(l(t))):void 0}),Trix.Hash.fromCommonAttributesOfObjects(o).merge(Trix.Hash.fromCommonAttributesOfObjects(r)).toObject())},a.prototype.getCommonAttributesAtPosition=function(t){var e,n,r,i,o,a,u,c,h,d;if(h=this.locationFromPosition(t),o=h.index,c=h.offset,r=this.getBlockAtIndex(o),!r)return{};i=l(r),e=r.text.getAttributesAtPosition(c),n=r.text.getAttributesAtPosition(c-1),a=function(){var t,e;t=Trix.config.textAttributes,e=[];for(u in t)d=t[u],d.inheritable&&e.push(u);return e}();for(u in n)d=n[u],(d===e[u]||s.call(a,u)>=0)&&(i[u]=d);return i},a.prototype.getRangeOfCommonAttributeAtPosition=function(t,n){var r,i,o,s,a,l,u,c,h;return a=this.locationFromPosition(n),o=a.index,s=a.offset,h=this.getTextAtIndex(o),l=h.getExpandedRangeForAttributeAtOffset(t,s),c=l[0],i=l[1],u=this.positionFromLocation({index:o,offset:c}),r=this.positionFromLocation({index:o,offset:i}),e([u,r])},a.prototype.getBaseBlockAttributes=function(){var t,e,n,r,i,o,s;for(t=this.getBlockAtIndex(0).getAttributes(),n=r=1,s=this.getBlockCount();s>=1?s>r:r>s;n=s>=1?++r:--r)e=this.getBlockAtIndex(n).getAttributes(),o=Math.min(t.length,e.length),t=function(){var n,r,s;for(s=[],i=n=0,r=o;(r>=0?r>n:n>r)&&e[i]===t[i];i=r>=0?++n:--n)s.push(e[i]);return s}();return t},l=function(t){var e,n;return n={},(e=t.getLastAttribute())&&(n[e]=!0),n},a.prototype.getAttachmentById=function(t){var e,n,r,i;for(i=this.getAttachments(),n=0,r=i.length;r>n;n++)if(e=i[n],e.id===t)return e},a.prototype.getAttachmentPieces=function(){var t;return t=[],this.blockList.eachObject(function(e){var n;return n=e.text,t=t.concat(n.getAttachmentPieces())}),t},a.prototype.getAttachments=function(){var t,e,n,r,i;for(r=this.getAttachmentPieces(),i=[],t=0,e=r.length;e>t;t++)n=r[t],i.push(n.attachment);return i},a.prototype.getRangeOfAttachment=function(t){var n,r,i,o,s,a,l;for(o=0,s=this.blockList.toArray(),r=n=0,i=s.length;i>n;r=++n){if(a=s[r].text,l=a.getRangeOfAttachment(t))return e([o+l[0],o+l[1]]);o+=a.getLength()}},a.prototype.getAttachmentPieceForAttachment=function(t){var e,n,r,i;for(i=this.getAttachmentPieces(),e=0,n=i.length;n>e;e++)if(r=i[e],r.attachment===t)return r},a.prototype.rangeFromLocationRange=function(t){var r,i;return t=e(t),r=this.positionFromLocation(t[0]),n(t)||(i=this.positionFromLocation(t[1])),[r,null!=i?i:r]},a.prototype.locationFromPosition=function(t){var e,n;return n=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,t)),null!=n.index?n:(e=this.getBlocks(),{index:e.length-1,offset:e[e.length-1].getLength()})},a.prototype.positionFromLocation=function(t){return this.blockList.findPositionAtIndexAndOffset(t.index,t.offset)},a.prototype.locationRangeFromPosition=function(t){return e(this.locationFromPosition(t))},a.prototype.locationRangeFromRange=function(t){var n,r,i,o;return(t=e(t))?(o=t[0],r=t[1],i=this.locationFromPosition(o),n=this.locationFromPosition(r),e([i,n])):void 0},a.prototype.rangeFromLocationRange=function(t){var r,i;return t=e(t),r=this.positionFromLocation(t[0]),n(t)||(i=this.positionFromLocation(t[1])),e([r,i])},a.prototype.isEqualTo=function(t){return this.blockList.isEqualTo(null!=t?t.blockList:void 0)},a.prototype.getTexts=function(){var t,e,n,r,i;for(r=this.getBlocks(),i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t.text);return i},a.prototype.getPieces=function(){var t,e,n,r,i;for(n=[],r=this.getTexts(),t=0,e=r.length;e>t;t++)i=r[t],n.push.apply(n,i.getPieces());return n},a.prototype.getObjects=function(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())},a.prototype.toSerializableDocument=function(){var t;return t=[],this.blockList.eachObject(function(e){return t.push(e.copyWithText(e.text.toSerializableText()))}),new this.constructor(t)},a.prototype.toString=function(){return this.blockList.toString()},a.prototype.toJSON=function(){return this.blockList.toJSON()},a.prototype.toConsole=function(){var t;return JSON.stringify(function(){var e,n,r,i;for(r=this.blockList.toArray(),i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(JSON.parse(t.text.toConsole()));return i}.call(this))},a}(Trix.Object)}.call(this),function(){var t,e,n,r,i,o=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;e=Trix.normalizeRange,r=Trix.rangesAreEqual,n=Trix.objectsAreEqual,i=Trix.summarizeArrayChange,t=Trix.extend,Trix.Composition=function(s){function a(){this.document=new Trix.Document,this.attachments=[],this.currentAttributes={},this.revision=0}var l;return o(a,s),a.prototype.setDocument=function(t){var e;return t.isEqualTo(this.document)?void 0:(this.document=t,this.refreshAttachments(),this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidChangeDocument?e.compositionDidChangeDocument(t):void 0)},a.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.getSelectedRange()}},a.prototype.loadSnapshot=function(t){var e,n,r,i;return e=t.document,i=t.selectedRange,null!=(n=this.delegate)&&"function"==typeof n.compositionWillLoadSnapshot&&n.compositionWillLoadSnapshot(),this.setDocument(null!=e?e:new Trix.Document),this.setSelection(null!=i?i:[0,0]),null!=(r=this.delegate)&&"function"==typeof r.compositionDidLoadSnapshot?r.compositionDidLoadSnapshot():void 0},a.prototype.insertText=function(t,e){var n,r,i,o;return o=(null!=e?e:{updatePosition:!0}).updatePosition,r=this.getSelectedRange(),this.setDocument(this.document.insertTextAtRange(t,r)),i=r[0],n=i+t.getLength(),o&&this.setSelection(n),this.notifyDelegateOfInsertionAtRange([i,n])},a.prototype.insertBlock=function(t){var e;return null==t&&(t=new Trix.Block),e=new Trix.Document([t]),this.insertDocument(e)},a.prototype.insertDocument=function(t){var e,n,r;return null==t&&(t=new Trix.Document),n=this.getSelectedRange(),this.setDocument(this.document.insertDocumentAtRange(t,n)),r=n[0],e=r+t.getLength(),this.setSelection(e),this.notifyDelegateOfInsertionAtRange([r,e])},a.prototype.insertString=function(t,e){var n,r;return n=this.getCurrentTextAttributes(),r=Trix.Text.textForStringWithAttributes(t,n),this.insertText(r,e)},a.prototype.insertBlockBreak=function(){var t,e,n;return e=this.getSelectedRange(),this.setDocument(this.document.insertBlockBreakAtRange(e)),n=e[0],t=n+1,this.setSelection(t),this.notifyDelegateOfInsertionAtRange([n,t])},a.prototype.breakFormattedBlock=function(){var t,e,n,r,i,o,s,a;return o=this.getPosition(),s=[o-1,o],e=this.document,a=e.locationFromPosition(o),n=a.index,i=a.offset,t=e.getBlockAtIndex(n),t.getBlockBreakPosition()===i?(e=e.removeTextAtRange(s),s=[o,o]):"\n"===t.text.getStringAtRange([i,i+1])?s=[o-1,o+1]:o+=1,r=new Trix.Document([t.removeLastAttribute().copyWithoutText()]),this.setDocument(e.insertDocumentAtRange(r,s)),this.setSelection(o)},a.prototype.insertLineBreak=function(){var t,e,n,r,i,o,s;return i=this.getSelectedRange(),s=i[0],r=i[1],o=this.document.locationFromPosition(s),n=this.document.locationFromPosition(r),t=this.document.getBlockAtIndex(n.index),t.hasAttributes()?t.isListItem()?t.isEmpty()?(this.decreaseListLevel(),
this.setSelection(s)):0===o.offset?(e=new Trix.Document([t.copyWithoutText()]),this.insertDocument(e)):this.insertBlockBreak():t.isEmpty()?this.removeLastBlockAttribute():"\n"===t.text.getStringAtRange([n.offset-1,n.offset])?this.breakFormattedBlock():this.insertString("\n"):this.insertString("\n")},a.prototype.insertHTML=function(t){var e,n,r,i,o;return o=this.getPosition(),i=this.document.getLength(),e=Trix.Document.fromHTML(t),this.setDocument(this.document.mergeDocumentAtRange(e,this.getSelectedRange())),n=this.document.getLength(),r=o+(n-i),this.setSelection(r),this.notifyDelegateOfInsertionAtRange([r,r])},a.prototype.replaceHTML=function(t){var e;return e=Trix.Document.fromHTML(t).copyUsingObjectsFromDocument(this.document),this.preserveSelection(function(t){return function(){return t.setDocument(e)}}(this))},a.prototype.insertFile=function(t){var e,n;return(null!=(n=this.delegate)?n.compositionShouldAcceptFile(t):void 0)?(e=Trix.Attachment.attachmentForFile(t),this.insertAttachment(e)):void 0},a.prototype.insertAttachment=function(t){var e;return e=Trix.Text.textForAttachmentWithAttributes(t,this.currentAttributes),this.insertText(e)},a.prototype.deleteInDirection=function(t){var e,n,r,i,o,s,a;if(o=this.getSelectedRange(),a=o[0],r=o[1],i=o,n=this.getBlock(),a===r){if(s=this.document.locationFromPosition(a),"backward"===t&&0===s.offset&&n.isEmpty()&&this.canDecreaseBlockAttributeLevel())return n.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),void this.setSelection(a);i=this.getExpandedRangeInDirection(t),"backward"===t&&(e=this.getAttachmentAtRange(i))}return e?(this.editAttachment(e),!1):(this.setDocument(this.document.removeTextAtRange(i)),this.setSelection(i[0]))},a.prototype.moveTextFromRange=function(t){var e;return e=this.getSelectedRange()[0],this.setDocument(this.document.moveTextFromRangeToPosition(t,e)),this.setSelection(e)},a.prototype.removeAttachment=function(t){var e;return(e=this.document.getRangeOfAttachment(t))?(this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(e)),this.setSelection(e[0])):void 0},a.prototype.removeLastBlockAttribute=function(){var t,e,n,r;return n=this.getSelectedRange(),r=n[0],e=n[1],t=this.document.getBlockAtPosition(e),this.removeCurrentAttribute(t.getLastAttribute()),this.setSelection(r)},l=" ",a.prototype.insertPlaceholder=function(){return this.placeholderPosition=this.getPosition(),this.insertString(l),l},a.prototype.selectPlaceholder=function(){return null!=this.placeholderPosition?(this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+l.length]),!0):void 0},a.prototype.forgetPlaceholder=function(){return this.placeholderPosition=null},a.prototype.hasCurrentAttribute=function(t){return null!=this.currentAttributes[t]},a.prototype.toggleCurrentAttribute=function(t){var e;return(e=!this.currentAttributes[t])?this.setCurrentAttribute(t,e):this.removeCurrentAttribute(t)},a.prototype.canSetCurrentAttribute=function(t){switch(t){case"href":return!this.selectionContainsAttachmentWithAttribute(t);default:return!0}},a.prototype.setCurrentAttribute=function(t,e){return Trix.config.blockAttributes[t]?this.setBlockAttribute(t,e):(this.setTextAttribute(t,e),this.currentAttributes[t]=e,this.notifyDelegateOfCurrentAttributesChange())},a.prototype.setTextAttribute=function(t,e){var n,r,i,o;return(r=this.getSelectedRange())?(i=r[0],n=r[1],i!==n?this.setDocument(this.document.addAttributeAtRange(t,e,r)):"href"===t?(o=Trix.Text.textForStringWithAttributes(e,{href:e}),this.insertText(o)):void 0):void 0},a.prototype.setBlockAttribute=function(t,e){var n;return(n=this.getSelectedRange())?(this.setDocument(this.document.applyBlockAttributeAtRange(t,e,n)),this.setSelection(n)):void 0},a.prototype.removeCurrentAttribute=function(t){return Trix.config.blockAttributes[t]?(this.removeBlockAttribute(t),this.updateCurrentAttributes()):(this.removeTextAttribute(t),delete this.currentAttributes[t],this.notifyDelegateOfCurrentAttributesChange())},a.prototype.removeTextAttribute=function(t){var e;return(e=this.getSelectedRange())?this.setDocument(this.document.removeAttributeAtRange(t,e)):void 0},a.prototype.removeBlockAttribute=function(t){var e;return(e=this.getSelectedRange())?this.setDocument(this.document.removeAttributeAtRange(t,e)):void 0},a.prototype.increaseBlockAttributeLevel=function(){var t,e;return(t=null!=(e=this.getBlock())?e.getLastAttribute():void 0)?this.setCurrentAttribute(t):void 0},a.prototype.decreaseBlockAttributeLevel=function(){var t,e;return(t=null!=(e=this.getBlock())?e.getLastAttribute():void 0)?this.removeCurrentAttribute(t):void 0},a.prototype.decreaseListLevel=function(){var t,e,n,r,i,o;for(o=this.getSelectedRange()[0],i=this.document.locationFromPosition(o).index,n=i,t=this.getBlock().getAttributeLevel();(e=this.document.getBlockAtIndex(n+1))&&e.isListItem()&&e.getAttributeLevel()>t;)n++;return o=this.document.positionFromLocation({index:i,offset:0}),r=this.document.positionFromLocation({index:n,offset:0}),this.setDocument(this.document.removeLastListAttributeAtRange([o,r]))},a.prototype.canIncreaseBlockAttributeLevel=function(){var t,e,n,r;return(t=this.getBlock())?(n=t.getConfig("nestable"),null!=n?n:t.isListItem()&&(r=this.getPreviousBlock())?(e=t.getAttributeLevel(),r.getAttributeAtLevel(e)===t.getAttributeAtLevel(e)):void 0):void 0},a.prototype.canDecreaseBlockAttributeLevel=function(){var t;return(null!=(t=this.getBlock())?t.getAttributeLevel():void 0)>0},a.prototype.updateCurrentAttributes=function(){var t,e;return(e=this.getSelectedRange({ignoreLock:!0}))&&(t=this.document.getCommonAttributesAtRange(e),!n(t,this.currentAttributes))?(this.currentAttributes=t,this.notifyDelegateOfCurrentAttributesChange()):void 0},a.prototype.getCurrentAttributes=function(){return t.call({},this.currentAttributes)},a.prototype.getCurrentTextAttributes=function(){var t,e,n,r;t={},n=this.currentAttributes;for(e in n)r=n[e],Trix.config.textAttributes[e]&&(t[e]=r);return t},a.prototype.freezeSelection=function(){return this.setCurrentAttribute("frozen",!0)},a.prototype.thawSelection=function(){return this.removeCurrentAttribute("frozen")},a.prototype.hasFrozenSelection=function(){return this.hasCurrentAttribute("frozen")},a.proxyMethod("getSelectionManager().setLocationRangeFromPoint"),a.proxyMethod("getSelectionManager().preserveSelection"),a.proxyMethod("getSelectionManager().locationIsCursorTarget"),a.proxyMethod("getSelectionManager().selectionIsExpanded"),a.proxyMethod("delegate?.getSelectionManager"),a.prototype.setSelection=function(t){var e,n;return e=this.document.locationRangeFromRange(t),null!=(n=this.delegate)&&"function"==typeof n.compositionDidRequestChangingSelectionToLocationRange?n.compositionDidRequestChangingSelectionToLocationRange(e):void 0},a.prototype.getSelectedRange=function(){var t;return(t=this.getLocationRange())?this.document.rangeFromLocationRange(t):void 0},a.prototype.setSelectedRange=function(t){var e;return e=this.document.locationRangeFromRange(t),this.getSelectionManager().setLocationRange(e)},a.prototype.getPosition=function(){var t;return(t=this.getLocationRange())?this.document.positionFromLocation(t[0]):void 0},a.prototype.getLocationRange=function(){var t;return null!=(t=this.getSelectionManager().getLocationRange())?t:e({index:0,offset:0})},a.prototype.getExpandedRangeInDirection=function(t){var n,r,i;return r=this.getSelectedRange(),i=r[0],n=r[1],"backward"===t?i=this.translateUTF16PositionFromOffset(i,-1):n=this.translateUTF16PositionFromOffset(n,1),e([i,n])},a.prototype.moveCursorInDirection=function(t){var e,n,i,o;return this.editingAttachment?i=this.document.getRangeOfAttachment(this.editingAttachment):(o=this.getSelectedRange(),i=this.getExpandedRangeInDirection(t),n=!r(o,i)),this.setSelectedRange("backward"===t?i[0]:i[1]),n&&(e=this.getAttachmentAtRange(i))?this.editAttachment(e):void 0},a.prototype.expandSelectionInDirection=function(t){var e;return e=this.getExpandedRangeInDirection(t),this.setSelectedRange(e)},a.prototype.expandSelectionForEditing=function(){return this.hasCurrentAttribute("href")?this.expandSelectionAroundCommonAttribute("href"):void 0},a.prototype.expandSelectionAroundCommonAttribute=function(t){var e,n;return e=this.getPosition(),n=this.document.getRangeOfCommonAttributeAtPosition(t,e),this.setSelectedRange(n)},a.prototype.selectionContainsAttachmentWithAttribute=function(t){var e,n,r,i,o;if(o=this.getSelectedRange()){for(i=this.document.getDocumentAtRange(o).getAttachments(),n=0,r=i.length;r>n;n++)if(e=i[n],e.hasAttribute(t))return!0;return!1}},a.prototype.selectionIsInCursorTarget=function(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())},a.prototype.positionIsCursorTarget=function(t){var e;return(e=this.document.locationFromPosition(t))?this.locationIsCursorTarget(e):void 0},a.prototype.getSelectedDocument=function(){var t;return(t=this.getSelectedRange())?this.document.getDocumentAtRange(t):void 0},a.prototype.getAttachments=function(){return this.attachments.slice(0)},a.prototype.refreshAttachments=function(){var t,e,n,r,o,s,a,l,u,c,h;for(n=this.document.getAttachments(),l=i(this.attachments,n),t=l.added,h=l.removed,r=0,s=h.length;s>r;r++)e=h[r],e.delegate=null,null!=(u=this.delegate)&&"function"==typeof u.compositionDidRemoveAttachment&&u.compositionDidRemoveAttachment(e);for(o=0,a=t.length;a>o;o++)e=t[o],e.delegate=this,null!=(c=this.delegate)&&"function"==typeof c.compositionDidAddAttachment&&c.compositionDidAddAttachment(e);return this.attachments=n},a.prototype.attachmentDidChangeAttributes=function(t){var e;return this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidEditAttachment?e.compositionDidEditAttachment(t):void 0},a.prototype.editAttachment=function(t){var e;return t!==this.editingAttachment?(this.stopEditingAttachment(),this.editingAttachment=t,null!=(e=this.delegate)&&"function"==typeof e.compositionDidStartEditingAttachment?e.compositionDidStartEditingAttachment(this.editingAttachment):void 0):void 0},a.prototype.stopEditingAttachment=function(){var t;return this.editingAttachment?(null!=(t=this.delegate)&&"function"==typeof t.compositionDidStopEditingAttachment&&t.compositionDidStopEditingAttachment(this.editingAttachment),this.editingAttachment=null):void 0},a.prototype.canEditAttachmentCaption=function(){var t;return null!=(t=this.editingAttachment)?t.isPreviewable():void 0},a.prototype.updateAttributesForAttachment=function(t,e){return this.setDocument(this.document.updateAttributesForAttachment(t,e))},a.prototype.removeAttributeForAttachment=function(t,e){return this.setDocument(this.document.removeAttributeForAttachment(t,e))},a.prototype.getPreviousBlock=function(){var t,e;return(e=this.getLocationRange())&&(t=e[0].index,t>0)?this.document.getBlockAtIndex(t-1):void 0},a.prototype.getBlock=function(){var t;return(t=this.getLocationRange())?this.document.getBlockAtIndex(t[0].index):void 0},a.prototype.getAttachmentAtRange=function(t){var e;return e=this.document.getDocumentAtRange(t),e.toString()===Trix.OBJECT_REPLACEMENT_CHARACTER+"\n"?e.getAttachments()[0]:void 0},a.prototype.notifyDelegateOfCurrentAttributesChange=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.compositionDidChangeCurrentAttributes?t.compositionDidChangeCurrentAttributes(this.currentAttributes):void 0},a.prototype.notifyDelegateOfInsertionAtRange=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionDidPerformInsertionAtRange?e.compositionDidPerformInsertionAtRange(t):void 0},a.prototype.translateUTF16PositionFromOffset=function(t,e){var n,r;return r=this.document.toUTF16String(),n=r.offsetFromUCS2Offset(t),r.offsetToUCS2Offset(n+e)},a}(Trix.BasicObject)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;Trix.UndoManager=function(e){function n(t){this.composition=t,this.undoEntries=[],this.redoEntries=[]}var r;return t(n,e),n.prototype.recordUndoEntry=function(t,e){var n,i,o,s,a;return s=null!=e?e:{},i=s.context,n=s.consolidatable,o=this.undoEntries.slice(-1)[0],n&&r(o,t,i)?void 0:(a=this.createEntry({description:t,context:i}),this.undoEntries.push(a),this.redoEntries=[])},n.prototype.undo=function(){var t,e;return(e=this.undoEntries.pop())?(t=this.createEntry(e),this.redoEntries.push(t),this.composition.loadSnapshot(e.snapshot)):void 0},n.prototype.redo=function(){var t,e;return(t=this.redoEntries.pop())?(e=this.createEntry(t),this.undoEntries.push(e),this.composition.loadSnapshot(t.snapshot)):void 0},n.prototype.canUndo=function(){return this.undoEntries.length>0},n.prototype.canRedo=function(){return this.redoEntries.length>0},n.prototype.createEntry=function(t){var e,n,r;return r=null!=t?t:{},n=r.description,e=r.context,{description:null!=n?n.toString():void 0,context:JSON.stringify(e),snapshot:this.composition.getSnapshot()}},r=function(t,e,n){return(null!=t?t.description:void 0)===(null!=e?e.toString():void 0)&&(null!=t?t.context:void 0)===JSON.stringify(n)},n}(Trix.BasicObject)}.call(this),function(){Trix.Editor=function(){function t(t,e){this.composition=t,this.selectionManager=e,this.undoManager=new Trix.UndoManager(this.composition)}return t.prototype.loadDocument=function(t){return this.loadSnapshot({document:t,selectedRange:[0,0]})},t.prototype.loadHTML=function(t){return null==t&&(t=""),this.loadDocument(Trix.Document.fromHTML(t))},t.prototype.loadJSON=function(t){var e,n;return e=t.document,n=t.selectedRange,e=Trix.Document.fromJSON(e),this.loadSnapshot({document:e,selectedRange:n})},t.prototype.loadSnapshot=function(t){return this.undoManager=new Trix.UndoManager(this.composition),this.composition.loadSnapshot(t)},t.prototype.getDocument=function(){return this.composition.document},t.prototype.getSelectedDocument=function(){return this.composition.getSelectedDocument()},t.prototype.getSnapshot=function(){return this.composition.getSnapshot()},t.prototype.toJSON=function(){return this.getSnapshot()},t.prototype.deleteInDirection=function(t){return this.composition.deleteInDirection(t)},t.prototype.insertAttachment=function(t){return this.composition.insertAttachment(t)},t.prototype.insertDocument=function(t){return this.composition.insertDocument(t)},t.prototype.insertFile=function(t){return this.composition.insertFile(t)},t.prototype.insertHTML=function(t){return this.composition.insertHTML(t)},t.prototype.insertString=function(t){return this.composition.insertString(t)},t.prototype.insertText=function(t){return this.composition.insertText(t)},t.prototype.insertLineBreak=function(){return this.composition.insertLineBreak()},t.prototype.getSelectedRange=function(){return this.composition.getSelectedRange()},t.prototype.getPosition=function(){return this.composition.getPosition()},t.prototype.getClientRectAtPosition=function(t){var e;return e=this.getDocument().locationRangeFromRange([t,t+1]),this.selectionManager.getClientRectAtLocationRange(e)},t.prototype.expandSelectionInDirection=function(t){return this.composition.expandSelectionInDirection(t)},t.prototype.moveCursorInDirection=function(t){return this.composition.moveCursorInDirection(t)},t.prototype.setSelectedRange=function(t){return this.composition.setSelectedRange(t)},t.prototype.activateAttribute=function(t,e){return null==e&&(e=!0),this.composition.setCurrentAttribute(t,e)},t.prototype.attributeIsActive=function(t){return this.composition.hasCurrentAttribute(t)},t.prototype.canActivateAttribute=function(t){return this.composition.canSetCurrentAttribute(t)},t.prototype.deactivateAttribute=function(t){return this.composition.removeCurrentAttribute(t)},t.prototype.canDecreaseIndentationLevel=function(){return this.composition.canDecreaseBlockAttributeLevel()},t.prototype.canIncreaseIndentationLevel=function(){return this.composition.canIncreaseBlockAttributeLevel()},t.prototype.decreaseIndentationLevel=function(){return this.canDecreaseIndentationLevel()?this.composition.decreaseBlockAttributeLevel():void 0},t.prototype.increaseIndentationLevel=function(){return this.canIncreaseIndentationLevel()?this.composition.increaseBlockAttributeLevel():void 0},t.prototype.canRedo=function(){return this.undoManager.canRedo()},t.prototype.canUndo=function(){return this.undoManager.canUndo()},t.prototype.recordUndoEntry=function(t,e){var n,r,i;return i=null!=e?e:{},r=i.context,n=i.consolidatable,this.undoManager.recordUndoEntry(t,{context:r,consolidatable:n})},t.prototype.redo=function(){return this.canRedo()?this.undoManager.redo():void 0},t.prototype.undo=function(){return this.canUndo()?this.undoManager.undo():void 0},t}()}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;Trix.ManagedAttachment=function(e){function n(t,e){var n;this.attachmentManager=t,this.attachment=e,n=this.attachment,this.id=n.id,this.file=n.file}return t(n,e),n.prototype.remove=function(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)},n.proxyMethod("attachment.getAttribute"),n.proxyMethod("attachment.hasAttribute"),n.proxyMethod("attachment.setAttribute"),n.proxyMethod("attachment.getAttributes"),n.proxyMethod("attachment.setAttributes"),n.proxyMethod("attachment.isPending"),n.proxyMethod("attachment.isPreviewable"),n.proxyMethod("attachment.getURL"),n.proxyMethod("attachment.getHref"),n.proxyMethod("attachment.getFilename"),n.proxyMethod("attachment.getFilesize"),n.proxyMethod("attachment.getFormattedFilesize"),n.proxyMethod("attachment.getExtension"),n.proxyMethod("attachment.getContentType"),n.proxyMethod("attachment.getFile"),n.proxyMethod("attachment.setFile"),n.proxyMethod("attachment.releaseFile"),n.proxyMethod("attachment.getUploadProgress"),n.proxyMethod("attachment.setUploadProgress"),n}(Trix.BasicObject)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;Trix.AttachmentManager=function(e){function n(t){var e,n,r;for(null==t&&(t=[]),this.managedAttachments={},n=0,r=t.length;r>n;n++)e=t[n],this.manageAttachment(e)}return t(n,e),n.prototype.getAttachments=function(){var t,e,n,r;n=this.managedAttachments,r=[];for(e in n)t=n[e],r.push(t);return r},n.prototype.manageAttachment=function(t){var e,n;return null!=(e=this.managedAttachments)[n=t.id]?e[n]:e[n]=new Trix.ManagedAttachment(this,t)},n.prototype.attachmentIsManaged=function(t){return t.id in this.managedAttachments},n.prototype.requestRemovalOfAttachment=function(t){var e;return this.attachmentIsManaged(t)&&null!=(e=this.delegate)&&"function"==typeof e.attachmentManagerDidRequestRemovalOfAttachment?e.attachmentManagerDidRequestRemovalOfAttachment(t):void 0},n.prototype.unmanageAttachment=function(t){var e;return e=this.managedAttachments[t.id],delete this.managedAttachments[t.id],e},n}(Trix.BasicObject)}.call(this),function(){var t,e,n,r,i,o,s,a,l,u,c,h;t=Trix.elementContainsNode,e=Trix.findChildIndexOfNode,n=Trix.findClosestElementFromNode,r=Trix.findNodeFromContainerAndOffset,s=Trix.nodeIsBlockStartComment,o=Trix.nodeIsBlockContainer,a=Trix.nodeIsCursorTarget,l=Trix.nodeIsEmptyTextNode,u=Trix.nodeIsTextNode,i=Trix.nodeIsAttachmentElement,c=Trix.tagName,h=Trix.walkTree,Trix.LocationMapper=function(){function n(t){this.element=t}var r,d,p,f;return n.prototype.findLocationFromContainerAndOffset=function(n,r){var i,o,l,c,f,m;for(o=0,l=!1,c={index:0,offset:0},(i=this.findAttachmentElementParentForNode(n))&&(n=i.parentNode,r=e(i)),m=h(this.element,{usingFilter:p});m.nextNode();){if(f=m.currentNode,f===n&&u(n)){a(f)||(c.offset+=r);break}if(f.parentNode===n){if(o++===r)break}else if(!t(n,f)&&o>0)break;s(f)?(l&&c.index++,c.offset=0,l=!0):c.offset+=d(f)}return c},n.prototype.findContainerAndOffsetFromLocation=function(t){var n,r,i,s,a,l;if(0===t.index&&0===t.offset){for(n=this.element,s=0;n.firstChild;)if(n=n.firstChild,o(n)){s=1;break}return[n,s]}if(a=this.findNodeAndOffsetFromLocation(t),r=a[0],i=a[1],r){if(u(r))n=r,l=r.textContent,s=t.offset-i;else{if(n=r.parentNode,!o(n))for(;r===n.lastChild&&(r=n,n=n.parentNode,!o(n)););s=e(r),0!==t.offset&&s++}return[n,s]}},n.prototype.findNodeAndOffsetFromLocation=function(t){var e,n,r,i,o,s,l,c;for(l=0,c=this.getSignificantNodesForIndex(t.index),n=0,r=c.length;r>n;n++){if(e=c[n],i=d(e),t.offset<=l+i)if(u(e)){if(o=e,s=l,t.offset===s&&a(o))break}else o||(o=e,s=l);if(l+=i,l>t.offset)break}return[o,s]},n.prototype.findAttachmentElementParentForNode=function(t){for(;t&&t!==this.element;){if(i(t))return t;t=t.parentNode}},n.prototype.getSignificantNodesForIndex=function(t){var e,n,i,o,a;for(i=[],a=h(this.element,{usingFilter:r}),o=!1;a.nextNode();)if(n=a.currentNode,s(n)){if("undefined"!=typeof e&&null!==e?e++:e=0,e===t)o=!0;else if(o)break}else o&&i.push(n);return i},d=function(t){var e;return t.nodeType===Node.TEXT_NODE?a(t)?0:(e=t.textContent,e.length):"br"===c(t)||i(t)?1:0},r=function(t){return f(t)===NodeFilter.FILTER_ACCEPT?p(t):NodeFilter.FILTER_REJECT},f=function(t){return l(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},p=function(t){return i(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},n}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n={}.hasOwnProperty,r=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};Trix.SelectionChangeObserver=function(n){function i(){this.run=t(this.run,this),this.update=t(this.update,this),this.selectionManagers=[]}var o,s;return e(i,n),i.prototype.start=function(){return this.started?void 0:(this.started=!0,"onselectionchange"in document?document.addEventListener("selectionchange",this.update,!0):this.run())},i.prototype.stop=function(){return this.started?(this.started=!1,document.removeEventListener("selectionchange",this.update,!0)):void 0},i.prototype.registerSelectionManager=function(t){return r.call(this.selectionManagers,t)<0?(this.selectionManagers.push(t),this.start()):void 0},i.prototype.unregisterSelectionManager=function(t){var e;return this.selectionManagers=function(){var n,r,i,o;for(i=this.selectionManagers,o=[],n=0,r=i.length;r>n;n++)e=i[n],e!==t&&o.push(e);return o}.call(this),0===this.selectionManagers.length?this.stop():void 0},i.prototype.notifySelectionManagersOfSelectionChange=function(){var t,e,n,r,i;for(n=this.selectionManagers,r=[],t=0,e=n.length;e>t;t++)i=n[t],r.push(i.selectionDidChange());return r},i.prototype.update=function(){var t;return t=s(),o(t,this.domRange)?void 0:(this.domRange=t,this.notifySelectionManagersOfSelectionChange())},i.prototype.reset=function(){return this.domRange=null,this.update()},i.prototype.run=function(){return this.started?(this.update(),requestAnimationFrame(this.run)):void 0},s=function(){var t;return t=window.getSelection(),t.rangeCount>0?t.getRangeAt(0):void 0},o=function(t,e){return(null!=t?t.startContainer:void 0)===(null!=e?e.startContainer:void 0)&&(null!=t?t.startOffset:void 0)===(null!=e?e.startOffset:void 0)&&(null!=t?t.endContainer:void 0)===(null!=e?e.endContainer:void 0)&&(null!=t?t.endOffset:void 0)===(null!=e?e.endOffset:void 0)},i}(Trix.BasicObject),null==Trix.selectionChangeObserver&&(Trix.selectionChangeObserver=new Trix.SelectionChangeObserver)}.call(this),function(){var t,e,n,r,i,o,s,a,l,u=function(t,e){return function(){return t.apply(e,arguments)}},c=function(t,e){function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty,d=[].slice;t=Trix.defer,e=Trix.elementContainsNode,o=Trix.nodeIsCursorTarget,i=Trix.innerElementIsActive,n=Trix.handleEvent,r=Trix.handleEventOnce,s=Trix.normalizeRange,a=Trix.rangeIsCollapsed,l=Trix.rangesAreEqual,Trix.SelectionManager=function(t){function r(t){this.element=t,this.selectionDidChange=u(this.selectionDidChange,this),this.didMouseDown=u(this.didMouseDown,this),this.locationMapper=new Trix.LocationMapper(this.element),this.lockCount=0,n("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}var h,p,f,m;return c(r,t),r.prototype.getLocationRange=function(t){var e,n;return null==t&&(t={}),e=t.ignoreLock?this.currentLocationRange:null!=(n=this.lockedLocationRange)?n:this.currentLocationRange},r.prototype.setLocationRange=function(t){var e;return this.lockedLocationRange?void 0:(t=s(t),(e=this.createDOMRangeFromLocationRange(t))?(m(e),this.updateCurrentLocationRange(t)):void 0)},r.prototype.setLocationRangeFromPoint=function(t){var e;return(e=this.getLocationRangeAtPoint(t))?this.setLocationRange(e):void 0},r.prototype.getClientRectAtLocationRange=function(t){var e,n;return(e=this.createDOMRangeFromLocationRange(t))?(n=d.call(e.getClientRects()),n.slice(-1)[0]):void 0},r.prototype.locationIsCursorTarget=function(t){var e,n,r;return r=this.findNodeAndOffsetFromLocation(t),e=r[0],n=r[1],o(e)},r.prototype.lock=function(){return 0===this.lockCount++?(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange()):void 0},r.prototype.unlock=function(){var t;return 0===--this.lockCount&&(t=this.lockedLocationRange,this.lockedLocationRange=null,null!=t)?this.setLocationRange(t):void 0},r.prototype.preserveSelection=function(t){var e,n,r,i;return n=this.getSelectionEndPoints(),r=this.getLocationRange(),t(),n&&(i=this.getLocationRangeAtPoint(n[0]),e=this.getLocationRangeAtPoint(n[1]),null!=i&&null==e?e=i:null!=e&&null==i&&(i=e),null!=i&&null!=e&&(r=s([i,e]))),r?this.setLocationRange(r):void 0},r.prototype.clearSelection=function(){var t;return null!=(t=f())?t.removeAllRanges():void 0},r.prototype.selectionIsCollapsed=function(){var t;return(null!=(t=p())?t.collapsed:void 0)===!0},r.prototype.selectionIsExpanded=function(){return!this.selectionIsCollapsed()},r.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),r.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),r.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),r.prototype.didMouseDown=function(){return this.pauseTemporarily()},r.prototype.pauseTemporarily=function(){var t,r,i,o;return this.paused=!0,r=function(t){return function(){var n,r,s;for(t.paused=!1,clearTimeout(o),r=0,s=i.length;s>r;r++)n=i[r],n.destroy();return e(document,t.element)?t.selectionDidChange():void 0}}(this),o=setTimeout(r,200),i=function(){var e,i,o,s;for(o=["mousemove","keydown"],s=[],e=0,i=o.length;i>e;e++)t=o[e],s.push(n(t,{onElement:document,withCallback:r}));return s}()},r.prototype.selectionDidChange=function(){return this.paused||i(this.element)?void 0:this.updateCurrentLocationRange()},r.prototype.updateCurrentLocationRange=function(t){var e,n;return null==t&&(t=this.createLocationRangeFromDOMRange(p())),l(t,this.currentLocationRange)?void 0:(this.currentLocationRange=t,null!=(e=this.delegate)&&"function"==typeof e.locationRangeDidChange?e.locationRangeDidChange(null!=(n=this.currentLocationRange)?n.slice(0):void 0):void 0)},r.prototype.createDOMRangeFromLocationRange=function(t){var e,n,r,i;return r=this.findContainerAndOffsetFromLocation(t[0]),n=a(t)?r:null!=(i=this.findContainerAndOffsetFromLocation(t[1]))?i:r,null!=r&&null!=n?(e=document.createRange(),e.setStart.apply(e,r),e.setEnd.apply(e,n),e):void 0},r.prototype.createLocationRangeFromDOMRange=function(t){var e,n;return null!=t&&this.domRangeWithinElement(t)&&(n=this.findLocationFromContainerAndOffset(t.startContainer,t.startOffset))?(t.collapsed||(e=this.findLocationFromContainerAndOffset(t.endContainer,t.endOffset)),s([n,e])):void 0},r.prototype.domRangeWithinElement=function(t){return t.collapsed?e(this.element,t.startContainer):e(this.element,t.startContainer)&&e(this.element,t.endContainer)},r.prototype.getLocationRangeAtPoint=function(t){var e,n,r,i,o,s;if(e=t[0],n=t[1],document.caretPositionFromPoint)s=document.caretPositionFromPoint(e,n),o=s.offsetNode,i=s.offset,r=document.createRange(),r.setStart(o,i);else if(document.caretRangeFromPoint)r=document.caretRangeFromPoint(e,n);else if(document.body.createTextRange)try{r=document.body.createTextRange(),r.moveToPoint(e,n),r.select()}catch(a){}return this.createLocationRangeFromDOMRange(null!=r?r:p())},r.prototype.getSelectionEndPoints=function(){var t,e,n,r,i,o;return(t=p())?(r=t.getClientRects(),r.length>0?(n=r[0],o=r[r.length-1],e=[n.left,n.top+n.height/2],i=[o.right,o.top+o.height/2],[e,i]):void 0):void 0},f=function(){var t;return t=window.getSelection(),t.rangeCount>0?t:void 0},p=function(){var t;return null!=(t=f())?t.getRangeAt(0):void 0},m=function(t){var e;return e=window.getSelection(),e.removeAllRanges(),e.addRange(t),Trix.selectionChangeObserver.update()},h=function(){var t,e;return t=null!=(e=p())?e.getClientRects():void 0,(null!=t?t.length:void 0)?t:void 0},r}(Trix.BasicObject)}.call(this),function(){var t,e,n,r=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty,o=[].slice;e=Trix.rangeIsCollapsed,n=Trix.rangesAreEqual,t=Trix.objectsAreEqual,Trix.EditorController=function(i){function s(t){var e,n;this.editorElement=t.editorElement,e=t.document,n=t.html,this.selectionManager=new Trix.SelectionManager(this.editorElement),this.selectionManager.delegate=this,this.composition=new Trix.Composition,this.composition.delegate=this,this.attachmentManager=new Trix.AttachmentManager(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=new Trix.InputController(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new Trix.CompositionController(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new Trix.ToolbarController(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new Trix.Editor(this.composition,this.selectionManager),null!=e?this.editor.loadDocument(e):this.editor.loadHTML(n)}return r(s,i),s.prototype.registerSelectionManager=function(){return Trix.selectionChangeObserver.registerSelectionManager(this.selectionManager)},s.prototype.unregisterSelectionManager=function(){return Trix.selectionChangeObserver.unregisterSelectionManager(this.selectionManager)},s.prototype.compositionDidChangeDocument=function(){return this.editorElement.notify("document-change"),this.handlingInput?void 0:this.render()},s.prototype.compositionDidChangeCurrentAttributes=function(t){return this.currentAttributes=t,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.editorElement.notify("attributes-change",{attributes:this.currentAttributes})},s.prototype.compositionDidPerformInsertionAtRange=function(t){return this.pasting?this.pastedRange=t:void 0},s.prototype.compositionShouldAcceptFile=function(t){return this.editorElement.notify("file-accept",{file:t})},s.prototype.compositionDidAddAttachment=function(t){var e;return e=this.attachmentManager.manageAttachment(t),this.editorElement.notify("attachment-add",{attachment:e})},s.prototype.compositionDidEditAttachment=function(t){var e;return this.compositionController.rerenderViewForObject(t),e=this.attachmentManager.manageAttachment(t),this.editorElement.notify("attachment-edit",{attachment:e})},s.prototype.compositionDidRemoveAttachment=function(t){var e;return e=this.attachmentManager.unmanageAttachment(t),this.editorElement.notify("attachment-remove",{attachment:e})},s.prototype.compositionDidStartEditingAttachment=function(t){var e,n;return n=this.composition.document,
e=n.getRangeOfAttachment(t),this.attachmentLocationRange=n.locationRangeFromRange(e),this.compositionController.installAttachmentEditorForAttachment(t),this.selectionManager.setLocationRange(this.attachmentLocationRange)},s.prototype.compositionDidStopEditingAttachment=function(){return this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null},s.prototype.compositionDidRequestChangingSelectionToLocationRange=function(t){return!this.loadingSnapshot||this.isFocused()?(this.requestedLocationRange=t,this.documentWhenLocationRangeRequested=this.composition.document,this.handlingInput?void 0:this.render()):void 0},s.prototype.compositionWillLoadSnapshot=function(){return this.loadingSnapshot=!0},s.prototype.compositionDidLoadSnapshot=function(){return this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1},s.prototype.getSelectionManager=function(){return this.selectionManager},s.proxyMethod("getSelectionManager().setLocationRange"),s.proxyMethod("getSelectionManager().getLocationRange"),s.prototype.attachmentManagerDidRequestRemovalOfAttachment=function(t){return this.removeAttachment(t)},s.prototype.compositionControllerWillSyncDocumentView=function(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()},s.prototype.compositionControllerDidSyncDocumentView=function(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.editorElement.notify("sync")},s.prototype.compositionControllerDidRender=function(){return null!=this.requestedLocationRange&&(this.documentWhenLocationRangeRequested.isEqualTo(this.composition.document)&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.composition.updateCurrentAttributes(),this.requestedLocationRange=null,this.documentWhenLocationRangeRequested=null),this.editorElement.notify("render")},s.prototype.compositionControllerDidFocus=function(){return this.toolbarController.hideDialog(),this.editorElement.notify("focus")},s.prototype.compositionControllerDidBlur=function(){return this.editorElement.notify("blur")},s.prototype.compositionControllerDidSelectAttachment=function(t){return this.composition.editAttachment(t)},s.prototype.compositionControllerDidRequestDeselectingAttachment=function(){return this.attachmentLocationRange?this.selectionManager.setLocationRange(this.attachmentLocationRange[1]):void 0},s.prototype.compositionControllerWillUpdateAttachment=function(t){return this.editor.recordUndoEntry("Edit Attachment",{context:t.id,consolidatable:!0})},s.prototype.compositionControllerDidRequestRemovalOfAttachment=function(t){return this.removeAttachment(t)},s.prototype.inputControllerWillHandleInput=function(){return this.handlingInput=!0,this.requestedRender=!1},s.prototype.inputControllerDidRequestRender=function(){return this.requestedRender=!0},s.prototype.inputControllerDidHandleInput=function(){return this.handlingInput=!1,this.requestedRender?(this.requestedRender=!1,this.render()):void 0},s.prototype.inputControllerWillPerformTyping=function(){return this.recordTypingUndoEntry()},s.prototype.inputControllerWillCutText=function(){return this.editor.recordUndoEntry("Cut")},s.prototype.inputControllerWillPasteText=function(){return this.editor.recordUndoEntry("Paste"),this.pasting=!0},s.prototype.inputControllerDidPaste=function(t){var e;return e=this.pastedRange,this.pastedRange=null,this.pasting=null,this.editorElement.notify("paste",{pasteData:t,range:e}),this.render()},s.prototype.inputControllerWillMoveText=function(){return this.editor.recordUndoEntry("Move")},s.prototype.inputControllerWillAttachFiles=function(){return this.editor.recordUndoEntry("Drop Files")},s.prototype.inputControllerDidReceiveKeyboardCommand=function(t){return this.toolbarController.applyKeyboardCommand(t)},s.prototype.inputControllerDidStartDrag=function(){return this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()},s.prototype.inputControllerDidReceiveDragOverPoint=function(t){return this.selectionManager.setLocationRangeFromPoint(t)},s.prototype.inputControllerDidCancelDrag=function(){return this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null},s.prototype.locationRangeDidChange=function(t){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!n(this.attachmentLocationRange,t)&&this.composition.stopEditingAttachment(),this.editorElement.notify("selection-change")},s.prototype.toolbarDidClickButton=function(){return this.getLocationRange()?void 0:this.setLocationRange({index:0,offset:0})},s.prototype.toolbarDidInvokeAction=function(t){return this.invokeAction(t)},s.prototype.toolbarDidToggleAttribute=function(t){return this.recordFormattingUndoEntry(),this.composition.toggleCurrentAttribute(t),this.render(),this.editorElement.focus()},s.prototype.toolbarDidUpdateAttribute=function(t,e){return this.recordFormattingUndoEntry(),this.composition.setCurrentAttribute(t,e),this.render(),this.editorElement.focus()},s.prototype.toolbarDidRemoveAttribute=function(t){return this.recordFormattingUndoEntry(),this.composition.removeCurrentAttribute(t),this.render(),this.editorElement.focus()},s.prototype.toolbarWillShowDialog=function(){return this.composition.expandSelectionForEditing(),this.freezeSelection()},s.prototype.toolbarDidShowDialog=function(t){return this.editorElement.notify("toolbar-dialog-show",{dialogName:t})},s.prototype.toolbarDidHideDialog=function(t){return this.editorElement.focus(),this.thawSelection(),this.editorElement.notify("toolbar-dialog-hide",{dialogName:t})},s.prototype.freezeSelection=function(){return this.selectionFrozen?void 0:(this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render())},s.prototype.thawSelection=function(){return this.selectionFrozen?(this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()):void 0},s.prototype.actions={undo:{test:function(){return this.editor.canUndo()},perform:function(){return this.editor.undo()}},redo:{test:function(){return this.editor.canRedo()},perform:function(){return this.editor.redo()}},link:{test:function(){return this.editor.canActivateAttribute("href")}},increaseBlockLevel:{test:function(){return this.editor.canIncreaseIndentationLevel()},perform:function(){return this.editor.increaseIndentationLevel()&&this.render()}},decreaseBlockLevel:{test:function(){return this.editor.canDecreaseIndentationLevel()},perform:function(){return this.editor.decreaseIndentationLevel()&&this.render()}}},s.prototype.canInvokeAction=function(t){var e,n;return this.actionIsExternal(t)?!0:!!(null!=(e=this.actions[t])&&null!=(n=e.test)?n.call(this):void 0)},s.prototype.invokeAction=function(t){var e,n;return this.actionIsExternal(t)?this.editorElement.notify("action-invoke",{actionName:t}):null!=(e=this.actions[t])&&null!=(n=e.perform)?n.call(this):void 0},s.prototype.actionIsExternal=function(t){return/^x-./.test(t)},s.prototype.getCurrentActions=function(){var t,e;e={};for(t in this.actions)e[t]=this.canInvokeAction(t);return e},s.prototype.updateCurrentActions=function(){var e;return e=this.getCurrentActions(),t(e,this.currentActions)?void 0:(this.currentActions=e,this.toolbarController.updateActions(this.currentActions),this.editorElement.notify("actions-change",{actions:this.currentActions}))},s.prototype.reparse=function(){return this.composition.replaceHTML(this.editorElement.innerHTML)},s.prototype.render=function(){return this.compositionController.render()},s.prototype.removeAttachment=function(t){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(t),this.render()},s.prototype.recordFormattingUndoEntry=function(){var t;return t=this.selectionManager.getLocationRange(),e(t)?void 0:this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})},s.prototype.recordTypingUndoEntry=function(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})},s.prototype.getUndoContext=function(){var t;return t=1<=arguments.length?o.call(arguments,0):[],[this.getLocationContext(),this.getTimeContext()].concat(o.call(t))},s.prototype.getLocationContext=function(){var t;return t=this.selectionManager.getLocationRange(),e(t)?t[0].index:t},s.prototype.getTimeContext=function(){return Trix.config.undoInterval>0?Math.floor((new Date).getTime()/Trix.config.undoInterval):0},s.prototype.isFocused=function(){var t;return this.editorElement===(null!=(t=this.editorElement.ownerDocument)?t.activeElement:void 0)},s}(Trix.Controller)}.call(this),function(){var t,e,n,r,i,o;i=Trix.makeElement,o=Trix.triggerEvent,n=Trix.handleEvent,r=Trix.handleEventOnce,e=Trix.defer,t=Trix.AttachmentView.attachmentSelector,Trix.registerElement("trix-editor",function(){var e,s,a,l,u,c;return l=0,e=function(t){return!document.querySelector(":focus")&&t.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===t?t.focus():void 0},u=function(t){return t.hasAttribute("contenteditable")?void 0:(t.setAttribute("contenteditable",""),r("focus",{onElement:t,withCallback:function(){return s(t)}}))},s=function(t){return a(t),c(t)},a=function(t){return("function"==typeof document.queryCommandSupported?document.queryCommandSupported("enableObjectResizing"):void 0)?(document.execCommand("enableObjectResizing",!1,!1),n("mscontrolselect",{onElement:t,preventDefault:!0})):void 0},c=function(){var t;return("function"==typeof document.queryCommandSupported?document.queryCommandSupported("DefaultParagraphSeparator"):void 0)&&(t=Trix.config.blockAttributes["default"].tagName,"div"===t||"p"===t)?document.execCommand("DefaultParagraphSeparator",!1,t):void 0},{defaultCSS:"%t:empty:not(:focus)::before {\n  content: attr(placeholder);\n  color: graytext;\n}\n\n%t a[contenteditable=false] {\n  cursor: text;\n}\n\n%t img {\n  max-width: 100%;\n  height: auto;\n}\n\n%t "+t+" figcaption textarea {\n  resize: none;\n}\n\n%t "+t+" figcaption textarea.trix-autoresize-clone {\n  position: absolute;\n  left: -9999px;\n  max-height: 0px;\n}",trixId:{get:function(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++l),this.trixId)}},toolbarElement:{get:function(){var t,e,n;return this.hasAttribute("toolbar")?null!=(e=this.ownerDocument)?e.getElementById(this.getAttribute("toolbar")):void 0:this.parentElement?(n="trix-toolbar-"+this.trixId,this.setAttribute("toolbar",n),t=i("trix-toolbar",{id:n}),this.parentElement.insertBefore(t,this),t):void 0}},inputElement:{get:function(){var t,e,n;return this.hasAttribute("input")?null!=(n=this.ownerDocument)?n.getElementById(this.getAttribute("input")):void 0:this.parentElement?(e="trix-input-"+this.trixId,this.setAttribute("input",e),t=i("input",{type:"hidden",id:e}),this.parentElement.insertBefore(t,this.nextElementSibling),t):void 0}},editor:{get:function(){var t;return null!=(t=this.editorController)?t.editor:void 0}},name:{get:function(){var t;return null!=(t=this.inputElement)?t.name:void 0}},value:{get:function(){var t;return null!=(t=this.inputElement)?t.value:void 0},set:function(t){var e;return this.defaultValue=t,null!=(e=this.editor)?e.loadHTML(this.defaultValue):void 0}},notify:function(t,e){var n;switch(t){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notify("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":null!=(n=this.inputElement)&&(n.value=Trix.serializeToContentType(this,"text/html"))}return this.editorController?o("trix-"+t,{onElement:this,attributes:e}):void 0},createdCallback:function(){return u(this)},attachedCallback:function(){return e(this),null==this.editorController&&(this.editorController=new Trix.EditorController({editorElement:this,html:this.defaultValue=this.value})),this.editorController.registerSelectionManager(),this.registerResetListener(),requestAnimationFrame(function(t){return function(){return t.notify("initialize")}}(this))},detachedCallback:function(){var t;return null!=(t=this.editorController)&&t.unregisterSelectionManager(),this.unregisterResetListener()},registerResetListener:function(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)},unregisterResetListener:function(){return window.removeEventListener("reset",this.resetListener,!1)},resetBubbled:function(t){var e;return t.target!==(null!=(e=this.inputElement)?e.form:void 0)||t.defaultPrevented?void 0:this.reset()},reset:function(){return this.value=this.defaultValue}}}())}.call(this),function(t){function e(t){var e=t.length,r=n.type(t);return"function"===r||n.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===r||0===e||"number"==typeof e&&e>0&&e-1 in t}if(!t.jQuery){var n=function(t,e){return new n.fn.init(t,e)};n.isWindow=function(t){return null!=t&&t==t.window},n.type=function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?i[s.call(t)]||"object":typeof t},n.isArray=Array.isArray||function(t){return"array"===n.type(t)},n.isPlainObject=function(t){var e;if(!t||"object"!==n.type(t)||t.nodeType||n.isWindow(t))return!1;try{if(t.constructor&&!o.call(t,"constructor")&&!o.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}for(e in t);return void 0===e||o.call(t,e)},n.each=function(t,n,r){var i,o=0,s=t.length,a=e(t);if(r){if(a)for(;s>o&&(i=n.apply(t[o],r),i!==!1);o++);else for(o in t)if(i=n.apply(t[o],r),i===!1)break}else if(a)for(;s>o&&(i=n.call(t[o],o,t[o]),i!==!1);o++);else for(o in t)if(i=n.call(t[o],o,t[o]),i===!1)break;return t},n.data=function(t,e,i){if(void 0===i){var o=t[n.expando],s=o&&r[o];if(void 0===e)return s;if(s&&e in s)return s[e]}else if(void 0!==e){var o=t[n.expando]||(t[n.expando]=++n.uuid);return r[o]=r[o]||{},r[o][e]=i,i}},n.removeData=function(t,e){var i=t[n.expando],o=i&&r[i];o&&n.each(e,function(t,e){delete o[e]})},n.extend=function(){var t,e,r,i,o,s,a=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[l]||{},l++),"object"!=typeof a&&"function"!==n.type(a)&&(a={}),l===u&&(a=this,l--);u>l;l++)if(null!=(o=arguments[l]))for(i in o)t=a[i],r=o[i],a!==r&&(c&&r&&(n.isPlainObject(r)||(e=n.isArray(r)))?(e?(e=!1,s=t&&n.isArray(t)?t:[]):s=t&&n.isPlainObject(t)?t:{},a[i]=n.extend(c,s,r)):void 0!==r&&(a[i]=r));return a},n.queue=function(t,r,i){function o(t,n){var r=n||[];return null!=t&&(e(Object(t))?!function(t,e){for(var n=+e.length,r=0,i=t.length;n>r;)t[i++]=e[r++];if(n!==n)for(;void 0!==e[r];)t[i++]=e[r++];return t.length=i,t}(r,"string"==typeof t?[t]:t):[].push.call(r,t)),r}if(t){r=(r||"fx")+"queue";var s=n.data(t,r);return i?(!s||n.isArray(i)?s=n.data(t,r,o(i)):s.push(i),s):s||[]}},n.dequeue=function(t,e){n.each(t.nodeType?[t]:t,function(t,r){e=e||"fx";var i=n.queue(r,e),o=i.shift();"inprogress"===o&&(o=i.shift()),o&&("fx"===e&&i.unshift("inprogress"),o.call(r,function(){n.dequeue(r,e)}))})},n.fn=n.prototype={init:function(t){if(t.nodeType)return this[0]=t,this;throw new Error("Not a DOM node.")},offset:function(){var e=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:e.top+(t.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:e.left+(t.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function t(){for(var t=this.offsetParent||document;t&&"html"===!t.nodeType.toLowerCase&&"static"===t.style.position;)t=t.offsetParent;return t||document}var e=this[0],t=t.apply(e),r=this.offset(),i=/^(?:body|html)$/i.test(t.nodeName)?{top:0,left:0}:n(t).offset();return r.top-=parseFloat(e.style.marginTop)||0,r.left-=parseFloat(e.style.marginLeft)||0,t.style&&(i.top+=parseFloat(t.style.borderTopWidth)||0,i.left+=parseFloat(t.style.borderLeftWidth)||0),{top:r.top-i.top,left:r.left-i.left}}};var r={};n.expando="velocity"+(new Date).getTime(),n.uuid=0;for(var i={},o=i.hasOwnProperty,s=i.toString,a="Boolean Number String Function Array Date RegExp Object Error".split(" "),l=0;l<a.length;l++)i["[object "+a[l]+"]"]=a[l].toLowerCase();n.fn.init.prototype=n.fn,t.Velocity={Utilities:n}}}(window),function(t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t():"function"==typeof define&&define.amd?define(t):t()}(function(){return function(t,e,n,r){function i(t){for(var e=-1,n=t?t.length:0,r=[];++e<n;){var i=t[e];i&&r.push(i)}return r}function o(t){return m.isWrapped(t)?t=[].slice.call(t):m.isNode(t)&&(t=[t]),t}function s(t){var e=d.data(t,"velocity");return null===e?r:e}function a(t){return function(e){return Math.round(e*t)*(1/t)}}function l(t,n,r,i){function o(t,e){return 1-3*e+3*t}function s(t,e){return 3*e-6*t}function a(t){return 3*t}function l(t,e,n){return((o(e,n)*t+s(e,n))*t+a(e))*t}function u(t,e,n){return 3*o(e,n)*t*t+2*s(e,n)*t+a(e)}function c(e,n){for(var i=0;m>i;++i){var o=u(n,t,r);if(0===o)return n;var s=l(n,t,r)-e;n-=s/o}return n}function h(){for(var e=0;b>e;++e)C[e]=l(e*_,t,r)}function d(e,n,i){var o,s,a=0;do s=n+(i-n)/2,o=l(s,t,r)-e,o>0?i=s:n=s;while(Math.abs(o)>v&&++a<y);return s}function p(e){for(var n=0,i=1,o=b-1;i!=o&&C[i]<=e;++i)n+=_;--i;var s=(e-C[i])/(C[i+1]-C[i]),a=n+s*_,l=u(a,t,r);return l>=g?c(e,a):0==l?a:d(e,n,n+_)}function f(){T=!0,(t!=n||r!=i)&&h()}var m=4,g=.001,v=1e-7,y=10,b=11,_=1/(b-1),w="Float32Array"in e;if(4!==arguments.length)return!1;for(var x=0;4>x;++x)if("number"!=typeof arguments[x]||isNaN(arguments[x])||!isFinite(arguments[x]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var C=w?new Float32Array(b):new Array(b),T=!1,E=function(e){return T||f(),t===n&&r===i?e:0===e?0:1===e?1:l(p(e),n,i)};E.getControlPoints=function(){return[{x:t,y:n},{x:r,y:i}]};var k="generateBezier("+[t,n,r,i]+")";return E.toString=function(){return k},E}function u(t,e){var n=t;return m.isString(t)?b.Easings[t]||(n=!1):n=m.isArray(t)&&1===t.length?a.apply(null,t):m.isArray(t)&&2===t.length?_.apply(null,t.concat([e])):m.isArray(t)&&4===t.length?l.apply(null,t):!1,n===!1&&(n=b.Easings[b.defaults.easing]?b.defaults.easing:y),n}function c(t){if(t){var e=(new Date).getTime(),n=b.State.calls.length;n>1e4&&(b.State.calls=i(b.State.calls));for(var o=0;n>o;o++)if(b.State.calls[o]){var a=b.State.calls[o],l=a[0],u=a[2],p=a[3],f=!!p,g=null;p||(p=b.State.calls[o][3]=e-16);for(var v=Math.min((e-p)/u.duration,1),y=0,_=l.length;_>y;y++){var x=l[y],T=x.element;if(s(T)){var E=!1;if(u.display!==r&&null!==u.display&&"none"!==u.display){if("flex"===u.display){var k=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];d.each(k,function(t,e){w.setPropertyValue(T,"display",e)})}w.setPropertyValue(T,"display",u.display)}u.visibility!==r&&"hidden"!==u.visibility&&w.setPropertyValue(T,"visibility",u.visibility);for(var S in x)if("element"!==S){var P,A=x[S],L=m.isString(A.easing)?b.Easings[A.easing]:A.easing;if(1===v)P=A.endValue;else{var O=A.endValue-A.startValue;if(P=A.startValue+O*L(v,u,O),!f&&P===A.currentValue)continue}if(A.currentValue=P,"tween"===S)g=P;else{if(w.Hooks.registered[S]){var D=w.Hooks.getRoot(S),M=s(T).rootPropertyValueCache[D];M&&(A.rootPropertyValue=M)}var R=w.setPropertyValue(T,S,A.currentValue+(0===parseFloat(P)?"":A.unitType),A.rootPropertyValue,A.scrollData);w.Hooks.registered[S]&&(w.Normalizations.registered[D]?s(T).rootPropertyValueCache[D]=w.Normalizations.registered[D]("extract",null,R[1]):s(T).rootPropertyValueCache[D]=R[1]),"transform"===R[0]&&(E=!0)}}u.mobileHA&&s(T).transformCache.translate3d===r&&(s(T).transformCache.translate3d="(0px, 0px, 0px)",E=!0),E&&w.flushTransformCache(T)}}u.display!==r&&"none"!==u.display&&(b.State.calls[o][2].display=!1),u.visibility!==r&&"hidden"!==u.visibility&&(b.State.calls[o][2].visibility=!1),u.progress&&u.progress.call(a[1],a[1],v,Math.max(0,p+u.duration-e),p,g),1===v&&h(o)}}b.State.isTicking&&C(c)}function h(t,e){if(!b.State.calls[t])return!1;for(var n=b.State.calls[t][0],i=b.State.calls[t][1],o=b.State.calls[t][2],a=b.State.calls[t][4],l=!1,u=0,c=n.length;c>u;u++){var h=n[u].element;if(e||o.loop||("none"===o.display&&w.setPropertyValue(h,"display",o.display),"hidden"===o.visibility&&w.setPropertyValue(h,"visibility",o.visibility)),o.loop!==!0&&(d.queue(h)[1]===r||!/\.velocityQueueEntryFlag/i.test(d.queue(h)[1]))&&s(h)){s(h).isAnimating=!1,s(h).rootPropertyValueCache={};var p=!1;d.each(w.Lists.transforms3D,function(t,e){var n=/^scale/.test(e)?1:0,i=s(h).transformCache[e];s(h).transformCache[e]!==r&&new RegExp("^\\("+n+"[^.]").test(i)&&(p=!0,delete s(h).transformCache[e])}),o.mobileHA&&(p=!0,delete s(h).transformCache.translate3d),p&&w.flushTransformCache(h),w.Values.removeClass(h,"velocity-animating")}if(!e&&o.complete&&!o.loop&&u===c-1)try{o.complete.call(i,i)}catch(f){setTimeout(function(){throw f},1)}a&&o.loop!==!0&&a(i),s(h)&&o.loop===!0&&!e&&(d.each(s(h).tweensContainer,function(t,e){/^rotate/.test(t)&&360===parseFloat(e.endValue)&&(e.endValue=0,e.startValue=360),/^backgroundPosition/.test(t)&&100===parseFloat(e.endValue)&&"%"===e.unitType&&(e.endValue=0,e.startValue=100)}),b(h,"reverse",{loop:!0,delay:o.delay})),o.queue!==!1&&d.dequeue(h,o.queue)}b.State.calls[t]=!1;for(var m=0,g=b.State.calls.length;g>m;m++)if(b.State.calls[m]!==!1){l=!0;break}l===!1&&(b.State.isTicking=!1,delete b.State.calls,b.State.calls=[])}var d,p=function(){if(n.documentMode)return n.documentMode;for(var t=7;t>4;t--){var e=n.createElement("div");if(e.innerHTML="<!--[if IE "+t+"]><span></span><![endif]-->",e.getElementsByTagName("span").length)return e=null,t}return r}(),f=function(){var t=0;return e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(e){var n,r=(new Date).getTime();return n=Math.max(0,16-(r-t)),t=r+n,setTimeout(function(){e(r+n)},n)}}(),m={isString:function(t){return"string"==typeof t},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isNode:function(t){return t&&t.nodeType},isNodeList:function(t){return"object"==typeof t&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(t))&&t.length!==r&&(0===t.length||"object"==typeof t[0]&&t[0].nodeType>0)},isWrapped:function(t){return t&&(t.jquery||e.Zepto&&e.Zepto.zepto.isZ(t))},isSVG:function(t){return e.SVGElement&&t instanceof e.SVGElement},isEmptyObject:function(t){for(var e in t)return!1;return!0}},g=!1;if(t.fn&&t.fn.jquery?(d=t,g=!0):d=e.Velocity.Utilities,8>=p&&!g)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=p)return void(jQuery.fn.velocity=jQuery.fn.animate);var v=400,y="swing",b={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:e.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:n.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:d,Redirects:{},Easings:{},Promise:e.Promise,defaults:{queue:"",duration:v,easing:y,begin:r,complete:r,progress:r,display:r,visibility:r,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(t){d.data(t,"velocity",{isSVG:m.isSVG(t),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};e.pageYOffset!==r?(b.State.scrollAnchor=e,b.State.scrollPropertyLeft="pageXOffset",b.State.scrollPropertyTop="pageYOffset"):(b.State.scrollAnchor=n.documentElement||n.body.parentNode||n.body,b.State.scrollPropertyLeft="scrollLeft",b.State.scrollPropertyTop="scrollTop");var _=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,n,r){var i={x:e.x+r.dx*n,v:e.v+r.dv*n,tension:e.tension,friction:e.friction};return{dx:i.v,dv:t(i)}}function n(n,r){var i={dx:n.v,dv:t(n)},o=e(n,.5*r,i),s=e(n,.5*r,o),a=e(n,r,s),l=1/6*(i.dx+2*(o.dx+s.dx)+a.dx),u=1/6*(i.dv+2*(o.dv+s.dv)+a.dv);return n.x=n.x+l*r,n.v=n.v+u*r,n}return function r(t,e,i){var o,s,a,l={x:-1,v:0,tension:null,friction:null},u=[0],c=0,h=1e-4,d=.016;for(t=parseFloat(t)||500,e=parseFloat(e)||20,i=i||null,l.tension=t,l.friction=e,o=null!==i,o?(c=r(t,e),s=c/i*d):s=d;;)if(a=n(a||l,s),u.push(1+a.x),c+=16,!(Math.abs(a.x)>h&&Math.abs(a.v)>h))break;return o?function(t){return u[t*(u.length-1)|0]}:c}}();b.Easings={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},spring:function(t){return 1-Math.cos(4.5*t*Math.PI)*Math.exp(6*-t)}},d.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(t,e){b.Easings[e[0]]=l.apply(null,e[1])});var w=b.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var t=0;t<w.Lists.colors.length;t++){var e="color"===w.Lists.colors[t]?"0 0 0 1":"255 255 255 1";w.Hooks.templates[w.Lists.colors[t]]=["Red Green Blue Alpha",e]}var n,r,i;if(p)for(n in w.Hooks.templates){r=w.Hooks.templates[n],i=r[0].split(" ");var o=r[1].match(w.RegEx.valueSplit);"Color"===i[0]&&(i.push(i.shift()),o.push(o.shift()),w.Hooks.templates[n]=[i.join(" "),o.join(" ")])}for(n in w.Hooks.templates){r=w.Hooks.templates[n],i=r[0].split(" ");for(var t in i){var s=n+i[t],a=t;w.Hooks.registered[s]=[n,a]}}},getRoot:function(t){var e=w.Hooks.registered[t];return e?e[0]:t},cleanRootPropertyValue:function(t,e){return w.RegEx.valueUnwrap.test(e)&&(e=e.match(w.RegEx.valueUnwrap)[1]),w.Values.isCSSNullValue(e)&&(e=w.Hooks.templates[t][1]),e},extractValue:function(t,e){var n=w.Hooks.registered[t];if(n){var r=n[0],i=n[1];return e=w.Hooks.cleanRootPropertyValue(r,e),e.toString().match(w.RegEx.valueSplit)[i]}return e},injectValue:function(t,e,n){var r=w.Hooks.registered[t];if(r){var i,o,s=r[0],a=r[1];return n=w.Hooks.cleanRootPropertyValue(s,n),i=n.toString().match(w.RegEx.valueSplit),i[a]=e,o=i.join(" ")}return n}},Normalizations:{registered:{clip:function(t,e,n){switch(t){case"name":return"clip";case"extract":var r;return w.RegEx.wrappedValueAlreadyExtracted.test(n)?r=n:(r=n.toString().match(w.RegEx.valueUnwrap),r=r?r[1].replace(/,(\s+)?/g," "):n),r;case"inject":return"rect("+n+")"}},blur:function(t,e,n){switch(t){case"name":return b.State.isFirefox?"filter":"-webkit-filter";case"extract":var r=parseFloat(n);if(!r&&0!==r){var i=n.toString().match(/blur\(([0-9]+[A-z]+)\)/i);r=i?i[1]:0}return r;case"inject":return parseFloat(n)?"blur("+n+")":"none"}},opacity:function(t,e,n){if(8>=p)switch(t){case"name":return"filter";case"extract":var r=n.toString().match(/alpha\(opacity=(.*)\)/i);return n=r?r[1]/100:1;case"inject":return e.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(t){case"name":return"opacity";case"extract":return n;case"inject":return n}}},register:function(){9>=p||b.State.isGingerbread||(w.Lists.transformsBase=w.Lists.transformsBase.concat(w.Lists.transforms3D));for(var t=0;t<w.Lists.transformsBase.length;t++)!function(){var e=w.Lists.transformsBase[t];w.Normalizations.registered[e]=function(t,n,i){switch(t){case"name":return"transform";case"extract":return s(n)===r||s(n).transformCache[e]===r?/^scale/i.test(e)?1:0:s(n).transformCache[e].replace(/[()]/g,"");case"inject":var o=!1;switch(e.substr(0,e.length-1)){case"translate":o=!/(%|px|em|rem|vw|vh|\d)$/i.test(i);break;case"scal":case"scale":b.State.isAndroid&&s(n).transformCache[e]===r&&1>i&&(i=1),o=!/(\d)$/i.test(i);break;case"skew":o=!/(deg|\d)$/i.test(i);break;case"rotate":o=!/(deg|\d)$/i.test(i)}return o||(s(n).transformCache[e]="("+i+")"),s(n).transformCache[e]}}}();for(var t=0;t<w.Lists.colors.length;t++)!function(){var e=w.Lists.colors[t];w.Normalizations.registered[e]=function(t,n,i){switch(t){case"name":return e;case"extract":var o;if(w.RegEx.wrappedValueAlreadyExtracted.test(i))o=i;else{var s,a={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(i)?s=a[i]!==r?a[i]:a.black:w.RegEx.isHex.test(i)?s="rgb("+w.Values.hexToRgb(i).join(" ")+")":/^rgba?\(/i.test(i)||(s=a.black),o=(s||i).toString().match(w.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=p||3!==o.split(" ").length||(o+=" 1"),o;case"inject":return 8>=p?4===i.split(" ").length&&(i=i.split(/\s+/).slice(0,3).join(" ")):3===i.split(" ").length&&(i+=" 1"),(8>=p?"rgb":"rgba")+"("+i.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},SVGAttribute:function(t){var e="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(p||b.State.isAndroid&&!b.State.isChrome)&&(e+="|transform"),new RegExp("^("+e+")$","i").test(t)},prefixCheck:function(t){if(b.State.prefixMatches[t])return[b.State.prefixMatches[t],!0];for(var e=["","Webkit","Moz","ms","O"],n=0,r=e.length;r>n;n++){var i;if(i=0===n?t:e[n]+t.replace(/^\w/,function(t){return t.toUpperCase()}),m.isString(b.State.prefixElement.style[i]))return b.State.prefixMatches[t]=i,[i,!0]}return[t,!1]}},Values:{hexToRgb:function(t){var e,n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return t=t.replace(n,function(t,e,n,r){return e+e+n+n+r+r}),e=r.exec(t),e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:[0,0,0]},isCSSNullValue:function(t){return 0==t||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(t)},getUnitType:function(t){return/^(rotate|skew)/i.test(t)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(t)?"":"px"},getDisplayType:function(t){var e=t&&t.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(e)?"inline":/^(li)$/i.test(e)?"list-item":/^(tr)$/i.test(e)?"table-row":/^(table)$/i.test(e)?"table":/^(tbody)$/i.test(e)?"table-row-group":"block"},addClass:function(t,e){t.classList?t.classList.add(e):t.className+=(t.className.length?" ":"")+e},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.toString().replace(new RegExp("(^|\\s)"+e.split(" ").join("|")+"(\\s|$)","gi")," ");
}},getPropertyValue:function(t,n,i,o){function a(t,n){function i(){u&&w.setPropertyValue(t,"display","none")}var l=0;if(8>=p)l=d.css(t,n);else{var u=!1;if(/^(width|height)$/.test(n)&&0===w.getPropertyValue(t,"display")&&(u=!0,w.setPropertyValue(t,"display",w.Values.getDisplayType(t))),!o){if("height"===n&&"border-box"!==w.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var c=t.offsetHeight-(parseFloat(w.getPropertyValue(t,"borderTopWidth"))||0)-(parseFloat(w.getPropertyValue(t,"borderBottomWidth"))||0)-(parseFloat(w.getPropertyValue(t,"paddingTop"))||0)-(parseFloat(w.getPropertyValue(t,"paddingBottom"))||0);return i(),c}if("width"===n&&"border-box"!==w.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var h=t.offsetWidth-(parseFloat(w.getPropertyValue(t,"borderLeftWidth"))||0)-(parseFloat(w.getPropertyValue(t,"borderRightWidth"))||0)-(parseFloat(w.getPropertyValue(t,"paddingLeft"))||0)-(parseFloat(w.getPropertyValue(t,"paddingRight"))||0);return i(),h}}var f;f=s(t)===r?e.getComputedStyle(t,null):s(t).computedStyle?s(t).computedStyle:s(t).computedStyle=e.getComputedStyle(t,null),"borderColor"===n&&(n="borderTopColor"),l=9===p&&"filter"===n?f.getPropertyValue(n):f[n],(""===l||null===l)&&(l=t.style[n]),i()}if("auto"===l&&/^(top|right|bottom|left)$/i.test(n)){var m=a(t,"position");("fixed"===m||"absolute"===m&&/top|left/i.test(n))&&(l=d(t).position()[n]+"px")}return l}var l;if(w.Hooks.registered[n]){var u=n,c=w.Hooks.getRoot(u);i===r&&(i=w.getPropertyValue(t,w.Names.prefixCheck(c)[0])),w.Normalizations.registered[c]&&(i=w.Normalizations.registered[c]("extract",t,i)),l=w.Hooks.extractValue(u,i)}else if(w.Normalizations.registered[n]){var h,f;h=w.Normalizations.registered[n]("name",t),"transform"!==h&&(f=a(t,w.Names.prefixCheck(h)[0]),w.Values.isCSSNullValue(f)&&w.Hooks.templates[n]&&(f=w.Hooks.templates[n][1])),l=w.Normalizations.registered[n]("extract",t,f)}if(!/^[\d-]/.test(l))if(s(t)&&s(t).isSVG&&w.Names.SVGAttribute(n))if(/^(height|width)$/i.test(n))try{l=t.getBBox()[n]}catch(m){l=0}else l=t.getAttribute(n);else l=a(t,w.Names.prefixCheck(n)[0]);return w.Values.isCSSNullValue(l)&&(l=0),b.debug>=2&&console.log("Get "+n+": "+l),l},setPropertyValue:function(t,n,r,i,o){var a=n;if("scroll"===n)o.container?o.container["scroll"+o.direction]=r:"Left"===o.direction?e.scrollTo(r,o.alternateValue):e.scrollTo(o.alternateValue,r);else if(w.Normalizations.registered[n]&&"transform"===w.Normalizations.registered[n]("name",t))w.Normalizations.registered[n]("inject",t,r),a="transform",r=s(t).transformCache[n];else{if(w.Hooks.registered[n]){var l=n,u=w.Hooks.getRoot(n);i=i||w.getPropertyValue(t,u),r=w.Hooks.injectValue(l,r,i),n=u}if(w.Normalizations.registered[n]&&(r=w.Normalizations.registered[n]("inject",t,r),n=w.Normalizations.registered[n]("name",t)),a=w.Names.prefixCheck(n)[0],8>=p)try{t.style[a]=r}catch(c){b.debug&&console.log("Browser does not support ["+r+"] for ["+a+"]")}else s(t)&&s(t).isSVG&&w.Names.SVGAttribute(n)?t.setAttribute(n,r):t.style[a]=r;b.debug>=2&&console.log("Set "+n+" ("+a+"): "+r)}return[a,r]},flushTransformCache:function(t){function e(e){return parseFloat(w.getPropertyValue(t,e))}var n="";if((p||b.State.isAndroid&&!b.State.isChrome)&&s(t).isSVG){var r={translate:[e("translateX"),e("translateY")],skewX:[e("skewX")],skewY:[e("skewY")],scale:1!==e("scale")?[e("scale"),e("scale")]:[e("scaleX"),e("scaleY")],rotate:[e("rotateZ"),0,0]};d.each(s(t).transformCache,function(t){/^translate/i.test(t)?t="translate":/^scale/i.test(t)?t="scale":/^rotate/i.test(t)&&(t="rotate"),r[t]&&(n+=t+"("+r[t].join(" ")+") ",delete r[t])})}else{var i,o;d.each(s(t).transformCache,function(e){return i=s(t).transformCache[e],"transformPerspective"===e?(o=i,!0):(9===p&&"rotateZ"===e&&(e="rotate"),void(n+=e+i+" "))}),o&&(n="perspective"+o+" "+n)}w.setPropertyValue(t,"transform",n)}};w.Hooks.register(),w.Normalizations.register(),b.hook=function(t,e,n){var i=r;return t=o(t),d.each(t,function(t,o){if(s(o)===r&&b.init(o),n===r)i===r&&(i=b.CSS.getPropertyValue(o,e));else{var a=b.CSS.setPropertyValue(o,e,n);"transform"===a[0]&&b.CSS.flushTransformCache(o),i=a}}),i};var x=function(){function t(){return a?S.promise||null:l}function i(){function t(t){function h(t,e){var n=r,i=r,s=r;return m.isArray(t)?(n=t[0],!m.isArray(t[1])&&/^[\d-]/.test(t[1])||m.isFunction(t[1])||w.RegEx.isHex.test(t[1])?s=t[1]:(m.isString(t[1])&&!w.RegEx.isHex.test(t[1])||m.isArray(t[1]))&&(i=e?t[1]:u(t[1],a.duration),t[2]!==r&&(s=t[2]))):n=t,e||(i=i||a.easing),m.isFunction(n)&&(n=n.call(o,T,C)),m.isFunction(s)&&(s=s.call(o,T,C)),[n||0,i,s]}function p(t,e){var n,r;return r=(e||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(t){return n=t,""}),n||(n=w.Values.getUnitType(t)),[r,n]}function v(){var t={myParent:o.parentNode||n.body,position:w.getPropertyValue(o,"position"),fontSize:w.getPropertyValue(o,"fontSize")},r=t.position===R.lastPosition&&t.myParent===R.lastParent,i=t.fontSize===R.lastFontSize;R.lastParent=t.myParent,R.lastPosition=t.position,R.lastFontSize=t.fontSize;var a=100,l={};if(i&&r)l.emToPx=R.lastEmToPx,l.percentToPxWidth=R.lastPercentToPxWidth,l.percentToPxHeight=R.lastPercentToPxHeight;else{var u=s(o).isSVG?n.createElementNS("http://www.w3.org/2000/svg","rect"):n.createElement("div");b.init(u),t.myParent.appendChild(u),d.each(["overflow","overflowX","overflowY"],function(t,e){b.CSS.setPropertyValue(u,e,"hidden")}),b.CSS.setPropertyValue(u,"position",t.position),b.CSS.setPropertyValue(u,"fontSize",t.fontSize),b.CSS.setPropertyValue(u,"boxSizing","content-box"),d.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(t,e){b.CSS.setPropertyValue(u,e,a+"%")}),b.CSS.setPropertyValue(u,"paddingLeft",a+"em"),l.percentToPxWidth=R.lastPercentToPxWidth=(parseFloat(w.getPropertyValue(u,"width",null,!0))||1)/a,l.percentToPxHeight=R.lastPercentToPxHeight=(parseFloat(w.getPropertyValue(u,"height",null,!0))||1)/a,l.emToPx=R.lastEmToPx=(parseFloat(w.getPropertyValue(u,"paddingLeft"))||1)/a,t.myParent.removeChild(u)}return null===R.remToPx&&(R.remToPx=parseFloat(w.getPropertyValue(n.body,"fontSize"))||16),null===R.vwToPx&&(R.vwToPx=parseFloat(e.innerWidth)/100,R.vhToPx=parseFloat(e.innerHeight)/100),l.remToPx=R.remToPx,l.vwToPx=R.vwToPx,l.vhToPx=R.vhToPx,b.debug>=1&&console.log("Unit ratios: "+JSON.stringify(l),o),l}if(a.begin&&0===T)try{a.begin.call(f,f)}catch(_){setTimeout(function(){throw _},1)}if("scroll"===P){var x,E,k,A=/^x$/i.test(a.axis)?"Left":"Top",L=parseFloat(a.offset)||0;a.container?m.isWrapped(a.container)||m.isNode(a.container)?(a.container=a.container[0]||a.container,x=a.container["scroll"+A],k=x+d(o).position()[A.toLowerCase()]+L):a.container=null:(x=b.State.scrollAnchor[b.State["scrollProperty"+A]],E=b.State.scrollAnchor[b.State["scrollProperty"+("Left"===A?"Top":"Left")]],k=d(o).offset()[A.toLowerCase()]+L),l={scroll:{rootPropertyValue:!1,startValue:x,currentValue:x,endValue:k,unitType:"",easing:a.easing,scrollData:{container:a.container,direction:A,alternateValue:E}},element:o},b.debug&&console.log("tweensContainer (scroll): ",l.scroll,o)}else if("reverse"===P){if(!s(o).tweensContainer)return void d.dequeue(o,a.queue);"none"===s(o).opts.display&&(s(o).opts.display="auto"),"hidden"===s(o).opts.visibility&&(s(o).opts.visibility="visible"),s(o).opts.loop=!1,s(o).opts.begin=null,s(o).opts.complete=null,y.easing||delete a.easing,y.duration||delete a.duration,a=d.extend({},s(o).opts,a);var O=d.extend(!0,{},s(o).tweensContainer);for(var D in O)if("element"!==D){var M=O[D].startValue;O[D].startValue=O[D].currentValue=O[D].endValue,O[D].endValue=M,m.isEmptyObject(y)||(O[D].easing=a.easing),b.debug&&console.log("reverse tweensContainer ("+D+"): "+JSON.stringify(O[D]),o)}l=O}else if("start"===P){var O;s(o).tweensContainer&&s(o).isAnimating===!0&&(O=s(o).tweensContainer),d.each(g,function(t,e){if(RegExp("^"+w.Lists.colors.join("$|^")+"$").test(t)){var n=h(e,!0),i=n[0],o=n[1],s=n[2];if(w.RegEx.isHex.test(i)){for(var a=["Red","Green","Blue"],l=w.Values.hexToRgb(i),u=s?w.Values.hexToRgb(s):r,c=0;c<a.length;c++){var d=[l[c]];o&&d.push(o),u!==r&&d.push(u[c]),g[t+a[c]]=d}delete g[t]}}});for(var F in g){var I=h(g[F]),B=I[0],j=I[1],z=I[2];F=w.Names.camelCase(F);var V=w.Hooks.getRoot(F),H=!1;if(s(o).isSVG||"tween"===V||w.Names.prefixCheck(V)[1]!==!1||w.Normalizations.registered[V]!==r){(a.display!==r&&null!==a.display&&"none"!==a.display||a.visibility!==r&&"hidden"!==a.visibility)&&/opacity|filter/.test(F)&&!z&&0!==B&&(z=0),a._cacheValues&&O&&O[F]?(z===r&&(z=O[F].endValue+O[F].unitType),H=s(o).rootPropertyValueCache[V]):w.Hooks.registered[F]?z===r?(H=w.getPropertyValue(o,V),z=w.getPropertyValue(o,F,H)):H=w.Hooks.templates[V][1]:z===r&&(z=w.getPropertyValue(o,F));var U,W,q,$=!1;if(U=p(F,z),z=U[0],q=U[1],U=p(F,B),B=U[0].replace(/^([+-\/*])=/,function(t,e){return $=e,""}),W=U[1],z=parseFloat(z)||0,B=parseFloat(B)||0,"%"===W&&(/^(fontSize|lineHeight)$/.test(F)?(B/=100,W="em"):/^scale/.test(F)?(B/=100,W=""):/(Red|Green|Blue)$/i.test(F)&&(B=B/100*255,W="")),/[\/*]/.test($))W=q;else if(q!==W&&0!==z)if(0===B)W=q;else{i=i||v();var G=/margin|padding|left|right|width|text|word|letter/i.test(F)||/X$/.test(F)||"x"===F?"x":"y";switch(q){case"%":z*="x"===G?i.percentToPxWidth:i.percentToPxHeight;break;case"px":break;default:z*=i[q+"ToPx"]}switch(W){case"%":z*=1/("x"===G?i.percentToPxWidth:i.percentToPxHeight);break;case"px":break;default:z*=1/i[W+"ToPx"]}}switch($){case"+":B=z+B;break;case"-":B=z-B;break;case"*":B=z*B;break;case"/":B=z/B}l[F]={rootPropertyValue:H,startValue:z,currentValue:z,endValue:B,unitType:W,easing:j},b.debug&&console.log("tweensContainer ("+F+"): "+JSON.stringify(l[F]),o)}else b.debug&&console.log("Skipping ["+V+"] due to a lack of browser support.")}l.element=o}l.element&&(w.Values.addClass(o,"velocity-animating"),N.push(l),""===a.queue&&(s(o).tweensContainer=l,s(o).opts=a),s(o).isAnimating=!0,T===C-1?(b.State.calls.push([N,f,a,null,S.resolver]),b.State.isTicking===!1&&(b.State.isTicking=!0,c())):T++)}var i,o=this,a=d.extend({},b.defaults,y),l={};switch(s(o)===r&&b.init(o),parseFloat(a.delay)&&a.queue!==!1&&d.queue(o,a.queue,function(t){b.velocityQueueEntryFlag=!0,s(o).delayTimer={setTimeout:setTimeout(t,parseFloat(a.delay)),next:t}}),a.duration.toString().toLowerCase()){case"fast":a.duration=200;break;case"normal":a.duration=v;break;case"slow":a.duration=600;break;default:a.duration=parseFloat(a.duration)||1}b.mock!==!1&&(b.mock===!0?a.duration=a.delay=1:(a.duration*=parseFloat(b.mock)||1,a.delay*=parseFloat(b.mock)||1)),a.easing=u(a.easing,a.duration),a.begin&&!m.isFunction(a.begin)&&(a.begin=null),a.progress&&!m.isFunction(a.progress)&&(a.progress=null),a.complete&&!m.isFunction(a.complete)&&(a.complete=null),a.display!==r&&null!==a.display&&(a.display=a.display.toString().toLowerCase(),"auto"===a.display&&(a.display=b.CSS.Values.getDisplayType(o))),a.visibility!==r&&null!==a.visibility&&(a.visibility=a.visibility.toString().toLowerCase()),a.mobileHA=a.mobileHA&&b.State.isMobile&&!b.State.isGingerbread,a.queue===!1?a.delay?setTimeout(t,a.delay):t():d.queue(o,a.queue,function(e,n){return n===!0?(S.promise&&S.resolver(f),!0):(b.velocityQueueEntryFlag=!0,void t(e))}),""!==a.queue&&"fx"!==a.queue||"inprogress"===d.queue(o)[0]||d.dequeue(o)}var a,l,p,f,g,y,_=arguments[0]&&(arguments[0].p||d.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||m.isString(arguments[0].properties));if(m.isWrapped(this)?(a=!1,p=0,f=this,l=this):(a=!0,p=1,f=_?arguments[0].elements||arguments[0].e:arguments[0]),f=o(f)){_?(g=arguments[0].properties||arguments[0].p,y=arguments[0].options||arguments[0].o):(g=arguments[p],y=arguments[p+1]);var C=f.length,T=0;if(!/^(stop|finish|finishAll)$/i.test(g)&&!d.isPlainObject(y)){var E=p+1;y={};for(var k=E;k<arguments.length;k++)m.isArray(arguments[k])||!/^(fast|normal|slow)$/i.test(arguments[k])&&!/^\d/.test(arguments[k])?m.isString(arguments[k])||m.isArray(arguments[k])?y.easing=arguments[k]:m.isFunction(arguments[k])&&(y.complete=arguments[k]):y.duration=arguments[k]}var S={promise:null,resolver:null,rejecter:null};a&&b.Promise&&(S.promise=new b.Promise(function(t,e){S.resolver=t,S.rejecter=e}));var P;switch(g){case"scroll":P="scroll";break;case"reverse":P="reverse";break;case"finish":case"finishAll":case"stop":d.each(f,function(t,e){s(e)&&s(e).delayTimer&&(clearTimeout(s(e).delayTimer.setTimeout),s(e).delayTimer.next&&s(e).delayTimer.next(),delete s(e).delayTimer),"finishAll"!==g||y!==!0&&!m.isString(y)||(d.each(d.queue(e,m.isString(y)?y:""),function(t,e){m.isFunction(e)&&e()}),d.queue(e,m.isString(y)?y:"",[]))});var A=[];return d.each(b.State.calls,function(t,e){e&&d.each(e[1],function(n,i){var o=y===r?"":y;return o===!0||e[2].queue===o||y===r&&e[2].queue===!1?void d.each(f,function(n,r){r===i&&((y===!0||m.isString(y))&&(d.each(d.queue(r,m.isString(y)?y:""),function(t,e){m.isFunction(e)&&e(null,!0)}),d.queue(r,m.isString(y)?y:"",[])),"stop"===g?(s(r)&&s(r).tweensContainer&&o!==!1&&d.each(s(r).tweensContainer,function(t,e){e.endValue=e.currentValue}),A.push(t)):("finish"===g||"finishAll"===g)&&(e[2].duration=1))}):!0})}),"stop"===g&&(d.each(A,function(t,e){h(e,!0)}),S.promise&&S.resolver(f)),t();default:if(!d.isPlainObject(g)||m.isEmptyObject(g)){if(m.isString(g)&&b.Redirects[g]){var L=d.extend({},y),O=L.duration,D=L.delay||0;return L.backwards===!0&&(f=d.extend(!0,[],f).reverse()),d.each(f,function(t,e){parseFloat(L.stagger)?L.delay=D+parseFloat(L.stagger)*t:m.isFunction(L.stagger)&&(L.delay=D+L.stagger.call(e,t,C)),L.drag&&(L.duration=parseFloat(O)||(/^(callout|transition)/.test(g)?1e3:v),L.duration=Math.max(L.duration*(L.backwards?1-t/C:(t+1)/C),.75*L.duration,200)),b.Redirects[g].call(e,e,L||{},t,C,f,S.promise?S:r)}),t()}var M="Velocity: First argument ("+g+") was not a property map, a known action, or a registered redirect. Aborting.";return S.promise?S.rejecter(new Error(M)):console.log(M),t()}P="start"}var R={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},N=[];d.each(f,function(t,e){m.isNode(e)&&i.call(e)});var F,L=d.extend({},b.defaults,y);if(L.loop=parseInt(L.loop),F=2*L.loop-1,L.loop)for(var I=0;F>I;I++){var B={delay:L.delay,progress:L.progress};I===F-1&&(B.display=L.display,B.visibility=L.visibility,B.complete=L.complete),x(f,"reverse",B)}return t()}};b=d.extend(x,b),b.animate=x;var C=e.requestAnimationFrame||f;return b.State.isMobile||n.hidden===r||n.addEventListener("visibilitychange",function(){n.hidden?(C=function(t){return setTimeout(function(){t(!0)},16)},c()):C=e.requestAnimationFrame||f}),t.Velocity=b,t!==e&&(t.fn.velocity=x,t.fn.velocity.defaults=b.defaults),d.each(["Down","Up"],function(t,e){b.Redirects["slide"+e]=function(t,n,i,o,s,a){var l=d.extend({},n),u=l.begin,c=l.complete,h={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},p={};l.display===r&&(l.display="Down"===e?"inline"===b.CSS.Values.getDisplayType(t)?"inline-block":"block":"none"),l.begin=function(){u&&u.call(s,s);for(var n in h){p[n]=t.style[n];var r=b.CSS.getPropertyValue(t,n);h[n]="Down"===e?[r,0]:[0,r]}p.overflow=t.style.overflow,t.style.overflow="hidden"},l.complete=function(){for(var e in p)t.style[e]=p[e];c&&c.call(s,s),a&&a.resolver(s)},b(t,h,l)}}),d.each(["In","Out"],function(t,e){b.Redirects["fade"+e]=function(t,n,i,o,s,a){var l=d.extend({},n),u={opacity:"In"===e?1:0},c=l.complete;i!==o-1?l.complete=l.begin=null:l.complete=function(){c&&c.call(s,s),a&&a.resolver(s)},l.display===r&&(l.display="In"===e?"auto":"none"),b(this,u,l)}}),b}(window.jQuery||window.Zepto||window,window,document)}),function(t){"function"==typeof define&&define.amd?define(["moment"],t):"object"==typeof exports?module.exports=t(require("../moment")):t(("undefined"!=typeof global?global:this).moment)}(function(t){var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");return t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,r){return/-MMM-/.test(r)?n[t.month()]:e[t.month()]},weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sá".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}),L.GeoSearch={},L.GeoSearch.Provider={},L.GeoSearch.Result=function(t,e,n,r){this.X=t,this.Y=e,this.Label=n,this.bounds=r},L.Control.GeoSearch=L.Control.extend({options:{position:"topcenter",showMarker:!0,retainZoomLevel:!1,draggable:!1},_config:{country:"",searchLabel:"search for address ...",notFoundMessage:"Sorry, that address could not be found.",messageHideDelay:3e3,zoomLevel:18},initialize:function(t){L.Util.extend(this.options,t),L.Util.extend(this._config,t)},onAdd:function(t){for(var e=t._controlContainer,n=e.childNodes,r=!1,i=0,o=n.length;o>i;i++){var s=n[i].className;if(/leaflet-top/.test(s)&&/leaflet-center/.test(s)){r=!0;break}}if(!r){var a=document.createElement("div");a.className+="leaflet-top leaflet-center",e.appendChild(a),t._controlCorners.topcenter=a}this._map=t,this._container=L.DomUtil.create("div","leaflet-control-geosearch");var l=document.createElement("input");l.id="leaflet-control-geosearch-qry",l.type="text",l.placeholder=this._config.searchLabel,this._searchbox=l;var u=document.createElement("div");u.id="leaflet-control-geosearch-msg",u.className="leaflet-control-geosearch-msg",this._msgbox=u;var c=document.createElement("ul");return c.id="leaflet-control-geosearch-results",this._resultslist=c,this._msgbox.appendChild(this._resultslist),this._container.appendChild(this._searchbox),this._container.appendChild(this._msgbox),L.DomEvent.addListener(this._container,"click",L.DomEvent.stop).addListener(this._searchbox,"keypress",this._onKeyUp,this),L.DomEvent.disableClickPropagation(this._container),this._container},geosearch:function(t){var e=this;try{var n=this._config.provider;if("function"==typeof n.GetLocations){n.GetLocations(t,function(t){e._processResults(t)})}else{var r=n.GetServiceUrl(t);this.sendRequest(n,r)}}catch(i){this._printError(i)}},sendRequest:function(t,e){function n(t){t+="&callback=parseLocation";var e=document.createElement("script");e.id="getJsonP",e.src=t,e.async=!0,document.body.appendChild(e)}var r=this;if(window.parseLocation=function(e){var n=t.ParseJSON(e);r._processResults(n),document.body.removeChild(document.getElementById("getJsonP")),delete window.parseLocation},XMLHttpRequest){var i=new XMLHttpRequest;if("withCredentials"in i){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState)if(200==i.status){var o=JSON.parse(i.responseText),s=t.ParseJSON(o);r._processResults(s)}else 0==i.status||400==i.status?n(e):r._printError(i.responseText)},i.open("GET",e,!0),i.send()}else if(XDomainRequest){var o=new XDomainRequest;o.onerror=function(t){r._printError(t)},o.onload=function(){var e=JSON.parse(o.responseText),n=t.ParseJSON(e);r._processResults(n)},o.open("GET",e),o.send()}else n(e)}},_processResults:function(t){t.length>0?(this._map.fireEvent("geosearch_foundlocations",{Locations:t}),this._showLocation(t[0])):this._printError(this._config.notFoundMessage)},_showLocation:function(t){1==this.options.showMarker&&("undefined"==typeof this._positionMarker?this._positionMarker=L.marker([t.Y,t.X],{draggable:this.options.draggable}).addTo(this._map):this._positionMarker.setLatLng([t.Y,t.X])),!this.options.retainZoomLevel&&t.bounds&&t.bounds.isValid()?this._map.fitBounds(t.bounds):this._map.setView([t.Y,t.X],this._getZoomLevel(),!1),this._map.fireEvent("geosearch_showlocation",{Location:t,Marker:this._positionMarker})},_printError:function(t){var e=this._resultslist;e.innerHTML="<li>"+t+"</li>",e.style.display="block",this._map.fireEvent("geosearch_error",{message:t}),setTimeout(function(){e.style.display="none"},3e3)},_onKeyUp:function(t){var e=27,n=13;t.keyCode===e?(this._searchbox.value="",this._map._container.focus()):t.keyCode===n&&(t.preventDefault(),t.stopPropagation(),this.geosearch(this._searchbox.value))},_getZoomLevel:function(){return this.options.retainZoomLevel?this._map.zoom:this._config.zoomLevel}}),onLoadGoogleApiCallback=function(){L.GeoSearch.Provider.Google.Geocoder=new google.maps.Geocoder,document.body.removeChild(document.getElementById("load_google_api"))},L.GeoSearch.Provider.Google=L.Class.extend({options:{},initialize:function(t){t=L.Util.setOptions(this,t),window.google&&window.google.maps||this.loadMapsApi()},loadMapsApi:function(){var t="https://maps.googleapis.com/maps/api/js?v=3&callback=onLoadGoogleApiCallback&sensor=false",e=document.createElement("script");e.id="load_google_api",e.type="text/javascript",e.src=t,document.body.appendChild(e)},GetLocations:function(t,e){var n=L.GeoSearch.Provider.Google.Geocoder,r=L.Util.extend({address:t},this.options);n.geocode(r,function(t){t={results:t};for(var n,r,i,o=[],s=0;s<t.results.length;s++){if(t.results[s].geometry.bounds){var a=t.results[s].geometry.bounds.getNorthEast(),l=t.results[s].geometry.bounds.getSouthWest();n=new L.LatLng(a.lat(),a.lng()),r=new L.LatLng(l.lat(),l.lng()),i=new L.LatLngBounds([n,r])}else i=void 0;o.push(new L.GeoSearch.Result(t.results[s].geometry.location.lng(),t.results[s].geometry.location.lat(),t.results[s].formatted_address,i))}"function"==typeof e&&e(o)})}}),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.omnivore=t()}}(function(){var t;return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e){function n(t,e){"addData"in t&&t.addData(e),"setGeoJSON"in t&&t.setGeoJSON(e)}function r(t,e,r){var i=r||L.geoJson();return v(t,function(t,e){return t?i.fire("error",{error:t}):(n(i,JSON.parse(e.responseText)),void i.fire("ready"))}),i}function i(t,e,n){function r(t,n){return t?i.fire("error",{error:t}):(c(n.responseText,e,i),void i.fire("ready"))}var i=n||L.geoJson();return v(t,r),i}function o(t,e,n){function r(t,n){function r(){o=!0}var o;return t?i.fire("error",{error:t}):(i.on("error",r),h(n.responseText,e,i),i.off("error",r),void(o||i.fire("ready")))}var i=n||L.geoJson();return v(t,r),i}function s(t,e,n){function r(t,n){function r(){o=!0}var o;return t?i.fire("error",{error:t}):(i.on("error",r),d(n.responseXML||n.responseText,e,i),i.off("error",r),void(o||i.fire("ready")))}var i=n||L.geoJson();return v(t,r),i}function a(t,e,n){function r(t,n){function r(){o=!0}var o;return t?i.fire("error",{error:t}):(i.on("error",r),p(n.responseXML||n.responseText,e,i),i.off("error",r),void(o||i.fire("ready")))}var i=n||L.geoJson();return v(t,r),i}function l(t,e,n){function r(t,n){return t?i.fire("error",{error:t}):(m(n.responseText,e,i),void i.fire("ready"))}var i=n||L.geoJson();return v(t,r),i}function u(t,e,n){function r(t,n){return t?i.fire("error",{error:t}):(f(n.responseText,e,i),void i.fire("ready"))}var i=n||L.geoJson();return v(t,r),i}function c(t,e,r){var i="string"==typeof t?JSON.parse(t):t;r=r||L.geoJson();for(var o in i.objects){var s=w.feature(i,i.objects[o]);s.features?n(r,s.features):n(r,s)}return r}function h(t,e,r){function i(t,e){return t?r.fire("error",{error:t}):void n(r,e)}return r=r||L.geoJson(),e=e||{},y.csv2geojson(t,e,i),r}function d(t,e,r){var i=g(t);if(!i)return r.fire("error",{error:"Could not parse GPX"});r=r||L.geoJson();var o=x.gpx(i);return n(r,o),r}function p(t,e,r){var i=g(t);if(!i)return r.fire("error",{error:"Could not parse KML"});r=r||L.geoJson();var o=x.kml(i);return n(r,o),r}function f(t,e,r){r=r||L.geoJson(),e=e||{};for(var i=_.decode(t,e.precision),o={type:"LineString",coordinates:[]},s=0;s<i.length;s++)o.coordinates[s]=[i[s][1],i[s][0]];return n(r,o),r}function m(t,e,r){r=r||L.geoJson();var i=b(t);return n(r,i),r}function g(t){return"string"==typeof t?(new DOMParser).parseFromString(t,"text/xml"):t}var v=t("corslite"),y=t("csv2geojson"),b=t("wellknown"),_=t("polyline"),w=t("topojson/topojson.js"),x=t("togeojson");e.exports.polyline=u,e.exports.polyline.parse=f,e.exports.geojson=r,e.exports.topojson=i,e.exports.topojson.parse=c,e.exports.csv=o,e.exports.csv.parse=h,e.exports.gpx=s,e.exports.gpx.parse=d,e.exports.kml=a,e.exports.kml.parse=p,e.exports.wkt=l,e.exports.wkt.parse=m},{corslite:5,csv2geojson:6,polyline:9,togeojson:10,"topojson/topojson.js":11,wellknown:12}],2:[function(){},{}],3:[function(t,e){e.exports=t(2)},{"/Users/tmcw/src/leaflet-omnivore/node_modules/browserify/lib/_empty.js":2}],4:[function(t,e){function n(){}var r=e.exports={};r.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.MutationObserver,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};var r=[];if(e){var i=document.createElement("div"),o=new MutationObserver(function(){var t=r.slice();r.length=0,t.forEach(function(t){t()})});return o.observe(i,{attributes:!0}),function(t){r.length||i.setAttribute("yes","no"),r.push(t)}}return n?(window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),r.length>0)){var n=r.shift();n()}},!0),function(t){r.push(t),window.postMessage("process-tick","*")}):function(t){setTimeout(t,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=n,r.addListener=n,r.once=n,r.off=n,r.removeListener=n,r.removeAllListeners=n,r.emit=n,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")}},{}],5:[function(t,e){function n(t,e,n){function r(t){return t>=200&&300>t||304===t}function i(){void 0===a.status||r(a.status)?e.call(a,null,a):e.call(a,a,null)}var o=!1;if("undefined"==typeof window.XMLHttpRequest)return e(Error("Browser not supported"));if("undefined"==typeof n){var s=t.match(/^\s*https?:\/\/[^\/]*/);n=s&&s[0]!==location.protocol+"//"+location.domain+(location.port?":"+location.port:"")}var a=new window.XMLHttpRequest;if(n&&!("withCredentials"in a)){a=new window.XDomainRequest;var l=e;e=function(){if(o)l.apply(this,arguments);else{var t=this,e=arguments;setTimeout(function(){l.apply(t,e)},0)}}}return"onload"in a?a.onload=i:a.onreadystatechange=function(){4===a.readyState&&i()},a.onerror=function(t){e.call(this,t||!0,null),e=function(){}},a.onprogress=function(){},a.ontimeout=function(t){e.call(this,t,null),e=function(){}},a.onabort=function(t){e.call(this,t,null),e=function(){}},a.open("GET",t,!0),a.send(null),o=!0,a}"undefined"!=typeof e&&(e.exports=n)},{}],6:[function(t,e){function n(t){return!!t.match(/(Lat)(itude)?/gi)}function r(t){return!!t.match(/(L)(on|ng)(gitude)?/i)}function i(t){return"object"==typeof t?Object.keys(t).length:0}function o(t){var e=[",",";","	","|"],n=[];return e.forEach(function(e){var r=c(e).parse(t);if(r.length>=1){for(var o=i(r[0]),s=0;s<r.length;s++)if(i(r[s])!==o)return;n.push({delimiter:e,arity:Object.keys(r[0]).length})}}),n.length?n.sort(function(t,e){return e.arity-t.arity})[0].delimiter:null}function s(t){var e=o(t);return e?c(e).parse(t):null}function a(t,e,i){i||(i=e,e={}),e.delimiter=e.delimiter||",";var s=e.latfield||"",a=e.lonfield||"",l=[],u={type:"FeatureCollection",features:l};if("auto"===e.delimiter&&"string"==typeof t&&(e.delimiter=o(t),!e.delimiter))return i({type:"Error",message:"Could not autodetect delimiter"});var d="string"==typeof t?c(e.delimiter).parse(t):t;if(!d.length)return i(null,u);if(!s||!a){for(var p in d[0])!s&&n(p)&&(s=p),!a&&r(p)&&(a=p);if(!s||!a){var f=[];for(var m in d[0])f.push(m);return i({type:"Error",message:"Latitude and longitude fields not present",data:d,fields:f})}}for(var g=[],v=0;v<d.length;v++)if(void 0!==d[v][a]&&void 0!==d[v][a]){var y,b,_,w=d[v][a],x=d[v][s];_=h(w,"EW"),_&&(w=_),_=h(x,"NS"),_&&(x=_),y=parseFloat(w),b=parseFloat(x),isNaN(y)||isNaN(b)?g.push({message:"A row contained an invalid value for latitude or longitude",row:d[v]}):(e.includeLatLon||(delete d[v][a],delete d[v][s]),l.push({type:"Feature",properties:d[v],geometry:{type:"Point",coordinates:[parseFloat(y),parseFloat(b)]}}))}i(g.length?g:null,u)}function l(t){for(var e=t.features,n={type:"Feature",geometry:{type:"LineString",coordinates:[]}},r=0;r<e.length;r++)n.geometry.coordinates.push(e[r].geometry.coordinates);return n.properties=e[0].properties,{type:"FeatureCollection",features:[n]}}function u(t){for(var e=t.features,n={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},r=0;r<e.length;r++)n.geometry.coordinates[0].push(e[r].geometry.coordinates);return n.properties=e[0].properties,{type:"FeatureCollection",features:[n]}}var c=t("dsv"),h=t("sexagesimal");e.exports={isLon:r,isLat:n,csv:c.csv.parse,tsv:c.tsv.parse,dsv:c,auto:s,csv2geojson:a,toLine:l,toPolygon:u}},{dsv:7,sexagesimal:8}],7:[function(t,e){t("fs"),e.exports=new Function('dsv.version = "0.0.3";\n\ndsv.tsv = dsv("\\t");\ndsv.csv = dsv(",");\n\nfunction dsv(delimiter) {\n  var dsv = {},\n      reFormat = new RegExp("[\\"" + delimiter + "\\n]"),\n      delimiterCode = delimiter.charCodeAt(0);\n\n  dsv.parse = function(text, f) {\n    var o;\n    return dsv.parseRows(text, function(row, i) {\n      if (o) return o(row, i - 1);\n      var a = new Function("d", "return {" + row.map(function(name, i) {\n        return JSON.stringify(name) + ": d[" + i + "]";\n      }).join(",") + "}");\n      o = f ? function(row, i) { return f(a(row), i); } : a;\n    });\n  };\n\n  dsv.parseRows = function(text, f) {\n    var EOL = {}, // sentinel value for end-of-line\n        EOF = {}, // sentinel value for end-of-file\n        rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // the current line number\n        t, // the current token\n        eol; // is the current token followed by EOL?\n\n    function token() {\n      if (I >= N) return EOF; // special case: end of file\n      if (eol) return eol = false, EOL; // special case: end of line\n\n      // special case: quotes\n      var j = I;\n      if (text.charCodeAt(j) === 34) {\n        var i = j;\n        while (i++ < N) {\n          if (text.charCodeAt(i) === 34) {\n            if (text.charCodeAt(i + 1) !== 34) break;\n            ++i;\n          }\n        }\n        I = i + 2;\n        var c = text.charCodeAt(i + 1);\n        if (c === 13) {\n          eol = true;\n          if (text.charCodeAt(i + 2) === 10) ++I;\n        } else if (c === 10) {\n          eol = true;\n        }\n        return text.substring(j + 1, i).replace(/""/g, "\\"");\n      }\n\n      // common case: find next delimiter or newline\n      while (I < N) {\n        var c = text.charCodeAt(I++), k = 1;\n        if (c === 10) eol = true; // \\n\n        else if (c === 13) { eol = true; if (text.charCodeAt(I) === 10) ++I, ++k; } // \\r|\\r\\n\n        else if (c !== delimiterCode) continue;\n        return text.substring(j, I - k);\n      }\n\n      // special case: last token before EOF\n      return text.substring(j);\n    }\n\n    while ((t = token()) !== EOF) {\n      var a = [];\n      while (t !== EOL && t !== EOF) {\n        a.push(t);\n        t = token();\n      }\n      if (f && !(a = f(a, n++))) continue;\n      rows.push(a);\n    }\n\n    return rows;\n  };\n\n  dsv.format = function(rows) {\n    if (Array.isArray(rows[0])) return dsv.formatRows(rows); // deprecated; use formatRows\n    var fieldSet = {}, fields = [];\n\n    // Compute unique fields in order of discovery.\n    rows.forEach(function(row) {\n      for (var field in row) {\n        if (!(field in fieldSet)) {\n          fields.push(fieldSet[field] = field);\n        }\n      }\n    });\n\n    return [fields.map(formatValue).join(delimiter)].concat(rows.map(function(row) {\n      return fields.map(function(field) {\n        return formatValue(row[field]);\n      }).join(delimiter);\n    })).join("\\n");\n  };\n\n  dsv.formatRows = function(rows) {\n    return rows.map(formatRow).join("\\n");\n  };\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(text) {\n    return reFormat.test(text) ? "\\"" + text.replace(/\\"/g, "\\"\\"") + "\\"" : text;\n  }\n\n  return dsv;\n}\n;return dsv')();
},{fs:2}],8:[function(t,e){e.exports=function(t,e){if(e||(e="NSEW"),"string"!=typeof t)return null;var n=/^([0-9.]+)°? *(?:([0-9.]+)['’′‘] *)?(?:([0-9.]+)(?:''|"|”|″) *)?([NSEW])?/,r=t.match(n);return r?r[4]&&-1===e.indexOf(r[4])?null:((r[1]?parseFloat(r[1]):0)+(r[2]?parseFloat(r[2])/60:0)+(r[3]?parseFloat(r[3])/3600:0))*(r[4]&&"S"===r[4]||"W"===r[4]?-1:1):null}},{}],9:[function(t,e){function n(t,e){t=Math.round(t*e),t<<=1,0>t&&(t=~t);for(var n="";t>=32;)n+=String.fromCharCode((32|31&t)+63),t>>=5;return n+=String.fromCharCode(t+63)}var r={};r.decode=function(t,e){for(var n,r,i=0,o=0,s=0,a=[],l=0,u=0,c=null,h=Math.pow(10,e||5);i<t.length;){c=null,l=0,u=0;do c=t.charCodeAt(i++)-63,u|=(31&c)<<l,l+=5;while(c>=32);n=1&u?~(u>>1):u>>1,l=u=0;do c=t.charCodeAt(i++)-63,u|=(31&c)<<l,l+=5;while(c>=32);r=1&u?~(u>>1):u>>1,o+=n,s+=r,a.push([o/h,s/h])}return a},r.encode=function(t,e){if(!t.length)return"";for(var r=Math.pow(10,e||5),i=n(t[0][0],r)+n(t[0][1],r),o=1;o<t.length;o++){var s=t[o],a=t[o-1];i+=n(s[0]-a[0],r),i+=n(s[1]-a[1],r)}return i},void 0!==typeof e&&(e.exports=r)},{}],10:[function(t,e,n){(function(r){toGeoJSON=function(){"use strict";function e(t){if(!t||!t.length)return 0;for(var e=0,n=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e)|0;return n}function i(t,e){return t.getElementsByTagName(e)}function o(t,e){return t.getAttribute(e)}function s(t,e){return parseFloat(o(t,e))}function a(t,e){var n=i(t,e);return n.length?n[0]:null}function l(t){return t.normalize&&t.normalize(),t}function u(t){for(var e=0,n=[];e<t.length;e++)n[e]=parseFloat(t[e]);return n}function c(t){var e={};for(var n in t)t[n]&&(e[n]=t[n]);return e}function h(t){return t&&l(t),t&&t.firstChild&&t.firstChild.nodeValue||""}function d(t){return u(t.replace(y,"").split(","))}function p(t){for(var e=t.replace(b,"").split(_),n=[],r=0;r<e.length;r++)n.push(d(e[r]));return n}function f(t){var e=[s(t,"lon"),s(t,"lat")],n=a(t,"ele"),r=a(t,"time");return n&&e.push(parseFloat(h(n))),{coordinates:e,time:r?h(r):null}}function m(){return{type:"FeatureCollection",features:[]}}function g(t){return void 0!==t.xml?t.xml:v.serializeToString(t)}var v,y=/\s*/g,b=/^\s*|\s*$/g,_=/\s+/;"undefined"!=typeof XMLSerializer?v=new XMLSerializer:"object"!=typeof n||"object"!=typeof r||r.browser||(v=new(t("xmldom").XMLSerializer));var w={kml:function(t){function n(t){var e,n;return t=t||"","#"===t.substr(0,1)&&(t=t.substr(1)),(6===t.length||3===t.length)&&(e=t),8===t.length&&(n=parseInt(t.substr(0,2),16)/255,e=t.substr(2)),[e,isNaN(n)?void 0:n]}function r(t){return u(t.split(" "))}function s(t){var e=i(t,"coord","gx"),n=[],o=[];0===e.length&&(e=i(t,"gx:coord"));for(var s=0;s<e.length;s++)n.push(r(h(e[s])));for(var a=i(t,"when"),s=0;s<a.length;s++)o.push(h(a[s]));return{coords:n,times:o}}function l(t){var e,n,r,o,u,c=[],f=[];if(a(t,"MultiGeometry"))return l(a(t,"MultiGeometry"));if(a(t,"MultiTrack"))return l(a(t,"MultiTrack"));if(a(t,"gx:MultiTrack"))return l(a(t,"gx:MultiTrack"));for(r=0;r<y.length;r++)if(n=i(t,y[r]))for(o=0;o<n.length;o++)if(e=n[o],"Point"==y[r])c.push({type:"Point",coordinates:d(h(a(e,"coordinates")))});else if("LineString"==y[r])c.push({type:"LineString",coordinates:p(h(a(e,"coordinates")))});else if("Polygon"==y[r]){var m=i(e,"LinearRing"),g=[];for(u=0;u<m.length;u++)g.push(p(h(a(m[u],"coordinates"))));c.push({type:"Polygon",coordinates:g})}else if("Track"==y[r]||"gx:Track"==y[r]){var v=s(e);c.push({type:"LineString",coordinates:v.coords}),v.times.length&&f.push(v.times)}return{geoms:c,coordTimes:f}}function c(t){var e,r=l(t),s={},u=h(a(t,"name")),c=h(a(t,"styleUrl")),d=h(a(t,"description")),p=a(t,"TimeSpan"),f=a(t,"ExtendedData"),m=a(t,"LineStyle"),g=a(t,"PolyStyle");if(!r.geoms.length)return[];if(u&&(s.name=u),c&&v[c]&&(s.styleUrl=c,s.styleHash=v[c]),d&&(s.description=d),p){var y=h(a(p,"begin")),b=h(a(p,"end"));s.timespan={begin:y,end:b}}if(m){var _=n(h(a(m,"color"))),w=_[0],x=_[1],C=parseFloat(h(a(m,"width")));w&&(s.stroke=w),isNaN(x)||(s["stroke-opacity"]=x),isNaN(C)||(s["stroke-width"]=C)}if(g){var T=n(h(a(g,"color"))),E=T[0],k=T[1],S=h(a(g,"fill")),P=h(a(g,"outline"));E&&(s.fill=E),isNaN(k)||(s["fill-opacity"]=k),S&&(s["fill-opacity"]="1"===S?1:0),P&&(s["stroke-opacity"]="1"===P?1:0)}if(f){var A=i(f,"Data"),L=i(f,"SimpleData");for(e=0;e<A.length;e++)s[A[e].getAttribute("name")]=h(a(A[e],"value"));for(e=0;e<L.length;e++)s[L[e].getAttribute("name")]=h(L[e])}r.coordTimes.length&&(s.coordTimes=1===r.coordTimes.length?r.coordTimes[0]:r.coordTimes);var O={type:"Feature",geometry:1===r.geoms.length?r.geoms[0]:{type:"GeometryCollection",geometries:r.geoms},properties:s};return o(t,"id")&&(O.id=o(t,"id")),[O]}for(var f=m(),v={},y=["Polygon","LineString","Point","Track","gx:Track"],b=i(t,"Placemark"),_=i(t,"Style"),w=0;w<_.length;w++)v["#"+o(_[w],"id")]=e(g(_[w])).toString(16);for(var x=0;x<b.length;x++)f.features=f.features.concat(c(b[x]));return f},gpx:function(t){function e(t,e){var n=i(t,e),r=[],o=[],s=n.length;if(!(2>s)){for(var a=0;s>a;a++){var l=f(n[a]);r.push(l.coordinates),l.time&&o.push(l.time)}return{line:r,times:o}}}function n(t){for(var n,r=i(t,"trkseg"),o=[],a=[],l=0;l<r.length;l++)n=e(r[l],"trkpt"),n.line&&o.push(n.line),n.times.length&&a.push(n.times);if(0!==o.length){var u=s(t);return a.length&&(u.coordTimes=1===o.length?a[0]:a),{type:"Feature",properties:u,geometry:{type:1===o.length?"LineString":"MultiLineString",coordinates:1===o.length?o[0]:o}}}}function r(t){var n=e(t,"rtept");if(n){var r={type:"Feature",properties:s(t),geometry:{type:"LineString",coordinates:n}};return n.times.length&&(r.geometry.times=n.times),r}}function o(t){var e=s(t);return e.sym=h(a(t,"sym")),{type:"Feature",properties:e,geometry:{type:"Point",coordinates:f(t).coordinates}}}function s(t){var e,n=["name","desc","author","copyright","link","time","keywords"],r={};for(e=0;e<n.length;e++)r[n[e]]=h(a(t,n[e]));return c(r)}var l,u,d=i(t,"trk"),p=i(t,"rte"),g=i(t,"wpt"),v=m();for(l=0;l<d.length;l++)u=n(d[l]),u&&v.features.push(u);for(l=0;l<p.length;l++)u=r(p[l]),u&&v.features.push(u);for(l=0;l<g.length;l++)v.features.push(o(g[l]));return v}};return w}(),"undefined"!=typeof e&&(e.exports=toGeoJSON)}).call(this,t("_process"))},{_process:4,xmldom:3}],11:[function(e,r){!function(){function e(t,e){function n(e){var n,r=t.arcs[0>e?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=r[r.length-1],0>e?[n,i]:[i,n]}function r(t,e){for(var n in t){var r=t[n];delete e[r.start],delete r.start,delete r.end,r.forEach(function(t){i[0>t?~t:t]=1}),a.push(r)}}var i={},o={},s={},a=[],l=-1;return e.forEach(function(n,r){var i,o=t.arcs[0>n?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++l],e[l]=n,e[r]=i)}),e.forEach(function(t){var e,r,i=n(t),a=i[0],l=i[1];if(e=s[a])if(delete s[e.end],e.push(t),e.end=l,r=o[l]){delete o[r.start];var u=r===e?e:e.concat(r);o[u.start=e.start]=s[u.end=r.end]=u}else o[e.start]=s[e.end]=e;else if(e=o[l])if(delete o[e.start],e.unshift(t),e.start=a,r=s[a]){delete s[r.end];var c=r===e?e:r.concat(e);o[c.start=r.start]=s[c.end=e.end]=c}else o[e.start]=s[e.end]=e;else e=[t],o[e.start=a]=s[e.end=l]=e}),r(s,o),r(o,s),e.forEach(function(t){i[0>t?~t:t]||a.push([t])}),a}function i(t,n,r){function i(t){var e=0>t?~t:t;(c[e]||(c[e]=[])).push({i:t,g:u})}function o(t){t.forEach(i)}function s(t){t.forEach(o)}function a(t){"GeometryCollection"===t.type?t.geometries.forEach(a):t.type in h&&(u=t,h[t.type](t.arcs))}var l=[];if(arguments.length>1){var u,c=[],h={LineString:o,MultiLineString:s,Polygon:s,MultiPolygon:function(t){t.forEach(s)}};a(n),c.forEach(arguments.length<3?function(t){l.push(t[0].i)}:function(t){r(t[0].g,t[t.length-1].g)&&l.push(t[0].i)})}else for(var d=0,p=t.arcs.length;p>d;++d)l.push(d);return{type:"MultiLineString",arcs:e(t,l)}}function o(t,r){function i(t){t.forEach(function(e){e.forEach(function(e){(s[e=0>e?~e:e]||(s[e]=[])).push(t)})}),a.push(t)}function o(e){return p(l(t,{type:"Polygon",arcs:[e]}).coordinates[0])>0}var s={},a=[],u=[];return r.forEach(function(t){"Polygon"===t.type?i(t.arcs):"MultiPolygon"===t.type&&t.arcs.forEach(i)}),a.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,u.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){s[0>t?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),a.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:u.map(function(r){var i=[];if(r.forEach(function(t){t.forEach(function(t){t.forEach(function(t){s[0>t?~t:t].length<2&&i.push(t)})})}),i=e(t,i),(n=i.length)>1)for(var a,l=o(r[0][0]),u=0;u<n;++u)if(l===o(i[u])){a=i[0],i[0]=i[u],i[u]=a;break}return i})}}function s(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return a(t,e)})}:a(t,e)}function a(t,e){var n={type:"Feature",id:e.id,properties:e.properties||{},geometry:l(t,e)};return null==e.id&&delete n.id,n}function l(t,e){function n(t,e){e.length&&e.pop();for(var n,r=c[0>t?~t:t],i=0,o=r.length;o>i;++i)e.push(n=r[i].slice()),l(n,i);0>t&&u(e,o)}function r(t){return t=t.slice(),l(t,0),t}function i(t){for(var e=[],r=0,i=t.length;i>r;++r)n(t[r],e);return e.length<2&&e.push(e[0].slice()),e}function o(t){for(var e=i(t);e.length<4;)e.push(e[0].slice());return e}function s(t){return t.map(o)}function a(t){var e=t.type;return"GeometryCollection"===e?{type:e,geometries:t.geometries.map(a)}:e in h?{type:e,coordinates:h[e](t)}:null}var l=v(t.transform),c=t.arcs,h={Point:function(t){return r(t.coordinates)},MultiPoint:function(t){return t.coordinates.map(r)},LineString:function(t){return i(t.arcs)},MultiLineString:function(t){return t.arcs.map(i)},Polygon:function(t){return s(t.arcs)},MultiPolygon:function(t){return t.arcs.map(s)}};return a(e)}function u(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function c(t,e){for(var n=0,r=t.length;r>n;){var i=n+r>>>1;t[i]<e?n=i+1:r=i}return n}function h(t){function e(t,e){t.forEach(function(t){0>t&&(t=~t);var n=i[t];n?n.push(e):i[t]=[e]})}function n(t,n){t.forEach(function(t){e(t,n)})}function r(t,e){"GeometryCollection"===t.type?t.geometries.forEach(function(t){r(t,e)}):t.type in s&&s[t.type](t.arcs,e)}var i={},o=t.map(function(){return[]}),s={LineString:e,MultiLineString:n,Polygon:n,MultiPolygon:function(t,e){t.forEach(function(t){n(t,e)})}};t.forEach(r);for(var a in i)for(var l=i[a],u=l.length,h=0;u>h;++h)for(var d=h+1;u>d;++d){var p,f=l[h],m=l[d];(p=o[f])[a=c(p,m)]!==m&&p.splice(a,0,m),(p=o[m])[a=c(p,f)]!==f&&p.splice(a,0,f)}return o}function d(t,e){function n(t){s.remove(t),t[1][2]=e(t),s.push(t)}var r,i=v(t.transform),o=y(t.transform),s=g(),a=0;for(e||(e=f),t.arcs.forEach(function(t){var n=[];t.forEach(i);for(var o=1,a=t.length-1;a>o;++o)r=t.slice(o-1,o+2),r[1][2]=e(r),n.push(r),s.push(r);t[0][2]=t[a][2]=1/0;for(var o=0,a=n.length;a>o;++o)r=n[o],r.previous=n[o-1],r.next=n[o+1]});r=s.pop();){var l=r.previous,u=r.next;r[1][2]<a?r[1][2]=a:a=r[1][2],l&&(l.next=u,l[2]=r[2],n(l)),u&&(u.previous=l,u[0]=r[0],n(u))}return t.arcs.forEach(function(t){t.forEach(o)}),t}function p(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[0]*i[1]-e[1]*i[0];return.5*o}function f(t){var e=t[0],n=t[1],r=t[2];return Math.abs((e[0]-r[0])*(n[1]-e[1])-(e[0]-n[0])*(r[1]-e[1]))}function m(t,e){return t[1][2]-e[1][2]}function g(){function t(t,e){for(;e>0;){var n=(e+1>>1)-1,i=r[n];if(m(t,i)>=0)break;r[i._=e]=i,r[t._=e=n]=t}}function e(t,e){for(;;){var n=e+1<<1,o=n-1,s=e,a=r[s];if(i>o&&m(r[o],a)<0&&(a=r[s=o]),i>n&&m(r[n],a)<0&&(a=r[s=n]),s===e)break;r[a._=e]=a,r[t._=e=s]=t}}var n={},r=[],i=0;return n.push=function(e){return t(r[e._=i]=e,i++),i},n.pop=function(){if(!(0>=i)){var t,n=r[0];return--i>0&&(t=r[i],e(r[t._=0]=t,0)),n}},n.remove=function(n){var o,s=n._;return r[s]===n?(s!==--i&&(o=r[i],(m(o,n)<0?t:e)(r[o._=s]=o,s)),s):void 0},n}function v(t){if(!t)return b;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],s=t.translate[1];return function(t,a){a||(e=n=0),t[0]=(e+=t[0])*r+o,t[1]=(n+=t[1])*i+s}}function y(t){if(!t)return b;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],s=t.translate[1];return function(t,a){a||(e=n=0);var l=(t[0]-o)/r|0,u=(t[1]-s)/i|0;t[0]=l-e,t[1]=u-n,e=l,n=u}}function b(){}var _={version:"1.6.8",mesh:function(t){return l(t,i.apply(this,arguments))},meshArcs:i,merge:function(t){return l(t,o.apply(this,arguments))},mergeArcs:o,feature:s,neighbors:h,presimplify:d};"function"==typeof t&&t.amd?t(_):"object"==typeof r&&r.exports?r.exports=_:this.topojson=_}()},{}],12:[function(t,e){function n(t){function e(e){var n=t.substring(v).match(e);return n?(v+=n[0].length,n[0]):null}function n(t){return t&&g.match(/\d+/)&&(t.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+g}}),t}function r(){e(/^\s*/)}function o(){r();for(var t,n=0,o=[],s=[o],a=o;t=e(/^(\()/)||e(/^(\))/)||e(/^(\,)/)||e(i);){if("("==t)s.push(a),a=[],s[s.length-1].push(a),n++;else if(")"==t){if(a=s.pop(),!a)return;if(n--,0===n)break}else if(","===t)a=[],s[s.length-1].push(a);else{if(isNaN(parseFloat(t)))return null;a.push(parseFloat(t))}r()}return 0!==n?null:o}function s(){for(var t,n,o=[];n=e(i)||e(/^(\,)/);)","==n?(o.push(t),t=[]):(t||(t=[]),t.push(parseFloat(n))),r();return t&&o.push(t),o.length?o:null}function a(){if(!e(/^(point)/i))return null;if(r(),!e(/^(\()/))return null;var t=s();return t?(r(),e(/^(\))/)?{type:"Point",coordinates:t[0]}:null):null}function l(){if(!e(/^(multipoint)/i))return null;r();var t=o();return t?(r(),{type:"MultiPoint",coordinates:t}):null}function u(){if(!e(/^(multilinestring)/i))return null;r();var t=o();return t?(r(),{type:"MultiLineString",coordinates:t}):null}function c(){if(!e(/^(linestring)/i))return null;if(r(),!e(/^(\()/))return null;var t=s();return t&&e(/^(\))/)?{type:"LineString",coordinates:t}:null}function h(){return e(/^(polygon)/i)?(r(),{type:"Polygon",coordinates:o()}):null}function d(){return e(/^(multipolygon)/i)?(r(),{type:"MultiPolygon",coordinates:o()}):null}function p(){var t,n=[];if(!e(/^(geometrycollection)/i))return null;if(r(),!e(/^(\()/))return null;for(;t=f();)n.push(t),r(),e(/^(\,)/),r();return e(/^(\))/)?{type:"GeometryCollection",geometries:n}:null}function f(){return a()||c()||h()||l()||u()||d()||p()}var m=t.split(";"),t=m.pop(),g=(m.shift()||"").split("=").pop(),v=0;return n(f())}function r(t){function e(t){return 2===t.length?t[0]+" "+t[1]:3===t.length?t[0]+" "+t[1]+" "+t[2]:void 0}function n(t){return t.map(e).join(", ")}function i(t){return t.map(n).map(s).join(", ")}function o(t){return t.map(i).map(s).join(", ")}function s(t){return"("+t+")"}switch("Feature"===t.type&&(t=t.geometry),t.type){case"Point":return"POINT ("+e(t.coordinates)+")";case"LineString":return"LINESTRING ("+n(t.coordinates)+")";case"Polygon":return"POLYGON ("+i(t.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+n(t.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+o(t.coordinates)+")";case"MultiLineString":return"MULTILINESTRING ("+i(t.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+t.geometries.map(r).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}}e.exports=n,e.exports.parse=n,e.exports.stringify=r;var i=/^[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/},{}]},{},[1])(1)}),define("ember-attachable",["ember-attachable/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-bootstrap-datetimepicker",["ember-bootstrap-datetimepicker/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-bootstrap-datetimepicker/components/bs-datetimepicker",["exports","ember","ember-bootstrap-datetimepicker/mixins/datetimepicker_textfield"],function(t,e,n){"use strict";for(var r=e["default"].computed,i=e["default"].$.fn.datetimepicker.defaults,o=e["default"].keys(i),s=e["default"].Component.extend({concatenatedProperties:["textFieldClassNames"],classNames:["bs-datetimepicker-component"],textFieldClass:e["default"].TextField.extend(n["default"]),textFieldClassNames:["form-control"],textFieldName:r.alias("elementId"),textFieldOptions:null,date:null,bsDateTimePicker:null,minDate:i.minDate,maxDate:i.maxDate,disabledDates:[],enabledDates:[],dateIcon:"glyphicon glyphicon-calendar",disabled:!1,open:!1,forceDateOutput:!1,_initDatepicker:function(){var t=this,n=this.$(".datetimepicker").datetimepicker(this._buildConfig()),r=n.data("DateTimePicker");this.set("bsDateTimePicker",r),void 0===t.get("date")?r.date(null):r.date(t.get("date")),n.on("dp.change",function(n){e["default"].isNone(n.date)?t.set("date",void 0):n.date.isSame(t.get("date"))||(t.forceDateOutput?t.set("date",n.date.toDate()):t.set("date",n.date))}),this._disabledObserver(),t.get("open")&&t.get("bsDateTimePicker").show()}.on("didInsertElement"),_disabledObserver:function(){this.get("disabled")?this.get("bsDateTimePicker").disable():this.get("bsDateTimePicker").enable()}.observes("disabled"),_openObserver:function(){this.get("open")?this.get("bsDateTimePicker").show():this.get("bsDateTimePicker").hide()}.observes("open"),_minDateObserver:function(){e["default"].isNone(this.get("minDate"))?this.get("bsDateTimePicker").minDate(!1):this.get("bsDateTimePicker").minDate(this.get("minDate"))}.observes("minDate"),_maxDateObserver:function(){e["default"].isNone(this.get("maxDate"))?this.get("bsDateTimePicker").maxDate(!1):this.get("bsDateTimePicker").maxDate(this.get("maxDate"))}.observes("maxDate"),_disabledDatesObserver:function(){this.get("bsDateTimePicker").disabledDates(this.get("disabledDates"))}.observes("disabledDates"),_enabledDatesObserver:function(){this.get("bsDateTimePicker").enabledDates(this.get("enabledDates"))}.observes("enabledDates"),_dateObserver:function(){var t=this.get("bsDateTimePicker");void 0===this.get("date")?t.date(null):t.date(this.get("date"))}.observes("date"),_destroyDatepicker:function(){this.get("bsDateTimePicker").destroy()}.on("willDestroyElement"),_buildConfig:function(){for(var t={},e=0;e<o.length;e++)t[o[e]]=this.get(o[e]);return t},setUnknownProperty:function(t,n){var r,i;0===t.indexOf("textField")?(e["default"].isNone(this.get("textFieldOptions"))&&this.set("textFieldOptions",{}),r=e["default"].IS_BINDING.test(t)?t.substring(0,t.length-7):t.substring(0,t.length),i=r.substring(9),i=i.charAt(0).toLowerCase()+i.substr(1),e["default"].isNone(this.get("textFieldOptions."+r))&&(this.set("textFieldOptions."+r,i),e["default"].defineProperty(this,r,null,n))):e["default"].platform.hasPropertyAccessors?e["default"].defineProperty(this,t,null,n):this[t]=n}}),a=["minDate","maxDate","disabledDates","enabledDates","dateIcon"],l={},u=0;u<o.length;u++)a.contains(o[u])||(l[o[u]]=i[o[u]]);s.reopen(l),t["default"]=s}),define("ember-bootstrap-datetimepicker/mixins/datetimepicker_textfield",["exports","ember"],function(t,e){"use strict";t["default"]=e["default"].Mixin.create({_initDateTimePickerTextField:function(){var t=this,n=this.get("parentView.textFieldOptions");this.set("classNames",this.get("parentView.textFieldClassNames")),e["default"].isEmpty(n)||e["default"].keys(n).forEach(function(r){e["default"].defineProperty(t,n[r],e["default"].computed("parentView."+r,function(){return t.get("parentView."+r)}))})}.on("init")})}),define("ember-can",["ember-can/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-can/ability",["exports","ember"],function(t,e){"use strict";t["default"]=e["default"].Object.extend({model:null})}),define("ember-can/can-mixin",["exports","ember","ember-can/utils/can"],function(t,e,n){"use strict";t["default"]=e["default"].Mixin.create({can:function(t,e,r){return n["default"](this.container,t,e,r)}})}),define("ember-can/computed",["exports","ember","ember-can/utils/normalize"],function(t,e,n){"use strict";var r=e["default"].get,i=e["default"].set;t["default"]={ability:function(t,o){return 1===arguments.length&&(o=t),e["default"].computed(o,function(){var s=this.container,a=n.normalizeType(t),l=s.lookup("ability:"+a);e["default"].assert("No ability class found for "+a,l);var u=r(this,o);return i(l,"model",u),l})}}}),define("ember-can/helpers/can",["exports","ember","ember-can/utils/normalize"],function(t,e,n){"use strict";function r(){return"_ability-"+ ++a}function i(t,e,n,r){var i;i=n.isStream?n:e.getStream(n),s(t,r,i.value()),i.subscribe(function(e){s(t,r,e.value())})}var o=e["default"].get,s=e["default"].set,a=0;t["default"]=function(t,a,l,u){var c=t[0],h=t[1],d=u.data.view,p=d.container,f=o(d,"controller"),m=n.normalizeCombined(c),g=p.lookup("ability:"+m.type);e["default"].assert("No ability type found for "+m.type,g),h&&i(g,d,h,"model");var v,y;for(v in a)y=a[v],y.isStream||l.hashTypes&&"ID"===l.hashTypes[v]?i(g,d,y,v):s(g,v,y);var b=o(f,"_abilities");b||(b=e["default"].Object.create(),s(f,"_abilities",b));var _=r();s(b,_,g);var w=["controller._abilities",_,m.ability].join(".");return d.getStream(w)}}),define("ember-can/index",["exports","ember-can/ability","ember-can/utils/can","ember-can/can-mixin","ember-can/computed"],function(t,e,n,r,i){"use strict";t.Ability=e["default"],t.CanMixin=r["default"],t.can=n["default"],t.computed=i["default"]}),define("ember-can/utils/can",["exports","ember","ember-can/utils/normalize"],function(t,e,n){"use strict";t["default"]=function(t,r,i,o){var s=n.normalizeCombined(r),a=t.lookup("ability:"+s.type);return e["default"].assert("No ability type found for "+s.type,a),o||!i||i instanceof e["default"].Object||(o=i,i=null),i&&a.set("model",i),o&&a.setProperties(o),a.get(s.ability)}}),define("ember-can/utils/normalize",["exports","ember"],function(t,e){"use strict";function n(t){var e=t.split(" "),n=e.pop(),o=i(n),s=e[e.length-1];-1!==a.indexOf(s)&&e.pop();var l=r(e.join(" "));return{ability:l,type:o}}function r(t){return"can"+o(t)}function i(t){return s(t)}t.normalizeCombined=n,t.normalizeAbility=r,t.normalizeType=i;var o=e["default"].String.classify,s=e["default"].String.singularize||function(t){return t.replace(/s$/,"")},a=["of","in","for","to","from"]}),define("ember-cli-app-version",["ember-cli-app-version/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-cli-chart",["ember-cli-chart/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-cli-chart/chart-data-updater",["exports","ember"],function(t,e){"use strict";t["default"]=e["default"].Object.extend({redraw:!1,updateByType:function(){var t=this.get("data");return t.datasets?this.updateLinearCharts():Array.isArray(t)?this.updatePieCharts():this.get("redraw")},updateLinearCharts:function(){var t=this.get("data").datasets,e=this.get("chart"),n=this;t.forEach(function(t,r){var i=e.datasets[r];try{t.data.forEach(function(t,e){t=t||0,"undefined"!=typeof i.bars?i.bars[e].value=t:i.points[e].value=t})}catch(o){o instanceof TypeError?n.set("redraw",!0):console.error(o)}})},updatePieCharts:function(){var t=e["default"].A(this.get("data")),n=this.get("chart"),r=e["default"].A(n.segments);n.segments.forEach(function(e,r){var i=t.findBy("label",e.label);i?n.segments[r].value=i.value||0:n.removeData(r)}),t.forEach(function(t){var e=r.findBy("label",t.label);e||n.addData(t)})}})}),define("ember-cli-chart/components/ember-chart",["exports","ember","ember-cli-chart/chart-data-updater"],function(t,e,n){"use strict";t["default"]=e["default"].Component.extend({tagName:"canvas",attributeBindings:["width","height"],didInsertElement:function(){var t=this.get("element").getContext("2d"),n=this.get("data"),r=e["default"].String.classify(this.get("type")),i=e["default"].merge({},this.get("options")),o=new Chart(t)[r](n,i);if(this.get("legend")){var s=o.generateLegend();this.$().parent().append(s)}this.set("chart",o)},willDestroyElement:function(){this.get("legend")&&this.$().parent().children("[class$=legend]").remove(),this.get("chart").destroy()},updateChart:e["default"].observer("data","data.[]","options",function(){var t=this.get("chart"),e=this.get("data"),r=n["default"].create({data:e,chart:t}).updateByType();r?(this.willDestroyElement(),this.didInsertElement()):t.update()})})}),define("ember-cli-content-security-policy",["ember-cli-content-security-policy/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-cli-datepicker",["ember-cli-datepicker/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-cli-datepicker/components/date-picker",["exports","ember"],function(t,e){"use strict";t["default"]=e["default"].TextField.extend({valueFormat:"X",format:"YYYY-MM-DD",allowBlank:!1,utc:!1,date:null,yearRange:function(){var t=window.moment().year();return"%@,%@".fmt(t-3,t+4)}.property(),_yearRange:function(){var t=this.get("yearRange");if(e["default"].$.isArray(t)||(t=t.split(",")),parseInt(t[0],10)>1e3)return t;var n=window.moment().year();return[n+parseInt(t[0],10),n+parseInt(t[1],10)]}.property("yearRange"),_picker:null,didInsertElement:function(){var t=this.$()[0],n=this,r={field:t,yearRange:n.get("_yearRange"),clearInvalidInput:!0,onClose:function(){var t=n.get("utc")?window.moment.utc:window.moment,e=t(n.get("value"),n.get("format"));if(!e.isValid()||!n.get("value")){if(n.get("allowBlank"))return n.set("date",null);e=window.moment()}n._setControllerDate(e)}},i=null;["bound","position","reposition","format","firstDay","minDate","maxDate","showWeekNumber","isRTL","i18n","yearSuffix","showMonthAfterYear","numberOfMonths","mainCalendar"].forEach(function(t){e["default"].isEmpty(n.get(t))||(r[t]=n.get(t))}),i=new window.Pikaday(r),this.set("_picker",i),this.setDate()},_setControllerDate:function(t){t="date"===this.get("valueFormat")?t.toDate():t.format(this.get("valueFormat")),this.set("date",t)},willDestroyElement:function(){this.get("_picker").destroy(),this._super()},setDate:function(){var t=null;e["default"].isBlank(this.get("date"))?this.get("allowBlank")?(t=window.moment(null),this.$().val("")):(t=window.moment(),this._setControllerDate(t)):t="date"===this.get("valueFormat")?window.moment(this.get("date")):window.moment(this.get("date"),this.get("valueFormat")),this.get("_picker").setDate(t.format())}.observes("date")})}),define("ember-cli-dates",["ember-cli-dates/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-cli-dates/helpers/date-and-time",["exports","ember","ember-cli-dates/helpers/time-format"],function(t,e,n){"use strict";function r(t,e){return n.timeFormat(t,"LLL",e)}t.dateAndTime=r,t["default"]=e["default"].Handlebars.makeBoundHelper(r)}),define("ember-cli-dates/helpers/day-of-the-week",["exports","ember","moment","ember-cli-dates/utils/time-locale","ember-cli-dates/utils/valid-args"],function(t,e,n,r,i){"use strict";function o(t,o){if(i["default"](arguments,"day-of-the-week"),e["default"].isBlank(t))return"";var s=r["default"](o);return n["default"](t).locale(s).format("dddd")}t.dayOfTheWeek=o,t["default"]=e["default"].Handlebars.makeBoundHelper(o)}),define("ember-cli-dates/helpers/month-and-day",["exports","ember","moment","ember-cli-dates/utils/time-locale","ember-cli-dates/utils/valid-args"],function(t,e,n,r,i){"use strict";function o(t,o){if(i["default"](arguments,"day-of-the-week"),e["default"].isBlank(t))return"";var s=r["default"](o);return n["default"](t).locale(s).format("MMM Do")}t.monthAndDay=o,t["default"]=e["default"].Handlebars.makeBoundHelper(o)}),define("ember-cli-dates/helpers/month-and-year",["exports","ember","moment","ember-cli-dates/utils/time-locale","ember-cli-dates/utils/valid-args"],function(t,e,n,r,i){"use strict";function o(t,o){if(i["default"](arguments,"day-of-the-week"),e["default"].isBlank(t))return"";var s=r["default"](o);return n["default"](t).locale(s).format("MMM YYYY")}t.monthAndYear=o,t["default"]=e["default"].Handlebars.makeBoundHelper(o)}),define("ember-cli-dates/helpers/time-ago-in-words",["exports","ember","moment","ember-cli-dates/utils/time-locale","ember-cli-dates/utils/valid-args"],function(t,e,n,r,i){"use strict";function o(t,o){if(i["default"](arguments,"time-ago-in-words"),e["default"].isBlank(t))return"";var s=r["default"](o);return n["default"](t).locale(s).fromNow()}t.timeAgoInWords=o,t["default"]=e["default"].Handlebars.makeBoundHelper(o)}),define("ember-cli-dates/helpers/time-ahead-in-words",["exports","ember","moment","ember-cli-dates/utils/time-locale","ember-cli-dates/utils/valid-args"],function(t,e,n,r,i){"use strict";function o(t,o){if(i["default"](arguments,"time-ahead-in-words"),e["default"].isBlank(t))return"";var s=r["default"](o);return n["default"](t).locale(s).fromNow()}t.timeAheadInWords=o,t["default"]=e["default"].Handlebars.makeBoundHelper(o)}),define("ember-cli-dates/helpers/time-delta-in-words",["exports","ember","moment","ember-cli-dates/utils/time-locale","ember-cli-dates/utils/valid-args"],function(t,e,n,r,i){"use strict";function o(t,o){if(i["default"](arguments,"time-delta-in-words"),e["default"].isBlank(t))return"";var s=r["default"](o);return n["default"](t).locale(s).fromNow()}t.timeDeltaInWords=o,t["default"]=e["default"].Handlebars.makeBoundHelper(o)}),define("ember-cli-dates/helpers/time-format",["exports","ember","moment","ember-cli-dates/utils/time-locale","ember-cli-dates/utils/valid-args"],function(t,e,n,r,i){"use strict";function o(t,o,s){if(i["default"](arguments,"time-format"),e["default"].isBlank(t))return"";var a=r["default"](s),l="LL";return"string"===e["default"].typeOf(o)&&(l=o),n["default"](t).locale(a).format(l)}t.timeFormat=o,t["default"]=e["default"].Handlebars.makeBoundHelper(o)}),define("ember-cli-dates/utils/time-locale",["exports","ember","moment"],function(t,e,n){"use strict";function r(t){return"string"===e["default"].typeOf(t)?t:n["default"]().locale()}t["default"]=r}),define("ember-cli-dates/utils/valid-args",["exports","ember"],function(t,e){"use strict";function n(t,n){if(e["default"].isEmpty(t)||1===t.length)throw new e["default"].Error("[ember-cli-dates:"+n+"] Invalid number of arguments, expected at least 1")}t["default"]=n}),define("ember-cli-format-number",["ember-cli-format-number/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-cli-format-number/helpers/format-number",["exports","ember","numeral"],function(t,e,n){"use strict";function r(t,r){var i=r||{},o=i.format,s=t;return e["default"].isArray(t)&&(s=t[0]),"undefined"==typeof s&&(s=null),isNaN(s)&&(s=null),n["default"](s).format(o)}t.formatNumber=r,t["default"]=e["default"].Helper.helper(r)}),define("ember-cli-html5-validation",["ember-cli-html5-validation/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-cli-html5-validation/components/async-button",["exports","ember"],function(t,e){"use strict";t["default"]=e["default"].Component.extend({tagName:"button",classNameBindings:[":async-button","isLoading:is-loading","hasErrorClass:is-error","hasSuccessClass:is-success"],attributeBindings:["disabled","type"],disabled:e["default"].computed.not("isDefault"),type:"submit",isDefault:!0,isLoading:!1,isValid:!1,hasErrorClass:function(){return!this.get("isDefault")&&!this.get("isValid")}.property("isDefault","isValid").readOnly(),hasSuccessClass:function(){return!this.get("isDefault")&&this.get("isValid")}.property("isDefault","isValid").readOnly(),observesLoading:function(){this.get("isLoading")||(this.set("isDefault",!1),e["default"].run.later(this,function(){this.set("isDefault",!0)},1500))}.observes("isLoading")})}),define("ember-cli-html5-validation/components/validatable-form",["exports","ember"],function(t,e){"use strict";t["default"]=e["default"].Component.extend({tagName:"form",attributeBindings:["novalidate"],novalidate:"novalidate",model:null,submit:function(){var t=this.get("element");return t.checkValidity()?this.sendAction("action",this.get("model")):this.scrollToFirstError(),
!1},keyDown:function(t){return 13===t.keyCode&&"textarea"!==t.target.tagName.toLowerCase()?(this.submit(),t.preventDefault(),!1):!0},extractServerErrors:function(){var t=this.get("model.errors");t.forEach(function(t){this.renderServerError(t.attribute,t.message)},this),this.scrollToFirstError(),this.get("element").checkValidity()}.observes("model.errors.[]"),renderServerError:function(t,n){var r=e["default"].String.dasherize(t),i=e["default"].typeOf(n);if("object"===i)for(var o in n)n.hasOwnProperty(o)&&this.renderServerError(t+"."+o,n[o]);else{var s=e["default"].$.find("#"+r.replace(/(:|\.|\[|\]|,)/g,"\\$1"));s.length>0&&s[0].setCustomValidity("array"===i?n[0]:n)}},scrollToFirstError:function(){for(var t=this.get("element"),n=0;n!==t.elements.length;++n)if(!t.elements[n].validity.valid){e["default"].$("html, body").animate({scrollTop:e["default"].$(t.elements[n]).offset().top-40},200);break}}})}),define("ember-cli-html5-validation/ext/checkbox",["ember","ember-cli-html5-validation/mixins/validatable-input"],function(t,e){"use strict";t["default"].Checkbox.reopen(e["default"])}),define("ember-cli-html5-validation/ext/select",["ember","ember-cli-html5-validation/mixins/validatable-input"],function(t,e){"use strict";t["default"].Select.reopen(e["default"])}),define("ember-cli-html5-validation/ext/text-area",["ember","ember-cli-html5-validation/mixins/validatable-input"],function(t,e){"use strict";t["default"].TextArea.reopen(e["default"])}),define("ember-cli-html5-validation/ext/text-field",["ember","ember-cli-html5-validation/mixins/validatable-input"],function(t,e){"use strict";t["default"].TextField.reopen(e["default"])}),define("ember-cli-html5-validation/mixins/validatable-input",["exports","ember"],function(t,e){"use strict";t["default"]=e["default"].Mixin.create({attributeBindings:["title"],wasValidated:!1,useBrowserMessages:!1,errorMessage:null,errorTemplates:{valueMissing:{defaultMessage:"Value is required",checkbox:"You must check this box",select:"You must select at least an option",radio:"You must select an option"},typeMismatch:{defaultMessage:"Value is invalid",email:"Email address is invalid",url:"URL is invalid"},patternMismatch:{defaultMessage:"Value does not follow expected pattern"},tooLong:{defaultMessage:"Enter at most %@ characters"},rangeUnderflow:{defaultMessage:"Number must be more than %@"},rangeOverflow:{defaultMessage:"Number must be less than %@"},stepMismatch:{defaultMessage:"Value is invalid"},defaultMessage:"Value is invalid"},attachValidationListener:function(){"select"===this.get("inputTagName")?e["default"].$(this.get("element")).on("invalid change",e["default"].run.bind(this,this.validate)):e["default"].$(this.get("element")).on("invalid focusout",e["default"].run.bind(this,this.validate))}.on("didInsertElement"),detachValidationListener:function(){e["default"].$(this.get("element")).off()}.on("willDestroyElement"),inputTagName:function(){return this.get("element").tagName.toLowerCase()}.property(),validate:function(){var t=this.get("element"),n=e["default"].$(t);if(!t.hasAttribute("formnovalidate")){if("textarea"===this.get("inputTagName")&&t.hasAttribute("required")){var r=e["default"].$.trim(n.val());0===r.length&&n.val("")}t.validity.valid?this.set("errorMessage",null):this.set("errorMessage",this.getErrorMessage()),t.setCustomValidity(""),this.get("wasValidated")||(n.off("focusout").on("keyup",e["default"].run.bind(this,this.validate)),this.set("wasValidated",!0))}},renderErrorMessage:function(){var t=this.$(),e=t.parent(),n=this.get("errorMessage");null===n?(e.removeClass("has-error"),t.next(".input-error").remove()):(e.addClass("has-error"),t.next(".input-error").remove(),t.after('<p class="input-error" role="alert">'+n+"</p>"))}.observes("errorMessage"),getErrorMessage:function(){var t=this.get("element");if(this.get("useBrowserMessages")||t.validity.customError)return t.validationMessage;var e=this.get("errorTemplates"),n=t.getAttribute("type");if(t.validity.valueMissing)return"checkbox"===n&&t.hasAttribute("title")?t.getAttribute("title"):e.valueMissing[n]||e.valueMissing.defaultMessage;if(t.hasAttribute("title"))return t.getAttribute("title");for(var r=["stepMismatch","rangeOverflow","rangeUnderflow","tooLong","patternMismatch","typeMismatch"],i=0;i!==r.length;++i){var o=r[i];if(t.validity[o]){var s=e[o][n]||e[o].defaultMessage;switch(o){case"tooLong":return s.fmt(t.getAttribute("maxlength"));case"rangeUnderflow":return s.fmt(t.getAttribute("min"));case"rangeOverflow":return s.fmt(t.getAttribute("max"));default:return s}}}return e.defaultMessage}})}),define("ember-cli-pagination",["ember-cli-pagination/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-cli-pagination/computed/paged-array",["exports","ember","ember-cli-pagination/local/paged-array","ember-cli-pagination/infinite/paged-infinite-array"],function(t,e,n,r){"use strict";function i(t,r){return e["default"].computed("",function(){var e={};e.parent=this;var i=function(t,e){return t.match(/Binding$/)?"parent."+e:e};for(var o in r)e[o]=i(o,r[o]);var s=n["default"].extend({contentBinding:"parent."+t}).create(e);return s})}function o(t){return e["default"].computed(function(){return r["default"].create({all:this.get(t)})})}function s(t,n){return e["default"].computed(function(){return n.all=this.get(t),r["default"].createFromUnpaged(n)})}t["default"]=function(t,e){return e=e||{},e.infinite===!0?o(t,e):e.infinite?s(t,e):i(t,e)}}),define("ember-cli-pagination/divide-into-pages",["exports","ember"],function(t,e){"use strict";t["default"]=e["default"].Object.extend({objsForPage:function(t){var e=this.range(t);return this.get("all").slice(e.start,e.end+1)},totalPages:function(){var t=parseInt(this.get("all.length")),e=parseInt(this.get("perPage"));return Math.ceil(t/e)},range:function(t){var e=parseInt(this.get("perPage")),n=(parseInt(t)-1)*e,r=n+e-1;return{start:n,end:r}}})}),define("ember-cli-pagination/factory",["exports","ember","ember-cli-pagination/remote/controller-mixin","ember-cli-pagination/local/controller-local-mixin","ember-cli-pagination/remote/route-mixin","ember-cli-pagination/local/route-local-mixin"],function(t,e,n,r,i,o){"use strict";var s=e["default"].Object.extend({paginationTypeInner:function(){var t=this.get("config").paginationType;if(t)return t;var e=this.get("config").pagination;return e?e.type:null},paginationType:function(){var t=this.paginationTypeInner();if("local"!==t&&"remote"!==t)throw"unknown pagination type";return t},controllerMixin:function(){return{local:r["default"],remote:n["default"]}[this.paginationType()]},routeMixin:function(){return{local:o["default"],remote:i["default"]}[this.paginationType()]}});s.reopenClass({controllerMixin:function(t){return s.create({config:t}).controllerMixin()},routeMixin:function(t){return s.create({config:t}).routeMixin()}}),t["default"]=s}),define("ember-cli-pagination/infinite/paged-infinite-array",["exports","ember","ember-cli-pagination/local/paged-array"],function(t,e,n){"use strict";var r=function(t){var e=[];return t.forEach?t.forEach(function(t){e.push(t)}):e=t,e},i=function(t,e){if(!t)throw"pushPromiseObjects no base";if(!e)throw"pushPromiseObjects no promise";if(!e.then)throw"pushPromiseObjects no promise.then";if(!t.pushObjects)throw"pushPromiseObjects no base.pushObjects";return e.then(function(e){t.pushObjects(r(e))}),e},o=e["default"].ArrayProxy.extend({page:1,arrangedContent:function(){return this.get("content")}.property("content.@each"),init:function(){this.set("content",[]),this.addRecordsForPage(1)},loadNextPage:function(){this.incrementProperty("page");var t=this.get("page");return this.addRecordsForPage(t)},addRecordsForPage:function(t){var e=this.getRecordsForPage(t);return i(this.get("content"),e)},getRecordsForPage:function(){throw"Not Implemented"}}),s=o.extend({getRecordsForPage:function(t){var e=this.get("all");return e.set("page",t),e},then:function(t,e){this.get("all").then(t,e)}});s.reopenClass({createFromUnpaged:function(t){var e=t.all,r=t.perPage||10,i=n["default"].create({perPage:r,content:e});return this.create({all:i})}}),t["default"]=s}),define("ember-cli-pagination/lib/page-items",["exports","ember","ember-cli-pagination/util","ember-cli-pagination/lib/truncate-pages","ember-cli-pagination/util/safe-get"],function(t,e,n,r,i){"use strict";t["default"]=e["default"].Object.extend(i["default"],{pageItemsAll:function(){var t=this.getInt("currentPage"),e=this.getInt("totalPages");n["default"].log("PageNumbers#pageItems, currentPage "+t+", totalPages "+e);for(var r=[],i=1;e>=i;i++)r.push({page:i,current:t===i});return r}.property("currentPage","totalPages"),pageItemsTruncated:function(){var t=this.getInt("currentPage"),e=this.getInt("totalPages"),n=this.getInt("numPagesToShow"),i=this.get("showFL"),o=r["default"].create({currentPage:t,totalPages:e,numPagesToShow:n,showFL:i}),s=o.get("pagesToShow");return s.map(function(e){return{page:e,current:t===e}})}.property("currentPage","totalPages","numPagesToShow"),pageItems:function(){return this.get("truncatePages")?this.get("pageItemsTruncated"):this.get("pageItemsAll")}.property("currentPage","totalPages","truncatePages","numPagesToShow")})}),define("ember-cli-pagination/lib/truncate-pages",["exports","ember","ember-cli-pagination/util/safe-get"],function(t,e,n){"use strict";t["default"]=e["default"].Object.extend(n["default"],{numPagesToShow:10,showFL:!1,currentPage:null,totalPages:null,isValidPage:function(t){t=parseInt(t);var e=this.getInt("totalPages");return t>0&&e>=t},pagesToShow:function(){var t=[],e=this.getInt("numPagesToShow"),n=this.getInt("currentPage"),r=this.getInt("totalPages"),i=this.get("showFL"),o=parseInt(e/2);1>n-o&&(o=n-1);var s=e-o-1;s>r-n&&(s=r-n,o=e-s-1),i&&(2>n-o&&s++,s>r-n-1&&o++);for(var a=o;a>0;a--){var l=n-a;this.isValidPage(l)&&t.push(l)}for(t.push(n),a=1;s>=a;a++){var u=n+a;this.isValidPage(u)&&t.push(u)}return i&&t.length>0&&(1!==t[0]&&(t=[1].concat(t)),t[t.length-1]!==r&&t.push(r)),t}.property("numPagesToShow","currentPage","totalPages")})}),define("ember-cli-pagination/local/controller-local-mixin",["exports","ember"],function(t,e){"use strict";t["default"]=e["default"].Mixin.create({})}),define("ember-cli-pagination/local/paged-array",["exports","ember","ember-cli-pagination/util","ember-cli-pagination/divide-into-pages","ember-cli-pagination/watch/lock-to-range"],function(t,e,n,r,i){"use strict";t["default"]=e["default"].ArrayProxy.extend(e["default"].Evented,{page:1,perPage:10,divideObj:function(){return r["default"].create({perPage:this.get("perPage"),all:this.get("content")})},arrangedContent:function(){return this.divideObj().objsForPage(this.get("page"))}.property("content.@each","page","perPage"),totalPages:function(){return this.divideObj().totalPages()}.property("content.@each","perPage"),setPage:function(t){return n["default"].log("setPage "+t),this.set("page",t)},watchPage:function(){var t=this.get("page"),e=this.get("totalPages");this.trigger("pageChanged",t),(1>t||t>e)&&this.trigger("invalidPage",{page:t,totalPages:e,array:this})}.observes("page","totalPages"),then:function(t,e){var n=this.get("content"),r=this;n.then?n.then(function(){t(r)},e):t(this)},lockToRange:function(){i["default"].watch(this)}})}),define("ember-cli-pagination/local/route-local-mixin",["exports","ember"],function(t,e){"use strict";t["default"]=e["default"].Mixin.create({findPaged:function(t){return this.store.find(t)}})}),define("ember-cli-pagination/page-mixin",["exports","ember"],function(t,e){"use strict";t["default"]=e["default"].Mixin.create({getPage:function(){return parseInt(this.get("page")||1)},getPerPage:function(){return parseInt(this.get("perPage"))}})}),define("ember-cli-pagination/remote/controller-mixin",["exports","ember"],function(t,e){"use strict";t["default"]=e["default"].Mixin.create({queryParams:["page","perPage"],pageBinding:"content.page",totalPagesBinding:"content.totalPages",pagedContentBinding:"content"})}),define("ember-cli-pagination/remote/mapping",["exports","ember","ember-cli-pagination/validate","ember-cli-pagination/util"],function(t,e,n,r){"use strict";var i=e["default"].Object.extend({defaultKeyFor:function(t){return"perPage"===t?"per_page":null},paramKeyFor:function(t){return this.getSuppliedParamMapping(t)||this.defaultKeyFor(t)||t},getSuppliedParamMapping:function(t){var e=this.get("paramMapping")||{};return e[t]},accumParams:function(t,e){var n=this.get(t),r=this.paramKeyFor(t);Array.isArray(r)?this.accumParamsComplex(t,r,e):e[r]=n},accumParamsComplex:function(t,e,n){var r=e[0],i=e[1],o=i({page:this.get("page"),perPage:this.get("perPage")});n[r]=o},make:function(){var t={};return this.accumParams("page",t),this.accumParams("perPage",t),t}}),o=e["default"].Object.extend({getSuppliedParamMapping:function(t){var e=this.get("paramMapping")||{};for(var n in e){var r=e[n];if(t===r)return n;if(Array.isArray(r)&&r[0]===t)return[n,r[1]]}return null},finalKeyFor:function(t){return this.getSuppliedParamMapping(t)||t},makeSingleComplex:function(t,e,n,r){var i=e[0],o=e[1],s={rawVal:n,page:this.get("page"),perPage:this.get("perPage")},a=o(s);r[i]=a},make:function(){var t={},e=this.get("meta");for(var n in e){var r=this.finalKeyFor(n),i=e[n];Array.isArray(r)?this.makeSingleComplex(n,r,i,t):t[r]=i}return this.validate(t),t},validate:function(t){r["default"].isBlank(t.total_pages)&&n["default"].internalError("no total_pages in meta response",t)}});t.QueryParamsForBackend=i,t.ChangeMeta=o}),define("ember-cli-pagination/remote/paged-remote-array",["exports","ember","ember-cli-pagination/util","ember-cli-pagination/watch/lock-to-range","ember-cli-pagination/remote/mapping","ember-cli-pagination/page-mixin"],function(t,e,n,r,i,o){"use strict";var s=e["default"].Mixin.create(e["default"].PromiseProxyMixin,{then:function(t,e){var n=this.get("promise"),r=this;n.then(function(){t(r)},e)}});t["default"]=e["default"].ArrayProxy.extend(o["default"],e["default"].Evented,s,{page:1,paramMapping:function(){return{}}.property(""),init:function(){var t=this.get("initCallback");t&&t(this);try{this.get("promise")}catch(e){this.set("promise",this.fetchContent())}},addParamMapping:function(t,e,n){var r=this.get("paramMapping")||{};n?r[t]=[e,n]:r[t]=e,this.set("paramMapping",r),this.incrementProperty("paramsForBackendCounter")},addQueryParamMapping:function(t,e,n){return this.addParamMapping(t,e,n)},addMetaResponseMapping:function(t,e,n){return this.addParamMapping(t,e,n)},paramsForBackend:function(){var t=i.QueryParamsForBackend.create({page:this.getPage(),perPage:this.getPerPage(),paramMapping:this.get("paramMapping")}),e=t.make();return e=n["default"].mergeHashes(e,this.get("otherParams")||{})}.property("page","perPage","paramMapping","paramsForBackendCounter"),rawFindFromStore:function(){var t=this.get("store"),e=this.get("modelName"),n=this.get("paramsForBackend"),r=t.find(e,n);return r},fetchContent:function(){var t=this.rawFindFromStore();this.incrementProperty("numRemoteCalls");var e=this;return t.then(function(t){var n=i.ChangeMeta.create({paramMapping:e.get("paramMapping"),meta:t.meta,page:e.getPage(),perPage:e.getPerPage()});return e.set("meta",n.make())},function(t){n["default"].log("PagedRemoteArray#fetchContent error "+t)}),t},totalPagesBinding:"meta.total_pages",pageChanged:function(){this.set("promise",this.fetchContent())}.observes("page","perPage"),lockToRange:function(){r["default"].watch(this)},watchPage:function(){var t=this.get("page"),e=this.get("totalPages");parseInt(e)<=0||(this.trigger("pageChanged",t),(1>t||t>e)&&this.trigger("invalidPage",{page:t,totalPages:e,array:this}))}.observes("page","totalPages")})}),define("ember-cli-pagination/remote/route-mixin",["exports","ember","ember-cli-pagination/remote/paged-remote-array","ember-cli-pagination/util"],function(t,e,n,r){"use strict";t["default"]=e["default"].Mixin.create({perPage:10,startingPage:1,model:function(t){return this.findPaged(this._findModelName(this.get("routeName")),t)},_findModelName:function(t){return e["default"].String.singularize(e["default"].String.camelize(t))},findPaged:function(t,e,i){var o={page:e.page||this.get("startingPage"),perPage:e.perPage||this.get("perPage"),modelName:t,store:this.store};e.paramMapping&&(o.paramMapping=e.paramMapping);var s=r["default"].paramsOtherThan(e,["page","perPage","paramMapping"]);return o.otherParams=s,o.initCallback=i,n["default"].create(o)}})}),define("ember-cli-pagination/test-helpers",["exports","ember","ember-cli-pagination/divide-into-pages"],function(t,e,n){"use strict";var r=e["default"].Object.extend({responseHash:function(){var t=this.pageFromRequest(this.request),e=""+this.name+"s",n={};return n[e]=this.objsForPage(t),n.meta={total_pages:this.totalPages()},n},divideObj:function(){var t=this.perPageFromRequest(this.request);return n["default"].create({perPage:t,all:this.all})},objsForPage:function(t){return this.divideObj().objsForPage(t)},pageFromRequest:function(t){var e=t.queryParams.page;return parseInt(e)},perPageFromRequest:function(t){var e=t.queryParams.per_page;return parseInt(e)},totalPages:function(){return this.divideObj().totalPages()}});r.reopenClass({responseHash:function(t,e,n){return this.create({request:t,all:e,name:n}).responseHash()}}),t["default"]=r}),define("ember-cli-pagination/util",["exports","ember"],function(t,e){"use strict";var n=e["default"].Object.extend();n.reopenClass({log:function(){},isBlank:function(t){return 0===t?!1:!t||""===t},keysOtherThan:function(t,e){var n=[];for(var r in t)e.contains(r)||n.push(r);return n},paramsOtherThan:function(t,e){for(var n={},r=this.keysOtherThan(t,e),i=0;i<r.length;i++){var o=r[i],s=t[o];n[o]=s}return n},mergeHashes:function(t,e){var n,r,i={};for(r in t)n=t[r],i[r]=n;for(r in e)n=e[r],i[r]=n;return i},isFunction:function(t){return"function"==typeof t},getHashKeyForValue:function(t,e){for(var r in t){var i=t[r];if(i===e)return r;if(n.isFunction(e)&&e(i))return r}return void 0}}),t["default"]=n}),define("ember-cli-pagination/util/safe-get",["exports","ember","ember-cli-pagination/validate","ember-cli-pagination/util"],function(t,e,n,r){"use strict";t["default"]=e["default"].Mixin.create({getInt:function(t){var e=this.get(t);return 0===e||"0"===e||r["default"].isBlank(e)&&n["default"].internalError("no int for "+t+" val is "+e),parseInt(e)}})}),define("ember-cli-pagination/validate",["exports","ember"],function(t,e){"use strict";var n=e["default"].Object.extend();n.reopenClass({internalErrors:[],internalError:function(t,n){this.internalErrors.push(t),e["default"].Logger.warn(t),n&&e["default"].Logger.warn(n)},getLastInternalError:function(){return this.internalErrors[this.internalErrors.length-1]}}),t["default"]=n}),define("ember-cli-pagination/watch/lock-to-range",["exports"],function(t){"use strict";t["default"]={watch:function(t){t.on("invalidPage",function(e){e.page<1?t.set("page",1):e.page>e.totalPages&&t.set("page",e.totalPages)})}}}),define("ember-cli-plyr",["ember-cli-plyr/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-cli-plyr/components/plyr",["exports","ember"],function(t,e){"use strict";t["default"]=e["default"].Component.extend({tagName:"div",classNames:"player",mp4:"",webm:"",captions:"",poster:"",mp3:"",ogg:"",setupPlyr:function(){plyr.setup()}.on("didInsertElement"),teardownPlyr:function(){this.get("ember-plyr").destroy()}.on("willDestroyElement")})}),define("ember-cli-poly-component",["ember-cli-poly-component/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-cli-poly-component/views/poly-component",["exports","ember"],function(t,e){"use strict";function n(t,e,n,r){var i=e[r];s.test(r)?"string"==typeof i?n[r]=t._getBindingForStream(i):n[r]=i:i&&i.isStream?n[r+"Binding"]=t._getBindingForStream(i):n[r]=i}var r=e["default"].get,i=e["default"].observer,o=e["default"].on,s=/^.+Binding$/,a=["_properties","_propertiesToBindBinding","_componentNameBinding","templateData","_context","_parentView","helperName","container"];t["default"]=e["default"].ContainerView.extend(e["default"]._Metamorph,{type:null,_changeChild:o("init",function(){this.clear(),this.pushObject(this.componentForType())}),changeChild:i("_componentName",function(){this._changeChild()}),componentForType:function(){var t,e=r(this,"_componentName"),i=r(this,"container"),o=i.lookup("component-lookup:main"),l=o.lookupFactory(e,i),u=r(this,"_parentView"),c=r(this,"_properties"),h={};if(c&&null!=c._propertiesToBind){var d=c._propertiesToBind._label,p=c._propertiesToBind.value();for(t in p)p.hasOwnProperty(t)&&(c[t+"Binding"]=d+"."+t.replace(s,""))}for(t in c)-1===a.indexOf(t)&&n(u,c,h,t);return this.createChildView(l,h)}})}),define("ember-cli-responsive",["ember-cli-responsive/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-cli-responsive/media",["exports","ember"],function(t,e){"use strict";t["default"]=e["default"].Object.extend({matches:function(){return e["default"].A()}.property(),listeners:{},mql:window.matchMedia,classNames:function(){var t=e["default"].String.dasherize;return this.get("matches").map(function(e){return"media-"+t(e)}).join(" ")}.property("matches.length"),match:function(t,n){function r(e){a.set(t,e),a.set(s,e.matches),e.matches?a.get("matches").pushObject(t):a.get("matches").removeObject(t)}var i=e["default"].String.classify,o=(this.get("mql")||window.matchMedia)(n),s="is"+i(t),a=this;this.get("listeners")[t]=r,o.addListener&&o.addListener(function(t){e["default"].run(null,r,t)}),r(o)}})}),define("ember-cli-responsive/responsive",["exports","ember","ember-cli-responsive/media"],function(t,e,n){"use strict";t["default"]=e["default"].Application.reopenClass({responsive:function(t){var e=t.media;if(this.responsive.media||(this.responsive.media=n["default"].create()),e)for(var r in e)e.hasOwnProperty(r)&&this.responsive.media.match(r,e[r]);return this}})}),define("ember-cli-simditor",["ember-cli-simditor/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-cli-simditor/components/simditor-editor",["exports","ember","ember-cli-simditor/templates/components/simditor-editor"],function(t,e,n){"use strict";t["default"]=e["default"].Component.extend({layout:n["default"],upload:!1,tabIndent:!0,toolbar:!0,toolbarFloat:!0,toolbarFloatOffset:0,toolbarHidden:!1,pasteImage:!1,cleanPaste:!1,defaultImage:"assets/passed.png",placeholder:"Type something here",didInsertElement:function(){var t=this,n=this,r={textarea:n.$("textarea"),upload:n.upload,tabIndent:n.tabIndent,toolbar:n.toolbar,toolbarFloat:n.toolbarFloat,toolbarFloatOffset:n.toolbarFloatOffset,toolbarHidden:n.toolbarHidden,pasteImage:n.pasteImage,cleanPaste:n.cleanPaste,defaultImage:n.defaultImage,placeholder:n.placeholder,params:n.params||{}},i=new Simditor(r);"string"==typeof this.value&&i.setValue(this.value),i.on("valuechanged",function(e){"function"==typeof t.attrs.onValuechanged&&t.attrs.onValuechanged(e,i),"function"==typeof t.attrs.update&&t.attrs.update(i.getValue())}),i.on("selectionchanged",function(e){"function"==typeof t.attrs.onSelectionchanged&&t.attrs.onSelectionchanged(e,i)}),i.on("decorate",function(e,n){"function"==typeof t.attrs.onDecorate&&t.attrs.onDecorate(e,n,i)}),i.on("undecorate",function(e,n){"function"==typeof t.attrs.onUndecorate&&t.attrs.onUndecorate(e,n,i)}),i.on("pasting",function(e,n){return"function"==typeof t.attrs.onPasting?t.attrs.onPasting(e,n,i):void 0}),i.on("focus",function(e){"function"==typeof t.attrs.onFocus&&t.attrs.onFocus(e,i)}),i.on("blur",function(e){"function"==typeof t.attrs.onBlur&&t.attrs.onBlur(e,i)}),i.on("destroy",function(e){"function"==typeof t.attrs.onDestroy&&t.attrs.onDestroy(e,i)}),e["default"].run.scheduleOnce("afterRender",this,function(t){this.attrs.editor&&this.attrs.editor.update(t)},i)},willDestroy:function(){this._super.apply(this,arguments),this&&this.get("editor")&&this.get("editor").destroy()}})}),define("ember-cli-simditor/templates/components/simditor-editor",["exports"],function(t){"use strict";t["default"]=Ember.HTMLBars.template(function(){return{isHTMLBars:!0,revision:"Ember@1.12.0",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(t){var e=t.createDocumentFragment(),n=t.createElement("textarea");t.setAttribute(n,"placeholder",""),t.setAttribute(n,"autofocus","");var r=t.createComment("");t.appendChild(n,r),t.appendChild(e,n);var n=t.createTextNode("\n");return t.appendChild(e,n),e},render:function(t,e,n){var r=e.dom,i=e.hooks,o=i.content;r.detectNamespace(n);var s;e.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(s=this.build(r),this.hasRendered?this.cachedFragment=s:this.hasRendered=!0),this.cachedFragment&&(s=r.cloneNode(this.cachedFragment,!0))):s=this.build(r);var a=r.createMorphAt(r.childAt(s,[0]),0,0);return o(e,a,t,"value"),s}}}())}),define("ember-cli-tooltipster",["ember-cli-tooltipster/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-cli-tooltipster/components/tool-tipster",["exports","ember"],function(t,e){"use strict";t["default"]=e["default"].Component.extend({classNameBindings:["tooltip"],attributeBindings:["title"],updateTitle:e["default"].observer("title",function(){this.$().tooltipster("content",this.get("title"))}),updateContent:e["default"].observer("content",function(){this.$().tooltipster("content",this.get("content"))}),triggerEvent:"hover",tooltipsterOptions:["animation","arrow","arrowColor","content","contentAsHTML","debug","delay","minWidth","maxWidth","offsetX","offsetY","position","positionTracker","speed","timer","theme","updateAnimation"],_initializeTooltipster:function(){var t=this,n={};t.get("tooltipsterOptions").forEach(function(r){e["default"].isEmpty(t.get(r))||(n[r]=t.get(r))}),n.trigger=t.get("triggerEvent"),n.functionInit=e["default"].$.proxy(this.functionInit,this),n.functionBefore=e["default"].$.proxy(this.functionBefore,this),n.functionReady=e["default"].$.proxy(this.functionReady,this),n.functionAfter=e["default"].$.proxy(this.functionAfter,this),n.positionTrackerCallback=e["default"].$.proxy(this.positionTrackerCallback,this),this.$().tooltipster(n)}.on("didInsertElement"),_destroyTooltipster:function(){this.$().tooltipster("destroy")}.on("willDestroyElement")})}),define("ember-cli-transformicons",["ember-cli-transformicons/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-cli-transformicons/components/base-transformicon",["exports","ember"],function(t,e){"use strict";var n=e["default"].get,r=e["default"].Component;t["default"]=r.extend({tagName:"button",attributeBindings:["type","role","aria-label"],type:"button",role:void 0,"aria-label":void 0,classNames:["tcon"],transformClass:"tcon-transform",initialState:"is-open",click:function(){var t=n(this,"initialState");this.toggleProperty(t),this.sendAction("action",!!t)}})}),define("ember-cli-transformicons/components/t-add",["exports","ember","ember-cli-transformicons/components/base-transformicon"],function(t,e,n){"use strict";var r=e["default"].get,i=e["default"].computed,o=e["default"].computed.alias,s="minus",a=e["default"].Object.create({minus:"tcon-plus--minus",check:"tcon-plus--check"});t["default"]=n["default"].extend({"aria-label":"add item",classNames:["tcon-plus"],classNameBindings:["animationType","isAdded"],animationType:i("animation",function(){var t=r(this,"animation");return a.get(t)||a.get(s)}),isAdded:i("is-added",function(){return r(this,"is-added")?r(this,"transformClass"):!1}),initialState:"is-added",animation:s,a:o("animation"),"is-added":!1})}),define("ember-cli-transformicons/components/t-grid",["exports","ember","ember-cli-transformicons/components/base-transformicon"],function(t,e,n){"use strict";var r=e["default"].get,i=e["default"].computed,o=e["default"].computed.alias,s="rearrange",a=e["default"].Object.create({rearrange:"tcon-grid--rearrange",collapse:"tcon-grid--collapse"});t["default"]=n["default"].extend({"aria-label":"toggle grid",classNames:["tcon-grid"],classNameBindings:["animationType","isOpen"],animationType:i("animation",function(){var t=r(this,"animation");return a.get(t)||a.get(s)}),isOpen:i("is-open",function(){return r(this,"is-open")?r(this,"transformClass"):!1}),animation:s,a:o("animation"),"is-open":!1})}),define("ember-cli-transformicons/components/t-loader",["exports","ember"],function(t,e){"use strict";var n=e["default"].Component;t["default"]=n.extend({tagName:"span",attributeBindings:["aria-label"],"aria-label":"loading",classNames:["tcon-loader--spinner360"]})}),define("ember-cli-transformicons/components/t-mail",["exports","ember","ember-cli-transformicons/components/base-transformicon"],function(t,e,n){"use strict";var r=e["default"].get,i=e["default"].computed,o=e["default"].computed.alias;t["default"]=n["default"].extend({role:o("type"),"aria-label":"open mailbox",classNames:["tcon-mail--envelope"],classNameBindings:["isOpen"],isOpen:i("is-open",function(){return r(this,"is-open")?!1:r(this,"transformClass")}),"is-open":!0})}),define("ember-cli-transformicons/components/t-menu",["exports","ember","ember-cli-transformicons/components/base-transformicon"],function(t,e,n){"use strict";var r=e["default"].get,i=e["default"].computed,o=e["default"].computed.alias,s="butterfly",a=e["default"].Object.create({butterfly:"tcon-menu--xbutterfly",minus:"tcon-menu--minus","x-cross":"tcon-menu--xcross","arrow-up":"tcon-menu--arrow tcon-menu--arrowup","arrow-360-left":"tcon-menu--arrow tcon-menu--arrow360left","arrow-left":"tcon-menu--arrow tcon-menu--arrowleft"});t["default"]=n["default"].extend({"aria-label":"toggle menu",classNameBindings:["animationType","isOpen"],animationType:i("animation",function(){var t=r(this,"animation");return a.get(t)||a.get(s)}),isOpen:i("is-open",function(){return r(this,"is-open")?r(this,"transformClass"):!1}),animation:s,a:o("animation"),"is-open":!1})}),define("ember-cli-transformicons/components/t-remove",["exports","ember","ember-cli-transformicons/components/base-transformicon"],function(t,e,n){"use strict";var r=e["default"].get,i=e["default"].computed,o=e["default"].computed.alias,s="check",a=e["default"].Object.create({check:"tcon-remove--check","chevron-left":"tcon-remove--chevron-left","chevron-right":"tcon-remove--chevron-right","chevron-down":"tcon-remove--chevron-down","chevron-up":"tcon-remove--chevron-up"});t["default"]=n["default"].extend({"aria-label":"remove item",classNames:["tcon-remove"],classNameBindings:["animationType","isRemoved"],animationType:i("animation",function(){var t=r(this,"animation");return a.get(t)||a.get(s)}),isRemoved:i("is-removed",function(){return r(this,"is-removed")?r(this,"transformClass"):!1}),initialState:"is-removed",animation:s,a:o("animation"),"is-removed":!1})}),define("ember-cli-transformicons/components/t-video",["exports","ember","ember-cli-transformicons/components/base-transformicon"],function(t,e,n){"use strict";var r=e["default"].get,i=e["default"].computed,o=e["default"].computed.alias;t["default"]=n["default"].extend({role:o("type"),"aria-label":"play video",classNames:["tcon-vid--play"],classNameBindings:["isPlaying"],isPlaying:i("is-playing",function(){return r(this,"is-playing")?r(this,"transformClass"):!1}),initialState:"is-playing","is-playing":!1})}),define("ember-data-sails",["ember-data-sails/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-data-sails/adapters/sails-base",["exports","ember-data","ember","ember-data-sails/mixins/with-logger"],function(t,e,n,r){"use strict";var i=n["default"].String,o=i.fmt,s=i.pluralize,a=i.camelize;t["default"]=e["default"].RESTAdapter.extend(n["default"].Evented,r["default"],{defaultSerializer:"sails",useCSRF:null,csrfToken:null,isLoadingCSRF:null,
init:function(){this._super(),this.set("isLoadingCSRF",!1),this.set("csrfToken",null)},ajax:function(t,r,i){var s,a=this,l={};return r=r.toUpperCase(),i||(i={}),i.data||"GET"===r||(i.data={}),s=function(){return a._request(l,t,r,i).then(function(s){return a.info(o("%@ %@ request on %@: SUCCESS",l.protocol,r,t)),a.debug("  → request:",i.data),a.debug("  ← response:",s),a.isErrorObject(s)?s.errors?n["default"].RSVP.reject(new e["default"].InvalidError(a.formatError(s))):n["default"].RSVP.reject(s):s})["catch"](function(e){return a.warn(o("%@ %@ request on %@: ERROR",l.protocol,r,t)),a.info("  → request:",i.data),a.info("  ← error:",e),n["default"].RSVP.reject(e)})},"GET"!==r?this.fetchCSRFToken().then(function(){return a.checkCSRF(i.data),s()}):s()},ajaxError:function(t){var r,i=this._super(t);try{r=n["default"].$.parseJSON(t.responseText)}catch(o){r=t.responseText}return r.errors?(this.error("error returned from Sails",r),new e["default"].InvalidError(this.formatError(r))):r?new Error(r):i},fetchCSRFToken:function(t){var e=this;return!this.get("useCSRF")||!t&&this.get("csrfToken")?n["default"].RSVP.resolve(null):this.get("isLoadingCSRF")?new n["default"].RSVP.Promise(function(t,n){e.one("didLoadCSRF",function(e,r){e?t(e):n(r)})},"waiting for CSRF to load"):(this.set("isLoadingCSRF",!0),this.set("csrfToken",null),this.debug("fetching CSRF token..."),this._fetchCSRFToken().then(function(t){return e.set("isLoadingCSRF",!1),e.info("got a new CSRF token:",t),e.set("csrfToken",t),n["default"].run.next(e,"trigger","didLoadCSRF",t),t})["catch"](function(t){return e.set("isLoadingCSRF",!1),e.error("error trying to get new CSRF token:",t),n["default"].run.next(e,"trigger","didLoadCSRF",null,t),t}))},formatError:function(t){return Object.keys(t.invalidAttributes).reduce(function(e,n){return e[n]=t.invalidAttributes[n].map(function(t){return t.message}),e},{})},pathForType:function(t){return s(a(t))},isErrorObject:function(t){return!!(t&&t.error&&t.model&&t.summary&&t.status)},checkCSRF:function(t){if(!this.useCSRF)return t;if(this.info("adding CSRF token"),!this.csrfToken||0===this.csrfToken.length)throw this.error("CSRF not fetched yet"),new e["default"].Error("CSRF Token not fetched yet.");return t._csrf=this.csrfToken,t}})}),define("ember-data-sails/adapters/sails-rest",["exports","ember-data","ember-data-sails/adapters/sails-base"],function(t,e,n){"use strict";t["default"]=n["default"].extend({_request:function(t,e,n,r){return t.protocol="http",this._restAdapter_ajax.call(this,e,n,r)},_fetchCSRFToken:function(){return this._restAdapter_ajax.call(this,"/csrfToken","get").then(function(t){return t._csrf})},_restAdapter_ajax:e["default"].RESTAdapter.proto().ajax})}),define("ember-data-sails/adapters/sails-socket",["exports","ember","ember-data-sails/adapters/sails-base"],function(t,e,n){"use strict";var r=e["default"].String,i=r.fmt,o=r.camelize,s=r.pluralize,a=e["default"].run,l=a.bind,u=a.debounce;t["default"]=n["default"].extend({_scheduledSubscriptions:null,subscribeMethod:"POST",subscribeEndpoint:"/socket/subscribe",init:function(){this._super(),this.sailsSocket.on("didConnect",this,"fetchCSRFToken",!0)},_request:function(t,e,n,r){return t.protocol="socket",this.sailsSocket.request(n,e,r.data)},buildURL:function(t,e,n){return this._listenToSocket(t),this._super(t,e,n)},shouldSubscribe:function(){return!0},_fetchCSRFToken:function(){return this.sailsSocket.request("get","/csrfToken").then(function(t){return t._csrf})},_handleSocketRecordCreated:function(t,e,n){var r=n.data,i={};!r.id&&n.id&&(r.id=n.id),i[s(o(e.typeKey))]=[r],t.pushPayload(e,i)},_handleSocketRecordUpdated:e["default"].aliasMethod("_handleSocketRecordCreated"),_handleSocketRecordDeleted:function(t,e,n){var r=t.getById(e.typeKey,n.id);r&&"undefined"==typeof r.get("dirtyType")&&r.unloadRecord()},_listenToSocket:function(t){var e,n,r=o(t).toLowerCase(),s=this.sailsSocket;s.listenFor(r,!0)&&(this.notice(i("setting up adapter to listen for `%@` messages",t)),e=this.container.lookup("store:main"),n=e.modelFor(t),s.on(r+".created",l(this,"_handleSocketRecordCreated",e,n)),s.on(r+".updated",l(this,"_handleSocketRecordUpdated",e,n)),s.on(r+".destroyed",l(this,"_handleSocketRecordDeleted",e,n)))},_scheduleSubscribe:function(t,e){var n,r;n=this.getProperties("subscribeMethod","subscribeEndpoint"),n.subscribeMethod&&n.subscribeEndpoint&&e&&this.shouldSubscribe(t,e)&&(this._scheduledSubscriptions||(this._scheduledSubscriptions={}),r=o(t.typeKey),this._scheduledSubscriptions[r]||(this._scheduledSubscriptions[r]={}),e=""+e,this._scheduledSubscriptions[r][e]||(this._scheduledSubscriptions[r][e]=0,u(this,"_subscribeScheduled",50)))},_subscribeScheduled:function(){var t,n,r,o=this,s=this.getProperties("subscribeMethod","subscribeEndpoint");if(this._scheduledSubscriptions){t=this._scheduledSubscriptions,this._scheduledSubscriptions=null,n={};for(r in t)n[r]=Object.keys(t[r]),this._listenToSocket(r);o.debug(i("asking the API to subscribe to some records of type %@",e["default"].keys(t).join(", "))),this.fetchCSRFToken().then(function(){o.checkCSRF(n),o.get("sailsSocket").request(s.subscribeMethod,s.subscribeEndpoint,n).then(function(t){o.debug("subscription successful, result:",t)})["catch"](function(){o.warn("error when trying to subscribe to some model(s)")})})}}})}),define("ember-data-sails/initializers/ember-data-sails",["exports","ember","ember-data","ember-data-sails/mixins/with-logger","ember-data-sails/mixins/store","ember-data-sails/services/sails-socket"],function(t,e,n,r,i,o){"use strict";function s(t,n){var i,s,a;i={},s=n.SAILS_LOG_LEVEL,a=!1,r.LEVELS.forEach(function(t){t===s&&(a=!0),a||(i[t]=e["default"].K)}),r["default"].reopen(i),t.register("service:sails-socket",o["default"]),n.inject("adapter","sailsSocket","service:sails-socket"),n.inject("route","sailsSocket","service:sails-socket"),n.inject("controller","sailsSocket","service:sails-socket")}t.initialize=s,n["default"].Store.reopen(i["default"]);var a={name:"ember-data-sails",before:"store",initialize:s};t["default"]=a}),define("ember-data-sails/mixins/store",["exports","ember","ember-data-sails/adapters/sails-socket"],function(t,e,n){"use strict";var r=e["default"].Mixin.create({pushPayload:function(){var t=[].slice.call(arguments),n=!1,r=this._pushSubscribes;"boolean"===e["default"].typeOf(t[t.length-1])&&(n=t.pop()),this._pushSubscribes=n,this._super.apply(this,t),this._pushSubscribes=r},push:function(t){var e,r,i,o=this._super.apply(this,arguments);return this._pushSubscribes&&o&&(e=o.get("id"))&&(r=this.modelFor(t),i=this.adapterFor(r),i instanceof n["default"]&&i._scheduleSubscribe(r,e)),o},subscribe:function(t,n){var r;"array"!==e["default"].typeOf(n)&&(n=[n]),t=this.modelFor(t),r=this.adapterFor(t);for(var i=0;i<n.length;i++)r._scheduleSubscribe(t,n[i])}});t["default"]=r}),define("ember-data-sails/mixins/with-logger",["exports","ember"],function(t,e){"use strict";var n="debug info notice warn error".split(" "),r={notice:"log"},i={};n.forEach(function(t){i[t]=e["default"].run.bind(e["default"].Logger,r[t]||t,"[ed-sails]")}),t["default"]=e["default"].Mixin.create(i),t.LEVELS=n}),define("ember-data-sails/serializers/sails",["exports","ember","ember-data","ember-data-sails/mixins/with-logger"],function(t,e,n,r){"use strict";var i=e["default"].String,o=i.fmt,s=i.pluralize,a=n["default"].RESTSerializer.extend(r["default"],{extractArray:function(t,e,n){var r={};return r[s(e.typeKey)]=n,this._super(t,e,r)},extractSingle:function(t,e,n,r){var i;return null===n?this._super.apply(this,arguments):(i={},i[s(e.typeKey)]=[n],this._super(t,e,i,r))},extractDeleteRecord:function(t,e,n,r,i){return this._super(t,e,null,r,i)},serializeIntoHash:function(t,n,r,i){var s;if(e["default"].keys(t).length>0)throw this.error(o("trying to serialize multiple records in one hash for type %@",n.typeKey),t),new Error("Sails does not accept putting multiple records in one hash");s=this.serialize(r,i);for(var a in s)t[a]=s[a]},normalize:function(t,e,n){var r;return r=this._super(t,e,n),this._extractEmbeddedRecords(t,r)},_extractEmbeddedRecords:function(t,r){var i,s=this,a=this.store;return t.eachRelationship(function(t,l){var u;if(u=r[t])if("belongsTo"===l.kind)"object"===e["default"].typeOf(r[t])&&(s.debug(o("found 1 embedded %@ record:",l.type.typeKey),r[t]),delete r[t],i=a.serializerFor(l.type.typeKey),s.store.push(l.type,i.normalize(l.type,u,null)),r[t]=u.id);else{if("hasMany"!==l.kind)throw s.warn(o("unknown relationship kind %@:",l.kind),l),new n["default"].Error("Unknown relationship kind "+l.kind);i=a.serializerFor(l.type.typeKey),r[t]=u.map(function(t){return"object"===e["default"].typeOf(t)?(s.debug(o("found 1 embedded %@ record:",l.type.typeKey),t),s.store.push(l.type,i.normalize(l.type,t,null)),t.id):t})}}),r}});t["default"]=a}),define("ember-data-sails/services/sails-socket",["exports","ember","ember-data-sails/mixins/with-logger"],function(t,e,n){"use strict";function r(t){return!(!t||t.isDestroying||t.isDestroyed)}var i=e["default"].computed,o=e["default"].run,s=o.bind,a=o.next,l=o.later,u=e["default"].String,c=u.fmt,h=e["default"].Object.extend(e["default"].Evented,n["default"],{_sailsSocket:null,_listeners:null,socketUrl:i(function(){var t=document.getElementById("eds-sails-io-script");return t.src.replace(/^([^:]+:\/\/[^\/]+).*$/g,"$1")}),isInitialized:null,isConnected:null,pendingOperationCount:null,isBusy:i("pendingOperationCount","isInitialized",function(){return!this.get("isInitialized")||this.get("pendingOperationCount")>0}),init:function(){this._super(),this._listeners={},this._sailsSocket=null,this.setProperties({pendingOperationCount:0,isInitialized:!1,isConnected:!1})},destroy:function(){this.get("isConnected")&&this._sailsSocket.disconnect(),this._super()},listenFor:function(t,e){var n,r;return e=null==e?!0:!!e,e&&!this._listeners[t]?(n={method:s(this,"_handleSocketMessage",t),isListening:!1},this._listeners[t]=n,r="add"):!e&&(n=this._listeners[t])&&(r="remove"),r&&(this.get("isConnected")?(e?n.isListening=!0:delete this._listeners[t],this._sailsSocket._raw[r+"EventListener"](t,n.method)):e||delete this._listeners[t]),!!r},request:function(t){var n=this,i=[].slice.call(arguments,1),o=s(this,"incrementProperty","pendingOperationCount");return t=t.toLowerCase(),o(1),new e["default"].RSVP.Promise(function(s,a){n._connectedSocket(function(l,u){r(n)&&!l?(i.push(function(t,e){o(-1),e&&2===Math.round(e.statusCode/100)?s(t):a(e||t)}),u[t].apply(u,i)):(o(-1),a(l?l:new e["default"].Error("Sails socket service destroyed")))})},c("getting the connected Sails socket for `%@` request on %@",t,i[0]))},trigger:function(t){return this.debug(c("triggering event `%@`",t)),this._super.apply(this,arguments)},_connectedSocket:function(t){r(this)?this.get("isConnected")?(this.debug("socket connected, giving it in next run loop"),a(this,t,null,this._sailsSocket)):(this.info("socket not connected, listening for connect event before giving it"),this.one("didConnect",s(this,function(){t.call(this,null,this._sailsSocket)})),this.get("isInitialized")?(this.info("looks like we are initialized but not connected, reconnecting socket"),this._reconnect()):this._load()):(this.warn("cannot get socket, service destroyed"),a(this,t,new e["default"].Error("Sails socket service destroyed")))},_reconnect:function(){!this._sailsSocket._raw||this._sailsSocket._raw.connected||this._sailsSocket._raw.connecting||this._sailsSocket._raw.reconnect()},_bindListeners:function(){var t;for(var e in this._listeners)(t=this._listeners[e]).isListening||(this._sailsSocket._raw.addEventListener(e,t.method),t.isListening=!0,this.info(c("attached event `%@` on socket",e)));return this},_unbindListeners:function(){var t;for(var e in this._listeners)(t=this._listeners[e]).isListening&&(this._sailsSocket._raw.removeEventListener(e,t.method),t.isListening=!1,this.info(c("detached event `%@` from socket",e)));return this},_handleSocketMessage:function(t,e){r(this)&&this.trigger(t+"."+e.verb,e)},_handleSocketReady:function(){var t;r(this)&&(this.info("socket core object ready"),this.set("isInitialized",!0),this.trigger("didInitialize"),this._sailsSocket=io.sails.connect(this.get("socketUrl")),(t=s(this,function(){this._sailsSocket._raw?(this._sailsSocket._raw.addEventListener("connect",s(this,"_handleSocketConnect")),this._sailsSocket._raw.addEventListener("disconnect",s(this,"_handleSocketDisconnect")),this._sailsSocket._raw.connected&&a(this,"_handleSocketConnect")):l(t,10)}))())},_handleSocketConnect:function(){r(this)&&(this._bindListeners(),this.set("isConnected",!0),this.trigger("didConnect"))},_handleSocketDisconnect:function(){r(this)&&(this.set("isConnected",!1),this.trigger("didDisconnect"),this._unbindListeners())},_load:function(){this._loaded||(window.io&&io.sails&&io.sails.emberDataSailsReady?a(this,"_handleSocketReady"):l(this,"_load",10))}});t["default"]=h}),define("ember-multiselect-checkboxes",["ember-multiselect-checkboxes/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-multiselect-checkboxes/components/multiselect-checkbox-option",["exports","ember"],function(t,e){"use strict";t["default"]=e["default"].Component.extend({classNames:["multiselect-checkbox-option"],classNameBindings:["isSelected:checked"],tagName:"li",value:null,selection:[],labelProperty:null,isSelected:function(t,e){if(arguments.length>1){var n=this.get("selection").contains(this.get("value"));e&&!n?this.get("selection").addObject(this.get("value")):!e&&n&&this.get("selection").removeObject(this.get("value"))}return this.get("selection").contains(this.get("value"))}.property("value","selection"),label:function(){var t=this.get("labelProperty"),e=this.get("value");return t?"function"==typeof e.get?e.get(t):e[t]:String(e)}.property("value","labelProperty")})}),define("ember-multiselect-checkboxes/components/multiselect-checkboxes",["exports","ember"],function(t,e){"use strict";t["default"]=e["default"].Component.extend({classNames:["multiselect-checkboxes"],tagName:"ul",options:null,selection:null,labelProperty:null})}),define("ember-scroll-to",["ember-scroll-to/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-scroll-to/components/scroll-to",["exports","ember"],function(t,e){"use strict";var n=750,r="swing";t["default"]=e["default"].Component.extend({tagName:"a",href:null,duration:n,easing:r,attributeBindings:["href"],scrollable:function(){return e["default"].$("html, body")}.property(),target:function(){return e["default"].$(this.get("href")).offset().top}.property("href"),scroll:function(t){t.stopPropagation(),t.preventDefault(),this.get("scrollable").animate({scrollTop:this.get("target")},this.get("duration"),this.get("easing"))}.on("click")})}),define("ember-sortable",["ember-sortable/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-sortable/components/sortable-group",["exports","ember","ember-sortable/templates/components/sortable-group"],function(t,e,n){"use strict";var r=e["default"].$,i=e["default"].A,o=e["default"].Component,s=e["default"].computed,a=e["default"].get,l=e["default"].set,u=e["default"].run,c=i,h={};t["default"]=o.extend({layout:n["default"],model:h,items:s(function(){return c()}),itemPosition:s(function(){var t=this.element,e=r('<span style="position: absolute" />'),n=e.prependTo(t).position().top;return e.remove(),n})["volatile"](),sortedItems:s("items.@each.y",function(){return c(this.get("items")).sortBy("y")}),registerItem:function(t){this.get("items").addObject(t)},deregisterItem:function(t){this.get("items").removeObject(t)},prepare:function(){this._itemPosition=this.get("itemPosition")},update:function(){var t=this.get("sortedItems"),e=this._itemPosition;void 0===e&&(e=this.get("itemPosition")),t.forEach(function(t){a(t,"isDragging")||l(t,"y",e),e+=a(t,"height")})},commit:function(){var t=this.get("sortedItems"),e=this.get("model"),n=t.mapBy("model");delete this._itemPosition,u.schedule("render",function(){t.invoke("freeze")}),u.schedule("afterRender",function(){t.invoke("reset")}),u.next(function(){u.schedule("render",function(){t.invoke("thaw")})}),e!==h?this.sendAction("onChange",e,n):this.sendAction("onChange",n)}})}),define("ember-sortable/components/sortable-item",["exports","ember","ember-sortable/templates/components/sortable-item","ember-sortable/mixins/sortable-item"],function(t,e,n,r){"use strict";t["default"]=e["default"].Component.extend(r["default"],{layout:n["default"]})}),define("ember-sortable/mixins/sortable-item",["exports","ember"],function(t,e){"use strict";function n(t){var e=t.originalEvent,n=e&&e.changedTouches,r=n&&n[0];return r?r.screenY:t.pageY}var r=e["default"].Mixin,i=e["default"].$,o=e["default"].computed,s=e["default"].run,a=e["default"].RSVP.Promise;t["default"]=r.create({classNames:["sortable-item"],classNameBindings:["isDragging","isDropping"],group:null,model:null,handle:null,isDragging:!1,isDropping:!1,isBusy:o.or("isDragging","isDropping"),updateInterval:125,isAnimated:o(function(){var t=this.$(),e=t.css("transition-property");return/all|transform/.test(e)})["volatile"](),transitionDuration:o(function(){var t=this.$(),e=t.css("transition-duration"),n=e.match(/([\d\.]+)([ms]*)/);if(n){var r=parseFloat(n[1]),i=n[2];return"s"===i&&(r=1e3*r),r}return 0})["volatile"](),y:o(function(t,e){return 2===arguments.length&&e!==this._y&&(this._y=e,this._scheduleApplyPosition()),void 0===this._y&&(this._y=this.element.offsetTop),this._y})["volatile"](),height:o(function(){var t=this.$().outerHeight(),e=parseFloat(this.$().css("margin-bottom"));return t+e})["volatile"](),didInsertElement:function(){this._tellGroup("registerItem",this)},willDestroyElement:function(){this._tellGroup("deregisterItem",this)},mouseDown:function(t){this._startDrag(t)},touchStart:function(t){this._startDrag(t)},freeze:function(){var t=this.$();t&&(this.$().css({transition:"none"}),this.$().height())},reset:function(){var t=this.$();t&&(delete this._y,t.css({transform:""}))},thaw:function(){var t=this.$();t&&t.css({transition:""})},_startDrag:function(t){var e=this,r=this.get("handle");if((!r||i(t.target).is(r))&&(t.preventDefault(),t.stopPropagation(),!this.get("isBusy"))){var o=n(t),s=this.get("y"),a=function(t){var r=n(t)-o,i=s+r;e._drag(i)},l=function u(){i(window).off("mousemove touchmove",a).off("mouseup touchend",u),e._drop()};i(window).on("mousemove touchmove",a).on("mouseup touchend",l),this._tellGroup("prepare"),this.set("isDragging",!0)}},_tellGroup:function(t){var e=this.get("group");if(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];e[t].apply(e,r)}},_scheduleApplyPosition:function(){s.scheduleOnce("render",this,"_applyPosition")},_applyPosition:function(){if(this.element){var t=this.get("y"),e=t-this.element.offsetTop;this.$().css({transform:"translateY("+e+"px)"})}},_drag:function(t){var e=this.get("updateInterval");this.set("y",t),s.throttle(this,"_tellGroup","update",e)},_drop:function(){this.element&&(this.set("isDragging",!1),this.set("isDropping",!0),this._tellGroup("update"),this._waitForTransition().then(s.bind(this,"_complete")))},_waitForTransition:function(){var t=this;return new a(function(e){s.next(function(){var n=0;t.get("isAnimated")&&(n=t.get("transitionDuration")),s.later(t,e,n)})})},_complete:function(){this.set("isDropping",!1),this._tellGroup("commit")}})}),define("ember-sortable/templates/components/sortable-group",["exports"],function(t){"use strict";t["default"]=Ember.HTMLBars.template(function(){return{isHTMLBars:!0,revision:"Ember@1.12.0",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(t){var e=t.createDocumentFragment(),n=t.createComment("");t.appendChild(e,n);var n=t.createTextNode("\n");return t.appendChild(e,n),e},render:function(t,e,n){var r=e.dom,i=e.hooks,o=i.get,s=i.inline;r.detectNamespace(n);var a;e.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(a=this.build(r),this.hasRendered?this.cachedFragment=a:this.hasRendered=!0),this.cachedFragment&&(a=r.cloneNode(this.cachedFragment,!0))):a=this.build(r);var l=r.createMorphAt(a,0,0,n);return r.insertBoundary(a,0),s(e,l,t,"yield",[o(e,t,"this")],{}),a}}}())}),define("ember-sortable/templates/components/sortable-item",["exports"],function(t){"use strict";t["default"]=Ember.HTMLBars.template(function(){return{isHTMLBars:!0,revision:"Ember@1.12.0",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(t){var e=t.createDocumentFragment(),n=t.createComment("");t.appendChild(e,n);var n=t.createTextNode("\n");return t.appendChild(e,n),e},render:function(t,e,n){var r=e.dom,i=e.hooks,o=i.get,s=i.inline;r.detectNamespace(n);var a;e.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(a=this.build(r),this.hasRendered?this.cachedFragment=a:this.hasRendered=!0),this.cachedFragment&&(a=r.cloneNode(this.cachedFragment,!0))):a=this.build(r);var l=r.createMorphAt(a,0,0,n);return r.insertBoundary(a,0),s(e,l,t,"yield",[o(e,t,"this")],{}),a}}}())}),define("ember-sortable/utils/transitionend",["exports"],function(t){"use strict";function e(){var t,e=document.createElement("fake-element"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(void 0!==e.style[t])return n[t]}var n=e();t["default"]=n}),define("ember-spectrum-color-picker",["ember-spectrum-color-picker/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-spectrum-color-picker/components/spectrum-color-picker",["exports","ember"],function(t,e){"use strict";t["default"]=e["default"].Component.extend({classNames:"spectrum-color-picker",tagName:"input",color:null,flatMode:!1,allowEmpty:!1,disabled:!1,showInput:!1,showAlpha:!1,showInitial:!1,showButtons:!0,showPalette:!1,showPaletteOnly:!1,palette:[],togglePaletteOnly:!1,showSelectionPalette:!1,hideAfterPaletteSelect:!1,preferredFormat:null,moveFiresChange:!1,clickoutFiresChange:!1,chooseText:"Choose",cancelText:"Cancel",togglePaletteMoreText:"More",togglePaletteLessText:"Less",appendTo:"body",localStorageKey:"spectrum-color-picker",didInsertElement:function(){var t={color:this.get("color"),flat:this.get("flatMode"),allowEmpty:this.get("allowEmpty"),disabled:this.get("disabled"),showInput:this.get("showInput"),showAlpha:this.get("showAlpha"),showInitial:this.get("showInitial"),showButtons:this.get("showButtons"),showPalette:this.get("showPalette"),showPaletteOnly:this.get("showPaletteOnly"),palette:"string"==typeof this.get("palette")?JSON.parse(this.get("palette")):this.get("palette"),togglePaletteOnly:this.get("togglePaletteOnly"),showSelectionPalette:this.get("showSelectionPalette"),hideAfterPaletteSelect:this.get("hideAfterPaletteSelect"),preferredFormat:this.get("preferredFormat"),clickoutFiresChange:this.get("clickoutFiresChange"),chooseText:this.get("chooseText"),cancelText:this.get("cancelText"),togglePaletteMoreText:this.get("togglePaletteMoreText"),togglePaletteLessText:this.get("togglePaletteLessText"),appendTo:this.get("appendTo"),localStorageKey:this.get("localStorageKey")},e=this,n=function(t){e.set("color",t.toString())};this.get("moveFiresChange")?t.move=n:t.change=n,this.$().spectrum(t)},updatePicker:function(){this.$().spectrum("set",this.get("color"))}.observes("color")})}),define("ember-trix-editor",["ember-trix-editor/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-trix-editor/components/trix-editor",["exports","ember","ember-trix-editor/templates/components/trix-editor"],function(t,e,n){"use strict";t["default"]=e["default"].Component.extend({attachmentsDisabled:!1,editor:null,inputId:"trix-editor-input-id",layout:n["default"],_listenToTrixEditorActions:e["default"].on("didInsertElement",function(){var t=this,n=e["default"].$(this.get("element")).find("trix-editor");n.on("trix-attachment-add",function(e){t.attrs["trix-attachment-add"]&&t.attrs["trix-attachment-add"](e)}),n.on("trix-attachment-remove",function(e){t.attrs["trix-attachment-remove"]&&t.attrs["trix-attachment-remove"](e)}),n.on("trix-blur",function(e){t.attrs["trix-blur"]&&t.attrs["trix-blur"](e)}),n.on("trix-change",function(e){t.attrs["trix-change"]&&t.attrs["trix-change"](e)}),n.on("trix-file-accept",function(e){t.attrs.attachmentsDisabled&&e.preventDefault(),t.attrs["trix-file-accept"]&&t.attrs["trix-file-accept"](e)}),n.on("trix-focus",function(e){t.attrs["trix-focus"]&&t.attrs["trix-focus"](e)}),n.on("trix-initialize",function(e){t.attrs["trix-initialize"]&&t.attrs["trix-initialize"](e)}),n.on("trix-selection-change",function(e){t.attrs["trix-selection-change"]&&t.attrs["trix-selection-change"](e)})}),_removeTrixEditorListeners:e["default"].on("willDestroyElement",function(){var t=e["default"].$(this.get("element")).find("trix-editor");t.off("trix-attachment-add"),t.off("trix-attachment-remove"),t.off("trix-blur"),t.off("trix-change"),t.off("trix-file-accept"),t.off("trix-focus"),t.off("trix-initialize"),t.off("trix-selection-change")}),autofocusOn:e["default"].computed("attrs.autofocus",function(){return this.attrs.autofocus?!0:null})})}),define("ember-trix-editor/templates/components/trix-editor",["exports"],function(t){"use strict";t["default"]=Ember.HTMLBars.template(function(){return{isHTMLBars:!0,revision:"Ember@1.12.0",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(t){var e=t.createDocumentFragment(),n=t.createElement("input");t.setAttribute(n,"type","hidden"),t.setAttribute(n,"name","content"),t.appendChild(e,n);var n=t.createTextNode("\n\n");t.appendChild(e,n);var n=t.createElement("trix-editor");t.appendChild(e,n);var n=t.createTextNode("\n");return t.appendChild(e,n),e},render:function(t,e,n){var r=e.dom,i=e.hooks,o=i.get,s=i.attribute;r.detectNamespace(n);var a;e.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(a=this.build(r),this.hasRendered?this.cachedFragment=a:this.hasRendered=!0),this.cachedFragment&&(a=r.cloneNode(this.cachedFragment,!0))):a=this.build(r);var l=r.childAt(a,[0]),u=r.childAt(a,[2]),c=r.createAttrMorph(l,"id"),h=r.createAttrMorph(l,"value"),d=r.createAttrMorph(u,"autofocus"),p=r.createAttrMorph(u,"class"),f=r.createAttrMorph(u,"input"),m=r.createAttrMorph(u,"placeholder");return s(e,c,l,"id",o(e,t,"inputId")),s(e,h,l,"value",o(e,t,"attrs.value")),s(e,d,u,"autofocus",o(e,t,"autofocusOn")),s(e,p,u,"class",o(e,t,"attrs.editorClass")),s(e,f,u,"input",o(e,t,"inputId")),s(e,m,u,"placeholder",o(e,t,"attrs.placeholder")),a}}}())}),define("ember-wormhole",["ember-wormhole/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ember-wormhole/components/ember-wormhole",["exports","ember"],function(t,e){"use strict";var n=e["default"].computed,r=e["default"].observer,i=e["default"].run;t["default"]=e["default"].Component.extend({to:n.alias("destinationElementId"),destinationElementId:null,destinationElement:n("destinationElementId","renderInPlace",function(){return this.get("renderInPlace")?this.element:document.getElementById(this.get("destinationElementId"))}),renderInPlace:!1,didInsertElement:function(){this._firstNode=this.element.firstChild,this._lastNode=this.element.lastChild,this.appendToDestination()},willDestroyElement:function(){var t=this,e=this._firstNode,n=this._lastNode;i.schedule("render",function(){t.removeRange(e,n)})},destinationDidChange:r("destinationElement",function(){var t=this.get("destinationElement");t!==this._firstNode.parentNode&&i.schedule("render",this,"appendToDestination")}),appendToDestination:function(){var t=this.get("destinationElement");if(!t){var e=this.get("destinationElementId");if(e)throw new Error("ember-wormhole failed to render into '#"+this.get("destinationElementId")+"' because the element is not in the DOM");throw new Error("ember-wormhole failed to render content because the destinationElementId was set to an undefined or falsy value.")}this.appendRange(t,this._firstNode,this._lastNode)},appendRange:function(t,e,n){for(;e;)t.insertBefore(e,null),e=e!==n?n.parentNode.firstChild:null},removeRange:function(t,e){var n=e;do{var r=n.previousSibling;n.parentNode&&n.parentNode.removeChild(n),n=r}while(n!==t)}})}),define("ivy-tabs",["ivy-tabs/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("ivy-tabs/components/ivy-tab-list",["exports","ember"],function(t,e){"use strict";t["default"]=e["default"].Component.extend({tagName:"ul",attributeBindings:["aria-multiselectable","role"],classNames:["ivy-tab-list"],init:function(){this._super(),e["default"].run.once(this,this._registerWithTabsContainer)},willDestroy:function(){this._super(),e["default"].run.once(this,this._unregisterWithTabsContainer)},"aria-multiselectable":"false",role:"tablist",focusSelectedTab:function(){this.get("selectedTab").$().focus()},navigateOnKeyDown:e["default"].on("keyDown",function(t){switch(t.keyCode){case 37:case 38:this.selectPreviousTab();break;case 39:case 40:this.selectNextTab();break;default:return}t.preventDefault(),e["default"].run.scheduleOnce("afterRender",this,this.focusSelectedTab)}),registerTab:function(t){this.get("tabs").pushObject(t)},selectNextTab:function(){var t=this.get("selected-index")+1;t===this.get("tabs.length")&&(t=0),this.selectTabByIndex(t)},selectPreviousTab:function(){var t=this.get("selected-index")-1;0>t&&(t=this.get("tabs.length")-1),0>t&&(t=0),this.selectTabByIndex(t)},"selected-index":e["default"].computed.alias("tabsContainer.selected-index"),selectedTab:e["default"].computed(function(){return this.get("tabs").objectAt(this.get("selected-index"))}).property("selected-index","tabs.[]"),selectTab:function(t){this.selectTabByIndex(this.get("tabs").indexOf(t))},selectTabByIndex:function(t){this.set("selected-index",t)},tabsContainer:e["default"].computed.alias("parentView").readOnly(),unregisterTab:function(t){this.get("tabs").removeObject(t),t.get("isSelected")&&this.selectPreviousTab()},_initTabs:e["default"].on("init",function(){this.set("tabs",e["default"].A())}),_registerWithTabsContainer:function(){this.get("tabsContainer").registerTabList(this)},_unregisterWithTabsContainer:function(){this.get("tabsContainer").unregisterTabList(this)}})}),define("ivy-tabs/components/ivy-tab-panel",["exports","ember"],function(t,e){"use strict";t["default"]=e["default"].Component.extend({attributeBindings:["aria-labelledby","role"],classNames:["ivy-tab-panel"],classNameBindings:["active"],init:function(){this._super(),e["default"].run.once(this,this._registerWithTabsContainer)},willDestroy:function(){this._super(),e["default"].run.once(this,this._unregisterWithTabsContainer)},"aria-labelledby":e["default"].computed.alias("tab.elementId").readOnly(),role:"tabpanel",active:e["default"].computed(function(){return this.get("isSelected")?this.get("activeClass"):void 0}).property("isSelected"),activeClass:"active",index:e["default"].computed(function(){return this.get("tabPanels").indexOf(this)}).property("tabPanels.[]"),isSelected:e["default"].computed.alias("tab.isSelected").readOnly(),isVisible:e["default"].computed.alias("isSelected").readOnly(),tab:e["default"].computed(function(){var t=this.get("tabs");return t?t.objectAt(this.get("index")):void 0}).property("tabs.[]","index"),tabList:e["default"].computed.alias("tabsContainer.tabList").readOnly(),tabPanels:e["default"].computed.alias("tabsContainer.tabPanels").readOnly(),tabs:e["default"].computed.alias("tabList.tabs").readOnly(),tabsContainer:e["default"].computed.alias("parentView").readOnly(),_registerWithTabsContainer:function(){this.get("tabsContainer").registerTabPanel(this)},_unregisterWithTabsContainer:function(){this.get("tabsContainer").unregisterTabPanel(this)}})}),define("ivy-tabs/components/ivy-tab",["exports","ember"],function(t,e){"use strict";t["default"]=e["default"].Component.extend({
tagName:"li",attributeBindings:["aria-controls","aria-expanded","aria-selected","role","selected","tabindex"],classNames:["ivy-tab"],classNameBindings:["active"],init:function(){this._super(),e["default"].run.once(this,this._registerWithTabList)},willDestroy:function(){this._super(),e["default"].run.once(this,this._unregisterWithTabList)},"aria-controls":e["default"].computed.alias("tabPanel.elementId").readOnly(),"aria-expanded":e["default"].computed.alias("aria-selected").readOnly(),"aria-selected":e["default"].computed(function(){return this.get("isSelected")+""}).property("isSelected"),role:"tab",selected:e["default"].computed(function(){return this.get("isSelected")?"selected":void 0}).property("isSelected"),tabindex:e["default"].computed(function(){return this.get("isSelected")?0:void 0}).property("isSelected"),active:e["default"].computed(function(){return this.get("isSelected")?this.get("activeClass"):void 0}).property("isSelected"),activeClass:"active",index:e["default"].computed(function(){return this.get("tabs").indexOf(this)}).property("tabs.[]"),isSelected:e["default"].computed(function(){return this.get("tabList.selectedTab")===this}).property("tabList.selectedTab"),select:e["default"].on("click",function(){this.get("tabList").selectTab(this)}),tabList:e["default"].computed.alias("parentView").readOnly(),tabPanel:e["default"].computed(function(){return this.get("tabPanels").objectAt(this.get("index"))}).property("tabPanels.[]","index"),tabPanels:e["default"].computed.alias("tabsContainer.tabPanels").readOnly(),tabs:e["default"].computed.alias("tabList.tabs").readOnly(),tabsContainer:e["default"].computed.alias("tabList.tabsContainer").readOnly(),_registerWithTabList:function(){this.get("tabList").registerTab(this)},_unregisterWithTabList:function(){this.get("tabList").unregisterTab(this)}})}),define("ivy-tabs/components/ivy-tabs",["exports","ember"],function(t,e){"use strict";t["default"]=e["default"].Component.extend({classNames:["ivy-tabs"],init:function(){this._super(),this._initTabPanels()},"selected-index":0,registerTabList:function(t){this.set("tabList",t)},registerTabPanel:function(t){this.get("tabPanels").pushObject(t)},unregisterTabList:function(){this.set("tabList",null)},unregisterTabPanel:function(t){this.get("tabPanels").removeObject(t)},_initTabPanels:function(){this.set("tabPanels",e["default"].A())}})}),define("ivy-tabs/index",["exports","ivy-tabs/components/ivy-tab","ivy-tabs/components/ivy-tab-list","ivy-tabs/components/ivy-tab-panel","ivy-tabs/components/ivy-tabs"],function(t,e,n,r,i){"use strict";t.IvyTabComponent=e["default"],t.IvyTabListComponent=n["default"],t.IvyTabPanelComponent=r["default"],t.IvyTabsComponent=i["default"]}),define("liquid-fire",["liquid-fire/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("liquid-fire/action",["exports","liquid-fire/promise"],function(t,e){"use strict";var n=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(e){var n=void 0===arguments[1]?[]:arguments[1],i=void 0===arguments[2]?{}:arguments[2];r(this,t),"function"==typeof e?this.handler=e:this.name=e,this.reversed=i.reversed,this.args=n}return n(t,{validateHandler:{value:function(t){this.handler||(this.handler=t.lookup(this.name))}},run:{value:function(t){var n=this;return new e["default"](function(r,i){e["default"].resolve(n.handler.apply(t,n.args)).then(r,i)})}}}),t}();t["default"]=i}),define("liquid-fire/animate",["exports","liquid-fire/promise","ember"],function(t,e,n){"use strict";function r(t,r,i,o){var s={percentComplete:0,timeRemaining:100,timeSpent:0};if(!t||0===t.length)return e["default"].resolve();if(i=i?n["default"].copy(i):{},"undefined"==typeof i.display&&(i.display=""),"undefined"==typeof i.visibility&&(i.visibility="visible"),i.progress)throw new Error("liquid-fire's 'animate' function reserves the use of Velocity's 'progress' option for its own nefarious purposes.");return i.progress=function(){s.percentComplete=arguments[1],s.timeRemaining=arguments[2],s.timeSpent=s.timeRemaining/(1/s.percentComplete-1)},s.promise=e["default"].resolve(p.animate(t[0],r,i)),o&&(s.promise=s.promise.then(function(){d(t,o)},function(e){throw d(t,o),e}),h(t,o,s)),s.promise}function i(t){t&&t.velocity("stop",!0)}function o(t){for(var e in t)if(t.hasOwnProperty(e)){if("progress"===e)throw new Error("liquid-fire's 'animate' function reserves the use of Velocity's '"+e+"' option for its own nefarious purposes.");p.defaults[e]=t[e]}}function s(t,e){return t&&t.data("lfTags_"+e)}function a(t,e){return c(t,e).promise}function l(t,e){return c(t,e).timeSpent}function u(t,e){return c(t,e).timeRemaining}function c(t,e){var n=s(t,e);if(!n)throw new Error("no animation labeled "+e+" is in progress");return n}function h(t,e,n){t&&t.data("lfTags_"+e,n)}function d(t,e){t&&t.data("lfTags_"+e,null)}t.animate=r,t.stop=i,t.setDefaults=o,t.isAnimating=s,t.finish=a,t.timeSpent=l,t.timeRemaining=u;var p=n["default"].$.Velocity;p.Promise||(p.Promise=e["default"])}),define("liquid-fire/constrainables",["exports","liquid-fire/ember-internals"],function(t,e){"use strict";function n(t,e){var n=t.versions;return n[e]?n[e].value:null}t["default"]={oldValue:{reversesTo:"newValue",accessor:function(t){return[n(t,1)]}},newValue:{reversesTo:"oldValue",accessor:function(t){return[n(t,0)]}},oldRoute:{reversesTo:"newRoute",accessor:function(t){return e.routeName(n(t,1))}},newRoute:{reversesTo:"oldRoute",accessor:function(t){return e.routeName(n(t,0))}},oldModel:{reversesTo:"newModel",accessor:function(t){return e.routeModel(n(t,1))}},newModel:{reversesTo:"oldModel",accessor:function(t){return e.routeModel(n(t,0))}},helperName:{},parentElementClass:{accessor:function(t){var e=t.parentElement.attr("class");return e?e.split(/\s+/):void 0}},parentElement:{},firstTime:{},oldModalComponent:{reversesTo:"newModalComponent",accessor:function(t){var e=n(t,1);return e?[e.name]:void 0}},newModalComponent:{reversesTo:"oldModalComponent",accessor:function(t){var e=n(t,0);return e?[e.name]:void 0}}}}),define("liquid-fire/constraint",["exports","ember","liquid-fire/constrainables"],function(t,e,n){"use strict";function r(t){return"undefined"==typeof t||null===t?t=[a]:e["default"].isArray(t)||(t=[t]),e["default"].A(t).map(function(t){return"string"==typeof t?t:e["default"].guidFor(t)})}t.constraintKeys=r;var i=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=function(){function t(e,n){o(this,t),this.target=e,1!==arguments.length&&(n instanceof RegExp?this.predicate=function(t){return n.test(t)}:"function"==typeof n?this.predicate=n:"boolean"==typeof n?this.predicate=function(t){return n?t:!t}:this.keys=r(n))}return i(t,{invert:{value:function(){if(!n["default"][this.target].reversesTo)return this;var t=new this.constructor(n["default"][this.target].reversesTo);return t.predicate=this.predicate,t.keys=this.keys,t}}}),t}();t["default"]=s;var a="__liquid_fire_EMPTY__",l="__liquid_fire_ANY__";t.EMPTY=a,t.ANY=l}),define("liquid-fire/constraints",["exports","ember","liquid-fire/constraint","liquid-fire/constrainables"],function(t,e,n,r){"use strict";function i(t,e){var n=r["default"][e];return n.accessor?n.accessor(t)||[]:[t[e]]}function o(t){for(var n=t[0],r=t.slice(1),i=e["default"].keys(n),o=i.length,s=r.length,a=[],l=0;o>l;l++){for(var u=i[l],c=!0,h=0;s>h;h++)if(!r[h].hasOwnProperty(u)){c=!1;break}c&&a.push(n[u])}return a}function s(t){for(var n=t.length,r={},i=0;n>i;i++)for(var o=t[i],s=e["default"].keys(o),a=0;a<s.length;a++){var l=s[a];r[l]=o[l]}return r}function a(t){return"[liquid-fire rule "+t.id+"]"}function l(t){for(var e,n=0,r=0;r<t.length;r++){var i=t[r],o=t[r].constraints.length;(!e||o>n||o===n&&i.id>e.id)&&(e=i,n=o)}return e}var u=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},c=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},d=function(){function t(){h(this,t),this.targets={},this.ruleCounter=0;for(var e=0;e<p.length;e++)this.targets[p[e]]={}}return c(t,{addRule:{value:function(t){if(t.id=this.ruleCounter++,t.debug&&(this.debug=!0),this.addHalfRule(t),t.reverse){var e=t.invert();e.id=t.id+" reverse",this.addHalfRule(e)}}},addHalfRule:{value:function(t){var e=this,n={};t.constraints.forEach(function(r){n[r.target]=!0,e.addConstraint(t,r)}),p.forEach(function(r){n[r]||e.addConstraint(t,{target:r})})}},addConstraint:{value:function(t,e){var r=this,i=this.targets[e.target];if(!i)throw new Error("Unknown constraint target "+e.target);e.keys?e.keys.forEach(function(e){r.addKey(i,e,t)}):this.addKey(i,n.ANY,t)}},addKey:{value:function(t,n,r){t[n]||(t[n]={}),t[n][e["default"].guidFor(r)]=r}},bestMatch:{value:function(t){this.debug&&console.log("[liquid-fire] Checking transition rules for",t.parentElement[0]);var e=this.match(t),n=l(e);return e.length>1&&this.debug&&e.forEach(function(t){t!==n&&t.debug&&console.log(""+a(t)+" matched, but it was superceded by another rule")}),n&&n.debug&&console.log(""+a(n)+" matched"),n}},match:{value:function(t){var e=this.matchByKeys(t);return e=this.matchPredicates(t,e)}},matchByKeys:{value:function(t){for(var e=[],n=0;n<p.length;n++){var r=p[n],s=i(t,r);e.push(this.matchingSet(r,s))}return o(e)}},matchingSet:{value:function(t,r){for(var i=n.constraintKeys(r),o=this.targets[t],a=e["default"].A(),l=0;l<i.length;l++)o[i[l]]&&a.push(o[i[l]]);return 0===i.length&&o[n.EMPTY]&&a.push(o[n.EMPTY]),o[n.ANY]&&a.push(o[n.ANY]),a=s(a),this.debug&&this.logDebugRules(a,o,t,r),a}},logDebugRules:{value:function(t,n,r,i){e["default"].A(e["default"].keys(n)).forEach(function(o){var s=n[o];e["default"].A(e["default"].keys(s)).forEach(function(n){var o=s[n];o.debug&&!t[e["default"].guidFor(o)]&&console.log.apply(console,[""+a(o)+" rejected because "+r+" was"].concat(u(i)))})})}},matchPredicates:{value:function(t,e){for(var n=[],r=0;r<e.length;r++){for(var i=e[r],o=!0,s=0;s<i.constraints.length;s++){var a=i.constraints[s];if(a.predicate&&!this.matchConstraintPredicate(t,i,a)){o=!1;break}}o&&n.push(i)}return n}},matchConstraintPredicate:{value:function(t,e,n){var o,s=i(t,n.target),l=r["default"][n.target].reversesTo;l&&(o=i(t,l));for(var c=0;c<s.length;c++)if(n.predicate(s[c],o?o[c]:null))return!0;e.debug&&("parentElement"===n.target&&(s=s.map(function(t){return t[0]})),console.log.apply(console,[""+a(e)+" rejected because of a constraint on "+n.target+". "+n.target+" was"].concat(u(s))))}}}),t}();t["default"]=d;var p=e["default"].A(e["default"].keys(r["default"]))}),define("liquid-fire/dsl",["exports","liquid-fire/animate","liquid-fire/rule","liquid-fire/constraint","liquid-fire/action"],function(t,e,n,r,i){"use strict";var o=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=function(){function t(e){s(this,t),this.map=e}return o(t,{setDefault:{value:function(t){e.setDefaults(t)}},transition:{value:function(){for(var t=new n["default"],e=Array.prototype.slice.apply(arguments).reduce(function(t,e){return t.concat(e)},[]),r=0;r<e.length;r++)t.add(e[r]);this.map.addRule(t)}},fromRoute:{value:function(t){return[new r["default"]("oldRoute",t)]}},toRoute:{value:function(t){return[new r["default"]("newRoute",t)]}},withinRoute:{value:function(t){return this.fromRoute(t).concat(this.toRoute(t))}},fromValue:{value:function(t){return[new r["default"]("oldValue",t)]}},toValue:{value:function(t){return[new r["default"]("newValue",t)]}},betweenValues:{value:function(t){return this.fromValue(t).concat(this.toValue(t))}},fromModel:{value:function(t){return[new r["default"]("oldModel",t)]}},toModel:{value:function(t){return[new r["default"]("newModel",t)]}},betweenModels:{value:function(t){return this.fromModel(t).concat(this.toModel(t))}},hasClass:{value:function(t){return new r["default"]("parentElementClass",t)}},matchSelector:{value:function(t){return new r["default"]("parentElement",function(e){return e.is(t)})}},childOf:{value:function(t){return this.matchSelector(t+" > *")}},use:{value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return new i["default"](t,n)}},reverse:{value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return new i["default"](t,n,{reversed:!0})}},onInitialRender:{value:function(){return new r["default"]("firstTime","yes")}},includingInitialRender:{value:function(){return new r["default"]("firstTime",["yes","no"])}},inHelper:{value:function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return new r["default"]("helperName",e)}},toModal:{value:function(t){return new r["default"]("newModalComponent",t)}},fromModal:{value:function(t){return new r["default"]("oldModalComponent",t)}},debug:{value:function(){return"debug"}}}),t}();t["default"]=a}),define("liquid-fire/ember-internals",["exports","ember"],function(t,e){"use strict";function n(t){return t._morph.contextualElement}function r(t,e){return{isHTMLBars:!0,helperFunction:function(n,r,i,o){var s=o.data.view,a=s.container.lookup("component-lookup:main"),l=a.lookupFactory(t);r.value=n[0],r["class"]&&(r.innerClass=r["class"],delete r["class"]),r.id&&(r.innerId=r.id,delete r.id),r.tagName="",e&&e(n,r,i,o),o.helpers.view.helperFunction.call(s,[l],r,i,o)}}}function i(t,e,n,r){for(var i=r.data.view;i&&!c(i,"layout");)i=i._contextView?i._contextView:i._parentView;return i._yieldInverse(r.data.view,r,n.morph,t)}function o(t,n,r,i){var o=n.data.view,s=this._parentView,a=c(this,"inverseTemplate");a&&o.appendChild(e["default"].View,{isVirtual:!0,tagName:"",template:a,_blockArguments:i,_contextView:s,_morph:r,context:c(s,"context"),controller:c(s,"controller")})}function s(t){return!t.render.ViewClass&&!t.render.template}function a(t,e){if(!t&&!e)return!0;if(!t||!e)return!1;t=t.render,e=e.render;for(var n in t)if(t.hasOwnProperty(n)&&t[n]!==e[n]&&"name"!==n)return!1;return!0}function l(t){return t&&t.render?[t.render.name]:void 0}function u(t){return t?[t._lf_model]:void 0}t.containingElement=n,t.makeHelperShim=r,t.inverseYieldHelper=i,t.inverseYieldMethod=o,t.routeName=l,t.routeModel=u;var c=e["default"].get,h=e["default"].set,d={_isOutlet:!0,init:function(){this._super(),this._childOutlets=[],this.outletState=null},setOutletState:function(t){if(t&&t.render&&t.render.controller&&!t._lf_model&&(t=e["default"].copy(t),t._lf_model=c(t.render.controller,"model")),!this._diffState(t))for(var n=this._childOutlets,r=0;r<n.length;r++){var i=n[r];i.setOutletState(t)}},_diffState:function(t){for(;t&&s(t);)t=t.outlets.main;var e=!a(this.outletState,t);return e&&h(this,"outletState",t),e},_parentOutlet:function(){for(var t=this._parentView;t&&!t._isOutlet;)t=t._parentView;return t},_linkParent:e["default"].on("init","parentViewDidChange",function(){var t=this._parentOutlet();t&&(this._parentOutletLink=t,t._childOutlets.push(this),t._outletState&&t._outletState.outlets[this._outletName]&&this.setOutletState(t._outletState.outlets[this._outletName]))}),willDestroy:function(){this._parentOutletLink&&this._parentOutletLink._childOutlets.removeObject(this),this._super()}},p=e["default"].OutletView.superclass.extend({tagName:"",setStaticState:e["default"].on("init",e["default"].observer("staticState",function(){this.setOutletState(this.get("staticState"))}))});t.OutletBehavior=d,t.StaticOutlet=p}),define("liquid-fire/growable",["exports","ember","liquid-fire/promise"],function(t,e,n){"use strict";var r=e["default"].String.capitalize;t["default"]=e["default"].Mixin.create({growDuration:250,growPixelsPerSecond:200,growEasing:"slide",transitionMap:e["default"].inject.service("liquid-fire-transitions"),animateGrowth:function(t,e,r){var i=this;return this.get("transitionMap").incrementRunningTransitions(),n["default"].all([this._adaptDimension(t,"width",e,r),this._adaptDimension(t,"height",e,r)]).then(function(){i.get("transitionMap").decrementRunningTransitions()})},_adaptDimension:function(t,n,i,o){var s={};return s["outer"+r(n)]=[o[n],i[n]],e["default"].$.Velocity(t[0],s,{duration:this._durationFor(i[n],o[n]),queue:!1,easing:this.get("growEasing")})},_durationFor:function(t,e){return Math.min(this.get("growDuration"),1e3*Math.abs(t-e)/this.get("growPixelsPerSecond"))}})}),define("liquid-fire/index",["exports","liquid-fire/transition-map","liquid-fire/animate","liquid-fire/promise","liquid-fire/mutation-observer","liquid-fire/version-warnings","liquid-fire/velocity-ext"],function(t,e,n,r,i,o){"use strict";o["default"]({minEmberVersion:[1,11],minVelocityVersion:[0,11,8]}),t.TransitionMap=e["default"],t.animate=n.animate,t.stop=n.stop,t.isAnimating=n.isAnimating,t.timeSpent=n.timeSpent,t.timeRemaining=n.timeRemaining,t.finish=n.finish,t.Promise=r["default"],t.MutationObserver=i["default"]}),define("liquid-fire/internal-rules",["exports"],function(t){"use strict";t["default"]=function(){this.setDefault({duration:250}),this.transition(this.inHelper("liquid-modal"),this.use("explode",{pick:".lf-overlay",use:["cross-fade",{maxOpacity:.5}]},{pick:".lm-container",use:"scale"}))}}),define("liquid-fire/modal",["exports","ember"],function(t,e){"use strict";function n(t,n){var r,i,o,s,a={},l=t.constructor.proto(),u=!1;for(i in n)r=n[i],o=t.get(i),a[r]=o,s=l[i],s instanceof e["default"].ComputedProperty&&(s=void 0),o!==s&&(u=!0);return u?a:void 0}var r=e["default"].get;t["default"]=e["default"].Object.extend({enabled:e["default"].computed("modals.activeRouteNames",function(){return r(this,"modals.activeRouteNames").indexOf(r(this,"route"))>=0}),controller:e["default"].computed("enabled",function(){if(r(this,"enabled")){var t=r(this,"container"),e=r(this,"options.controller")||r(this,"route");return t.lookup("controller:"+e)}}),update:e["default"].observer("controller",e["default"].on("init",function(){var t=this,e=this.makeContext(),n=r(this,"modals.modalContexts"),i=n.find(function(e){return r(e,"modal")===t});e?i?n.replace(n.indexOf(i),1,[e]):n.pushObject(e):i&&n.removeObject(i)})),makeContext:function(){var t,i=r(this,"controller");if(i)return t=n(i,r(this,"options.withParams")),t?e["default"].Object.create({modal:this,source:i,name:r(this,"name"),options:r(this,"options"),params:t}):void 0}})}),define("liquid-fire/modals",["exports","ember","liquid-fire/modal"],function(t,e,n){"use strict";function r(t){return e["default"].observer("controller."+t,function(){this.update()})}t["default"]=e["default"].Controller.extend({needs:["application"],setup:e["default"].on("init",function(){this.set("modalContexts",e["default"].A()),this.set("modals",e["default"].A());var t=this.container.lookup("router:main").router.modals;if(t&&t.length>0){var n=this;t.forEach(function(t){n.registerModal(t)})}}),registerModal:function(t){var e={modals:this,container:this.container};for(var i in t.options.withParams)e[i+"Observer"]=r(i);this.get("modals").pushObject(n["default"].extend(e).create(t))},currentRoute:e["default"].computed.alias("controllers.application.currentRouteName"),activeRouteNames:e["default"].computed("currentRoute",function(){var t=this.container.lookup("router:main").router.currentHandlerInfos;return t?t.map(function(t){return t.name}):[]})})}),define("liquid-fire/mutation-observer",["exports"],function(t){"use strict";function e(t){this.callback=t}function n(){for(var t=0;t<r.length;t++)r[t].callback()}t.testingKick=n;var r=[];e.prototype={observe:function(){this.interval=setInterval(this.callback,100),r.push(this)},disconnect:function(){clearInterval(this.interval),r.splice(r.indexOf(this),1)}};var i=window.MutationObserver||window.WebkitMutationObserver||e;t["default"]=i}),define("liquid-fire/promise",["exports","ember"],function(t,e){"use strict";t["default"]=e["default"].RSVP.Promise}),define("liquid-fire/router-dsl-ext",["ember"],function(t){"use strict";function e(e){if(!e)return{};t["default"].isArray(e)||(e=[e]);var n,r,i,o={};for(r=0;r<e.length;r++)if(n=e[r],"object"==typeof n)for(i in n)o[i]=n[i];else o[n]=n;return o}var n=t["default"].Router,r=t["default"].RouterDSL.prototype,i=null;r.modal=function(n,r){t["default"].assert('modal("'+n+'",...) needs a `withParams` argument',r&&r.withParams),r=t["default"].copy(r),r.withParams=e(r.withParams),r.otherParams=e(r.otherParams),"undefined"==typeof r.dismissWithOutsideClick&&(r.dismissWithOutsideClick=!0),"undefined"==typeof r.dismissWithEscape&&(r.dismissWithEscape=!0),i.push({route:this.parent,name:n,options:r})},n.reopen({_initRouterJs:function(){i=[],this._super(),this.router.modals=i}});var o=n.map;n.reopenClass({map:function(){i=[];var t=o.apply(this,arguments);return this.router&&(this.router.modals=i),t}})}),define("liquid-fire/rule",["exports","ember","liquid-fire/action","liquid-fire/constraint"],function(t,e,n,r){"use strict";var i=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=function(){function t(){o(this,t),this.constraints=e["default"].A(),this.use=null,this.reverse=null}return i(t,{add:{value:function(t){if(t instanceof n["default"]){var e="use";if(t.reversed&&(e="reverse"),this[e])throw new Error('More than one "'+e+'" statement in the same transition rule is not allowed');this[e]=t}else"debug"===t?this.debug=!0:this.constraints.push(t)}},validate:{value:function(t){if(!this.use)throw new Error('Every transition rule must include a "use" statement');this.use.validateHandler(t),this.reverse&&this.reverse.validateHandler(t),this.constraints.find(function(t){return"firstTime"===t.target})||this.constraints.push(new r["default"]("firstTime","no"))}},invert:{value:function(){var t=new this.constructor;return t.use=this.reverse,t.reverse=this.use,t.constraints=this.constraints.map(function(t){return t.invert()}),t.debug=this.debug,t}}}),t}();t["default"]=s}),define("liquid-fire/running-transition",["exports","ember"],function(t,e){"use strict";function n(t,e){var n={};return r(n,"new",e[0]),e[1]&&r(n,"old",e[1]),n.older=e.slice(2).map(function(t){var e={};return r(e,null,t),e}),n.lookup=function(e){return t.transitionMap.lookup(e)},n}function r(t,n,r){var i={view:r.view,element:r.view?r.view.$():null,value:r.value};for(var o in i){var s=o;i.hasOwnProperty(o)&&(n&&(s=n+e["default"].String.capitalize(o)),t[s]=i[o])}}var i=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=function(){function t(e,r,i){o(this,t),this.transitionMap=e,this.animation=i||e.lookup("default"),this.animationContext=n(this,r)}return i(t,{run:{value:function(){var t=this;return this._ran?this._ran:(this.transitionMap.incrementRunningTransitions(),this._ran=this._invokeAnimation()["catch"](function(e){return t.transitionMap.lookup("default").apply(t.animationContext).then(function(){throw e})})["finally"](function(){t.transitionMap.decrementRunningTransitions()}))}},interrupt:{value:function(){this.interrupted=!0,this.animationContext.oldElement=null,this.animationContext.newElement=null,this.animationContext.older.forEach(function(t){t.element=null})}},_invokeAnimation:{value:function(){var t=this;return this.animation.run(this.animationContext).then(function(){return t.interrupted})}}}),t}();t["default"]=s}),define("liquid-fire/tabbable",["ember"],function(t){"use strict";function e(t,e){var r=t.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||e:e)&&n(t)}function n(t){var e=r(t);return r.expr.filters.visible(t)&&!r(e,e.parents()).filter(function(){return"hidden"===r.css(this,"visibility")}).length}var r=t["default"].$;r.expr[":"].tabbable||(r.expr[":"].tabbable=function(t){var n=r.attr(t,"tabindex"),i=isNaN(n);return(i||n>=0)&&e(t,!i)})}),define("liquid-fire/transition-map",["exports","liquid-fire/running-transition","liquid-fire/dsl","ember","liquid-fire/action","liquid-fire/internal-rules","liquid-fire/constraints"],function(t,e,n,r,i,o,s){"use strict";var a=r["default"].Object.extend({init:function(){this.activeCount=0,this.constraints=new s["default"],this.map(o["default"]);var t=this.container.lookupFactory("transitions:main");t&&this.map(t),r["default"].testing&&this._registerWaiter()},runningTransitions:function(){return this.activeCount},incrementRunningTransitions:function(){this.activeCount++},decrementRunningTransitions:function(){var t=this;this.activeCount--,r["default"].run.next(function(){t._maybeResolveIdle()})},waitUntilIdle:function(){var t=this;return this._waitingPromise?this._waitingPromise:this._waitingPromise=new r["default"].RSVP.Promise(function(e){t._resolveWaiting=e,r["default"].run.next(function(){t._maybeResolveIdle()})})},_maybeResolveIdle:function(){if(0===this.activeCount&&this._resolveWaiting){var t=this._resolveWaiting;this._resolveWaiting=null,this._waitingPromise=null,t()}},lookup:function(t){var e=this.container.lookupFactory("transition:"+t);if(!e)throw new Error("unknown transition name: "+t);return e},defaultAction:function(){return this._defaultAction||(this._defaultAction=new i["default"](this.lookup("default"))),this._defaultAction},transitionFor:function(t){var n;if(t.use&&"yes"!==t.firstTime)n=new i["default"](t.use),n.validateHandler(this);else{var r=this.constraints.bestMatch(t);n=r?r.use:this.defaultAction()}return new e["default"](this,t.versions,n)},map:function(t){return t&&t.apply(new n["default"](this)),this},addRule:function(t){t.validate(this),this.constraints.addRule(t)},_registerWaiter:function(){var t=this;this._waiter=function(){return 0===t.runningTransitions()},r["default"].Test.registerWaiter(this._waiter)},willDestroy:function(){this._waiter&&(r["default"].Test.unregisterWaiter(this._waiter),this._waiter=null)}});a.reopenClass({map:function(t){var e=a.create();return e.map(t),e}}),t["default"]=a}),define("liquid-fire/velocity-ext",["ember"],function(t){"use strict";function e(t,e){var n="width"===t?["Left","Right"]:["Top","Bottom"];if("border-box"===r.getPropertyValue(e,"boxSizing").toString().toLowerCase())return 0;for(var i=0,o=["padding"+n[0],"padding"+n[1],"border"+n[0]+"Width","border"+n[1]+"Width"],s=0;s<o.length;s++){var a=parseFloat(r.getPropertyValue(e,o[s]));isNaN(a)||(i+=a)}return i}function n(t){return function(n,r,i){switch(n){case"name":return t;case"extract":return parseFloat(i)+e(t,r);case"inject":return parseFloat(i)-e(t,r)+"px"}}}var r=t["default"].$.Velocity.CSS;r.Normalizations.registered.outerWidth=n("width"),r.Normalizations.registered.outerHeight=n("height")}),define("liquid-fire/version-warnings",["exports","ember"],function(t,e){"use strict";function n(){var t=/^(\d+)\.(\d+)/.exec(e["default"].VERSION);return t?[parseInt(t[1]),parseInt(t[2])]:[0,0]}t["default"]=function(t){if(1===e["default"].compare(t.minEmberVersion,n())&&e["default"].warn("This version of liquid fire requires Ember "+t.minEmberVersion.join(".")+" or newer"),e["default"].$.Velocity){var r=e["default"].$.Velocity.version;1===e["default"].compare(t.minVelocityVersion,[r.major,r.minor,r.patch])&&e["default"].warn("You should probably upgrade Velocity.js, recommended minimum is "+t.minVelocityVersion.join("."))}else e["default"].warn("Velocity.js is missing")}}),define("simple-auth-token",["simple-auth-token/index","ember","exports"],function(t,e,n){"use strict";e["default"].keys(t).forEach(function(e){n[e]=t[e]})}),define("simple-auth-token/authenticators/jwt",["exports","ember","simple-auth-token/configuration","simple-auth-token/authenticators/token"],function(t,e,n,r){"use strict";t["default"]=r["default"].extend({serverTokenRefreshEndpoint:"/api-token-refresh/",refreshAccessTokens:!0,refreshTokenTimeout:null,tokenExpireName:"exp",timeFactor:1,init:function(){this.serverTokenEndpoint=n["default"].serverTokenEndpoint,this.serverTokenRefreshEndpoint=n["default"].serverTokenRefreshEndpoint,this.identificationField=n["default"].identificationField,this.tokenPropertyName=n["default"].tokenPropertyName,this.refreshAccessTokens=n["default"].refreshAccessTokens,this.tokenExpireName=n["default"].tokenExpireName,this.timeFactor=n["default"].timeFactor,this.headers=n["default"].headers},restore:function(t){var n=this,r=e["default"].Object.create(t);return new e["default"].RSVP.Promise(function(i,o){var s=(new Date).getTime(),a=n.resolveTime(r.get("expiresAt")),l=r.get(n.tokenPropertyName);if(!e["default"].isEmpty(a)&&!e["default"].isEmpty(l)&&a>s)n.refreshAccessTokens?n.refreshAccessToken(t.token).then(function(t){i(t)},o):o();else if(e["default"].isEmpty(l))o();else{var u=n.getTokenData(t[n.tokenPropertyName]),c=u[n.tokenExpireName];n.scheduleAccessTokenRefresh(c,l),i(t)}})},authenticate:function(t){var n=this;return new e["default"].RSVP.Promise(function(r,i){var o=n.getAuthenticateData(t);n.makeRequest(n.serverTokenEndpoint,o).then(function(t){e["default"].run(function(){var i=n.getTokenData(t[n.tokenPropertyName]),o=i[n.tokenExpireName];n.scheduleAccessTokenRefresh(o,t.token),t=e["default"].merge(t,{expiresAt:o}),r(n.getResponseData(t))})},function(t){e["default"].run(function(){i(t.responseJSON||t.responseText)})})})},scheduleAccessTokenRefresh:function(t,n){if(this.refreshAccessTokens){t=this.resolveTime(t);var r=(new Date).getTime(),i=t-r;!e["default"].isEmpty(n)&&!e["default"].isEmpty(t)&&t>r&&(e["default"].run.cancel(this._refreshTokenTimeout),delete this._refreshTokenTimeout,e["default"].testing||(this._refreshTokenTimeout=e["default"].run.later(this,this.refreshAccessToken,n,i)))}},refreshAccessToken:function(t){var n=this,r={token:t};return new e["default"].RSVP.Promise(function(t,i){n.makeRequest(n.serverTokenRefreshEndpoint,r).then(function(r){e["default"].run(function(){var i=n.getTokenData(r[n.tokenPropertyName]),o=i[n.tokenExpireName],s=e["default"].merge(r,{expiresAt:o});n.scheduleAccessTokenRefresh(o,r.token),n.trigger("sessionDataUpdated",s),t(r)})},function(t,n,r){e["default"].Logger.warn("Access token could not be refreshed - server responded with "+r+"."),i()})})},getTokenData:function(t){return JSON.parse(atob(t.split(".")[1]))},makeRequest:function(t,n){return e["default"].$.ajax({url:t,type:"POST",data:JSON.stringify(n),dataType:"json",contentType:"application/json",beforeSend:function(t,e){t.setRequestHeader("Accept",e.accepts.json)},headers:this.headers})},invalidate:function(){return e["default"].run.cancel(this._refreshTokenTimeout),delete this._refreshTokenTimeout,new e["default"].RSVP.resolve},resolveTime:function(t){return new Date(t*this.timeFactor).getTime()}})}),define("simple-auth-token/authenticators/token",["exports","ember","simple-auth/authenticators/base","simple-auth-token/configuration"],function(t,e,n,r){"use strict";t["default"]=n["default"].extend({serverTokenEndpoint:"/api-token-auth/",identificationField:"username",passwordField:"password",tokenPropertyName:"token",headers:{},init:function(){this.serverTokenEndpoint=r["default"].serverTokenEndpoint,
this.identificationField=r["default"].identificationField,this.passwordField=r["default"].passwordField,this.tokenPropertyName=r["default"].tokenPropertyName,this.headers=r["default"].headers},restore:function(t){var n=this,r=e["default"].Object.create(t);return new e["default"].RSVP.Promise(function(i,o){e["default"].isEmpty(r.get(n.tokenPropertyName))?o():i(t)})},authenticate:function(t){var n=this;return new e["default"].RSVP.Promise(function(r,i){var o=n.getAuthenticateData(t);n.makeRequest(o).then(function(t){e["default"].run(function(){r(n.getResponseData(t))})},function(t){e["default"].run(function(){i(t.responseJSON||t.responseText)})})})},getAuthenticateData:function(t){var e={};return e[this.passwordField]=t.password,e[this.identificationField]=t.identification,e},getResponseData:function(t){return t},invalidate:function(){return e["default"].RSVP.resolve()},makeRequest:function(t){return e["default"].$.ajax({url:this.serverTokenEndpoint,type:"POST",data:JSON.stringify(t),dataType:"json",contentType:"application/json",beforeSend:function(t,e){t.setRequestHeader("Accept",e.accepts.json)},headers:this.headers})}})}),define("simple-auth-token/authorizers/token",["exports","ember","simple-auth/authorizers/base","simple-auth-token/configuration"],function(t,e,n,r){"use strict";t["default"]=n["default"].extend({authorizationPrefix:"Bearer ",tokenPropertyName:"token",authorizationHeaderName:"Authorization",init:function(){this.tokenPropertyName=r["default"].tokenPropertyName,this.authorizationHeaderName=r["default"].authorizationHeaderName,(r["default"].authorizationPrefix||null===r["default"].authorizationPrefix)&&(this.authorizationPrefix=r["default"].authorizationPrefix)},authorize:function(t){var n=this.buildToken();this.get("session.isAuthenticated")&&!e["default"].isEmpty(n)&&(this.authorizationPrefix&&(n=this.authorizationPrefix+n),t.setRequestHeader(this.authorizationHeaderName,n))},buildToken:function(){return this.get("session."+this.tokenPropertyName)}})}),define("simple-auth-token/configuration",["exports","simple-auth-token/utils/load-config"],function(t,e){"use strict";var n={serverTokenEndpoint:"/api-token-auth/",serverTokenRefreshEndpoint:"/api-token-refresh/",identificationField:"username",passwordField:"password",tokenPropertyName:"token",refreshAccessTokens:!0,tokenExpireName:"exp",authorizationPrefix:"Bearer ",authorizationHeaderName:"Authorization",timeFactor:1,headers:{}};t["default"]={serverTokenEndpoint:n.serverTokenEndpoint,serverTokenRefreshEndpoint:n.serverTokenRefreshEndpoint,identificationField:n.identificationField,passwordField:n.passwordField,tokenPropertyName:n.tokenPropertyName,refreshAccessTokens:n.refreshAccessTokens,tokenExpireName:n.tokenExpireName,timeFactor:1,authorizationPrefix:n.authorizationPrefix,authorizationHeaderName:n.authorizationHeaderName,headers:n.headers,load:e["default"](n)}}),define("simple-auth-token/utils/get-global-config",["exports","ember"],function(t,e){"use strict";var n="undefined"!=typeof window?window:{};t["default"]=function(t){return e["default"].get(n,"ENV."+t)||{}}}),define("simple-auth-token/utils/load-config",["exports","ember"],function(t,e){"use strict";t["default"]=function(t,n){return function(r,i){var o=e["default"].Object.create(i);for(var s in this)this.hasOwnProperty(s)&&"function"!==e["default"].typeOf(this[s])&&(this[s]=o.getWithDefault(s,t[s]));n&&n.apply(this,[r,i])}}});